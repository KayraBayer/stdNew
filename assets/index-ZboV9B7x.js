(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Lp={exports:{}},Ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function N2(){if(_b)return Ru;_b=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Ru.Fragment=e,Ru.jsx=n,Ru.jsxs=n,Ru}var Tb;function I2(){return Tb||(Tb=1,Lp.exports=N2()),Lp.exports}var _=I2(),Up={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function D2(){if(bb)return Pe;bb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function E(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,I={};function j(P,te,oe){this.props=P,this.context=te,this.refs=I,this.updater=oe||C}j.prototype.isReactComponent={},j.prototype.setState=function(P,te){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,te,"setState")},j.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function U(){}U.prototype=j.prototype;function Y(P,te,oe){this.props=P,this.context=te,this.refs=I,this.updater=oe||C}var K=Y.prototype=new U;K.constructor=Y,D(K,j.prototype),K.isPureReactComponent=!0;var Z=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function k(P,te,oe,le,pe,we){return oe=we.ref,{$$typeof:t,type:P,key:te,ref:oe!==void 0?oe:null,props:we}}function S(P,te){return k(P.type,te,void 0,void 0,void 0,P.props)}function N(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function V(P){var te={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return te[oe]})}var L=/\/+/g;function B(P,te){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):te.toString(36)}function R(){}function fe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(R,R):(P.status="pending",P.then(function(te){P.status==="pending"&&(P.status="fulfilled",P.value=te)},function(te){P.status==="pending"&&(P.status="rejected",P.reason=te)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function me(P,te,oe,le,pe){var we=typeof P;(we==="undefined"||we==="boolean")&&(P=null);var Ee=!1;if(P===null)Ee=!0;else switch(we){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(P.$$typeof){case t:case e:Ee=!0;break;case y:return Ee=P._init,me(Ee(P._payload),te,oe,le,pe)}}if(Ee)return pe=pe(P),Ee=le===""?"."+B(P,0):le,Z(pe)?(oe="",Ee!=null&&(oe=Ee.replace(L,"$&/")+"/"),me(pe,te,oe,"",function(ge){return ge})):pe!=null&&(N(pe)&&(pe=S(pe,oe+(pe.key==null||P&&P.key===pe.key?"":(""+pe.key).replace(L,"$&/")+"/")+Ee)),te.push(pe)),1;Ee=0;var ft=le===""?".":le+":";if(Z(P))for(var Ye=0;Ye<P.length;Ye++)le=P[Ye],we=ft+B(le,Ye),Ee+=me(le,te,oe,we,pe);else if(Ye=E(P),typeof Ye=="function")for(P=Ye.call(P),Ye=0;!(le=P.next()).done;)le=le.value,we=ft+B(le,Ye++),Ee+=me(le,te,oe,we,pe);else if(we==="object"){if(typeof P.then=="function")return me(fe(P),te,oe,le,pe);throw te=String(P),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Q(P,te,oe){if(P==null)return P;var le=[],pe=0;return me(P,le,"","",function(we){return te.call(oe,we,pe++)}),le}function se(P){if(P._status===-1){var te=P._result;te=te(),te.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=te)}if(P._status===1)return P._result.default;throw P._result}var ce=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function _e(){}return Pe.Children={map:Q,forEach:function(P,te,oe){Q(P,function(){te.apply(this,arguments)},oe)},count:function(P){var te=0;return Q(P,function(){te++}),te},toArray:function(P){return Q(P,function(te){return te})||[]},only:function(P){if(!N(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Pe.Component=j,Pe.Fragment=n,Pe.Profiler=a,Pe.PureComponent=Y,Pe.StrictMode=s,Pe.Suspense=m,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(P){return W.H.useMemoCache(P)}},Pe.cache=function(P){return function(){return P.apply(null,arguments)}},Pe.cloneElement=function(P,te,oe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var le=D({},P.props),pe=P.key,we=void 0;if(te!=null)for(Ee in te.ref!==void 0&&(we=void 0),te.key!==void 0&&(pe=""+te.key),te)!ue.call(te,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&te.ref===void 0||(le[Ee]=te[Ee]);var Ee=arguments.length-2;if(Ee===1)le.children=oe;else if(1<Ee){for(var ft=Array(Ee),Ye=0;Ye<Ee;Ye++)ft[Ye]=arguments[Ye+2];le.children=ft}return k(P.type,pe,void 0,void 0,we,le)},Pe.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Pe.createElement=function(P,te,oe){var le,pe={},we=null;if(te!=null)for(le in te.key!==void 0&&(we=""+te.key),te)ue.call(te,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(pe[le]=te[le]);var Ee=arguments.length-2;if(Ee===1)pe.children=oe;else if(1<Ee){for(var ft=Array(Ee),Ye=0;Ye<Ee;Ye++)ft[Ye]=arguments[Ye+2];pe.children=ft}if(P&&P.defaultProps)for(le in Ee=P.defaultProps,Ee)pe[le]===void 0&&(pe[le]=Ee[le]);return k(P,we,void 0,void 0,null,pe)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(P){return{$$typeof:d,render:P}},Pe.isValidElement=N,Pe.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:se}},Pe.memo=function(P,te){return{$$typeof:p,type:P,compare:te===void 0?null:te}},Pe.startTransition=function(P){var te=W.T,oe={};W.T=oe;try{var le=P(),pe=W.S;pe!==null&&pe(oe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(_e,ce)}catch(we){ce(we)}finally{W.T=te}},Pe.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Pe.use=function(P){return W.H.use(P)},Pe.useActionState=function(P,te,oe){return W.H.useActionState(P,te,oe)},Pe.useCallback=function(P,te){return W.H.useCallback(P,te)},Pe.useContext=function(P){return W.H.useContext(P)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(P,te){return W.H.useDeferredValue(P,te)},Pe.useEffect=function(P,te,oe){var le=W.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(P,te)},Pe.useId=function(){return W.H.useId()},Pe.useImperativeHandle=function(P,te,oe){return W.H.useImperativeHandle(P,te,oe)},Pe.useInsertionEffect=function(P,te){return W.H.useInsertionEffect(P,te)},Pe.useLayoutEffect=function(P,te){return W.H.useLayoutEffect(P,te)},Pe.useMemo=function(P,te){return W.H.useMemo(P,te)},Pe.useOptimistic=function(P,te){return W.H.useOptimistic(P,te)},Pe.useReducer=function(P,te,oe){return W.H.useReducer(P,te,oe)},Pe.useRef=function(P){return W.H.useRef(P)},Pe.useState=function(P){return W.H.useState(P)},Pe.useSyncExternalStore=function(P,te,oe){return W.H.useSyncExternalStore(P,te,oe)},Pe.useTransition=function(){return W.H.useTransition()},Pe.version="19.1.1",Pe}var Eb;function xy(){return Eb||(Eb=1,Up.exports=D2()),Up.exports}var M=xy(),Bp={exports:{}},Cu={},zp={exports:{}},qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function M2(){return xb||(xb=1,(function(t){function e(Q,se){var ce=Q.length;Q.push(se);e:for(;0<ce;){var _e=ce-1>>>1,P=Q[_e];if(0<a(P,se))Q[_e]=se,Q[ce]=P,ce=_e;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],ce=Q.pop();if(ce!==se){Q[0]=ce;e:for(var _e=0,P=Q.length,te=P>>>1;_e<te;){var oe=2*(_e+1)-1,le=Q[oe],pe=oe+1,we=Q[pe];if(0>a(le,ce))pe<P&&0>a(we,le)?(Q[_e]=we,Q[pe]=ce,_e=pe):(Q[_e]=le,Q[oe]=ce,_e=oe);else if(pe<P&&0>a(we,ce))Q[_e]=we,Q[pe]=ce,_e=pe;else break e}}return se}function a(Q,se){var ce=Q.sortIndex-se.sortIndex;return ce!==0?ce:Q.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,T=null,E=3,C=!1,D=!1,I=!1,j=!1,U=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Z(Q){for(var se=n(p);se!==null;){if(se.callback===null)s(p);else if(se.startTime<=Q)s(p),se.sortIndex=se.expirationTime,e(m,se);else break;se=n(p)}}function W(Q){if(I=!1,Z(Q),!D)if(n(m)!==null)D=!0,ue||(ue=!0,B());else{var se=n(p);se!==null&&me(W,se.startTime-Q)}}var ue=!1,k=-1,S=5,N=-1;function V(){return j?!0:!(t.unstable_now()-N<S)}function L(){if(j=!1,ue){var Q=t.unstable_now();N=Q;var se=!0;try{e:{D=!1,I&&(I=!1,Y(k),k=-1),C=!0;var ce=E;try{t:{for(Z(Q),T=n(m);T!==null&&!(T.expirationTime>Q&&V());){var _e=T.callback;if(typeof _e=="function"){T.callback=null,E=T.priorityLevel;var P=_e(T.expirationTime<=Q);if(Q=t.unstable_now(),typeof P=="function"){T.callback=P,Z(Q),se=!0;break t}T===n(m)&&s(m),Z(Q)}else s(m);T=n(m)}if(T!==null)se=!0;else{var te=n(p);te!==null&&me(W,te.startTime-Q),se=!1}}break e}finally{T=null,E=ce,C=!1}se=void 0}}finally{se?B():ue=!1}}}var B;if(typeof K=="function")B=function(){K(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,fe=R.port2;R.port1.onmessage=L,B=function(){fe.postMessage(null)}}else B=function(){U(L,0)};function me(Q,se){k=U(function(){Q(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var se=3;break;default:se=E}var ce=E;E=se;try{return Q()}finally{E=ce}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=E;E=Q;try{return se()}finally{E=ce}},t.unstable_scheduleCallback=function(Q,se,ce){var _e=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?_e+ce:_e):ce=_e,Q){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ce+P,Q={id:y++,callback:se,priorityLevel:Q,startTime:ce,expirationTime:P,sortIndex:-1},ce>_e?(Q.sortIndex=ce,e(p,Q),n(m)===null&&Q===n(p)&&(I?(Y(k),k=-1):I=!0,me(W,ce-_e))):(Q.sortIndex=P,e(m,Q),D||C||(D=!0,ue||(ue=!0,B()))),Q},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Q){var se=E;return function(){var ce=E;E=se;try{return Q.apply(this,arguments)}finally{E=ce}}}})(qp)),qp}var wb;function V2(){return wb||(wb=1,zp.exports=M2()),zp.exports}var Fp={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function P2(){if(Sb)return gn;Sb=1;var t=xy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},gn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},gn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},gn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},gn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:C}):y==="script"&&s.d.X(m,{crossOrigin:T,integrity:E,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},gn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},gn.requestFormReset=function(m){s.d.r(m)},gn.unstable_batchedUpdates=function(m,p){return m(p)},gn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.1.1",gn}var Ab;function k2(){if(Ab)return Fp.exports;Ab=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fp.exports=P2(),Fp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function O2(){if(Rb)return Cu;Rb=1;var t=V2(),e=xy(),n=k2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),i;if(g===u)return d(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var x=!1,w=f.child;w;){if(w===o){x=!0,o=f,u=g;break}if(w===u){x=!0,u=f,o=g;break}w=w.sibling}if(!x){for(w=g.child;w;){if(w===o){x=!0,o=g,u=f;break}if(w===u){x=!0,u=g,o=f;break}w=w.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case j:return"Profiler";case I:return"StrictMode";case W:return"Suspense";case ue:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case K:return(i.displayName||"Context")+".Provider";case Y:return(i._context.displayName||"Context")+".Consumer";case Z:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return r=i.displayName||null,r!==null?r:fe(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return fe(i(r))}catch{}}return null}var me=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},_e=[],P=-1;function te(i){return{current:i}}function oe(i){0>P||(i.current=_e[P],_e[P]=null,P--)}function le(i,r){P++,_e[P]=i.current,i.current=r}var pe=te(null),we=te(null),Ee=te(null),ft=te(null);function Ye(i,r){switch(le(Ee,r),le(we,i),le(pe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?$T(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=$T(r),i=YT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe(pe),le(pe,i)}function ge(){oe(pe),oe(we),oe(Ee)}function Te(i){i.memoizedState!==null&&le(ft,i);var r=pe.current,o=YT(r,i.type);r!==o&&(le(we,i),le(pe,o))}function ke(i){we.current===i&&(oe(pe),oe(we)),ft.current===i&&(oe(ft),Eu._currentValue=ce)}var Qe=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,At=t.unstable_cancelCallback,Pt=t.unstable_shouldYield,dn=t.unstable_requestPaint,Rt=t.unstable_now,es=t.unstable_getCurrentPriorityLevel,qr=t.unstable_ImmediatePriority,Fr=t.unstable_UserBlockingPriority,Kn=t.unstable_NormalPriority,ts=t.unstable_LowPriority,Hr=t.unstable_IdlePriority,bl=t.log,Lc=t.unstable_setDisableYieldValue,Tt=null,et=null;function Pn(i){if(typeof bl=="function"&&Lc(i),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Tt,i)}catch{}}var mn=Math.clz32?Math.clz32:Gr,Uc=Math.log,Bd=Math.LN2;function Gr(i){return i>>>=0,i===0?32:31-(Uc(i)/Bd|0)|0}var Kr=256,$r=4194304;function ci(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ha(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?f=ci(u):(x&=w,x!==0?f=ci(x):o||(o=w&~i,o!==0&&(f=ci(o))))):(w=u&~g,w!==0?f=ci(w):x!==0?f=ci(x):o||(o=u&~i,o!==0&&(f=ci(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function Yr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function El(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var i=Kr;return Kr<<=1,(Kr&4194048)===0&&(Kr=256),i}function wl(){var i=$r;return $r<<=1,($r&62914560)===0&&($r=4194304),i}function ns(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function is(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sl(i,r,o,u,f,g){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,O=i.expirationTimes,G=i.hiddenUpdates;for(o=x&~o;0<o;){var ee=31-mn(o),re=1<<ee;w[ee]=0,O[ee]=-1;var $=G[ee];if($!==null)for(G[ee]=null,ee=0;ee<$.length;ee++){var X=$[ee];X!==null&&(X.lane&=-536870913)}o&=~re}u!==0&&Ei(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(x&~r))}function Ei(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-mn(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Al(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-mn(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function qs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ga(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fs(){var i=se.p;return i!==0?i:(i=window.event,i===void 0?32:db(i.type))}function Bc(i,r){var o=se.p;try{return se.p=i,r()}finally{se.p=o}}var dt=Math.random().toString(36).slice(2),Ht="__reactFiber$"+dt,kt="__reactProps$"+dt,$n="__reactContainer$"+dt,Rl="__reactEvents$"+dt,zd="__reactListeners$"+dt,Hs="__reactHandles$"+dt,zc="__reactResources$"+dt,Qr="__reactMarker$"+dt;function Gs(i){delete i[Ht],delete i[kt],delete i[Rl],delete i[zd],delete i[Hs]}function ss(i){var r=i[Ht];if(r)return r;for(var o=i.parentNode;o;){if(r=o[$n]||o[Ht]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=ZT(i);i!==null;){if(o=i[Ht])return o;i=ZT(i)}return r}i=o,o=i.parentNode}return null}function xi(i){if(i=i[Ht]||i[$n]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function wi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function En(i){var r=i[zc];return r||(r=i[zc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ct(i){i[Qr]=!0}var Cl=new Set,Ka={};function hi(i,r){rs(i,r),rs(i+"Capture",r)}function rs(i,r){for(Ka[i]=r,i=0;i<r.length;i++)Cl.add(r[i])}var qc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fc={},Xr={};function Hc(i){return Qe.call(Xr,i)?!0:Qe.call(Fc,i)?!1:qc.test(i)?Xr[i]=!0:(Fc[i]=!0,!1)}function Ks(i,r,o){if(Hc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Si(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function sn(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var Wr,Gc;function as(i){if(Wr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Wr=r&&r[1]||"",Gc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+i+Gc}var $a=!1;function Ya(i,r){if(!i||$a)return"";$a=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var $=X}Reflect.construct(i,[],re)}else{try{re.call()}catch(X){$=X}i.call(re.prototype)}}else{try{throw Error()}catch(X){$=X}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),x=g[0],w=g[1];if(x&&w){var O=x.split(`
`),G=w.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===G.length)for(u=O.length-1,f=G.length-1;1<=u&&0<=f&&O[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==G[f]){var ee=`
`+O[u].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=u&&0<=f);break}}}finally{$a=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?as(o):""}function Nl(i){switch(i.tag){case 26:case 27:case 5:return as(i.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return Ya(i.type,!1);case 11:return Ya(i.type.render,!1);case 1:return Ya(i.type,!0);case 31:return as("Activity");default:return""}}function Qa(i){try{var r="";do r+=Nl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function xn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Il(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qd(i){var r=Il(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(x){u=""+x,g.call(this,x)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xa(i){i._valueTracker||(i._valueTracker=qd(i))}function Dl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Il(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Zr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Fd=/[\n"\\]/g;function Ot(i){return i.replace(Fd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function kn(i,r,o,u,f,g,x,w){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),r!=null?x==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+xn(r)):i.value!==""+xn(r)&&(i.value=""+xn(r)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),r!=null?$s(i,x,xn(r)):o!=null?$s(i,x,xn(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+xn(w):i.removeAttribute("name")}function Jr(i,r,o,u,f,g,x,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+xn(o):"",r=r!=null?""+xn(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x)}function $s(i,r,o){r==="number"&&Zr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function os(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+xn(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function it(i,r,o){if(r!=null&&(r=""+xn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+xn(o):""}function ea(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(me(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=xn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Yn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||ta.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Ml(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Kc(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Kc(i,g,r[g])}function Vl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(i){return Gd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ls=null;function Qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var us=null,cs=null;function Pl(i){var r=xi(i);if(r&&(i=r.stateNode)){var o=i[kt]||null;e:switch(i=r.stateNode,r.type){case"input":if(kn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ot(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[kt]||null;if(!f)throw Error(s(90));kn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Dl(u)}break e;case"textarea":it(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&os(i,!!o.multiple,r,!1)}}}var Ai=!1;function $c(i,r,o){if(Ai)return i(r,o);Ai=!0;try{var u=i(r);return u}finally{if(Ai=!1,(us!==null||cs!==null)&&(Bh(),us&&(r=us,i=cs,cs=us=null,Pl(r),i)))for(r=0;r<i.length;r++)Pl(i[r])}}function na(i,r){var o=i.stateNode;if(o===null)return null;var u=o[kt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(fi)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{Xn=!1}var Ri=null,Ys=null,hs=null;function kl(){if(hs)return hs;var i,r=Ys,o=r.length,u,f="value"in Ri?Ri.value:Ri.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var x=o-i;for(u=1;u<=x&&r[o-u]===f[g-u];u++);return hs=f.slice(i,1<u?1-u:void 0)}function Ci(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ni(){return!0}function Ol(){return!1}function Wt(i){function r(o,u,f,g,x){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ni:Ol,this.isPropagationStopped=Ol,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),r}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=Wt(Je),sa=y({},Je,{view:0,detail:0}),Yc=Wt(sa),Ja,eo,Ii,ra=y({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:la,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ii&&(Ii&&i.type==="mousemove"?(Ja=i.screenX-Ii.screenX,eo=i.screenY-Ii.screenY):eo=Ja=0,Ii=i),Ja)},movementY:function(i){return"movementY"in i?i.movementY:eo}}),Wn=Wt(ra),Qc=y({},ra,{dataTransfer:0}),Kd=Wt(Qc),aa=y({},sa,{relatedTarget:0}),to=Wt(aa),jl=y({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),no=Wt(jl),Xc=y({},Je,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),io=Wt(Xc),$d=y({},Je,{data:0}),Ll=Wt($d),oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Zc[i])?!!r[i]:!1}function la(){return Ul}var Jc=y({},sa,{key:function(i){if(i.key){var r=oa[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ci(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:la,charCode:function(i){return i.type==="keypress"?Ci(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ci(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),so=Wt(Jc),eh=y({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bl=Wt(eh),fs=y({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:la}),th=Wt(fs),nh=y({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),ih=Wt(nh),sh=y({},ra,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ro=Wt(sh),wn=y({},Je,{newState:0,oldState:0}),rh=Wt(wn),ah=[9,13,27,32],Di=fi&&"CompositionEvent"in window,h=null;fi&&"documentMode"in document&&(h=document.documentMode);var v=fi&&"TextEvent"in window&&!h,b=fi&&(!Di||h&&8<h&&11>=h),A=" ",F=!1;function J(i,r){switch(i){case"keyup":return ah.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var He=!1;function Gt(i,r){switch(i){case"compositionend":return he(r);case"keypress":return r.which!==32?null:(F=!0,A);case"textInput":return i=r.data,i===A&&F?null:i;default:return null}}function Ge(i,r){if(He)return i==="compositionend"||!Di&&J(i,r)?(i=kl(),hs=Ys=Ri=null,He=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Zt[i.type]:r==="textarea"}function ds(i,r,o,u){us?cs?cs.push(u):cs=[u]:us=u,r=Kh(r,"onChange"),0<r.length&&(o=new Za("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var rn=null,Mi=null;function zl(i){qT(i,0)}function oh(i){var r=wi(i);if(Dl(r))return i}function uv(i,r){if(i==="change")return r}var cv=!1;if(fi){var Yd;if(fi){var Qd="oninput"in document;if(!Qd){var hv=document.createElement("div");hv.setAttribute("oninput","return;"),Qd=typeof hv.oninput=="function"}Yd=Qd}else Yd=!1;cv=Yd&&(!document.documentMode||9<document.documentMode)}function fv(){rn&&(rn.detachEvent("onpropertychange",dv),Mi=rn=null)}function dv(i){if(i.propertyName==="value"&&oh(Mi)){var r=[];ds(r,Mi,i,Qn(i)),$c(zl,r)}}function rC(i,r,o){i==="focusin"?(fv(),rn=r,Mi=o,rn.attachEvent("onpropertychange",dv)):i==="focusout"&&fv()}function aC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return oh(Mi)}function oC(i,r){if(i==="click")return oh(r)}function lC(i,r){if(i==="input"||i==="change")return oh(r)}function uC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var On=typeof Object.is=="function"?Object.is:uC;function ql(i,r){if(On(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Qe.call(r,f)||!On(i[f],r[f]))return!1}return!0}function mv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pv(i,r){var o=mv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=mv(o)}}function gv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?gv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function yv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Zr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Zr(i.document)}return r}function Xd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var cC=fi&&"documentMode"in document&&11>=document.documentMode,ao=null,Wd=null,Fl=null,Zd=!1;function vv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Zd||ao==null||ao!==Zr(u)||(u=ao,"selectionStart"in u&&Xd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fl&&ql(Fl,u)||(Fl=u,u=Kh(Wd,"onSelect"),0<u.length&&(r=new Za("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=ao)))}function ua(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var oo={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Jd={},_v={};fi&&(_v=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function ca(i){if(Jd[i])return Jd[i];if(!oo[i])return i;var r=oo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in _v)return Jd[i]=r[o];return i}var Tv=ca("animationend"),bv=ca("animationiteration"),Ev=ca("animationstart"),hC=ca("transitionrun"),fC=ca("transitionstart"),dC=ca("transitioncancel"),xv=ca("transitionend"),wv=new Map,em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");em.push("scrollEnd");function di(i,r){wv.set(i,r),hi(r,[i])}var Sv=new WeakMap;function Zn(i,r){if(typeof i=="object"&&i!==null){var o=Sv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Qa(r)},Sv.set(i,r),r)}return{value:i,source:r,stack:Qa(r)}}var Jn=[],lo=0,tm=0;function lh(){for(var i=lo,r=tm=lo=0;r<i;){var o=Jn[r];Jn[r++]=null;var u=Jn[r];Jn[r++]=null;var f=Jn[r];Jn[r++]=null;var g=Jn[r];if(Jn[r++]=null,u!==null&&f!==null){var x=u.pending;x===null?f.next=f:(f.next=x.next,x.next=f),u.pending=f}g!==0&&Av(o,f,g)}}function uh(i,r,o,u){Jn[lo++]=i,Jn[lo++]=r,Jn[lo++]=o,Jn[lo++]=u,tm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function nm(i,r,o,u){return uh(i,r,o,u),ch(i)}function uo(i,r){return uh(i,null,null,r),ch(i)}function Av(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-mn(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function ch(i){if(50<mu)throw mu=0,lp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var co={};function mC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(i,r,o,u){return new mC(i,r,o,u)}function im(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ms(i,r){var o=i.alternate;return o===null?(o=jn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Rv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function hh(i,r,o,u,f,g){var x=0;if(u=i,typeof i=="function")im(i)&&(x=1);else if(typeof i=="string")x=g2(i,o,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=jn(31,o,r,f),i.elementType=N,i.lanes=g,i;case D:return ha(o.children,f,g,r);case I:x=8,f|=24;break;case j:return i=jn(12,o,r,f|2),i.elementType=j,i.lanes=g,i;case W:return i=jn(13,o,r,f),i.elementType=W,i.lanes=g,i;case ue:return i=jn(19,o,r,f),i.elementType=ue,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:case K:x=10;break e;case Y:x=9;break e;case Z:x=11;break e;case k:x=14;break e;case S:x=16,u=null;break e}x=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=jn(x,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function ha(i,r,o,u){return i=jn(7,i,u,r),i.lanes=o,i}function sm(i,r,o){return i=jn(6,i,null,r),i.lanes=o,i}function rm(i,r,o){return r=jn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var ho=[],fo=0,fh=null,dh=0,ei=[],ti=0,fa=null,ps=1,gs="";function da(i,r){ho[fo++]=dh,ho[fo++]=fh,fh=i,dh=r}function Cv(i,r,o){ei[ti++]=ps,ei[ti++]=gs,ei[ti++]=fa,fa=i;var u=ps;i=gs;var f=32-mn(u)-1;u&=~(1<<f),o+=1;var g=32-mn(r)+f;if(30<g){var x=f-f%5;g=(u&(1<<x)-1).toString(32),u>>=x,f-=x,ps=1<<32-mn(r)+f|o<<f|u,gs=g+i}else ps=1<<g|o<<f|u,gs=i}function am(i){i.return!==null&&(da(i,1),Cv(i,1,0))}function om(i){for(;i===fh;)fh=ho[--fo],ho[fo]=null,dh=ho[--fo],ho[fo]=null;for(;i===fa;)fa=ei[--ti],ei[ti]=null,gs=ei[--ti],ei[ti]=null,ps=ei[--ti],ei[ti]=null}var Sn=null,bt=null,We=!1,ma=null,Vi=!1,lm=Error(s(519));function pa(i){var r=Error(s(418,""));throw Kl(Zn(r,i)),lm}function Nv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ht]=i,r[kt]=u,o){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(o=0;o<gu.length;o++)Be(gu[o],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Be("invalid",r),Jr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Xa(r);break;case"select":Be("invalid",r);break;case"textarea":Be("invalid",r),ea(r,u.value,u.defaultValue,u.children),Xa(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||KT(r.textContent,o)?(u.popover!=null&&(Be("beforetoggle",r),Be("toggle",r)),u.onScroll!=null&&Be("scroll",r),u.onScrollEnd!=null&&Be("scrollend",r),u.onClick!=null&&(r.onclick=$h),r=!0):r=!1,r||pa(i)}function Iv(i){for(Sn=i.return;Sn;)switch(Sn.tag){case 5:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:Sn=Sn.return}}function Hl(i){if(i!==Sn)return!1;if(!We)return Iv(i),We=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||wp(i.type,i.memoizedProps)),o=!o),o&&bt&&pa(i),Iv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){bt=pi(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}bt=null}}else r===27?(r=bt,cr(i.type)?(i=Cp,Cp=null,bt=i):bt=r):bt=Sn?pi(i.stateNode.nextSibling):null;return!0}function Gl(){bt=Sn=null,We=!1}function Dv(){var i=ma;return i!==null&&(Nn===null?Nn=i:Nn.push.apply(Nn,i),ma=null),i}function Kl(i){ma===null?ma=[i]:ma.push(i)}var um=te(null),ga=null,ys=null;function Qs(i,r,o){le(um,r._currentValue),r._currentValue=o}function vs(i){i._currentValue=um.current,oe(um)}function cm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function hm(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var x=f.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=f;for(var O=0;O<r.length;O++)if(w.context===r[O]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),cm(g.return,o,i),u||(x=null);break e}g=w.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(s(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),cm(x,o,i),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===i){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function $l(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var w=f.type;On(f.pendingProps.value,x.value)||(i!==null?i.push(w):i=[w])}}else if(f===ft.current){if(x=f.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Eu):i=[Eu])}f=f.return}i!==null&&hm(r,i,o,u),r.flags|=262144}function mh(i){for(i=i.firstContext;i!==null;){if(!On(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ya(i){ga=i,ys=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function pn(i){return Mv(ga,i)}function ph(i,r){return ga===null&&ya(i),Mv(i,r)}function Mv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ys===null){if(i===null)throw Error(s(308));ys=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ys=ys.next=r;return o}var pC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},gC=t.unstable_scheduleCallback,yC=t.unstable_NormalPriority,$t={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fm(){return{controller:new pC,data:new Map,refCount:0}}function Yl(i){i.refCount--,i.refCount===0&&gC(yC,function(){i.controller.abort()})}var Ql=null,dm=0,mo=0,po=null;function vC(i,r){if(Ql===null){var o=Ql=[];dm=0,mo=pp(),po={status:"pending",value:void 0,then:function(u){o.push(u)}}}return dm++,r.then(Vv,Vv),r}function Vv(){if(--dm===0&&Ql!==null){po!==null&&(po.status="fulfilled");var i=Ql;Ql=null,mo=0,po=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function _C(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Pv=Q.S;Q.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&vC(i,r),Pv!==null&&Pv(i,r)};var va=te(null);function mm(){var i=va.current;return i!==null?i:ut.pooledCache}function gh(i,r){r===null?le(va,va.current):le(va,r.pool)}function kv(){var i=mm();return i===null?null:{parent:$t._currentValue,pool:i}}var Xl=Error(s(460)),Ov=Error(s(474)),yh=Error(s(542)),pm={then:function(){}};function jv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function vh(){}function Lv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(vh,vh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Bv(i),i;default:if(typeof r.status=="string")r.then(vh,vh);else{if(i=ut,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Bv(i),i}throw Wl=r,Xl}}var Wl=null;function Uv(){if(Wl===null)throw Error(s(459));var i=Wl;return Wl=null,i}function Bv(i){if(i===Xl||i===yh)throw Error(s(483))}var Xs=!1;function gm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ym(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ws(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(tt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=ch(i),Av(i,null,o),r}return uh(i,u,r,o),ch(i)}function Zl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Al(i,o)}}function vm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var _m=!1;function Jl(){if(_m){var i=po;if(i!==null)throw i}}function eu(i,r,o,u){_m=!1;var f=i.updateQueue;Xs=!1;var g=f.firstBaseUpdate,x=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,G=O.next;O.next=null,x===null?g=G:x.next=G,x=O;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==x&&(w===null?ee.firstBaseUpdate=G:w.next=G,ee.lastBaseUpdate=O))}if(g!==null){var re=f.baseState;x=0,ee=G=O=null,w=g;do{var $=w.lane&-536870913,X=$!==w.lane;if(X?(Ke&$)===$:(u&$)===$){$!==0&&$===mo&&(_m=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ie=i,Se=w;$=r;var at=o;switch(Se.tag){case 1:if(Ie=Se.payload,typeof Ie=="function"){re=Ie.call(at,re,$);break e}re=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Se.payload,$=typeof Ie=="function"?Ie.call(at,re,$):Ie,$==null)break e;re=y({},re,$);break e;case 2:Xs=!0}}$=w.callback,$!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(G=ee=X,O=re):ee=ee.next=X,x|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;X=w,w=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);ee===null&&(O=re),f.baseState=O,f.firstBaseUpdate=G,f.lastBaseUpdate=ee,g===null&&(f.shared.lanes=0),ar|=x,i.lanes=x,i.memoizedState=re}}function zv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function qv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)zv(o[i],r)}var go=te(null),_h=te(0);function Fv(i,r){i=Ss,le(_h,i),le(go,r),Ss=i|r.baseLanes}function Tm(){le(_h,Ss),le(go,go.current)}function bm(){Ss=_h.current,oe(go),oe(_h)}var Js=0,Oe=null,st=null,jt=null,Th=!1,yo=!1,_a=!1,bh=0,tu=0,vo=null,TC=0;function Nt(){throw Error(s(321))}function Em(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!On(i[o],r[o]))return!1;return!0}function xm(i,r,o,u,f,g){return Js=g,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=i===null||i.memoizedState===null?A_:R_,_a=!1,g=o(u,f),_a=!1,yo&&(g=Gv(r,o,u,f)),Hv(i),g}function Hv(i){Q.H=Rh;var r=st!==null&&st.next!==null;if(Js=0,jt=st=Oe=null,Th=!1,tu=0,vo=null,r)throw Error(s(300));i===null||Jt||(i=i.dependencies,i!==null&&mh(i)&&(Jt=!0))}function Gv(i,r,o,u){Oe=i;var f=0;do{if(yo&&(vo=null),tu=0,yo=!1,25<=f)throw Error(s(301));if(f+=1,jt=st=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=RC,g=r(o,u)}while(yo);return g}function bC(){var i=Q.H,r=i.useState()[0];return r=typeof r.then=="function"?nu(r):r,i=i.useState()[0],(st!==null?st.memoizedState:null)!==i&&(Oe.flags|=1024),r}function wm(){var i=bh!==0;return bh=0,i}function Sm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Am(i){if(Th){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Th=!1}Js=0,jt=st=Oe=null,yo=!1,tu=bh=0,vo=null}function Rn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Oe.memoizedState=jt=i:jt=jt.next=i,jt}function Lt(){if(st===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=st.next;var r=jt===null?Oe.memoizedState:jt.next;if(r!==null)jt=r,st=i;else{if(i===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));st=i,i={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},jt===null?Oe.memoizedState=jt=i:jt=jt.next=i}return jt}function Rm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nu(i){var r=tu;return tu+=1,vo===null&&(vo=[]),i=Lv(vo,i,r),r=Oe,(jt===null?r.memoizedState:jt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?A_:R_),i}function Eh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return nu(i);if(i.$$typeof===K)return pn(i)}throw Error(s(438,String(i)))}function Cm(i){var r=null,o=Oe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Rm(),Oe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=V;return r.index++,o}function _s(i,r){return typeof r=="function"?r(i):r}function xh(i){var r=Lt();return Nm(r,st,i)}function Nm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var x=f.next;f.next=g.next,g.next=x}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var w=x=null,O=null,G=r,ee=!1;do{var re=G.lane&-536870913;if(re!==G.lane?(Ke&re)===re:(Js&re)===re){var $=G.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),re===mo&&(ee=!0);else if((Js&$)===$){G=G.next,$===mo&&(ee=!0);continue}else re={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(w=O=re,x=g):O=O.next=re,Oe.lanes|=$,ar|=$;re=G.action,_a&&o(g,re),g=G.hasEagerState?G.eagerState:o(g,re)}else $={lane:re,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(w=O=$,x=g):O=O.next=$,Oe.lanes|=re,ar|=re;G=G.next}while(G!==null&&G!==r);if(O===null?x=g:O.next=w,!On(g,i.memoizedState)&&(Jt=!0,ee&&(o=po,o!==null)))throw o;i.memoizedState=g,i.baseState=x,i.baseQueue=O,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Im(i){var r=Lt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var x=f=f.next;do g=i(g,x.action),x=x.next;while(x!==f);On(g,r.memoizedState)||(Jt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Kv(i,r,o){var u=Oe,f=Lt(),g=We;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var x=!On((st||f).memoizedState,o);x&&(f.memoizedState=o,Jt=!0),f=f.queue;var w=Qv.bind(null,u,f,i);if(iu(2048,8,w,[i]),f.getSnapshot!==r||x||jt!==null&&jt.memoizedState.tag&1){if(u.flags|=2048,_o(9,wh(),Yv.bind(null,u,f,o,r),null),ut===null)throw Error(s(349));g||(Js&124)!==0||$v(u,r,o)}return o}function $v(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r=Rm(),Oe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Yv(i,r,o,u){r.value=o,r.getSnapshot=u,Xv(r)&&Wv(i)}function Qv(i,r,o){return o(function(){Xv(r)&&Wv(i)})}function Xv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!On(i,o)}catch{return!0}}function Wv(i){var r=uo(i,2);r!==null&&qn(r,i,2)}function Dm(i){var r=Rn();if(typeof i=="function"){var o=i;if(i=o(),_a){Pn(!0);try{o()}finally{Pn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:i},r}function Zv(i,r,o,u){return i.baseState=o,Nm(i,st,typeof u=="function"?u:_s)}function EC(i,r,o,u,f){if(Ah(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};Q.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Jv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Jv(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=Q.T,x={};Q.T=x;try{var w=o(f,u),O=Q.S;O!==null&&O(x,w),e_(i,r,w)}catch(G){Mm(i,r,G)}finally{Q.T=g}}else try{g=o(f,u),e_(i,r,g)}catch(G){Mm(i,r,G)}}function e_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){t_(i,r,u)},function(u){return Mm(i,r,u)}):t_(i,r,o)}function t_(i,r,o){r.status="fulfilled",r.value=o,n_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Jv(i,o)))}function Mm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,n_(r),r=r.next;while(r!==u)}i.action=null}function n_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function i_(i,r){return r}function s_(i,r){if(We){var o=ut.formState;if(o!==null){e:{var u=Oe;if(We){if(bt){t:{for(var f=bt,g=Vi;f.nodeType!==8;){if(!g){f=null;break t}if(f=pi(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){bt=pi(f.nextSibling),u=f.data==="F!";break e}}pa(u)}u=!1}u&&(r=o[0])}}return o=Rn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i_,lastRenderedState:r},o.queue=u,o=x_.bind(null,Oe,u),u.dispatch=o,u=Dm(!1),g=jm.bind(null,Oe,!1,u.queue),u=Rn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=EC.bind(null,Oe,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function r_(i){var r=Lt();return a_(r,st,i)}function a_(i,r,o){if(r=Nm(i,r,i_)[0],i=xh(_s)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=nu(r)}catch(x){throw x===Xl?yh:x}else u=r;r=Lt();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Oe.flags|=2048,_o(9,wh(),xC.bind(null,f,o),null)),[u,g,i]}function xC(i,r){i.action=r}function o_(i){var r=Lt(),o=st;if(o!==null)return a_(r,o,i);Lt(),r=r.memoizedState,o=Lt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function _o(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Rm(),Oe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function wh(){return{destroy:void 0,resource:void 0}}function l_(){return Lt().memoizedState}function Sh(i,r,o,u){var f=Rn();u=u===void 0?null:u,Oe.flags|=i,f.memoizedState=_o(1|r,wh(),o,u)}function iu(i,r,o,u){var f=Lt();u=u===void 0?null:u;var g=f.memoizedState.inst;st!==null&&u!==null&&Em(u,st.memoizedState.deps)?f.memoizedState=_o(r,g,o,u):(Oe.flags|=i,f.memoizedState=_o(1|r,g,o,u))}function u_(i,r){Sh(8390656,8,i,r)}function c_(i,r){iu(2048,8,i,r)}function h_(i,r){return iu(4,2,i,r)}function f_(i,r){return iu(4,4,i,r)}function d_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function m_(i,r,o){o=o!=null?o.concat([i]):null,iu(4,4,d_.bind(null,r,i),o)}function Vm(){}function p_(i,r){var o=Lt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Em(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function g_(i,r){var o=Lt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Em(r,u[1]))return u[0];if(u=i(),_a){Pn(!0);try{i()}finally{Pn(!1)}}return o.memoizedState=[u,r],u}function Pm(i,r,o){return o===void 0||(Js&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=_T(),Oe.lanes|=i,ar|=i,o)}function y_(i,r,o,u){return On(o,r)?o:go.current!==null?(i=Pm(i,o,u),On(i,r)||(Jt=!0),i):(Js&42)===0?(Jt=!0,i.memoizedState=o):(i=_T(),Oe.lanes|=i,ar|=i,r)}function v_(i,r,o,u,f){var g=se.p;se.p=g!==0&&8>g?g:8;var x=Q.T,w={};Q.T=w,jm(i,!1,r,o);try{var O=f(),G=Q.S;if(G!==null&&G(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ee=_C(O,u);su(i,r,ee,zn(i))}else su(i,r,u,zn(i))}catch(re){su(i,r,{then:function(){},status:"rejected",reason:re},zn())}finally{se.p=g,Q.T=x}}function wC(){}function km(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=__(i).queue;v_(i,f,r,ce,o===null?wC:function(){return T_(i),o(u)})}function __(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:ce},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function T_(i){var r=__(i).next.queue;su(i,r,{},zn())}function Om(){return pn(Eu)}function b_(){return Lt().memoizedState}function E_(){return Lt().memoizedState}function SC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=zn();i=Ws(o);var u=Zs(r,i,o);u!==null&&(qn(u,r,o),Zl(u,r,o)),r={cache:fm()},i.payload=r;return}r=r.return}}function AC(i,r,o){var u=zn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ah(i)?w_(r,o):(o=nm(i,r,o,u),o!==null&&(qn(o,i,u),S_(o,r,u)))}function x_(i,r,o){var u=zn();su(i,r,o,u)}function su(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ah(i))w_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var x=r.lastRenderedState,w=g(x,o);if(f.hasEagerState=!0,f.eagerState=w,On(w,x))return uh(i,r,f,0),ut===null&&lh(),!1}catch{}finally{}if(o=nm(i,r,f,u),o!==null)return qn(o,i,u),S_(o,r,u),!0}return!1}function jm(i,r,o,u){if(u={lane:2,revertLane:pp(),action:u,hasEagerState:!1,eagerState:null,next:null},Ah(i)){if(r)throw Error(s(479))}else r=nm(i,o,u,2),r!==null&&qn(r,i,2)}function Ah(i){var r=i.alternate;return i===Oe||r!==null&&r===Oe}function w_(i,r){yo=Th=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function S_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Al(i,o)}}var Rh={readContext:pn,use:Eh,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},A_={readContext:pn,use:Eh,useCallback:function(i,r){return Rn().memoizedState=[i,r===void 0?null:r],i},useContext:pn,useEffect:u_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Sh(4194308,4,d_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Sh(4194308,4,i,r)},useInsertionEffect:function(i,r){Sh(4,2,i,r)},useMemo:function(i,r){var o=Rn();r=r===void 0?null:r;var u=i();if(_a){Pn(!0);try{i()}finally{Pn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=Rn();if(o!==void 0){var f=o(r);if(_a){Pn(!0);try{o(r)}finally{Pn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=AC.bind(null,Oe,i),[u.memoizedState,i]},useRef:function(i){var r=Rn();return i={current:i},r.memoizedState=i},useState:function(i){i=Dm(i);var r=i.queue,o=x_.bind(null,Oe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Vm,useDeferredValue:function(i,r){var o=Rn();return Pm(o,i,r)},useTransition:function(){var i=Dm(!1);return i=v_.bind(null,Oe,i.queue,!0,!1),Rn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Oe,f=Rn();if(We){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ut===null)throw Error(s(349));(Ke&124)!==0||$v(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,u_(Qv.bind(null,u,g,i),[i]),u.flags|=2048,_o(9,wh(),Yv.bind(null,u,g,o,r),null),o},useId:function(){var i=Rn(),r=ut.identifierPrefix;if(We){var o=gs,u=ps;o=(u&~(1<<32-mn(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=bh++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=TC++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Om,useFormState:s_,useActionState:s_,useOptimistic:function(i){var r=Rn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=jm.bind(null,Oe,!0,o),o.dispatch=r,[i,r]},useMemoCache:Cm,useCacheRefresh:function(){return Rn().memoizedState=SC.bind(null,Oe)}},R_={readContext:pn,use:Eh,useCallback:p_,useContext:pn,useEffect:c_,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:g_,useReducer:xh,useRef:l_,useState:function(){return xh(_s)},useDebugValue:Vm,useDeferredValue:function(i,r){var o=Lt();return y_(o,st.memoizedState,i,r)},useTransition:function(){var i=xh(_s)[0],r=Lt().memoizedState;return[typeof i=="boolean"?i:nu(i),r]},useSyncExternalStore:Kv,useId:b_,useHostTransitionStatus:Om,useFormState:r_,useActionState:r_,useOptimistic:function(i,r){var o=Lt();return Zv(o,st,i,r)},useMemoCache:Cm,useCacheRefresh:E_},RC={readContext:pn,use:Eh,useCallback:p_,useContext:pn,useEffect:c_,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:g_,useReducer:Im,useRef:l_,useState:function(){return Im(_s)},useDebugValue:Vm,useDeferredValue:function(i,r){var o=Lt();return st===null?Pm(o,i,r):y_(o,st.memoizedState,i,r)},useTransition:function(){var i=Im(_s)[0],r=Lt().memoizedState;return[typeof i=="boolean"?i:nu(i),r]},useSyncExternalStore:Kv,useId:b_,useHostTransitionStatus:Om,useFormState:o_,useActionState:o_,useOptimistic:function(i,r){var o=Lt();return st!==null?Zv(o,st,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Cm,useCacheRefresh:E_},To=null,ru=0;function Ch(i){var r=ru;return ru+=1,To===null&&(To=[]),Lv(To,i,r)}function au(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Nh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function C_(i){var r=i._init;return r(i._payload)}function N_(i){function r(q,z){if(i){var H=q.deletions;H===null?(q.deletions=[z],q.flags|=16):H.push(z)}}function o(q,z){if(!i)return null;for(;z!==null;)r(q,z),z=z.sibling;return null}function u(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function f(q,z){return q=ms(q,z),q.index=0,q.sibling=null,q}function g(q,z,H){return q.index=H,i?(H=q.alternate,H!==null?(H=H.index,H<z?(q.flags|=67108866,z):H):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function x(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function w(q,z,H,ie){return z===null||z.tag!==6?(z=sm(H,q.mode,ie),z.return=q,z):(z=f(z,H),z.return=q,z)}function O(q,z,H,ie){var ve=H.type;return ve===D?ee(q,z,H.props.children,ie,H.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&C_(ve)===z.type)?(z=f(z,H.props),au(z,H),z.return=q,z):(z=hh(H.type,H.key,H.props,null,q.mode,ie),au(z,H),z.return=q,z)}function G(q,z,H,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=rm(H,q.mode,ie),z.return=q,z):(z=f(z,H.children||[]),z.return=q,z)}function ee(q,z,H,ie,ve){return z===null||z.tag!==7?(z=ha(H,q.mode,ie,ve),z.return=q,z):(z=f(z,H),z.return=q,z)}function re(q,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=sm(""+z,q.mode,H),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return H=hh(z.type,z.key,z.props,null,q.mode,H),au(H,z),H.return=q,H;case C:return z=rm(z,q.mode,H),z.return=q,z;case S:var ie=z._init;return z=ie(z._payload),re(q,z,H)}if(me(z)||B(z))return z=ha(z,q.mode,H,null),z.return=q,z;if(typeof z.then=="function")return re(q,Ch(z),H);if(z.$$typeof===K)return re(q,ph(q,z),H);Nh(q,z)}return null}function $(q,z,H,ie){var ve=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ve!==null?null:w(q,z,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return H.key===ve?O(q,z,H,ie):null;case C:return H.key===ve?G(q,z,H,ie):null;case S:return ve=H._init,H=ve(H._payload),$(q,z,H,ie)}if(me(H)||B(H))return ve!==null?null:ee(q,z,H,ie,null);if(typeof H.then=="function")return $(q,z,Ch(H),ie);if(H.$$typeof===K)return $(q,z,ph(q,H),ie);Nh(q,H)}return null}function X(q,z,H,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return q=q.get(H)||null,w(z,q,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:return q=q.get(ie.key===null?H:ie.key)||null,O(z,q,ie,ve);case C:return q=q.get(ie.key===null?H:ie.key)||null,G(z,q,ie,ve);case S:var Le=ie._init;return ie=Le(ie._payload),X(q,z,H,ie,ve)}if(me(ie)||B(ie))return q=q.get(H)||null,ee(z,q,ie,ve,null);if(typeof ie.then=="function")return X(q,z,H,Ch(ie),ve);if(ie.$$typeof===K)return X(q,z,H,ph(z,ie),ve);Nh(z,ie)}return null}function Ie(q,z,H,ie){for(var ve=null,Le=null,be=z,Ae=z=0,tn=null;be!==null&&Ae<H.length;Ae++){be.index>Ae?(tn=be,be=null):tn=be.sibling;var Xe=$(q,be,H[Ae],ie);if(Xe===null){be===null&&(be=tn);break}i&&be&&Xe.alternate===null&&r(q,be),z=g(Xe,z,Ae),Le===null?ve=Xe:Le.sibling=Xe,Le=Xe,be=tn}if(Ae===H.length)return o(q,be),We&&da(q,Ae),ve;if(be===null){for(;Ae<H.length;Ae++)be=re(q,H[Ae],ie),be!==null&&(z=g(be,z,Ae),Le===null?ve=be:Le.sibling=be,Le=be);return We&&da(q,Ae),ve}for(be=u(be);Ae<H.length;Ae++)tn=X(be,q,Ae,H[Ae],ie),tn!==null&&(i&&tn.alternate!==null&&be.delete(tn.key===null?Ae:tn.key),z=g(tn,z,Ae),Le===null?ve=tn:Le.sibling=tn,Le=tn);return i&&be.forEach(function(pr){return r(q,pr)}),We&&da(q,Ae),ve}function Se(q,z,H,ie){if(H==null)throw Error(s(151));for(var ve=null,Le=null,be=z,Ae=z=0,tn=null,Xe=H.next();be!==null&&!Xe.done;Ae++,Xe=H.next()){be.index>Ae?(tn=be,be=null):tn=be.sibling;var pr=$(q,be,Xe.value,ie);if(pr===null){be===null&&(be=tn);break}i&&be&&pr.alternate===null&&r(q,be),z=g(pr,z,Ae),Le===null?ve=pr:Le.sibling=pr,Le=pr,be=tn}if(Xe.done)return o(q,be),We&&da(q,Ae),ve;if(be===null){for(;!Xe.done;Ae++,Xe=H.next())Xe=re(q,Xe.value,ie),Xe!==null&&(z=g(Xe,z,Ae),Le===null?ve=Xe:Le.sibling=Xe,Le=Xe);return We&&da(q,Ae),ve}for(be=u(be);!Xe.done;Ae++,Xe=H.next())Xe=X(be,q,Ae,Xe.value,ie),Xe!==null&&(i&&Xe.alternate!==null&&be.delete(Xe.key===null?Ae:Xe.key),z=g(Xe,z,Ae),Le===null?ve=Xe:Le.sibling=Xe,Le=Xe);return i&&be.forEach(function(C2){return r(q,C2)}),We&&da(q,Ae),ve}function at(q,z,H,ie){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case E:e:{for(var ve=H.key;z!==null;){if(z.key===ve){if(ve=H.type,ve===D){if(z.tag===7){o(q,z.sibling),ie=f(z,H.props.children),ie.return=q,q=ie;break e}}else if(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&C_(ve)===z.type){o(q,z.sibling),ie=f(z,H.props),au(ie,H),ie.return=q,q=ie;break e}o(q,z);break}else r(q,z);z=z.sibling}H.type===D?(ie=ha(H.props.children,q.mode,ie,H.key),ie.return=q,q=ie):(ie=hh(H.type,H.key,H.props,null,q.mode,ie),au(ie,H),ie.return=q,q=ie)}return x(q);case C:e:{for(ve=H.key;z!==null;){if(z.key===ve)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){o(q,z.sibling),ie=f(z,H.children||[]),ie.return=q,q=ie;break e}else{o(q,z);break}else r(q,z);z=z.sibling}ie=rm(H,q.mode,ie),ie.return=q,q=ie}return x(q);case S:return ve=H._init,H=ve(H._payload),at(q,z,H,ie)}if(me(H))return Ie(q,z,H,ie);if(B(H)){if(ve=B(H),typeof ve!="function")throw Error(s(150));return H=ve.call(H),Se(q,z,H,ie)}if(typeof H.then=="function")return at(q,z,Ch(H),ie);if(H.$$typeof===K)return at(q,z,ph(q,H),ie);Nh(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(o(q,z.sibling),ie=f(z,H),ie.return=q,q=ie):(o(q,z),ie=sm(H,q.mode,ie),ie.return=q,q=ie),x(q)):o(q,z)}return function(q,z,H,ie){try{ru=0;var ve=at(q,z,H,ie);return To=null,ve}catch(be){if(be===Xl||be===yh)throw be;var Le=jn(29,be,null,q.mode);return Le.lanes=ie,Le.return=q,Le}finally{}}}var bo=N_(!0),I_=N_(!1),ni=te(null),Pi=null;function er(i){var r=i.alternate;le(Yt,Yt.current&1),le(ni,i),Pi===null&&(r===null||go.current!==null||r.memoizedState!==null)&&(Pi=i)}function D_(i){if(i.tag===22){if(le(Yt,Yt.current),le(ni,i),Pi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Pi=i)}}else tr()}function tr(){le(Yt,Yt.current),le(ni,ni.current)}function Ts(i){oe(ni),Pi===i&&(Pi=null),oe(Yt)}var Yt=te(0);function Ih(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Rp(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Lm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Um={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=zn(),f=Ws(u);f.payload=r,o!=null&&(f.callback=o),r=Zs(i,f,u),r!==null&&(qn(r,i,u),Zl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=zn(),f=Ws(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Zs(i,f,u),r!==null&&(qn(r,i,u),Zl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=zn(),u=Ws(o);u.tag=2,r!=null&&(u.callback=r),r=Zs(i,u,o),r!==null&&(qn(r,i,o),Zl(r,i,o))}};function M_(i,r,o,u,f,g,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,x):r.prototype&&r.prototype.isPureReactComponent?!ql(o,u)||!ql(f,g):!0}function V_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Um.enqueueReplaceState(r,r.state,null)}function Ta(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var Dh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function P_(i){Dh(i)}function k_(i){console.error(i)}function O_(i){Dh(i)}function Mh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function j_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bm(i,r,o){return o=Ws(o),o.tag=3,o.payload={element:null},o.callback=function(){Mh(i,r)},o}function L_(i){return i=Ws(i),i.tag=3,i}function U_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){j_(r,o,u)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){j_(r,o,u),typeof f!="function"&&(or===null?or=new Set([this]):or.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function CC(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&$l(r,o,f,!0),o=ni.current,o!==null){switch(o.tag){case 13:return Pi===null?cp():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===pm?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),fp(i,u,f)),!1;case 22:return o.flags|=65536,u===pm?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),fp(i,u,f)),!1}throw Error(s(435,o.tag))}return fp(i,u,f),cp(),!1}if(We)return r=ni.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==lm&&(i=Error(s(422),{cause:u}),Kl(Zn(i,o)))):(u!==lm&&(r=Error(s(423),{cause:u}),Kl(Zn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Zn(u,o),f=Bm(i.stateNode,u,f),vm(i,f),Et!==4&&(Et=2)),!1;var g=Error(s(520),{cause:u});if(g=Zn(g,o),du===null?du=[g]:du.push(g),Et!==4&&(Et=2),r===null)return!0;u=Zn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Bm(o.stateNode,u,i),vm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(or===null||!or.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=L_(f),U_(f,i,o,u),vm(o,f),!1}o=o.return}while(o!==null);return!1}var B_=Error(s(461)),Jt=!1;function an(i,r,o,u){r.child=i===null?I_(r,null,o,u):bo(r,i.child,o,u)}function z_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var x={};for(var w in u)w!=="ref"&&(x[w]=u[w])}else x=u;return ya(r),u=xm(i,r,o,x,g,f),w=wm(),i!==null&&!Jt?(Sm(i,r,f),bs(i,r,f)):(We&&w&&am(r),r.flags|=1,an(i,r,u,f),r.child)}function q_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!im(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,F_(i,r,g,u,f)):(i=hh(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Ym(i,f)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:ql,o(x,u)&&i.ref===r.ref)return bs(i,r,f)}return r.flags|=1,i=ms(g,u),i.ref=r.ref,i.return=r,r.child=i}function F_(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(ql(g,u)&&i.ref===r.ref)if(Jt=!1,r.pendingProps=u=g,Ym(i,f))(i.flags&131072)!==0&&(Jt=!0);else return r.lanes=i.lanes,bs(i,r,f)}return zm(i,r,o,u,f)}function H_(i,r,o){var u=r.pendingProps,f=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(f=r.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return G_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&gh(r,g!==null?g.cachePool:null),g!==null?Fv(r,g):Tm(),D_(r);else return r.lanes=r.childLanes=536870912,G_(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(gh(r,g.cachePool),Fv(r,g),tr(),r.memoizedState=null):(i!==null&&gh(r,null),Tm(),tr());return an(i,r,f,o),r.child}function G_(i,r,o,u){var f=mm();return f=f===null?null:{parent:$t._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&gh(r,null),Tm(),D_(r),i!==null&&$l(i,r,u,!0),null}function Vh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function zm(i,r,o,u,f){return ya(r),o=xm(i,r,o,u,void 0,f),u=wm(),i!==null&&!Jt?(Sm(i,r,f),bs(i,r,f)):(We&&u&&am(r),r.flags|=1,an(i,r,o,f),r.child)}function K_(i,r,o,u,f,g){return ya(r),r.updateQueue=null,o=Gv(r,u,o,f),Hv(i),u=wm(),i!==null&&!Jt?(Sm(i,r,g),bs(i,r,g)):(We&&u&&am(r),r.flags|=1,an(i,r,o,g),r.child)}function $_(i,r,o,u,f){if(ya(r),r.stateNode===null){var g=co,x=o.contextType;typeof x=="object"&&x!==null&&(g=pn(x)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Um,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},gm(r),x=o.contextType,g.context=typeof x=="object"&&x!==null?pn(x):co,g.state=r.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Lm(r,o,x,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Um.enqueueReplaceState(g,g.state,null),eu(r,u,g,f),Jl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,O=Ta(o,w);g.props=O;var G=g.context,ee=o.contextType;x=co,typeof ee=="object"&&ee!==null&&(x=pn(ee));var re=o.getDerivedStateFromProps;ee=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||G!==x)&&V_(r,g,u,x),Xs=!1;var $=r.memoizedState;g.state=$,eu(r,u,g,f),Jl(),G=r.memoizedState,w||$!==G||Xs?(typeof re=="function"&&(Lm(r,o,re,u),G=r.memoizedState),(O=Xs||M_(r,o,O,u,$,G,x))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),g.props=u,g.state=G,g.context=x,u=O):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,ym(i,r),x=r.memoizedProps,ee=Ta(o,x),g.props=ee,re=r.pendingProps,$=g.context,G=o.contextType,O=co,typeof G=="object"&&G!==null&&(O=pn(G)),w=o.getDerivedStateFromProps,(G=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==re||$!==O)&&V_(r,g,u,O),Xs=!1,$=r.memoizedState,g.state=$,eu(r,u,g,f),Jl();var X=r.memoizedState;x!==re||$!==X||Xs||i!==null&&i.dependencies!==null&&mh(i.dependencies)?(typeof w=="function"&&(Lm(r,o,w,u),X=r.memoizedState),(ee=Xs||M_(r,o,ee,u,$,X,O)||i!==null&&i.dependencies!==null&&mh(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,O)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=O,u=ee):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Vh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=bo(r,i.child,null,f),r.child=bo(r,null,o,f)):an(i,r,o,f),r.memoizedState=g.state,i=r.child):i=bs(i,r,f),i}function Y_(i,r,o,u){return Gl(),r.flags|=256,an(i,r,o,u),r.child}var qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fm(i){return{baseLanes:i,cachePool:kv()}}function Hm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ii),i}function Q_(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,x;if((x=g)||(x=i!==null&&i.memoizedState===null?!1:(Yt.current&2)!==0),x&&(f=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,i===null){if(We){if(f?er(r):tr(),We){var w=bt,O;if(O=w){e:{for(O=w,w=Vi;O.nodeType!==8;){if(!w){w=null;break e}if(O=pi(O.nextSibling),O===null){w=null;break e}}w=O}w!==null?(r.memoizedState={dehydrated:w,treeContext:fa!==null?{id:ps,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},O=jn(18,null,null,0),O.stateNode=w,O.return=r,r.child=O,Sn=r,bt=null,O=!0):O=!1}O||pa(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Rp(w)?r.lanes=32:r.lanes=536870912,null;Ts(r)}return w=u.children,u=u.fallback,f?(tr(),f=r.mode,w=Ph({mode:"hidden",children:w},f),u=ha(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,f=r.child,f.memoizedState=Fm(o),f.childLanes=Hm(i,x,o),r.memoizedState=qm,u):(er(r),Gm(r,w))}if(O=i.memoizedState,O!==null&&(w=O.dehydrated,w!==null)){if(g)r.flags&256?(er(r),r.flags&=-257,r=Km(i,r,o)):r.memoizedState!==null?(tr(),r.child=i.child,r.flags|=128,r=null):(tr(),f=u.fallback,w=r.mode,u=Ph({mode:"visible",children:u.children},w),f=ha(f,w,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,bo(r,i.child,null,o),u=r.child,u.memoizedState=Fm(o),u.childLanes=Hm(i,x,o),r.memoizedState=qm,r=f);else if(er(r),Rp(w)){if(x=w.nextSibling&&w.nextSibling.dataset,x)var G=x.dgst;x=G,u=Error(s(419)),u.stack="",u.digest=x,Kl({value:u,source:null,stack:null}),r=Km(i,r,o)}else if(Jt||$l(i,r,o,!1),x=(o&i.childLanes)!==0,Jt||x){if(x=ut,x!==null&&(u=o&-o,u=(u&42)!==0?1:qs(u),u=(u&(x.suspendedLanes|o))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,uo(i,u),qn(x,i,u),B_;w.data==="$?"||cp(),r=Km(i,r,o)}else w.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,bt=pi(w.nextSibling),Sn=r,We=!0,ma=null,Vi=!1,i!==null&&(ei[ti++]=ps,ei[ti++]=gs,ei[ti++]=fa,ps=i.id,gs=i.overflow,fa=r),r=Gm(r,u.children),r.flags|=4096);return r}return f?(tr(),f=u.fallback,w=r.mode,O=i.child,G=O.sibling,u=ms(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,G!==null?f=ms(G,f):(f=ha(f,w,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,w=i.child.memoizedState,w===null?w=Fm(o):(O=w.cachePool,O!==null?(G=$t._currentValue,O=O.parent!==G?{parent:G,pool:G}:O):O=kv(),w={baseLanes:w.baseLanes|o,cachePool:O}),f.memoizedState=w,f.childLanes=Hm(i,x,o),r.memoizedState=qm,u):(er(r),o=i.child,i=o.sibling,o=ms(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(x=r.deletions,x===null?(r.deletions=[i],r.flags|=16):x.push(i)),r.child=o,r.memoizedState=null,o)}function Gm(i,r){return r=Ph({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Ph(i,r){return i=jn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Km(i,r,o){return bo(r,i.child,null,o),i=Gm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function X_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),cm(i.return,r,o)}function $m(i,r,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function W_(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(an(i,r,u.children,o),u=Yt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&X_(i,o,r);else if(i.tag===19)X_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(le(Yt,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Ih(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),$m(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Ih(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}$m(r,!0,o,null,g);break;case"together":$m(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function bs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),ar|=r.lanes,(o&r.childLanes)===0)if(i!==null){if($l(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ms(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ms(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ym(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&mh(i)))}function NC(i,r,o){switch(r.tag){case 3:Ye(r,r.stateNode.containerInfo),Qs(r,$t,i.memoizedState.cache),Gl();break;case 27:case 5:Te(r);break;case 4:Ye(r,r.stateNode.containerInfo);break;case 10:Qs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(er(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Q_(i,r,o):(er(r),i=bs(i,r,o),i!==null?i.sibling:null);er(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||($l(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return W_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Yt,Yt.current),u)break;return null;case 22:case 23:return r.lanes=0,H_(i,r,o);case 24:Qs(r,$t,i.memoizedState.cache)}return bs(i,r,o)}function Z_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Jt=!0;else{if(!Ym(i,o)&&(r.flags&128)===0)return Jt=!1,NC(i,r,o);Jt=(i.flags&131072)!==0}else Jt=!1,We&&(r.flags&1048576)!==0&&Cv(r,dh,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")im(u)?(i=Ta(u,i),r.tag=1,r=$_(null,r,u,i,o)):(r.tag=0,r=zm(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===Z){r.tag=11,r=z_(null,r,u,i,o);break e}else if(f===k){r.tag=14,r=q_(null,r,u,i,o);break e}}throw r=fe(u)||u,Error(s(306,r,""))}}return r;case 0:return zm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Ta(u,r.pendingProps),$_(i,r,u,f,o);case 3:e:{if(Ye(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,ym(i,r),eu(r,u,null,o);var x=r.memoizedState;if(u=x.cache,Qs(r,$t,u),u!==g.cache&&hm(r,[$t],o,!0),Jl(),u=x.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Y_(i,r,u,o);break e}else if(u!==f){f=Zn(Error(s(424)),r),Kl(f),r=Y_(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(bt=pi(i.firstChild),Sn=r,We=!0,ma=null,Vi=!0,o=I_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Gl(),u===f){r=bs(i,r,o);break e}an(i,r,u,o)}r=r.child}return r;case 26:return Vh(i,r),i===null?(o=nb(r.type,null,r.pendingProps,null))?r.memoizedState=o:We||(o=r.type,i=r.pendingProps,u=Yh(Ee.current).createElement(o),u[Ht]=r,u[kt]=i,ln(u,o,i),Ct(u),r.stateNode=u):r.memoizedState=nb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Te(r),i===null&&We&&(u=r.stateNode=JT(r.type,r.pendingProps,Ee.current),Sn=r,Vi=!0,f=bt,cr(r.type)?(Cp=f,bt=pi(u.firstChild)):bt=f),an(i,r,r.pendingProps.children,o),Vh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&We&&((f=u=bt)&&(u=i2(u,r.type,r.pendingProps,Vi),u!==null?(r.stateNode=u,Sn=r,bt=pi(u.firstChild),Vi=!1,f=!0):f=!1),f||pa(r)),Te(r),f=r.type,g=r.pendingProps,x=i!==null?i.memoizedProps:null,u=g.children,wp(f,g)?u=null:x!==null&&wp(f,x)&&(r.flags|=32),r.memoizedState!==null&&(f=xm(i,r,bC,null,null,o),Eu._currentValue=f),Vh(i,r),an(i,r,u,o),r.child;case 6:return i===null&&We&&((i=o=bt)&&(o=s2(o,r.pendingProps,Vi),o!==null?(r.stateNode=o,Sn=r,bt=null,i=!0):i=!1),i||pa(r)),null;case 13:return Q_(i,r,o);case 4:return Ye(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=bo(r,null,u,o):an(i,r,u,o),r.child;case 11:return z_(i,r,r.type,r.pendingProps,o);case 7:return an(i,r,r.pendingProps,o),r.child;case 8:return an(i,r,r.pendingProps.children,o),r.child;case 12:return an(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Qs(r,r.type,u.value),an(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ya(r),f=pn(f),u=u(f),r.flags|=1,an(i,r,u,o),r.child;case 14:return q_(i,r,r.type,r.pendingProps,o);case 15:return F_(i,r,r.type,r.pendingProps,o);case 19:return W_(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=Ph(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=ms(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return H_(i,r,o);case 24:return ya(r),u=pn($t),i===null?(f=mm(),f===null&&(f=ut,g=fm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},gm(r),Qs(r,$t,f)):((i.lanes&o)!==0&&(ym(i,r),eu(r,null,null,o),Jl()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Qs(r,$t,u)):(u=g.cache,Qs(r,$t,u),u!==f.cache&&hm(r,[$t],o,!0))),an(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Es(i){i.flags|=4}function J_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ob(r)){if(r=ni.current,r!==null&&((Ke&4194048)===Ke?Pi!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||r!==Pi))throw Wl=pm,Ov;i.flags|=8192}}function kh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?wl():536870912,i.lanes|=r,So|=r)}function ou(i,r){if(!We)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function yt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function IC(i,r,o){var u=r.pendingProps;switch(om(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(r),null;case 1:return yt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),vs($t),ge(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Hl(r)?Es(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Dv())),yt(r),null;case 26:return o=r.memoizedState,i===null?(Es(r),o!==null?(yt(r),J_(r,o)):(yt(r),r.flags&=-16777217)):o?o!==i.memoizedState?(Es(r),yt(r),J_(r,o)):(yt(r),r.flags&=-16777217):(i.memoizedProps!==u&&Es(r),yt(r),r.flags&=-16777217),null;case 27:ke(r),o=Ee.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return yt(r),null}i=pe.current,Hl(r)?Nv(r):(i=JT(f,u,o),r.stateNode=i,Es(r))}return yt(r),null;case 5:if(ke(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return yt(r),null}if(i=pe.current,Hl(r))Nv(r);else{switch(f=Yh(Ee.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[Ht]=r,i[kt]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;e:switch(ln(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Es(r)}}return yt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Es(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ee.current,Hl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Sn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ht]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||KT(i.nodeValue,o)),i||pa(r)}else i=Yh(i).createTextNode(u),i[Ht]=r,r.stateNode=i}return yt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Hl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ht]=r}else Gl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),f=!1}else f=Dv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Ts(r),r):(Ts(r),null)}if(Ts(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),kh(r,r.updateQueue),yt(r),null;case 4:return ge(),i===null&&_p(r.stateNode.containerInfo),yt(r),null;case 10:return vs(r.type),yt(r),null;case 19:if(oe(Yt),f=r.memoizedState,f===null)return yt(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)ou(f,!1);else{if(Et!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ih(i),g!==null){for(r.flags|=128,ou(f,!1),i=g.updateQueue,r.updateQueue=i,kh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Rv(o,i),o=o.sibling;return le(Yt,Yt.current&1|2),r.child}i=i.sibling}f.tail!==null&&Rt()>Lh&&(r.flags|=128,u=!0,ou(f,!1),r.lanes=4194304)}else{if(!u)if(i=Ih(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,kh(r,i),ou(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!We)return yt(r),null}else 2*Rt()-f.renderingStartTime>Lh&&o!==536870912&&(r.flags|=128,u=!0,ou(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(i=f.last,i!==null?i.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Rt(),r.sibling=null,i=Yt.current,le(Yt,u?i&1|2:i&1),r):(yt(r),null);case 22:case 23:return Ts(r),bm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(yt(r),r.subtreeFlags&6&&(r.flags|=8192)):yt(r),o=r.updateQueue,o!==null&&kh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&oe(va),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),vs($t),yt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function DC(i,r){switch(om(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return vs($t),ge(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ke(r),null;case 13:if(Ts(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Gl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return oe(Yt),null;case 4:return ge(),null;case 10:return vs(r.type),null;case 22:case 23:return Ts(r),bm(),i!==null&&oe(va),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return vs($t),null;case 25:return null;default:return null}}function eT(i,r){switch(om(r),r.tag){case 3:vs($t),ge();break;case 26:case 27:case 5:ke(r);break;case 4:ge();break;case 13:Ts(r);break;case 19:oe(Yt);break;case 10:vs(r.type);break;case 22:case 23:Ts(r),bm(),i!==null&&oe(va);break;case 24:vs($t)}}function lu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,x=o.inst;u=g(),x.destroy=u}o=o.next}while(o!==f)}}catch(w){lt(r,r.return,w)}}function nr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var x=u.inst,w=x.destroy;if(w!==void 0){x.destroy=void 0,f=r;var O=o,G=w;try{G()}catch(ee){lt(f,O,ee)}}}u=u.next}while(u!==g)}}catch(ee){lt(r,r.return,ee)}}function tT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{qv(r,o)}catch(u){lt(i,i.return,u)}}}function nT(i,r,o){o.props=Ta(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){lt(i,r,u)}}function uu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){lt(i,r,f)}}function ki(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){lt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){lt(i,r,f)}else o.current=null}function iT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){lt(i,i.return,f)}}function Qm(i,r,o){try{var u=i.stateNode;ZC(u,i.type,o,r),u[kt]=r}catch(f){lt(i,i.return,f)}}function sT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&cr(i.type)||i.tag===4}function Xm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||sT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&cr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=$h));else if(u!==4&&(u===27&&cr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Wm(i,r,o),i=i.sibling;i!==null;)Wm(i,r,o),i=i.sibling}function Oh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&cr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Oh(i,r,o),i=i.sibling;i!==null;)Oh(i,r,o),i=i.sibling}function rT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);ln(r,u,o),r[Ht]=i,r[kt]=o}catch(g){lt(i,i.return,g)}}var xs=!1,It=!1,Zm=!1,aT=typeof WeakSet=="function"?WeakSet:Set,en=null;function MC(i,r){if(i=i.containerInfo,Ep=ef,i=yv(i),Xd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,w=-1,O=-1,G=0,ee=0,re=i,$=null;t:for(;;){for(var X;re!==o||f!==0&&re.nodeType!==3||(w=x+f),re!==g||u!==0&&re.nodeType!==3||(O=x+u),re.nodeType===3&&(x+=re.nodeValue.length),(X=re.firstChild)!==null;)$=re,re=X;for(;;){if(re===i)break t;if($===o&&++G===f&&(w=x),$===g&&++ee===u&&(O=x),(X=re.nextSibling)!==null)break;re=$,$=re.parentNode}re=X}o=w===-1||O===-1?null:{start:w,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(xp={focusedElem:i,selectionRange:o},ef=!1,en=r;en!==null;)if(r=en,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,en=i;else for(;en!==null;){switch(r=en,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ie=Ta(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Ie,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Se){lt(o,o.return,Se)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Ap(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ap(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,en=i;break}en=r.return}}function oT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ir(i,o),u&4&&lu(5,o);break;case 1:if(ir(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(x){lt(o,o.return,x)}else{var f=Ta(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(x){lt(o,o.return,x)}}u&64&&tT(o),u&512&&uu(o,o.return);break;case 3:if(ir(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{qv(i,r)}catch(x){lt(o,o.return,x)}}break;case 27:r===null&&u&4&&rT(o);case 26:case 5:ir(i,o),r===null&&u&4&&iT(o),u&512&&uu(o,o.return);break;case 12:ir(i,o);break;case 13:ir(i,o),u&4&&cT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=zC.bind(null,o),r2(i,o))));break;case 22:if(u=o.memoizedState!==null||xs,!u){r=r!==null&&r.memoizedState!==null||It,f=xs;var g=It;xs=u,(It=r)&&!g?sr(i,o,(o.subtreeFlags&8772)!==0):ir(i,o),xs=f,It=g}break;case 30:break;default:ir(i,o)}}function lT(i){var r=i.alternate;r!==null&&(i.alternate=null,lT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Gs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var mt=null,Cn=!1;function ws(i,r,o){for(o=o.child;o!==null;)uT(i,r,o),o=o.sibling}function uT(i,r,o){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Tt,o)}catch{}switch(o.tag){case 26:It||ki(o,r),ws(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:It||ki(o,r);var u=mt,f=Cn;cr(o.type)&&(mt=o.stateNode,Cn=!1),ws(i,r,o),vu(o.stateNode),mt=u,Cn=f;break;case 5:It||ki(o,r);case 6:if(u=mt,f=Cn,mt=null,ws(i,r,o),mt=u,Cn=f,mt!==null)if(Cn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(g){lt(o,r,g)}else try{mt.removeChild(o.stateNode)}catch(g){lt(o,r,g)}break;case 18:mt!==null&&(Cn?(i=mt,WT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Au(i)):WT(mt,o.stateNode));break;case 4:u=mt,f=Cn,mt=o.stateNode.containerInfo,Cn=!0,ws(i,r,o),mt=u,Cn=f;break;case 0:case 11:case 14:case 15:It||nr(2,o,r),It||nr(4,o,r),ws(i,r,o);break;case 1:It||(ki(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&nT(o,r,u)),ws(i,r,o);break;case 21:ws(i,r,o);break;case 22:It=(u=It)||o.memoizedState!==null,ws(i,r,o),It=u;break;default:ws(i,r,o)}}function cT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Au(i)}catch(o){lt(r,r.return,o)}}function VC(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new aT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new aT),r;default:throw Error(s(435,i.tag))}}function Jm(i,r){var o=VC(i);r.forEach(function(u){var f=qC.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function Ln(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,x=r,w=x;e:for(;w!==null;){switch(w.tag){case 27:if(cr(w.type)){mt=w.stateNode,Cn=!1;break e}break;case 5:mt=w.stateNode,Cn=!1;break e;case 3:case 4:mt=w.stateNode.containerInfo,Cn=!0;break e}w=w.return}if(mt===null)throw Error(s(160));uT(g,x,f),mt=null,Cn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)hT(r,i),r=r.sibling}var mi=null;function hT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ln(r,i),Un(i),u&4&&(nr(3,i,i.return),lu(3,i),nr(5,i,i.return));break;case 1:Ln(r,i),Un(i),u&512&&(It||o===null||ki(o,o.return)),u&64&&xs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=mi;if(Ln(r,i),Un(i),u&512&&(It||o===null||ki(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Qr]||g[Ht]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),ln(g,u,o),g[Ht]=i,Ct(g),u=g;break e;case"link":var x=rb("link","href",f).get(u+(o.href||""));if(x){for(var w=0;w<x.length;w++)if(g=x[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(w,1);break t}}g=f.createElement(u),ln(g,u,o),f.head.appendChild(g);break;case"meta":if(x=rb("meta","content",f).get(u+(o.content||""))){for(w=0;w<x.length;w++)if(g=x[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(w,1);break t}}g=f.createElement(u),ln(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[Ht]=i,Ct(g),u=g}i.stateNode=u}else ab(f,i.type,i.stateNode);else i.stateNode=sb(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?ab(f,i.type,i.stateNode):sb(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Qm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ln(r,i),Un(i),u&512&&(It||o===null||ki(o,o.return)),o!==null&&u&4&&Qm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ln(r,i),Un(i),u&512&&(It||o===null||ki(o,o.return)),i.flags&32){f=i.stateNode;try{Yn(f,"")}catch(X){lt(i,i.return,X)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Qm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Zm=!0);break;case 6:if(Ln(r,i),Un(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(X){lt(i,i.return,X)}}break;case 3:if(Wh=null,f=mi,mi=Qh(r.containerInfo),Ln(r,i),mi=f,Un(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Au(r.containerInfo)}catch(X){lt(i,i.return,X)}Zm&&(Zm=!1,fT(i));break;case 4:u=mi,mi=Qh(i.stateNode.containerInfo),Ln(r,i),Un(i),mi=u;break;case 12:Ln(r,i),Un(i);break;case 13:Ln(r,i),Un(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(rp=Rt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Jm(i,u)));break;case 22:f=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,G=xs,ee=It;if(xs=G||f,It=ee||O,Ln(r,i),It=ee,xs=G,Un(i),u&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||xs||It||ba(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(g=O.stateNode,f)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{w=O.stateNode;var re=O.memoizedProps.style,$=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(X){lt(O,O.return,X)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(X){lt(O,O.return,X)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Jm(i,o))));break;case 19:Ln(r,i),Un(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Jm(i,u)));break;case 30:break;case 21:break;default:Ln(r,i),Un(i)}}function Un(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(sT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Xm(i);Oh(i,g,f);break;case 5:var x=o.stateNode;o.flags&32&&(Yn(x,""),o.flags&=-33);var w=Xm(i);Oh(i,w,x);break;case 3:case 4:var O=o.stateNode.containerInfo,G=Xm(i);Wm(i,G,O);break;default:throw Error(s(161))}}catch(ee){lt(i,i.return,ee)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function fT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;fT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ir(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)oT(i,r.alternate,r),r=r.sibling}function ba(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:nr(4,r,r.return),ba(r);break;case 1:ki(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&nT(r,r.return,o),ba(r);break;case 27:vu(r.stateNode);case 26:case 5:ki(r,r.return),ba(r);break;case 22:r.memoizedState===null&&ba(r);break;case 30:ba(r);break;default:ba(r)}i=i.sibling}}function sr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,x=g.flags;switch(g.tag){case 0:case 11:case 15:sr(f,g,o),lu(4,g);break;case 1:if(sr(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){lt(u,u.return,G)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)zv(O[f],w)}catch(G){lt(u,u.return,G)}}o&&x&64&&tT(g),uu(g,g.return);break;case 27:rT(g);case 26:case 5:sr(f,g,o),o&&u===null&&x&4&&iT(g),uu(g,g.return);break;case 12:sr(f,g,o);break;case 13:sr(f,g,o),o&&x&4&&cT(f,g);break;case 22:g.memoizedState===null&&sr(f,g,o),uu(g,g.return);break;case 30:break;default:sr(f,g,o)}r=r.sibling}}function ep(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Yl(o))}function tp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Yl(i))}function Oi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dT(i,r,o,u),r=r.sibling}function dT(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Oi(i,r,o,u),f&2048&&lu(9,r);break;case 1:Oi(i,r,o,u);break;case 3:Oi(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Yl(i)));break;case 12:if(f&2048){Oi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,x=g.id,w=g.onPostCommit;typeof w=="function"&&w(x,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){lt(r,r.return,O)}}else Oi(i,r,o,u);break;case 13:Oi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,x=r.alternate,r.memoizedState!==null?g._visibility&2?Oi(i,r,o,u):cu(i,r):g._visibility&2?Oi(i,r,o,u):(g._visibility|=2,Eo(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&ep(x,r);break;case 24:Oi(i,r,o,u),f&2048&&tp(r.alternate,r);break;default:Oi(i,r,o,u)}}function Eo(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,x=r,w=o,O=u,G=x.flags;switch(x.tag){case 0:case 11:case 15:Eo(g,x,w,O,f),lu(8,x);break;case 23:break;case 22:var ee=x.stateNode;x.memoizedState!==null?ee._visibility&2?Eo(g,x,w,O,f):cu(g,x):(ee._visibility|=2,Eo(g,x,w,O,f)),f&&G&2048&&ep(x.alternate,x);break;case 24:Eo(g,x,w,O,f),f&&G&2048&&tp(x.alternate,x);break;default:Eo(g,x,w,O,f)}r=r.sibling}}function cu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:cu(o,u),f&2048&&ep(u.alternate,u);break;case 24:cu(o,u),f&2048&&tp(u.alternate,u);break;default:cu(o,u)}r=r.sibling}}var hu=8192;function xo(i){if(i.subtreeFlags&hu)for(i=i.child;i!==null;)mT(i),i=i.sibling}function mT(i){switch(i.tag){case 26:xo(i),i.flags&hu&&i.memoizedState!==null&&v2(mi,i.memoizedState,i.memoizedProps);break;case 5:xo(i);break;case 3:case 4:var r=mi;mi=Qh(i.stateNode.containerInfo),xo(i),mi=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=hu,hu=16777216,xo(i),hu=r):xo(i));break;default:xo(i)}}function pT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function fu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];en=u,yT(u,i)}pT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gT(i),i=i.sibling}function gT(i){switch(i.tag){case 0:case 11:case 15:fu(i),i.flags&2048&&nr(9,i,i.return);break;case 3:fu(i);break;case 12:fu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,jh(i)):fu(i);break;default:fu(i)}}function jh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];en=u,yT(u,i)}pT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:nr(8,r,r.return),jh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,jh(r));break;default:jh(r)}i=i.sibling}}function yT(i,r){for(;en!==null;){var o=en;switch(o.tag){case 0:case 11:case 15:nr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,en=u;else e:for(o=i;en!==null;){u=en;var f=u.sibling,g=u.return;if(lT(u),u===o){en=null;break e}if(f!==null){f.return=g,en=f;break e}en=g}}}var PC={getCacheForType:function(i){var r=pn($t),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},kC=typeof WeakMap=="function"?WeakMap:Map,tt=0,ut=null,Ue=null,Ke=0,nt=0,Bn=null,rr=!1,wo=!1,np=!1,Ss=0,Et=0,ar=0,Ea=0,ip=0,ii=0,So=0,du=null,Nn=null,sp=!1,rp=0,Lh=1/0,Uh=null,or=null,on=0,lr=null,Ao=null,Ro=0,ap=0,op=null,vT=null,mu=0,lp=null;function zn(){if((tt&2)!==0&&Ke!==0)return Ke&-Ke;if(Q.T!==null){var i=mo;return i!==0?i:pp()}return Fs()}function _T(){ii===0&&(ii=(Ke&536870912)===0||We?xl():536870912);var i=ni.current;return i!==null&&(i.flags|=32),ii}function qn(i,r,o){(i===ut&&(nt===2||nt===9)||i.cancelPendingCommit!==null)&&(Co(i,0),ur(i,Ke,ii,!1)),is(i,o),((tt&2)===0||i!==ut)&&(i===ut&&((tt&2)===0&&(Ea|=o),Et===4&&ur(i,Ke,ii,!1)),ji(i))}function TT(i,r,o){if((tt&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Yr(i,r),f=u?LC(i,r):hp(i,r,!0),g=u;do{if(f===0){wo&&!u&&ur(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!OC(o)){f=hp(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var w=i;f=du;var O=w.current.memoizedState.isDehydrated;if(O&&(Co(w,x).flags|=256),x=hp(w,x,!1),x!==2){if(np&&!O){w.errorRecoveryDisabledLanes|=g,Ea|=g,f=4;break e}g=Nn,Nn=f,g!==null&&(Nn===null?Nn=g:Nn.push.apply(Nn,g))}f=x}if(g=!1,f!==2)continue}}if(f===1){Co(i,0),ur(i,r,0,!0);break}e:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ur(u,r,ii,!rr);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=rp+300-Rt(),10<f)){if(ur(u,r,ii,!rr),Ha(u,0,!0)!==0)break e;u.timeoutHandle=QT(bT.bind(null,u,o,Nn,Uh,sp,r,ii,Ea,So,rr,g,2,-0,0),f);break e}bT(u,o,Nn,Uh,sp,r,ii,Ea,So,rr,g,0,-0,0)}}break}while(!0);ji(i)}function bT(i,r,o,u,f,g,x,w,O,G,ee,re,$,X){if(i.timeoutHandle=-1,re=r.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(bu={stylesheets:null,count:0,unsuspend:y2},mT(r),re=_2(),re!==null)){i.cancelPendingCommit=re(CT.bind(null,i,r,g,o,u,f,x,w,O,ee,1,$,X)),ur(i,g,x,!G);return}CT(i,r,g,o,u,f,x,w,O)}function OC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!On(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ur(i,r,o,u){r&=~ip,r&=~Ea,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-mn(f),x=1<<g;u[g]=-1,f&=~x}o!==0&&Ei(i,o,r)}function Bh(){return(tt&6)===0?(pu(0),!1):!0}function up(){if(Ue!==null){if(nt===0)var i=Ue.return;else i=Ue,ys=ga=null,Am(i),To=null,ru=0,i=Ue;for(;i!==null;)eT(i.alternate,i),i=i.return;Ue=null}}function Co(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,e2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),up(),ut=i,Ue=o=ms(i.current,null),Ke=r,nt=0,Bn=null,rr=!1,wo=Yr(i,r),np=!1,So=ii=ip=Ea=ar=Et=0,Nn=du=null,sp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-mn(u),g=1<<f;r|=i[f],u&=~g}return Ss=r,lh(),o}function ET(i,r){Oe=null,Q.H=Rh,r===Xl||r===yh?(r=Uv(),nt=3):r===Ov?(r=Uv(),nt=4):nt=r===B_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Ue===null&&(Et=1,Mh(i,Zn(r,i.current)))}function xT(){var i=Q.H;return Q.H=Rh,i===null?Rh:i}function wT(){var i=Q.A;return Q.A=PC,i}function cp(){Et=4,rr||(Ke&4194048)!==Ke&&ni.current!==null||(wo=!0),(ar&134217727)===0&&(Ea&134217727)===0||ut===null||ur(ut,Ke,ii,!1)}function hp(i,r,o){var u=tt;tt|=2;var f=xT(),g=wT();(ut!==i||Ke!==r)&&(Uh=null,Co(i,r)),r=!1;var x=Et;e:do try{if(nt!==0&&Ue!==null){var w=Ue,O=Bn;switch(nt){case 8:up(),x=6;break e;case 3:case 2:case 9:case 6:ni.current===null&&(r=!0);var G=nt;if(nt=0,Bn=null,No(i,w,O,G),o&&wo){x=0;break e}break;default:G=nt,nt=0,Bn=null,No(i,w,O,G)}}jC(),x=Et;break}catch(ee){ET(i,ee)}while(!0);return r&&i.shellSuspendCounter++,ys=ga=null,tt=u,Q.H=f,Q.A=g,Ue===null&&(ut=null,Ke=0,lh()),x}function jC(){for(;Ue!==null;)ST(Ue)}function LC(i,r){var o=tt;tt|=2;var u=xT(),f=wT();ut!==i||Ke!==r?(Uh=null,Lh=Rt()+500,Co(i,r)):wo=Yr(i,r);e:do try{if(nt!==0&&Ue!==null){r=Ue;var g=Bn;t:switch(nt){case 1:nt=0,Bn=null,No(i,r,g,1);break;case 2:case 9:if(jv(g)){nt=0,Bn=null,AT(r);break}r=function(){nt!==2&&nt!==9||ut!==i||(nt=7),ji(i)},g.then(r,r);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:jv(g)?(nt=0,Bn=null,AT(r)):(nt=0,Bn=null,No(i,r,g,7));break;case 5:var x=null;switch(Ue.tag){case 26:x=Ue.memoizedState;case 5:case 27:var w=Ue;if(!x||ob(x)){nt=0,Bn=null;var O=w.sibling;if(O!==null)Ue=O;else{var G=w.return;G!==null?(Ue=G,zh(G)):Ue=null}break t}}nt=0,Bn=null,No(i,r,g,5);break;case 6:nt=0,Bn=null,No(i,r,g,6);break;case 8:up(),Et=6;break e;default:throw Error(s(462))}}UC();break}catch(ee){ET(i,ee)}while(!0);return ys=ga=null,Q.H=u,Q.A=f,tt=o,Ue!==null?0:(ut=null,Ke=0,lh(),Et)}function UC(){for(;Ue!==null&&!Pt();)ST(Ue)}function ST(i){var r=Z_(i.alternate,i,Ss);i.memoizedProps=i.pendingProps,r===null?zh(i):Ue=r}function AT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=K_(o,r,r.pendingProps,r.type,void 0,Ke);break;case 11:r=K_(o,r,r.pendingProps,r.type.render,r.ref,Ke);break;case 5:Am(r);default:eT(o,r),r=Ue=Rv(r,Ss),r=Z_(o,r,Ss)}i.memoizedProps=i.pendingProps,r===null?zh(i):Ue=r}function No(i,r,o,u){ys=ga=null,Am(r),To=null,ru=0;var f=r.return;try{if(CC(i,f,r,o,Ke)){Et=1,Mh(i,Zn(o,i.current)),Ue=null;return}}catch(g){if(f!==null)throw Ue=f,g;Et=1,Mh(i,Zn(o,i.current)),Ue=null;return}r.flags&32768?(We||u===1?i=!0:wo||(Ke&536870912)!==0?i=!1:(rr=i=!0,(u===2||u===9||u===3||u===6)&&(u=ni.current,u!==null&&u.tag===13&&(u.flags|=16384))),RT(r,i)):zh(r)}function zh(i){var r=i;do{if((r.flags&32768)!==0){RT(r,rr);return}i=r.return;var o=IC(r.alternate,r,Ss);if(o!==null){Ue=o;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=i}while(r!==null);Et===0&&(Et=5)}function RT(i,r){do{var o=DC(i.alternate,i);if(o!==null){o.flags&=32767,Ue=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ue=i;return}Ue=i=o}while(i!==null);Et=6,Ue=null}function CT(i,r,o,u,f,g,x,w,O){i.cancelPendingCommit=null;do qh();while(on!==0);if((tt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=tm,Sl(i,o,g,x,w,O),i===ut&&(Ue=ut=null,Ke=0),Ao=r,lr=i,Ro=o,ap=g,op=f,vT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,FC(Kn,function(){return VT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,f=se.p,se.p=2,x=tt,tt|=4;try{MC(i,r,o)}finally{tt=x,se.p=f,Q.T=u}}on=1,NT(),IT(),DT()}}function NT(){if(on===1){on=0;var i=lr,r=Ao,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=se.p;se.p=2;var f=tt;tt|=4;try{hT(r,i);var g=xp,x=yv(i.containerInfo),w=g.focusedElem,O=g.selectionRange;if(x!==w&&w&&w.ownerDocument&&gv(w.ownerDocument.documentElement,w)){if(O!==null&&Xd(w)){var G=O.start,ee=O.end;if(ee===void 0&&(ee=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(ee,w.value.length);else{var re=w.ownerDocument||document,$=re&&re.defaultView||window;if($.getSelection){var X=$.getSelection(),Ie=w.textContent.length,Se=Math.min(O.start,Ie),at=O.end===void 0?Se:Math.min(O.end,Ie);!X.extend&&Se>at&&(x=at,at=Se,Se=x);var q=pv(w,Se),z=pv(w,at);if(q&&z&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var H=re.createRange();H.setStart(q.node,q.offset),X.removeAllRanges(),Se>at?(X.addRange(H),X.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),X.addRange(H))}}}}for(re=[],X=w;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var ie=re[w];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}ef=!!Ep,xp=Ep=null}finally{tt=f,se.p=u,Q.T=o}}i.current=r,on=2}}function IT(){if(on===2){on=0;var i=lr,r=Ao,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=se.p;se.p=2;var f=tt;tt|=4;try{oT(i,r.alternate,r)}finally{tt=f,se.p=u,Q.T=o}}on=3}}function DT(){if(on===4||on===3){on=0,dn();var i=lr,r=Ao,o=Ro,u=vT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?on=5:(on=0,Ao=lr=null,MT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(or=null),Ga(o),r=r.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Tt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Q.T,f=se.p,se.p=2,Q.T=null;try{for(var g=i.onRecoverableError,x=0;x<u.length;x++){var w=u[x];g(w.value,{componentStack:w.stack})}}finally{Q.T=r,se.p=f}}(Ro&3)!==0&&qh(),ji(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===lp?mu++:(mu=0,lp=i):mu=0,pu(0)}}function MT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Yl(r)))}function qh(i){return NT(),IT(),DT(),VT()}function VT(){if(on!==5)return!1;var i=lr,r=ap;ap=0;var o=Ga(Ro),u=Q.T,f=se.p;try{se.p=32>o?32:o,Q.T=null,o=op,op=null;var g=lr,x=Ro;if(on=0,Ao=lr=null,Ro=0,(tt&6)!==0)throw Error(s(331));var w=tt;if(tt|=4,gT(g.current),dT(g,g.current,x,o),tt=w,pu(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Tt,g)}catch{}return!0}finally{se.p=f,Q.T=u,MT(i,r)}}function PT(i,r,o){r=Zn(o,r),r=Bm(i.stateNode,r,2),i=Zs(i,r,2),i!==null&&(is(i,2),ji(i))}function lt(i,r,o){if(i.tag===3)PT(i,i,o);else for(;r!==null;){if(r.tag===3){PT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(or===null||!or.has(u))){i=Zn(o,i),o=L_(2),u=Zs(r,o,2),u!==null&&(U_(o,u,r,i),is(u,2),ji(u));break}}r=r.return}}function fp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new kC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(np=!0,f.add(o),i=BC.bind(null,i,r,o),r.then(i,i))}function BC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ut===i&&(Ke&o)===o&&(Et===4||Et===3&&(Ke&62914560)===Ke&&300>Rt()-rp?(tt&2)===0&&Co(i,0):ip|=o,So===Ke&&(So=0)),ji(i)}function kT(i,r){r===0&&(r=wl()),i=uo(i,r),i!==null&&(is(i,r),ji(i))}function zC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),kT(i,o)}function qC(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),kT(i,o)}function FC(i,r){return St(i,r)}var Fh=null,Io=null,dp=!1,Hh=!1,mp=!1,xa=0;function ji(i){i!==Io&&i.next===null&&(Io===null?Fh=Io=i:Io=Io.next=i),Hh=!0,dp||(dp=!0,GC())}function pu(i,r){if(!mp&&Hh){mp=!0;do for(var o=!1,u=Fh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var x=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-mn(42|i)+1)-1,g&=f&~(x&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,UT(u,g))}else g=Ke,g=Ha(u,u===ut?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Yr(u,g)||(o=!0,UT(u,g));u=u.next}while(o);mp=!1}}function HC(){OT()}function OT(){Hh=dp=!1;var i=0;xa!==0&&(JC()&&(i=xa),xa=0);for(var r=Rt(),o=null,u=Fh;u!==null;){var f=u.next,g=jT(u,r);g===0?(u.next=null,o===null?Fh=f:o.next=f,f===null&&(Io=o)):(o=u,(i!==0||(g&3)!==0)&&(Hh=!0)),u=f}pu(i)}function jT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var x=31-mn(g),w=1<<x,O=f[x];O===-1?((w&o)===0||(w&u)!==0)&&(f[x]=El(w,r)):O<=r&&(i.expiredLanes|=w),g&=~w}if(r=ut,o=Ke,o=Ha(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(nt===2||nt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&At(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Yr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&At(u),Ga(o)){case 2:case 8:o=Fr;break;case 32:o=Kn;break;case 268435456:o=Hr;break;default:o=Kn}return u=LT.bind(null,i),o=St(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&At(u),i.callbackPriority=2,i.callbackNode=null,2}function LT(i,r){if(on!==0&&on!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(qh()&&i.callbackNode!==o)return null;var u=Ke;return u=Ha(i,i===ut?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(TT(i,u,r),jT(i,Rt()),i.callbackNode!=null&&i.callbackNode===o?LT.bind(null,i):null)}function UT(i,r){if(qh())return null;TT(i,r,!0)}function GC(){t2(function(){(tt&6)!==0?St(qr,HC):OT()})}function pp(){return xa===0&&(xa=xl()),xa}function BT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Wa(""+i)}function zT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function KC(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=BT((f[kt]||null).action),x=u.submitter;x&&(r=(r=x[kt]||null)?BT(r.formAction):x.getAttribute("formAction"),r!==null&&(g=r,x=null));var w=new Za("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(xa!==0){var O=x?zT(f,x):new FormData(f);km(o,{pending:!0,data:O,method:f.method,action:g},null,O)}}else typeof g=="function"&&(w.preventDefault(),O=x?zT(f,x):new FormData(f),km(o,{pending:!0,data:O,method:f.method,action:g},g,O))},currentTarget:f}]})}}for(var gp=0;gp<em.length;gp++){var yp=em[gp],$C=yp.toLowerCase(),YC=yp[0].toUpperCase()+yp.slice(1);di($C,"on"+YC)}di(Tv,"onAnimationEnd"),di(bv,"onAnimationIteration"),di(Ev,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(hC,"onTransitionRun"),di(fC,"onTransitionStart"),di(dC,"onTransitionCancel"),di(xv,"onTransitionEnd"),rs("onMouseEnter",["mouseout","mouseover"]),rs("onMouseLeave",["mouseout","mouseover"]),rs("onPointerEnter",["pointerout","pointerover"]),rs("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function qT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var x=u.length-1;0<=x;x--){var w=u[x],O=w.instance,G=w.currentTarget;if(w=w.listener,O!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=G;try{g(f)}catch(ee){Dh(ee)}f.currentTarget=null,g=O}else for(x=0;x<u.length;x++){if(w=u[x],O=w.instance,G=w.currentTarget,w=w.listener,O!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=G;try{g(f)}catch(ee){Dh(ee)}f.currentTarget=null,g=O}}}}function Be(i,r){var o=r[Rl];o===void 0&&(o=r[Rl]=new Set);var u=i+"__bubble";o.has(u)||(FT(r,i,2,!1),o.add(u))}function vp(i,r,o){var u=0;r&&(u|=4),FT(o,i,u,r)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function _p(i){if(!i[Gh]){i[Gh]=!0,Cl.forEach(function(o){o!=="selectionchange"&&(QC.has(o)||vp(o,!1,i),vp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Gh]||(r[Gh]=!0,vp("selectionchange",!1,r))}}function FT(i,r,o,u){switch(db(r)){case 2:var f=E2;break;case 8:f=x2;break;default:f=Vp}o=f.bind(null,r,o,i),f=void 0,!Xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Tp(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var w=u.stateNode.containerInfo;if(w===f)break;if(x===4)for(x=u.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;w!==null;){if(x=ss(w),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){u=g=x;continue e}w=w.parentNode}}u=u.return}$c(function(){var G=g,ee=Qn(o),re=[];e:{var $=wv.get(i);if($!==void 0){var X=Za,Ie=i;switch(i){case"keypress":if(Ci(o)===0)break e;case"keydown":case"keyup":X=so;break;case"focusin":Ie="focus",X=to;break;case"focusout":Ie="blur",X=to;break;case"beforeblur":case"afterblur":X=to;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=th;break;case Tv:case bv:case Ev:X=no;break;case xv:X=ih;break;case"scroll":case"scrollend":X=Yc;break;case"wheel":X=ro;break;case"copy":case"cut":case"paste":X=io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Bl;break;case"toggle":case"beforetoggle":X=rh}var Se=(r&4)!==0,at=!Se&&(i==="scroll"||i==="scrollend"),q=Se?$!==null?$+"Capture":null:$;Se=[];for(var z=G,H;z!==null;){var ie=z;if(H=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||H===null||q===null||(ie=na(z,q),ie!=null&&Se.push(yu(z,ie,H))),at)break;z=z.return}0<Se.length&&($=new X($,Ie,null,o,ee),re.push({event:$,listeners:Se}))}}if((r&7)===0){e:{if($=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",$&&o!==ls&&(Ie=o.relatedTarget||o.fromElement)&&(ss(Ie)||Ie[$n]))break e;if((X||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,X?(Ie=o.relatedTarget||o.toElement,X=G,Ie=Ie?ss(Ie):null,Ie!==null&&(at=l(Ie),Se=Ie.tag,Ie!==at||Se!==5&&Se!==27&&Se!==6)&&(Ie=null)):(X=null,Ie=G),X!==Ie)){if(Se=Wn,ie="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Se=Bl,ie="onPointerLeave",q="onPointerEnter",z="pointer"),at=X==null?$:wi(X),H=Ie==null?$:wi(Ie),$=new Se(ie,z+"leave",X,o,ee),$.target=at,$.relatedTarget=H,ie=null,ss(ee)===G&&(Se=new Se(q,z+"enter",Ie,o,ee),Se.target=H,Se.relatedTarget=at,ie=Se),at=ie,X&&Ie)t:{for(Se=X,q=Ie,z=0,H=Se;H;H=Do(H))z++;for(H=0,ie=q;ie;ie=Do(ie))H++;for(;0<z-H;)Se=Do(Se),z--;for(;0<H-z;)q=Do(q),H--;for(;z--;){if(Se===q||q!==null&&Se===q.alternate)break t;Se=Do(Se),q=Do(q)}Se=null}else Se=null;X!==null&&HT(re,$,X,Se,!1),Ie!==null&&at!==null&&HT(re,at,Ie,Se,!0)}}e:{if($=G?wi(G):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var ve=uv;else if(Kt($))if(cv)ve=lC;else{ve=aC;var Le=rC}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&Vl(G.elementType)&&(ve=uv):ve=oC;if(ve&&(ve=ve(i,G))){ds(re,ve,o,ee);break e}Le&&Le(i,$,G),i==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&$s($,"number",$.value)}switch(Le=G?wi(G):window,i){case"focusin":(Kt(Le)||Le.contentEditable==="true")&&(ao=Le,Wd=G,Fl=null);break;case"focusout":Fl=Wd=ao=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,vv(re,o,ee);break;case"selectionchange":if(cC)break;case"keydown":case"keyup":vv(re,o,ee)}var be;if(Di)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else He?J(i,o)&&(Ae="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(b&&o.locale!=="ko"&&(He||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&He&&(be=kl()):(Ri=ee,Ys="value"in Ri?Ri.value:Ri.textContent,He=!0)),Le=Kh(G,Ae),0<Le.length&&(Ae=new Ll(Ae,i,null,o,ee),re.push({event:Ae,listeners:Le}),be?Ae.data=be:(be=he(o),be!==null&&(Ae.data=be)))),(be=v?Gt(i,o):Ge(i,o))&&(Ae=Kh(G,"onBeforeInput"),0<Ae.length&&(Le=new Ll("onBeforeInput","beforeinput",null,o,ee),re.push({event:Le,listeners:Ae}),Le.data=be)),KC(re,i,G,o,ee)}qT(re,r)})}function yu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Kh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=na(i,o),f!=null&&u.unshift(yu(i,f,g)),f=na(i,r),f!=null&&u.push(yu(i,f,g))),i.tag===3)return u;i=i.return}return[]}function Do(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function HT(i,r,o,u,f){for(var g=r._reactName,x=[];o!==null&&o!==u;){var w=o,O=w.alternate,G=w.stateNode;if(w=w.tag,O!==null&&O===u)break;w!==5&&w!==26&&w!==27||G===null||(O=G,f?(G=na(o,g),G!=null&&x.unshift(yu(o,G,O))):f||(G=na(o,g),G!=null&&x.push(yu(o,G,O)))),o=o.return}x.length!==0&&i.push({event:r,listeners:x})}var XC=/\r\n?/g,WC=/\u0000|\uFFFD/g;function GT(i){return(typeof i=="string"?i:""+i).replace(XC,`
`).replace(WC,"")}function KT(i,r){return r=GT(r),GT(i)===r}function $h(){}function rt(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Yn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Yn(i,""+u);break;case"className":Si(i,"class",u);break;case"tabIndex":Si(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(i,o,u);break;case"style":Ml(i,u,g);break;case"data":if(r!=="object"){Si(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Wa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&rt(i,r,"name",f.name,f,null),rt(i,r,"formEncType",f.formEncType,f,null),rt(i,r,"formMethod",f.formMethod,f,null),rt(i,r,"formTarget",f.formTarget,f,null)):(rt(i,r,"encType",f.encType,f,null),rt(i,r,"method",f.method,f,null),rt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Wa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=$h);break;case"onScroll":u!=null&&Be("scroll",i);break;case"onScrollEnd":u!=null&&Be("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Wa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Be("beforetoggle",i),Be("toggle",i),Ks(i,"popover",u);break;case"xlinkActuate":sn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":sn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":sn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":sn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":sn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":sn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":sn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":sn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":sn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ks(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Hd.get(o)||o,Ks(i,o,u))}}function bp(i,r,o,u,f,g){switch(o){case"style":Ml(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Yn(i,u):(typeof u=="number"||typeof u=="bigint")&&Yn(i,""+u);break;case"onScroll":u!=null&&Be("scroll",i);break;case"onScrollEnd":u!=null&&Be("scrollend",i);break;case"onClick":u!=null&&(i.onclick=$h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ka.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[kt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ks(i,o,u)}}}function ln(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",i),Be("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(i,r,g,x,o,null)}}f&&rt(i,r,"srcSet",o.srcSet,o,null),u&&rt(i,r,"src",o.src,o,null);return;case"input":Be("invalid",i);var w=g=x=f=null,O=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":f=ee;break;case"type":x=ee;break;case"checked":O=ee;break;case"defaultChecked":G=ee;break;case"value":g=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:rt(i,r,u,ee,o,null)}}Jr(i,g,w,O,G,x,f,!1),Xa(i);return;case"select":Be("invalid",i),u=x=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":x=w;break;case"multiple":u=w;default:rt(i,r,f,w,o,null)}r=g,o=x,i.multiple=!!u,r!=null?os(i,!!u,r,!1):o!=null&&os(i,!!u,o,!0);return;case"textarea":Be("invalid",i),g=f=u=null;for(x in o)if(o.hasOwnProperty(x)&&(w=o[x],w!=null))switch(x){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:rt(i,r,x,w,o,null)}ea(i,u,f,g),Xa(i);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:rt(i,r,O,u,o,null)}return;case"dialog":Be("beforetoggle",i),Be("toggle",i),Be("cancel",i),Be("close",i);break;case"iframe":case"object":Be("load",i);break;case"video":case"audio":for(u=0;u<gu.length;u++)Be(gu[u],i);break;case"image":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"embed":case"source":case"link":Be("error",i),Be("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(i,r,G,u,o,null)}return;default:if(Vl(r)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&bp(i,r,ee,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&rt(i,r,w,u,o,null))}function ZC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,x=null,w=null,O=null,G=null,ee=null;for(X in o){var re=o[X];if(o.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=re;default:u.hasOwnProperty(X)||rt(i,r,X,null,u,re)}}for(var $ in u){var X=u[$];if(re=o[$],u.hasOwnProperty($)&&(X!=null||re!=null))switch($){case"type":g=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":ee=X;break;case"value":x=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==re&&rt(i,r,$,X,u,re)}}kn(i,x,w,O,G,ee,g,f);return;case"select":X=x=w=$=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":X=O;default:u.hasOwnProperty(g)||rt(i,r,g,null,u,O)}for(f in u)if(g=u[f],O=o[f],u.hasOwnProperty(f)&&(g!=null||O!=null))switch(f){case"value":$=g;break;case"defaultValue":w=g;break;case"multiple":x=g;default:g!==O&&rt(i,r,f,g,u,O)}r=w,o=x,u=X,$!=null?os(i,!!o,$,!1):!!u!=!!o&&(r!=null?os(i,!!o,r,!0):os(i,!!o,o?[]:"",!1));return;case"textarea":X=$=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:rt(i,r,w,null,u,f)}for(x in u)if(f=u[x],g=o[x],u.hasOwnProperty(x)&&(f!=null||g!=null))switch(x){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&rt(i,r,x,f,u,g)}it(i,$,X);return;case"option":for(var Ie in o)if($=o[Ie],o.hasOwnProperty(Ie)&&$!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":i.selected=!1;break;default:rt(i,r,Ie,null,u,$)}for(O in u)if($=u[O],X=o[O],u.hasOwnProperty(O)&&$!==X&&($!=null||X!=null))switch(O){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:rt(i,r,O,$,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)$=o[Se],o.hasOwnProperty(Se)&&$!=null&&!u.hasOwnProperty(Se)&&rt(i,r,Se,null,u,$);for(G in u)if($=u[G],X=o[G],u.hasOwnProperty(G)&&$!==X&&($!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:rt(i,r,G,$,u,X)}return;default:if(Vl(r)){for(var at in o)$=o[at],o.hasOwnProperty(at)&&$!==void 0&&!u.hasOwnProperty(at)&&bp(i,r,at,void 0,u,$);for(ee in u)$=u[ee],X=o[ee],!u.hasOwnProperty(ee)||$===X||$===void 0&&X===void 0||bp(i,r,ee,$,u,X);return}}for(var q in o)$=o[q],o.hasOwnProperty(q)&&$!=null&&!u.hasOwnProperty(q)&&rt(i,r,q,null,u,$);for(re in u)$=u[re],X=o[re],!u.hasOwnProperty(re)||$===X||$==null&&X==null||rt(i,r,re,$,u,X)}var Ep=null,xp=null;function Yh(i){return i.nodeType===9?i:i.ownerDocument}function $T(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function wp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sp=null;function JC(){var i=window.event;return i&&i.type==="popstate"?i===Sp?!1:(Sp=i,!0):(Sp=null,!1)}var QT=typeof setTimeout=="function"?setTimeout:void 0,e2=typeof clearTimeout=="function"?clearTimeout:void 0,XT=typeof Promise=="function"?Promise:void 0,t2=typeof queueMicrotask=="function"?queueMicrotask:typeof XT<"u"?function(i){return XT.resolve(null).then(i).catch(n2)}:QT;function n2(i){setTimeout(function(){throw i})}function cr(i){return i==="head"}function WT(i,r){var o=r,u=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var x=i.ownerDocument;if(o&1&&vu(x.documentElement),o&2&&vu(x.body),o&4)for(o=x.head,vu(o),x=o.firstChild;x;){var w=x.nextSibling,O=x.nodeName;x[Qr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=w}}if(f===0){i.removeChild(g),Au(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Au(r)}function Ap(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ap(o),Gs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function i2(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Qr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=pi(i.nextSibling),i===null)break}return null}function s2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=pi(i.nextSibling),i===null))return null;return i}function Rp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function r2(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function pi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Cp=null;function ZT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function JT(i,r,o){switch(r=Yh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function vu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Gs(i)}var si=new Map,eb=new Set;function Qh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var As=se.d;se.d={f:a2,r:o2,D:l2,C:u2,L:c2,m:h2,X:d2,S:f2,M:m2};function a2(){var i=As.f(),r=Bh();return i||r}function o2(i){var r=xi(i);r!==null&&r.tag===5&&r.type==="form"?T_(r):As.r(i)}var Mo=typeof document>"u"?null:document;function tb(i,r,o){var u=Mo;if(u&&typeof r=="string"&&r){var f=Ot(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),eb.has(f)||(eb.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),ln(r,"link",i),Ct(r),u.head.appendChild(r)))}}function l2(i){As.D(i),tb("dns-prefetch",i,null)}function u2(i,r){As.C(i,r),tb("preconnect",i,r)}function c2(i,r,o){As.L(i,r,o);var u=Mo;if(u&&i&&r){var f='link[rel="preload"][as="'+Ot(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ot(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ot(o.imageSizes)+'"]')):f+='[href="'+Ot(i)+'"]';var g=f;switch(r){case"style":g=Vo(i);break;case"script":g=Po(i)}si.has(g)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),si.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(_u(g))||r==="script"&&u.querySelector(Tu(g))||(r=u.createElement("link"),ln(r,"link",i),Ct(r),u.head.appendChild(r)))}}function h2(i,r){As.m(i,r);var o=Mo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ot(u)+'"][href="'+Ot(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Po(i)}if(!si.has(g)&&(i=y({rel:"modulepreload",href:i},r),si.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Tu(g)))return}u=o.createElement("link"),ln(u,"link",i),Ct(u),o.head.appendChild(u)}}}function f2(i,r,o){As.S(i,r,o);var u=Mo;if(u&&i){var f=En(u).hoistableStyles,g=Vo(i);r=r||"default";var x=f.get(g);if(!x){var w={loading:0,preload:null};if(x=u.querySelector(_u(g)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=si.get(g))&&Np(i,o);var O=x=u.createElement("link");Ct(O),ln(O,"link",i),O._p=new Promise(function(G,ee){O.onload=G,O.onerror=ee}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Xh(x,r,u)}x={type:"stylesheet",instance:x,count:1,state:w},f.set(g,x)}}}function d2(i,r){As.X(i,r);var o=Mo;if(o&&i){var u=En(o).hoistableScripts,f=Po(i),g=u.get(f);g||(g=o.querySelector(Tu(f)),g||(i=y({src:i,async:!0},r),(r=si.get(f))&&Ip(i,r),g=o.createElement("script"),Ct(g),ln(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function m2(i,r){As.M(i,r);var o=Mo;if(o&&i){var u=En(o).hoistableScripts,f=Po(i),g=u.get(f);g||(g=o.querySelector(Tu(f)),g||(i=y({src:i,async:!0,type:"module"},r),(r=si.get(f))&&Ip(i,r),g=o.createElement("script"),Ct(g),ln(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function nb(i,r,o,u){var f=(f=Ee.current)?Qh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Vo(o.href),o=En(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Vo(o.href);var g=En(f).hoistableStyles,x=g.get(i);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,x),(g=f.querySelector(_u(i)))&&!g._p&&(x.instance=g,x.state.loading=5),si.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},si.set(i,o),g||p2(f,i,o,x.state))),r&&u===null)throw Error(s(528,""));return x}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Po(o),o=En(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Vo(i){return'href="'+Ot(i)+'"'}function _u(i){return'link[rel="stylesheet"]['+i+"]"}function ib(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function p2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),ln(r,"link",o),Ct(r),i.head.appendChild(r))}function Po(i){return'[src="'+Ot(i)+'"]'}function Tu(i){return"script[async]"+i}function sb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Ot(o.href)+'"]');if(u)return r.instance=u,Ct(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ct(u),ln(u,"style",f),Xh(u,o.precedence,i),r.instance=u;case"stylesheet":f=Vo(o.href);var g=i.querySelector(_u(f));if(g)return r.state.loading|=4,r.instance=g,Ct(g),g;u=ib(o),(f=si.get(f))&&Np(u,f),g=(i.ownerDocument||i).createElement("link"),Ct(g);var x=g;return x._p=new Promise(function(w,O){x.onload=w,x.onerror=O}),ln(g,"link",u),r.state.loading|=4,Xh(g,o.precedence,i),r.instance=g;case"script":return g=Po(o.src),(f=i.querySelector(Tu(g)))?(r.instance=f,Ct(f),f):(u=o,(f=si.get(g))&&(u=y({},o),Ip(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ct(f),ln(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Xh(u,o.precedence,i));return r.instance}function Xh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,x=0;x<u.length;x++){var w=u[x];if(w.dataset.precedence===r)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Np(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Ip(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Wh=null;function rb(i,r,o){if(Wh===null){var u=new Map,f=Wh=new Map;f.set(o,u)}else f=Wh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Qr]||g[Ht]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(r)||"";x=i+x;var w=u.get(x);w?w.push(g):u.set(x,[g])}}return u}function ab(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function g2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ob(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var bu=null;function y2(){}function v2(i,r,o){if(bu===null)throw Error(s(475));var u=bu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Vo(o.href),g=i.querySelector(_u(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Zh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,Ct(g);return}g=i.ownerDocument||i,o=ib(o),(f=si.get(f))&&Np(o,f),g=g.createElement("link"),Ct(g);var x=g;x._p=new Promise(function(w,O){x.onload=w,x.onerror=O}),ln(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Zh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function _2(){if(bu===null)throw Error(s(475));var i=bu;return i.stylesheets&&i.count===0&&Dp(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Dp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Zh(){if(this.count--,this.count===0){if(this.stylesheets)Dp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Jh=null;function Dp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Jh=new Map,r.forEach(T2,i),Jh=null,Zh.call(i))}function T2(i,r){if(!(r.state.loading&4)){var o=Jh.get(i);if(o)var u=o.get(null);else{o=new Map,Jh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var x=f[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),u=x)}u&&o.set(null,u)}f=r.instance,x=f.getAttribute("data-precedence"),g=o.get(x)||u,g===u&&o.set(null,f),o.set(x,f),this.count++,u=Zh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Eu={$$typeof:K,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function b2(i,r,o,u,f,g,x,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.hiddenUpdates=ns(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function lb(i,r,o,u,f,g,x,w,O,G,ee,re){return i=new b2(i,r,o,x,w,O,G,re),r=1,g===!0&&(r|=24),g=jn(3,null,null,r),i.current=g,g.stateNode=i,r=fm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},gm(g),i}function ub(i){return i?(i=co,i):co}function cb(i,r,o,u,f,g){f=ub(f),u.context===null?u.context=f:u.pendingContext=f,u=Ws(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Zs(i,u,r),o!==null&&(qn(o,i,r),Zl(o,i,r))}function hb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Mp(i,r){hb(i,r),(i=i.alternate)&&hb(i,r)}function fb(i){if(i.tag===13){var r=uo(i,67108864);r!==null&&qn(r,i,67108864),Mp(i,67108864)}}var ef=!0;function E2(i,r,o,u){var f=Q.T;Q.T=null;var g=se.p;try{se.p=2,Vp(i,r,o,u)}finally{se.p=g,Q.T=f}}function x2(i,r,o,u){var f=Q.T;Q.T=null;var g=se.p;try{se.p=8,Vp(i,r,o,u)}finally{se.p=g,Q.T=f}}function Vp(i,r,o,u){if(ef){var f=Pp(u);if(f===null)Tp(i,r,u,tf,o),mb(i,u);else if(S2(f,i,r,o,u))u.stopPropagation();else if(mb(i,u),r&4&&-1<w2.indexOf(i)){for(;f!==null;){var g=xi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=ci(g.pendingLanes);if(x!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;x;){var O=1<<31-mn(x);w.entanglements[1]|=O,x&=~O}ji(g),(tt&6)===0&&(Lh=Rt()+500,pu(0))}}break;case 13:w=uo(g,2),w!==null&&qn(w,g,2),Bh(),Mp(g,2)}if(g=Pp(u),g===null&&Tp(i,r,u,tf,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Tp(i,r,u,null,o)}}function Pp(i){return i=Qn(i),kp(i)}var tf=null;function kp(i){if(tf=null,i=ss(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return tf=i,null}function db(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(es()){case qr:return 2;case Fr:return 8;case Kn:case ts:return 32;case Hr:return 268435456;default:return 32}default:return 32}}var Op=!1,hr=null,fr=null,dr=null,xu=new Map,wu=new Map,mr=[],w2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mb(i,r){switch(i){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":xu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(r.pointerId)}}function Su(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=xi(r),r!==null&&fb(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function S2(i,r,o,u,f){switch(r){case"focusin":return hr=Su(hr,i,r,o,u,f),!0;case"dragenter":return fr=Su(fr,i,r,o,u,f),!0;case"mouseover":return dr=Su(dr,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return xu.set(g,Su(xu.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,wu.set(g,Su(wu.get(g)||null,i,r,o,u,f)),!0}return!1}function pb(i){var r=ss(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Bc(i.priority,function(){if(o.tag===13){var u=zn();u=qs(u);var f=uo(o,u);f!==null&&qn(f,o,u),Mp(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Pp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);ls=u,o.target.dispatchEvent(u),ls=null}else return r=xi(o),r!==null&&fb(r),i.blockedOn=o,!1;r.shift()}return!0}function gb(i,r,o){nf(i)&&o.delete(r)}function A2(){Op=!1,hr!==null&&nf(hr)&&(hr=null),fr!==null&&nf(fr)&&(fr=null),dr!==null&&nf(dr)&&(dr=null),xu.forEach(gb),wu.forEach(gb)}function sf(i,r){i.blockedOn===r&&(i.blockedOn=null,Op||(Op=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,A2)))}var rf=null;function yb(i){rf!==i&&(rf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rf===i&&(rf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(kp(u||o)===null)continue;break}var g=xi(o);g!==null&&(i.splice(r,3),r-=3,km(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Au(i){function r(O){return sf(O,i)}hr!==null&&sf(hr,i),fr!==null&&sf(fr,i),dr!==null&&sf(dr,i),xu.forEach(r),wu.forEach(r);for(var o=0;o<mr.length;o++){var u=mr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<mr.length&&(o=mr[0],o.blockedOn===null);)pb(o),o.blockedOn===null&&mr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],x=f[kt]||null;if(typeof g=="function")x||yb(o);else if(x){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,x=g[kt]||null)w=x.formAction;else if(kp(f)!==null)continue}else w=x.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),yb(o)}}}function jp(i){this._internalRoot=i}af.prototype.render=jp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=zn();cb(o,u,i,r,null,null)},af.prototype.unmount=jp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;cb(i.current,2,null,i,null,null),Bh(),r[$n]=null}};function af(i){this._internalRoot=i}af.prototype.unstable_scheduleHydration=function(i){if(i){var r=Fs();i={blockedOn:null,target:i,priority:r};for(var o=0;o<mr.length&&r!==0&&r<mr[o].priority;o++);mr.splice(o,0,i),o===0&&pb(i)}};var vb=e.version;if(vb!=="19.1.1")throw Error(s(527,vb,"19.1.1"));se.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var R2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{Tt=of.inject(R2),et=of}catch{}}return Cu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=P_,g=k_,x=O_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=lb(i,1,!1,null,null,o,u,f,g,x,w,null),i[$n]=r.current,_p(i),new jp(r)},Cu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=P_,x=k_,w=O_,O=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),r=lb(i,1,!0,r,o??null,u,f,g,x,w,O,G),r.context=ub(null),o=r.current,u=zn(),u=qs(u),f=Ws(u),f.callback=null,Zs(o,f,u),o=u,r.current.lanes=o,is(r,o),ji(r),i[$n]=r.current,_p(i),new af(r)},Cu.version="19.1.1",Cu}var Cb;function j2(){if(Cb)return Bp.exports;Cb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bp.exports=O2(),Bp.exports}var L2=j2();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nb="popstate";function U2(t={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return Ag("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Xu(a)}return z2(e,n,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B2(){return Math.random().toString(36).substring(2,10)}function Ib(t,e){return{usr:t.state,key:t.key,idx:e}}function Ag(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ol(e):e,state:n,key:e&&e.key||s||B2()}}function Xu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ol(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function z2(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function T(){d="POP";let j=y(),U=j==null?null:j-p;p=j,m&&m({action:d,location:I.location,delta:U})}function E(j,U){d="PUSH";let Y=Ag(I.location,j,U);p=y()+1;let K=Ib(Y,p),Z=I.createHref(Y);try{c.pushState(K,"",Z)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(Z)}l&&m&&m({action:d,location:I.location,delta:1})}function C(j,U){d="REPLACE";let Y=Ag(I.location,j,U);p=y();let K=Ib(Y,p),Z=I.createHref(Y);c.replaceState(K,"",Z),l&&m&&m({action:d,location:I.location,delta:0})}function D(j){return q2(j)}let I={get action(){return d},get location(){return t(a,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Nb,T),m=j,()=>{a.removeEventListener(Nb,T),m=null}},createHref(j){return e(a,j)},createURL:D,encodeLocation(j){let U=D(j);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:C,go(j){return c.go(j)}};return I}function q2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Xu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Mw(t,e,n="/"){return F2(t,e,n,!1)}function F2(t,e,n,s){let a=typeof e=="string"?ol(e):e,l=Ms(a.pathname||"/",n);if(l==null)return null;let c=Vw(t);H2(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=tN(l);d=J2(c[m],p,s)}return d}function Vw(t,e=[],n=[],s="",a=!1){let l=(c,d,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;gt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let T=Is([s,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Vw(c.children,e,E,T,m)),!(c.path==null&&!c.index)&&e.push({path:T,score:W2(T,c.index),routesMeta:E})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of Pw(c.path))l(c,d,!0,m)}),e}function Pw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=Pw(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function H2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Z2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var G2=/^:[\w-]+$/,K2=3,$2=2,Y2=1,Q2=10,X2=-2,Db=t=>t==="*";function W2(t,e){let n=t.split("/"),s=n.length;return n.some(Db)&&(s+=X2),e&&(s+=$2),n.filter(a=>!Db(a)).reduce((a,l)=>a+(G2.test(l)?K2:l===""?Y2:Q2),s)}function Z2(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function J2(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",T=Bf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=Bf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:Is([l,T.pathname]),pathnameBase:rN(Is([l,T.pathnameBase])),route:E}),T.pathnameBase!=="/"&&(l=Is([l,T.pathnameBase]))}return c}function Bf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=eN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:T},E)=>{if(y==="*"){let D=d[E]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const C=d[E];return T&&!C?p[y]=void 0:p[y]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function eN(t,e=!1,n=!0){vi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function tN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function nN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ol(t):t;return{pathname:n?n.startsWith("/")?n:iN(n,e):e,search:aN(s),hash:oN(a)}}function iN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Hp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wy(t){let e=sN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Sy(t,e,n,s=!1){let a;typeof t=="string"?a=ol(t):(a={...t},gt(!a.pathname||!a.pathname.includes("?"),Hp("?","pathname","search",a)),gt(!a.pathname||!a.pathname.includes("#"),Hp("#","pathname","hash",a)),gt(!a.search||!a.search.includes("#"),Hp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),T-=1;a.pathname=E.join("/")}d=T>=0?e[T]:"/"}let m=nN(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Is=t=>t.join("/").replace(/\/\/+/g,"/"),rN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var kw=["POST","PUT","PATCH","DELETE"];new Set(kw);var uN=["GET",...kw];new Set(uN);var ll=M.createContext(null);ll.displayName="DataRouter";var dd=M.createContext(null);dd.displayName="DataRouterState";M.createContext(!1);var Ow=M.createContext({isTransitioning:!1});Ow.displayName="ViewTransition";var cN=M.createContext(new Map);cN.displayName="Fetchers";var hN=M.createContext(null);hN.displayName="Await";var bi=M.createContext(null);bi.displayName="Navigation";var pc=M.createContext(null);pc.displayName="Location";var Ji=M.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var Ay=M.createContext(null);Ay.displayName="RouteError";function fN(t,{relative:e}={}){gt(ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(bi),{hash:a,pathname:l,search:c}=gc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Is([n,l])),s.createHref({pathname:d,search:c,hash:a})}function ul(){return M.useContext(pc)!=null}function Bs(){return gt(ul(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(pc).location}var jw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lw(t){M.useContext(bi).static||M.useLayoutEffect(t)}function cl(){let{isDataRoute:t}=M.useContext(Ji);return t?SN():dN()}function dN(){gt(ul(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(ll),{basename:e,navigator:n}=M.useContext(bi),{matches:s}=M.useContext(Ji),{pathname:a}=Bs(),l=JSON.stringify(wy(s)),c=M.useRef(!1);return Lw(()=>{c.current=!0}),M.useCallback((m,p={})=>{if(vi(c.current,jw),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Sy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Is([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}M.createContext(null);function gc(t,{relative:e}={}){let{matches:n}=M.useContext(Ji),{pathname:s}=Bs(),a=JSON.stringify(wy(n));return M.useMemo(()=>Sy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function mN(t,e){return Uw(t,e)}function Uw(t,e,n,s){gt(ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=M.useContext(bi),{matches:l}=M.useContext(Ji),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let U=y&&y.path||"";Bw(m,!y||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=Bs(),E;if(e){let U=typeof e=="string"?ol(e):e;gt(p==="/"||U.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),E=U}else E=T;let C=E.pathname||"/",D=C;if(p!=="/"){let U=p.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(U.length).join("/")}let I=Mw(t,{pathname:D});vi(y||I!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),vi(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=_N(I&&I.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:Is([p,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:Is([p,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,n,s);return e&&j?M.createElement(pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},j):j}function pN(){let t=wN(),e=lN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,c)}var gN=M.createElement(pN,null),yN=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?M.createElement(Ji.Provider,{value:this.props.routeContext},M.createElement(Ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vN({routeContext:t,match:e,children:n}){let s=M.useContext(ll);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Ji.Provider,{value:t},n)}function _N(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);gt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:T}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||E){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let T,E=!1,C=null,D=null;n&&(T=l&&p.route.id?l[p.route.id]:void 0,C=p.route.errorElement||gN,c&&(d<0&&y===0?(Bw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,D=null):d===y&&(E=!0,D=p.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,y+1)),j=()=>{let U;return T?U=C:E?U=D:p.route.Component?U=M.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=m,M.createElement(vN,{match:p,routeContext:{outlet:m,matches:I,isDataRoute:n!=null},children:U})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?M.createElement(yN,{location:n.location,revalidation:n.revalidation,component:C,error:T,children:j(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):j()},null)}function Ry(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TN(t){let e=M.useContext(ll);return gt(e,Ry(t)),e}function bN(t){let e=M.useContext(dd);return gt(e,Ry(t)),e}function EN(t){let e=M.useContext(Ji);return gt(e,Ry(t)),e}function Cy(t){let e=EN(t),n=e.matches[e.matches.length-1];return gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xN(){return Cy("useRouteId")}function wN(){let t=M.useContext(Ay),e=bN("useRouteError"),n=Cy("useRouteError");return t!==void 0?t:e.errors?.[n]}function SN(){let{router:t}=TN("useNavigate"),e=Cy("useNavigate"),n=M.useRef(!1);return Lw(()=>{n.current=!0}),M.useCallback(async(a,l={})=>{vi(n.current,jw),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Mb={};function Bw(t,e,n){!e&&!Mb[t]&&(Mb[t]=!0,vi(!1,n))}M.memo(AN);function AN({routes:t,future:e,state:n}){return Uw(t,void 0,n,e)}function xf({to:t,replace:e,state:n,relative:s}){gt(ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=M.useContext(bi);vi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=M.useContext(Ji),{pathname:c}=Bs(),d=cl(),m=Sy(t,wy(l),c,s==="path"),p=JSON.stringify(m);return M.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:s})},[d,p,s,e,n]),null}function Rs(t){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){gt(!ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=ol(n));let{pathname:m="/",search:p="",hash:y="",state:T=null,key:E="default"}=n,C=M.useMemo(()=>{let D=Ms(m,c);return D==null?null:{location:{pathname:D,search:p,hash:y,state:T,key:E},navigationType:s}},[c,m,p,y,T,E,s]);return vi(C!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:M.createElement(bi.Provider,{value:d},M.createElement(pc.Provider,{children:e,value:C}))}function CN({children:t,location:e}){return mN(Rg(t),e)}function Rg(t,e=[]){let n=[];return M.Children.forEach(t,(s,a)=>{if(!M.isValidElement(s))return;let l=[...e,a];if(s.type===M.Fragment){n.push.apply(n,Rg(s.props.children,l));return}gt(s.type===Rs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Rg(s.props.children,l)),n.push(c)}),n}var wf="get",Sf="application/x-www-form-urlencoded";function md(t){return t!=null&&typeof t.tagName=="string"}function NN(t){return md(t)&&t.tagName.toLowerCase()==="button"}function IN(t){return md(t)&&t.tagName.toLowerCase()==="form"}function DN(t){return md(t)&&t.tagName.toLowerCase()==="input"}function MN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VN(t,e){return t.button===0&&(!e||e==="_self")&&!MN(t)}var lf=null;function PN(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var kN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gp(t){return t!=null&&!kN.has(t)?(vi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sf}"`),null):t}function ON(t,e){let n,s,a,l,c;if(IN(t)){let d=t.getAttribute("action");s=d?Ms(d,e):null,n=t.getAttribute("method")||wf,a=Gp(t.getAttribute("enctype"))||Sf,l=new FormData(t)}else if(NN(t)||DN(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Ms(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||wf,a=Gp(t.getAttribute("formenctype"))||Gp(d.getAttribute("enctype"))||Sf,l=new FormData(d,t),!PN()){let{name:p,type:y,value:T}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,T)}}else{if(md(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wf,s=null,a=Sf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ny(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jN(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ms(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function LN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function BN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await LN(l,n);return c.links?c.links():[]}return[]}));return HN(s.flat(1).filter(UN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Vb(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function zN(t,e,{includeHydrateFallback:n}={}){return qN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function qN(t){return[...new Set(t)]}function FN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function HN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(FN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function zw(){let t=M.useContext(ll);return Ny(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GN(){let t=M.useContext(dd);return Ny(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Iy=M.createContext(void 0);Iy.displayName="FrameworkContext";function qw(){let t=M.useContext(Iy);return Ny(t,"You must render this element inside a <HydratedRouter> element"),t}function KN(t,e){let n=M.useContext(Iy),[s,a]=M.useState(!1),[l,c]=M.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:T}=e,E=M.useRef(null);M.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let I=U=>{U.forEach(Y=>{c(Y.isIntersecting)})},j=new IntersectionObserver(I,{threshold:.5});return E.current&&j.observe(E.current),()=>{j.disconnect()}}},[t]),M.useEffect(()=>{if(s){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[s]);let C=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Nu(d,C),onBlur:Nu(m,D),onMouseEnter:Nu(p,C),onMouseLeave:Nu(y,D),onTouchStart:Nu(T,C)}]:[!1,E,{}]}function Nu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $N({page:t,...e}){let{router:n}=zw(),s=M.useMemo(()=>Mw(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?M.createElement(QN,{page:t,matches:s,...e}):null}function YN(t){let{manifest:e,routeModules:n}=qw(),[s,a]=M.useState([]);return M.useEffect(()=>{let l=!1;return BN(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function QN({page:t,matches:e,...n}){let s=Bs(),{manifest:a,routeModules:l}=qw(),{basename:c}=zw(),{loaderData:d,matches:m}=GN(),p=M.useMemo(()=>Vb(t,e,m,a,s,"data"),[t,e,m,a,s]),y=M.useMemo(()=>Vb(t,e,m,a,s,"assets"),[t,e,m,a,s]),T=M.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let D=new Set,I=!1;if(e.forEach(U=>{let Y=a.routes[U.route.id];!Y||!Y.hasLoader||(!p.some(K=>K.route.id===U.route.id)&&U.route.id in d&&l[U.route.id]?.shouldRevalidate||Y.hasClientLoader?I=!0:D.add(U.route.id))}),D.size===0)return[];let j=jN(t,c,"data");return I&&D.size>0&&j.searchParams.set("_routes",e.filter(U=>D.has(U.route.id)).map(U=>U.route.id).join(",")),[j.pathname+j.search]},[c,d,s,a,p,e,t,l]),E=M.useMemo(()=>zN(y,a),[y,a]),C=YN(y);return M.createElement(M.Fragment,null,T.map(D=>M.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>M.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),C.map(({key:D,link:I})=>M.createElement("link",{key:D,nonce:n.nonce,...I})))}function XN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fw&&(window.__reactRouterVersion="7.8.1")}catch{}function WN({basename:t,children:e,window:n}){let s=M.useRef();s.current==null&&(s.current=U2({window:n,v5Compat:!0}));let a=s.current,[l,c]=M.useState({action:a.action,location:a.location}),d=M.useCallback(m=>{M.startTransition(()=>c(m))},[c]);return M.useLayoutEffect(()=>a.listen(d),[a,d]),M.createElement(RN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var Hw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zf=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:T,...E},C){let{basename:D}=M.useContext(bi),I=typeof p=="string"&&Hw.test(p),j,U=!1;if(typeof p=="string"&&I&&(j=p,Fw))try{let N=new URL(window.location.href),V=p.startsWith("//")?new URL(N.protocol+p):new URL(p),L=Ms(V.pathname,D);V.origin===N.origin&&L!=null?p=L+V.search+V.hash:U=!0}catch{vi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=fN(p,{relative:a}),[K,Z,W]=KN(s,E),ue=tI(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:T});function k(N){e&&e(N),N.defaultPrevented||ue(N)}let S=M.createElement("a",{...E,...W,href:j||Y,onClick:U||l?e:k,ref:XN(C,Z),target:m,"data-discover":!I&&n==="render"?"true":void 0});return K&&!I?M.createElement(M.Fragment,null,S,M.createElement($N,{page:Y})):S});zf.displayName="Link";var ZN=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let T=gc(c,{relative:p.relative}),E=Bs(),C=M.useContext(dd),{navigator:D,basename:I}=M.useContext(bi),j=C!=null&&aI(T)&&d===!0,U=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,Y=E.pathname,K=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),K=K?K.toLowerCase():null,U=U.toLowerCase()),K&&I&&(K=Ms(K,I)||K);const Z=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let W=Y===U||!a&&Y.startsWith(U)&&Y.charAt(Z)==="/",ue=K!=null&&(K===U||!a&&K.startsWith(U)&&K.charAt(U.length)==="/"),k={isActive:W,isPending:ue,isTransitioning:j},S=W?e:void 0,N;typeof s=="function"?N=s(k):N=[s,W?"active":null,ue?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(k):l;return M.createElement(zf,{...p,"aria-current":S,className:N,ref:y,style:V,to:c,viewTransition:d},typeof m=="function"?m(k):m)});ZN.displayName="NavLink";var JN=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=wf,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:T,...E},C)=>{let D=sI(),I=rI(d,{relative:p}),j=c.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&Hw.test(d),Y=K=>{if(m&&m(K),K.defaultPrevented)return;K.preventDefault();let Z=K.nativeEvent.submitter,W=Z?.getAttribute("formmethod")||c;D(Z||K.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:T})};return M.createElement("form",{ref:C,method:j,action:I,onSubmit:s?m:Y,...E,"data-discover":!U&&t==="render"?"true":void 0})});JN.displayName="Form";function eI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gw(t){let e=M.useContext(ll);return gt(e,eI(t)),e}function tI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=cl(),m=Bs(),p=gc(t,{relative:l});return M.useCallback(y=>{if(VN(y,e)){y.preventDefault();let T=n!==void 0?n:Xu(m)===Xu(p);d(t,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,s,e,t,a,l,c])}var nI=0,iI=()=>`__${String(++nI)}__`;function sI(){let{router:t}=Gw("useSubmit"),{basename:e}=M.useContext(bi),n=xN();return M.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=ON(s,e);if(a.navigate===!1){let y=a.fetcherKey||iI();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function rI(t,{relative:e}={}){let{basename:n}=M.useContext(bi),s=M.useContext(Ji);gt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...gc(t||".",{relative:e})},c=Bs();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Is([n,l.pathname])),Xu(l)}function aI(t,{relative:e}={}){let n=M.useContext(Ow);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Gw("useViewTransitionState"),a=gc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ms(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ms(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Bf(a.pathname,c)!=null||Bf(a.pathname,l)!=null}const oI=()=>{};var Pb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},lI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},$w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,T=(l&3)<<4|d>>4;let E=(d&15)<<2|p>>6,C=p&63;m||(C=64,c||(E=64)),s.push(n[y],n[T],n[E],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new uI;const E=l<<2|d>>4;if(s.push(E),p!==64){const C=d<<4&240|p>>2;if(s.push(C),T!==64){const D=p<<6&192|T;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cI=function(t){const e=Kw(t);return $w.encodeByteArray(e,!0)},Yw=function(t){return cI(t).replace(/\./g,"")},Qw=function(t){try{return $w.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=()=>hI().__FIREBASE_DEFAULTS__,dI=()=>{if(typeof process>"u"||typeof Pb>"u")return;const t=Pb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qw(t[1]);return e&&JSON.parse(e)},pd=()=>{try{return oI()||fI()||dI()||mI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pI=t=>pd()?.emulatorHosts?.[t],Xw=()=>pd()?.config,Ww=t=>pd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zw(t){return(await fetch(t,{credentials:"include"})).ok}const Lu={};function yI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lu))Lu[e]?t.emulator.push(e):t.prod.push(e);return t}function vI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kb=!1;function _I(t,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||Lu[t]===e||Lu[t]||kb)return;Lu[t]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=yI().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{kb=!0,c()},E}function y(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function T(){const E=vI(s),C=n("text"),D=document.getElementById(C)||document.createElement("span"),I=n("learnmore"),j=document.getElementById(I)||document.createElement("a"),U=n("preprendIcon"),Y=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;d(K),y(j,I);const Z=p();m(Y,U),K.append(Y,D,j,Z),document.body.appendChild(K)}l?(D.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function bI(){const t=pd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SI(){const t=bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AI(){return!bI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RI(){try{return typeof indexedDB=="object"}catch{return!1}}function CI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="FirebaseError";class zs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=NI,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?II(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new zs(a,d,s)}}function II(t,e){return t.replace(DI,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const DI=/\{\$([^}]+)}/g;function MI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Va(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(Ob(l)&&Ob(c)){if(!Va(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Ob(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Du(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Mu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VI(t,e){const n=new PI(t,e);return n.subscribe.bind(n)}class PI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Kp),a.error===void 0&&(a.error=Kp),a.complete===void 0&&(a.complete=Kp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class Pa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new gI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LI(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jI(t){return t===Sa?void 0:t}function LI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const BI={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},zI=ze.INFO,qI={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},FI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=qI[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dy{constructor(e){this.name=e,this._logLevel=zI,this._logHandler=FI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const HI=(t,e)=>e.some(n=>t instanceof n);let jb,Lb;function GI(){return jb||(jb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KI(){return Lb||(Lb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jw=new WeakMap,Cg=new WeakMap,e1=new WeakMap,$p=new WeakMap,My=new WeakMap;function $I(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(wr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Jw.set(n,t)}).catch(()=>{}),My.set(e,t),e}function YI(t){if(Cg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Cg.set(t,e)}let Ng={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||e1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QI(t){Ng=t(Ng)}function XI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Yp(this),e,...n);return e1.set(s,e.sort?e.sort():[e]),wr(s)}:KI().includes(t)?function(...e){return t.apply(Yp(this),e),wr(Jw.get(this))}:function(...e){return wr(t.apply(Yp(this),e))}}function WI(t){return typeof t=="function"?XI(t):(t instanceof IDBTransaction&&YI(t),HI(t,GI())?new Proxy(t,Ng):t)}function wr(t){if(t instanceof IDBRequest)return $I(t);if($p.has(t))return $p.get(t);const e=WI(t);return e!==t&&($p.set(t,e),My.set(e,t)),e}const Yp=t=>My.get(t);function ZI(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=wr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(wr(c.result),m.oldVersion,m.newVersion,wr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const JI=["get","getKey","getAll","getAllKeys","count"],eD=["put","add","delete","clear"],Qp=new Map;function Ub(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=eD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||JI.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Qp.set(e,l),l}QI(t=>({...t,get:(e,n,s)=>Ub(e,n)||t.get(e,n,s),has:(e,n)=>!!Ub(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nD(t){return t.getComponent()?.type==="VERSION"}const Ig="@firebase/app",Bb="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Dy("@firebase/app"),iD="@firebase/app-compat",sD="@firebase/analytics-compat",rD="@firebase/analytics",aD="@firebase/app-check-compat",oD="@firebase/app-check",lD="@firebase/auth",uD="@firebase/auth-compat",cD="@firebase/database",hD="@firebase/data-connect",fD="@firebase/database-compat",dD="@firebase/functions",mD="@firebase/functions-compat",pD="@firebase/installations",gD="@firebase/installations-compat",yD="@firebase/messaging",vD="@firebase/messaging-compat",_D="@firebase/performance",TD="@firebase/performance-compat",bD="@firebase/remote-config",ED="@firebase/remote-config-compat",xD="@firebase/storage",wD="@firebase/storage-compat",SD="@firebase/firestore",AD="@firebase/ai",RD="@firebase/firestore-compat",CD="firebase",ND="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="[DEFAULT]",ID={[Ig]:"fire-core",[iD]:"fire-core-compat",[rD]:"fire-analytics",[sD]:"fire-analytics-compat",[oD]:"fire-app-check",[aD]:"fire-app-check-compat",[lD]:"fire-auth",[uD]:"fire-auth-compat",[cD]:"fire-rtdb",[hD]:"fire-data-connect",[fD]:"fire-rtdb-compat",[dD]:"fire-fn",[mD]:"fire-fn-compat",[pD]:"fire-iid",[gD]:"fire-iid-compat",[yD]:"fire-fcm",[vD]:"fire-fcm-compat",[_D]:"fire-perf",[TD]:"fire-perf-compat",[bD]:"fire-rc",[ED]:"fire-rc-compat",[xD]:"fire-gcs",[wD]:"fire-gcs-compat",[SD]:"fire-fst",[RD]:"fire-fst-compat",[AD]:"fire-vertex","fire-js":"fire-js",[CD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Map,DD=new Map,Mg=new Map;function zb(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jo(t){const e=t.name;if(Mg.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;Mg.set(e,t);for(const n of qf.values())zb(n,t);for(const n of DD.values())zb(n,t);return!0}function Vy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new yc("app","Firebase",MD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=ND;function Py(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Dg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Sr.create("bad-app-name",{appName:String(a)});if(n||(n=Xw()),!n)throw Sr.create("no-options");const l=qf.get(a);if(l){if(Va(n,l.options)&&Va(s,l.config))return l;throw Sr.create("duplicate-app",{appName:a})}const c=new UI(a);for(const m of Mg.values())c.addComponent(m);const d=new VD(n,s,c);return qf.set(a,d),d}function PD(t=Dg){const e=qf.get(t);if(!e&&t===Dg&&Xw())return Py();if(!e)throw Sr.create("no-app",{appName:t});return e}function Ar(t,e,n){let s=ID[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(c.join(" "));return}Jo(new Pa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="firebase-heartbeat-database",OD=1,Wu="firebase-heartbeat-store";let Xp=null;function t1(){return Xp||(Xp=ZI(kD,OD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sr.create("idb-open",{originalErrorMessage:t.message})})),Xp}async function jD(t){try{const n=(await t1()).transaction(Wu),s=await n.objectStore(Wu).get(n1(t));return await n.done,s}catch(e){if(e instanceof zs)Vs.warn(e.message);else{const n=Sr.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(n.message)}}}async function qb(t,e){try{const s=(await t1()).transaction(Wu,"readwrite");await s.objectStore(Wu).put(e,n1(t)),await s.done}catch(n){if(n instanceof zs)Vs.warn(n.message);else{const s=Sr.create("idb-set",{originalErrorMessage:n?.message});Vs.warn(s.message)}}}function n1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=1024,UD=30;class BD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Fb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>UD){const a=FD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fb(),{heartbeatsToSend:n,unsentEntries:s}=zD(this._heartbeatsCache.heartbeats),a=Yw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Vs.warn(e),""}}}function Fb(){return new Date().toISOString().substring(0,10)}function zD(t,e=LD){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Hb(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Hb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class qD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RI()?CI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Hb(t){return Yw(JSON.stringify({version:2,heartbeats:t})).length}function FD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t){Jo(new Pa("platform-logger",e=>new tD(e),"PRIVATE")),Jo(new Pa("heartbeat",e=>new BD(e),"PRIVATE")),Ar(Ig,Bb,t),Ar(Ig,Bb,"esm2020"),Ar("fire-js","")}HD("");function i1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GD=i1,s1=new yc("auth","Firebase",i1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=new Dy("@firebase/auth");function KD(t,...e){Ff.logLevel<=ze.WARN&&Ff.warn(`Auth (${fl}): ${t}`,...e)}function Af(t,...e){Ff.logLevel<=ze.ERROR&&Ff.error(`Auth (${fl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,...e){throw ky(t,...e)}function zi(t,...e){return ky(t,...e)}function r1(t,e,n){const s={...GD(),[e]:n};return new yc("auth","Firebase",s).create(e,{appName:t.name})}function Ds(t){return r1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ky(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return s1.create(t,...e)}function Ce(t,e,...n){if(!t)throw ky(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Af(e),new Error(e)}function Ps(t,e){t||Cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(){return typeof self<"u"&&self.location?.href||""}function $D(){return Gb()==="http:"||Gb()==="https:"}function Gb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($D()||xI()||"connection"in navigator)?navigator.onLine:!0}function QD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=TI()||wI()}get(){return YD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZD=new _c(3e4,6e4);function jr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Lr(t,e,n,s,a={}){return o1(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=vc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return EI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&hl(t.emulatorConfig.host)&&(p.credentials="include"),a1.fetch()(await l1(t,t.config.apiHost,n,d),p)})}async function o1(t,e,n){t._canInitEmulator=!1;const s={...XD,...e};try{const a=new eM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw uf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw uf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw uf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw uf(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw r1(t,y,p);_i(t,y)}}catch(a){if(a instanceof zs)throw a;_i(t,"network-request-failed",{message:String(a)})}}async function Tc(t,e,n,s,a={}){const l=await Lr(t,e,n,s,a);return"mfaPendingCredential"in l&&_i(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function l1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Oy(t.config,a):`${t.config.apiScheme}://${a}`;return WD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function JD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(zi(this.auth,"network-request-failed")),ZD.get())})}}function uf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=zi(t,e,s);return a.customData._tokenResponse=n,a}function Kb(t){return t!==void 0&&t.enterprise!==void 0}class tM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nM(t,e){return Lr(t,"GET","/v2/recaptchaConfig",jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e){return Lr(t,"POST","/v1/accounts:delete",e)}async function Hf(t,e){return Lr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u1(t,e=!1){const n=Vt(t),s=await n.getIdToken(e),a=jy(s);Ce(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Uu(Wp(a.auth_time)),issuedAtTime:Uu(Wp(a.iat)),expirationTime:Uu(Wp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Wp(t){return Number(t)*1e3}function jy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Af("JWT malformed, contained fewer than 3 sections"),null;try{const a=Qw(n);return a?JSON.parse(a):(Af("Failed to decode base64 JWT payload"),null)}catch(a){return Af("Caught error parsing JWT payload as JSON",a?.toString()),null}}function $b(t){const e=jy(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof zs&&sM(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function sM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(t){const e=t.auth,n=await t.getIdToken(),s=await Zu(t,Hf(e,{idToken:n}));Ce(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?c1(a.providerUserInfo):[],c=oM(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Pg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function aM(t){const e=Vt(t);await Gf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oM(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function c1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e){const n=await o1(t,{},async()=>{const s=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await l1(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&hl(t.emulatorConfig.host)&&(m.credentials="include"),a1.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uM(t,e){return Lr(t,"POST","/v2/accounts:revokeToken",jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$b(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=$b(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await lM(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Ko;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Ce(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new rM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Pg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u1(this,e)}reload(){return aM(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Gf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Ds(this.auth));const e=await this.getIdToken();return await Zu(this,iM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:E,isAnonymous:C,providerData:D,stsTokenManager:I}=n;Ce(T&&I,e,"internal-error");const j=Ko.fromJSON(this.name,I);Ce(typeof T=="string",e,"internal-error"),gr(s,e.name),gr(a,e.name),Ce(typeof E=="boolean",e,"internal-error"),Ce(typeof C=="boolean",e,"internal-error"),gr(l,e.name),gr(c,e.name),gr(d,e.name),gr(m,e.name),gr(p,e.name),gr(y,e.name);const U=new yi({uid:T,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(U.providerData=D.map(Y=>({...Y}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,s=!1){const a=new Ko;a.updateFromServerResponse(n);const l=new yi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Gf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?c1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Ko;d.updateFromIdToken(s);const m=new yi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Pg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Map;function Ns(t){Ps(t instanceof Function,"Expected a class definition");let e=Yb.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Yb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}h1.type="NONE";const Qb=h1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t,e,n){return`firebase:${t}:${e}:${n}`}class $o{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Rf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Rf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hf(this.auth,{idToken:e}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new $o(Ns(Qb),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ns(Qb);const c=Rf(s,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let T;if(typeof y=="string"){const E=await Hf(e,{idToken:y}).catch(()=>{});if(!E)break;T=await yi._fromGetAccountInfoResponse(e,E,y)}else T=yi._fromJSON(e,y);p!==l&&(d=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new $o(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new $o(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y1(e))return"Blackberry";if(v1(e))return"Webos";if(d1(e))return"Safari";if((e.includes("chrome/")||m1(e))&&!e.includes("edge/"))return"Chrome";if(g1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function f1(t=bn()){return/firefox\//i.test(t)}function d1(t=bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m1(t=bn()){return/crios\//i.test(t)}function p1(t=bn()){return/iemobile/i.test(t)}function g1(t=bn()){return/android/i.test(t)}function y1(t=bn()){return/blackberry/i.test(t)}function v1(t=bn()){return/webos/i.test(t)}function Ly(t=bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cM(t=bn()){return Ly(t)&&!!window.navigator?.standalone}function hM(){return SI()&&document.documentMode===10}function _1(t=bn()){return Ly(t)||g1(t)||v1(t)||y1(t)||/windows phone/i.test(t)||p1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t,e=[]){let n;switch(t){case"Browser":n=Xb(bn());break;case"Worker":n=`${Xb(bn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e={}){return Lr(t,"GET","/v2/passwordPolicy",jr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=6;class pM{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wb(this),this.idTokenSubscription=new Wb(this),this.beforeStateQueue=new fM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ns(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hf(this,{idToken:e}),s=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(oi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(Ds(this));const n=e?Vt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(Ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dM(this),n=new pM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await uM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ns(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ua(t){return Vt(t)}class Wb{constructor(e){this.auth=e,this.observer=null,this.addObserver=VI(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yM(t){gd=t}function b1(t){return gd.loadJS(t)}function vM(){return gd.recaptchaEnterpriseScript}function _M(){return gd.gapiScript}function TM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bM{constructor(){this.enterprise=new EM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class EM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xM="recaptcha-enterprise",E1="NO_RECAPTCHA";class wM{constructor(e){this.type=xM,this.auth=Ua(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{nM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new tM(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;Kb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(E1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&Kb(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=vM();m.length!==0&&(m+=d),b1(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function Zb(t,e,n,s=!1,a=!1){const l=new wM(t);let c;if(a)c=E1;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function kg(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Zb(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Zb(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t,e){const n=Vy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Va(l,e??{}))return a;_i(a,"already-initialized")}return n.initialize({options:e})}function AM(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ns);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function RM(t,e,n){const s=Ua(t);Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=x1(e),{host:c,port:d}=CM(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ce(Va(p,s.config.emulator)&&Va(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,hl(c)?(Zw(`${l}//${c}${m}`),_I("Auth",!0)):NM()}function x1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CM(t){const e=x1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Jb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Jb(c)}}}function Jb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function IM(t,e){return Lr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(t,e){return Tc(t,"POST","/v1/accounts:signInWithPassword",jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",jr(t,e))}async function VM(t,e){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Uy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ju(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ju(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,n,"signInWithPassword",DM);case"emailLink":return MM(e,{email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,s,"signUpPassword",IM);case"emailLink":return VM(e,{idToken:n,email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return Tc(t,"POST","/v1/accounts:signInWithIdp",jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="http://localhost";class ka extends Uy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new ka(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Yo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:PM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OM(t){const e=Du(Mu(t)).link,n=e?Du(Mu(e)).deep_link_id:null,s=Du(Mu(t)).deep_link_id;return(s?Du(Mu(s)).link:null)||s||n||e||t}class By{constructor(e){const n=Du(Mu(e)),s=n.apiKey??null,a=n.oobCode??null,l=kM(n.mode??null);Ce(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=OM(e);try{return new By(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(e,n){return Ju._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=By.parseLink(n);return Ce(s,"argument-error"),Ju._fromEmailAndCode(e,s.code,s.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends w1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends bc{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ka._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return _r.credential(n,s)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends bc{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends bc{constructor(){super("twitter.com")}static credential(e,n){return ka._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return br.credential(n,s)}catch{return null}}}br.TWITTER_SIGN_IN_METHOD="twitter.com";br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(t,e){return Tc(t,"POST","/v1/accounts:signUp",jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await yi._fromIdTokenResponse(e,s,a),c=eE(s);return new Oa({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=eE(s);return new Oa({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function eE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends zs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Kf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Kf(e,n,s,a)}}function S1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Kf._fromErrorAndOperation(t,l,e,s):l})}async function LM(t,e,n=!1){const s=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oa._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(t,e,n=!1){const{auth:s}=t;if(oi(s.app))return Promise.reject(Ds(s));const a="reauthenticate";try{const l=await Zu(t,S1(s,a,e,t),n);Ce(l.idToken,s,"internal-error");const c=jy(l.idToken);Ce(c,s,"internal-error");const{sub:d}=c;return Ce(t.uid===d,s,"user-mismatch"),Oa._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&_i(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(t,e,n=!1){if(oi(t.app))return Promise.reject(Ds(t));const s="signIn",a=await S1(t,s,e),l=await Oa._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function BM(t,e){return A1(Ua(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(t){const e=Ua(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zM(t,e,n){if(oi(t.app))return Promise.reject(Ds(t));const s=Ua(t),c=await kg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jM).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&R1(t),m}),d=await Oa._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function qM(t,e,n){return oi(t.app)?Promise.reject(Ds(t)):BM(Vt(t),dl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&R1(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t,e){return Vt(t).setPersistence(e)}function HM(t,e,n,s){return Vt(t).onIdTokenChanged(e,n,s)}function GM(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function KM(t,e,n,s){return Vt(t).onAuthStateChanged(e,n,s)}function $M(t){return Vt(t).signOut()}const $f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($f,"1"),this.storage.removeItem($f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=1e3,QM=10;class N1 extends C1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);hM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,QM):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},YM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}N1.type="LOCAL";const I1=N1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1 extends C1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}D1.type="SESSION";const zy=D1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new yd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await XM(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=qy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const E=T;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function ZM(t){qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function JM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eV(){return navigator?.serviceWorker?.controller||null}function tV(){return M1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="firebaseLocalStorageDb",nV=1,Yf="firebaseLocalStorage",P1="fbase_key";class Ec{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vd(t,e){return t.transaction([Yf],e?"readwrite":"readonly").objectStore(Yf)}function iV(){const t=indexedDB.deleteDatabase(V1);return new Ec(t).toPromise()}function Og(){const t=indexedDB.open(V1,nV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Yf,{keyPath:P1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Yf)?e(s):(s.close(),await iV(),e(await Og()))})})}async function tE(t,e,n){const s=vd(t,!0).put({[P1]:e,value:n});return new Ec(s).toPromise()}async function sV(t,e){const n=vd(t,!1).get(e),s=await new Ec(n).toPromise();return s===void 0?null:s.value}function nE(t,e){const n=vd(t,!0).delete(e);return new Ec(n).toPromise()}const rV=800,aV=3;class k1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Og(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>aV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(tV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JM(),!this.activeServiceWorker)return;this.sender=new WM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Og();return await tE(e,$f,"1"),await nE(e,$f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>tE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>sV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=vd(a,!1).getAll();return new Ec(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k1.type="LOCAL";const oV=k1;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t,e){return e?Ns(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends Uy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uV(t){return A1(t.auth,new Fy(t),t.bypassAuthState)}function cV(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),UM(n,new Fy(t),t.bypassAuthState)}async function hV(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),LM(n,new Fy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uV;case"linkViaPopup":case"linkViaRedirect":return hV;case"reauthViaPopup":case"reauthViaRedirect":return cV;default:_i(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=new _c(2e3,1e4);class Uo extends O1{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const e=qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fV.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV="pendingRedirect",Cf=new Map;class mV extends O1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const s=await pV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pV(t,e){const n=vV(e),s=yV(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function gV(t,e){Cf.set(t._key(),e)}function yV(t){return Ns(t._redirectPersistence)}function vV(t){return Rf(dV,t.config.apiKey,t.name)}async function _V(t,e,n=!1){if(oi(t.app))return Promise.reject(Ds(t));const s=Ua(t),a=lV(s,e),c=await new mV(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=600*1e3;class bV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!j1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TV&&this.cachedEventUids.clear(),this.cachedEventUids.has(iE(e))}saveEventToCache(e){this.cachedEventUids.add(iE(e)),this.lastProcessedEventTime=Date.now()}}function iE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function j1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function EV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t,e={}){return Lr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SV=/^https?/;async function AV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xV(t);for(const n of e)try{if(RV(n))return}catch{}_i(t,"unauthorized-domain")}function RV(t){const e=Vg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!SV.test(n))return!1;if(wV.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new _c(3e4,6e4);function sE(){const t=qi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NV(t){return new Promise((e,n)=>{function s(){sE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sE(),n(zi(t,"network-request-failed"))},timeout:CV.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)s();else{const a=TM("iframefcb");return qi()[a]=()=>{gapi.load?s():n(zi(t,"network-request-failed"))},b1(`${_M()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Nf=null,e})}let Nf=null;function IV(t){return Nf=Nf||NV(t),Nf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=new _c(5e3,15e3),MV="__/auth/iframe",VV="emulator/auth/iframe",PV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OV(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Oy(e,VV):`https://${t.config.authDomain}/${MV}`,s={apiKey:e.apiKey,appName:t.name,v:fl},a=kV.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${vc(s).slice(1)}`}async function jV(t){const e=await IV(t),n=qi().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:OV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PV,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=zi(t,"network-request-failed"),d=qi().setTimeout(()=>{l(c)},DV.get());function m(){qi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UV=500,BV=600,zV="_blank",qV="http://localhost";class rE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FV(t,e,n,s=UV,a=BV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...LV,width:s.toString(),height:a.toString(),top:l,left:c},p=bn().toLowerCase();n&&(d=m1(p)?zV:n),f1(p)&&(e=e||qV,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[C,D])=>`${E}${C}=${D},`,"");if(cM(p)&&d!=="_self")return HV(e||"",d),new rE(null);const T=window.open(e||"",d,y);Ce(T,t,"popup-blocked");try{T.focus()}catch{}return new rE(T)}function HV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="__/auth/handler",KV="emulator/auth/handler",$V=encodeURIComponent("fac");async function aE(t,e,n,s,a,l){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:fl,eventId:a};if(e instanceof w1){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",MI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(e instanceof bc){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),p=m?`#${$V}=${encodeURIComponent(m)}`:"";return`${YV(t)}?${vc(d).slice(1)}${p}`}function YV({config:t}){return t.emulator?Oy(t,KV):`https://${t.authDomain}/${GV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="webStorageSupport";class QV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zy,this._completeRedirectFn=_V,this._overrideRedirectResult=gV}async _openPopup(e,n,s,a){Ps(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await aE(e,n,s,Vg(),a);return FV(e,l,qy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await aE(e,n,s,Vg(),a);return ZM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ps(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await jV(e),s=new bV(e);return n.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zp,{type:Zp},a=>{const l=a?.[0]?.[Zp];l!==void 0&&n(!!l),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _1()||d1()||Ly()}}const XV=QV;var oE="@firebase/auth",lE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JV(t){Jo(new Pa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T1(t)},p=new gM(s,a,l,m);return AM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Jo(new Pa("auth-internal",e=>{const n=Ua(e.getProvider("auth").getImmediate());return(s=>new WV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(oE,lE,ZV(t)),Ar(oE,lE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=300,tP=Ww("authIdTokenMaxAge")||eP;let uE=null;const nP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>tP)return;const a=n?.token;uE!==a&&(uE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function L1(t=PD()){const e=Vy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SM(t,{popupRedirectResolver:XV,persistence:[oV,I1,zy]}),s=Ww("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=nP(l.toString());GM(n,c,()=>c(n.currentUser)),HM(n,d=>c(d))}}const a=pI("auth");return a&&RM(n,`http://${a}`),n}function iP(){return document.getElementsByTagName("head")?.[0]??document}yM({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=zi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",iP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JV("Browser");var sP="firebase",rP="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(sP,rP,"app");var cE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,U1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function N(){}N.prototype=S.prototype,k.D=S.prototype,k.prototype=new N,k.prototype.constructor=k,k.C=function(V,L,B){for(var R=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)R[fe-2]=arguments[fe];return S.prototype[L].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,S,N){N||(N=0);var V=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)V[L]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(L=0;16>L;++L)V[L]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=k.g[0],N=k.g[1],L=k.g[2];var B=k.g[3],R=S+(B^N&(L^B))+V[0]+3614090360&4294967295;S=N+(R<<7&4294967295|R>>>25),R=B+(L^S&(N^L))+V[1]+3905402710&4294967295,B=S+(R<<12&4294967295|R>>>20),R=L+(N^B&(S^N))+V[2]+606105819&4294967295,L=B+(R<<17&4294967295|R>>>15),R=N+(S^L&(B^S))+V[3]+3250441966&4294967295,N=L+(R<<22&4294967295|R>>>10),R=S+(B^N&(L^B))+V[4]+4118548399&4294967295,S=N+(R<<7&4294967295|R>>>25),R=B+(L^S&(N^L))+V[5]+1200080426&4294967295,B=S+(R<<12&4294967295|R>>>20),R=L+(N^B&(S^N))+V[6]+2821735955&4294967295,L=B+(R<<17&4294967295|R>>>15),R=N+(S^L&(B^S))+V[7]+4249261313&4294967295,N=L+(R<<22&4294967295|R>>>10),R=S+(B^N&(L^B))+V[8]+1770035416&4294967295,S=N+(R<<7&4294967295|R>>>25),R=B+(L^S&(N^L))+V[9]+2336552879&4294967295,B=S+(R<<12&4294967295|R>>>20),R=L+(N^B&(S^N))+V[10]+4294925233&4294967295,L=B+(R<<17&4294967295|R>>>15),R=N+(S^L&(B^S))+V[11]+2304563134&4294967295,N=L+(R<<22&4294967295|R>>>10),R=S+(B^N&(L^B))+V[12]+1804603682&4294967295,S=N+(R<<7&4294967295|R>>>25),R=B+(L^S&(N^L))+V[13]+4254626195&4294967295,B=S+(R<<12&4294967295|R>>>20),R=L+(N^B&(S^N))+V[14]+2792965006&4294967295,L=B+(R<<17&4294967295|R>>>15),R=N+(S^L&(B^S))+V[15]+1236535329&4294967295,N=L+(R<<22&4294967295|R>>>10),R=S+(L^B&(N^L))+V[1]+4129170786&4294967295,S=N+(R<<5&4294967295|R>>>27),R=B+(N^L&(S^N))+V[6]+3225465664&4294967295,B=S+(R<<9&4294967295|R>>>23),R=L+(S^N&(B^S))+V[11]+643717713&4294967295,L=B+(R<<14&4294967295|R>>>18),R=N+(B^S&(L^B))+V[0]+3921069994&4294967295,N=L+(R<<20&4294967295|R>>>12),R=S+(L^B&(N^L))+V[5]+3593408605&4294967295,S=N+(R<<5&4294967295|R>>>27),R=B+(N^L&(S^N))+V[10]+38016083&4294967295,B=S+(R<<9&4294967295|R>>>23),R=L+(S^N&(B^S))+V[15]+3634488961&4294967295,L=B+(R<<14&4294967295|R>>>18),R=N+(B^S&(L^B))+V[4]+3889429448&4294967295,N=L+(R<<20&4294967295|R>>>12),R=S+(L^B&(N^L))+V[9]+568446438&4294967295,S=N+(R<<5&4294967295|R>>>27),R=B+(N^L&(S^N))+V[14]+3275163606&4294967295,B=S+(R<<9&4294967295|R>>>23),R=L+(S^N&(B^S))+V[3]+4107603335&4294967295,L=B+(R<<14&4294967295|R>>>18),R=N+(B^S&(L^B))+V[8]+1163531501&4294967295,N=L+(R<<20&4294967295|R>>>12),R=S+(L^B&(N^L))+V[13]+2850285829&4294967295,S=N+(R<<5&4294967295|R>>>27),R=B+(N^L&(S^N))+V[2]+4243563512&4294967295,B=S+(R<<9&4294967295|R>>>23),R=L+(S^N&(B^S))+V[7]+1735328473&4294967295,L=B+(R<<14&4294967295|R>>>18),R=N+(B^S&(L^B))+V[12]+2368359562&4294967295,N=L+(R<<20&4294967295|R>>>12),R=S+(N^L^B)+V[5]+4294588738&4294967295,S=N+(R<<4&4294967295|R>>>28),R=B+(S^N^L)+V[8]+2272392833&4294967295,B=S+(R<<11&4294967295|R>>>21),R=L+(B^S^N)+V[11]+1839030562&4294967295,L=B+(R<<16&4294967295|R>>>16),R=N+(L^B^S)+V[14]+4259657740&4294967295,N=L+(R<<23&4294967295|R>>>9),R=S+(N^L^B)+V[1]+2763975236&4294967295,S=N+(R<<4&4294967295|R>>>28),R=B+(S^N^L)+V[4]+1272893353&4294967295,B=S+(R<<11&4294967295|R>>>21),R=L+(B^S^N)+V[7]+4139469664&4294967295,L=B+(R<<16&4294967295|R>>>16),R=N+(L^B^S)+V[10]+3200236656&4294967295,N=L+(R<<23&4294967295|R>>>9),R=S+(N^L^B)+V[13]+681279174&4294967295,S=N+(R<<4&4294967295|R>>>28),R=B+(S^N^L)+V[0]+3936430074&4294967295,B=S+(R<<11&4294967295|R>>>21),R=L+(B^S^N)+V[3]+3572445317&4294967295,L=B+(R<<16&4294967295|R>>>16),R=N+(L^B^S)+V[6]+76029189&4294967295,N=L+(R<<23&4294967295|R>>>9),R=S+(N^L^B)+V[9]+3654602809&4294967295,S=N+(R<<4&4294967295|R>>>28),R=B+(S^N^L)+V[12]+3873151461&4294967295,B=S+(R<<11&4294967295|R>>>21),R=L+(B^S^N)+V[15]+530742520&4294967295,L=B+(R<<16&4294967295|R>>>16),R=N+(L^B^S)+V[2]+3299628645&4294967295,N=L+(R<<23&4294967295|R>>>9),R=S+(L^(N|~B))+V[0]+4096336452&4294967295,S=N+(R<<6&4294967295|R>>>26),R=B+(N^(S|~L))+V[7]+1126891415&4294967295,B=S+(R<<10&4294967295|R>>>22),R=L+(S^(B|~N))+V[14]+2878612391&4294967295,L=B+(R<<15&4294967295|R>>>17),R=N+(B^(L|~S))+V[5]+4237533241&4294967295,N=L+(R<<21&4294967295|R>>>11),R=S+(L^(N|~B))+V[12]+1700485571&4294967295,S=N+(R<<6&4294967295|R>>>26),R=B+(N^(S|~L))+V[3]+2399980690&4294967295,B=S+(R<<10&4294967295|R>>>22),R=L+(S^(B|~N))+V[10]+4293915773&4294967295,L=B+(R<<15&4294967295|R>>>17),R=N+(B^(L|~S))+V[1]+2240044497&4294967295,N=L+(R<<21&4294967295|R>>>11),R=S+(L^(N|~B))+V[8]+1873313359&4294967295,S=N+(R<<6&4294967295|R>>>26),R=B+(N^(S|~L))+V[15]+4264355552&4294967295,B=S+(R<<10&4294967295|R>>>22),R=L+(S^(B|~N))+V[6]+2734768916&4294967295,L=B+(R<<15&4294967295|R>>>17),R=N+(B^(L|~S))+V[13]+1309151649&4294967295,N=L+(R<<21&4294967295|R>>>11),R=S+(L^(N|~B))+V[4]+4149444226&4294967295,S=N+(R<<6&4294967295|R>>>26),R=B+(N^(S|~L))+V[11]+3174756917&4294967295,B=S+(R<<10&4294967295|R>>>22),R=L+(S^(B|~N))+V[2]+718787259&4294967295,L=B+(R<<15&4294967295|R>>>17),R=N+(B^(L|~S))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+B&4294967295}s.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var N=S-this.blockSize,V=this.B,L=this.h,B=0;B<S;){if(L==0)for(;B<=N;)a(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<S;)if(V[L++]=k.charCodeAt(B++),L==this.blockSize){a(this,V),L=0;break}}else for(;B<S;)if(V[L++]=k[B++],L==this.blockSize){a(this,V),L=0;break}}this.h=L,this.o+=S},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var N=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=N&255,N/=256;for(this.u(k),k=Array(16),S=N=0;4>S;++S)for(var V=0;32>V;V+=8)k[N++]=this.g[S]>>>V&255;return k};function l(k,S){var N=d;return Object.prototype.hasOwnProperty.call(N,k)?N[k]:N[k]=S(k)}function c(k,S){this.h=S;for(var N=[],V=!0,L=k.length-1;0<=L;L--){var B=k[L]|0;V&&B==S||(N[L]=B,V=!1)}this.g=N}var d={};function m(k){return-128<=k&&128>k?l(k,function(S){return new c([S|0],0>S?-1:0)}):new c([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return j(p(-k));for(var S=[],N=1,V=0;k>=N;V++)S[V]=k/N|0,N*=4294967296;return new c(S,0)}function y(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return j(y(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(S,8)),V=T,L=0;L<k.length;L+=8){var B=Math.min(8,k.length-L),R=parseInt(k.substring(L,L+B),S);8>B?(B=p(Math.pow(S,B)),V=V.j(B).add(p(R))):(V=V.j(N),V=V.add(p(R)))}return V}var T=m(0),E=m(1),C=m(16777216);t=c.prototype,t.m=function(){if(I(this))return-j(this).m();for(var k=0,S=1,N=0;N<this.g.length;N++){var V=this.i(N);k+=(0<=V?V:4294967296+V)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D(this))return"0";if(I(this))return"-"+j(this).toString(k);for(var S=p(Math.pow(k,6)),N=this,V="";;){var L=Z(N,S).g;N=U(N,L.j(S));var B=((0<N.g.length?N.g[0]:N.h)>>>0).toString(k);if(N=L,D(N))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function D(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function I(k){return k.h==-1}t.l=function(k){return k=U(this,k),I(k)?-1:D(k)?0:1};function j(k){for(var S=k.g.length,N=[],V=0;V<S;V++)N[V]=~k.g[V];return new c(N,~k.h).add(E)}t.abs=function(){return I(this)?j(this):this},t.add=function(k){for(var S=Math.max(this.g.length,k.g.length),N=[],V=0,L=0;L<=S;L++){var B=V+(this.i(L)&65535)+(k.i(L)&65535),R=(B>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);V=R>>>16,B&=65535,R&=65535,N[L]=R<<16|B}return new c(N,N[N.length-1]&-2147483648?-1:0)};function U(k,S){return k.add(j(S))}t.j=function(k){if(D(this)||D(k))return T;if(I(this))return I(k)?j(this).j(j(k)):j(j(this).j(k));if(I(k))return j(this.j(j(k)));if(0>this.l(C)&&0>k.l(C))return p(this.m()*k.m());for(var S=this.g.length+k.g.length,N=[],V=0;V<2*S;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<k.g.length;L++){var B=this.i(V)>>>16,R=this.i(V)&65535,fe=k.i(L)>>>16,me=k.i(L)&65535;N[2*V+2*L]+=R*me,Y(N,2*V+2*L),N[2*V+2*L+1]+=B*me,Y(N,2*V+2*L+1),N[2*V+2*L+1]+=R*fe,Y(N,2*V+2*L+1),N[2*V+2*L+2]+=B*fe,Y(N,2*V+2*L+2)}for(V=0;V<S;V++)N[V]=N[2*V+1]<<16|N[2*V];for(V=S;V<2*S;V++)N[V]=0;return new c(N,0)};function Y(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function K(k,S){this.g=k,this.h=S}function Z(k,S){if(D(S))throw Error("division by zero");if(D(k))return new K(T,T);if(I(k))return S=Z(j(k),S),new K(j(S.g),j(S.h));if(I(S))return S=Z(k,j(S)),new K(j(S.g),S.h);if(30<k.g.length){if(I(k)||I(S))throw Error("slowDivide_ only works with positive integers.");for(var N=E,V=S;0>=V.l(k);)N=W(N),V=W(V);var L=ue(N,1),B=ue(V,1);for(V=ue(V,2),N=ue(N,2);!D(V);){var R=B.add(V);0>=R.l(k)&&(L=L.add(N),B=R),V=ue(V,1),N=ue(N,1)}return S=U(k,L.j(S)),new K(L,S)}for(L=T;0<=k.l(S);){for(N=Math.max(1,Math.floor(k.m()/S.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=p(N),R=B.j(S);I(R)||0<R.l(k);)N-=V,B=p(N),R=B.j(S);D(B)&&(B=E),L=L.add(B),k=U(k,R)}return new K(L,k)}t.A=function(k){return Z(this,k).h},t.and=function(k){for(var S=Math.max(this.g.length,k.g.length),N=[],V=0;V<S;V++)N[V]=this.i(V)&k.i(V);return new c(N,this.h&k.h)},t.or=function(k){for(var S=Math.max(this.g.length,k.g.length),N=[],V=0;V<S;V++)N[V]=this.i(V)|k.i(V);return new c(N,this.h|k.h)},t.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),N=[],V=0;V<S;V++)N[V]=this.i(V)^k.i(V);return new c(N,this.h^k.h)};function W(k){for(var S=k.g.length+1,N=[],V=0;V<S;V++)N[V]=k.i(V)<<1|k.i(V-1)>>>31;return new c(N,k.h)}function ue(k,S){var N=S>>5;S%=32;for(var V=k.g.length-N,L=[],B=0;B<V;B++)L[B]=0<S?k.i(B+N)>>>S|k.i(B+N+1)<<32-S:k.i(B+N);return new c(L,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,U1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Rr=c}).apply(typeof cE<"u"?cE:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B1,Vu,z1,If,jg,q1,F1,H1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var b=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in b))break e;b=b[F]}h=h[h.length-1],A=b[h],v=v(A),v!=A&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var b=0,A=!1,F={next:function(){if(!A&&b<h.length){var J=b++;return{value:v(J,h[J]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,b){return h.call.apply(h.bind,arguments)}function T(h,v,b){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),h.apply(v,F)}}return function(){return h.apply(v,arguments)}}function E(h,v,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,E.apply(null,arguments)}function C(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function D(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(A,F,J){for(var he=Array(arguments.length-2),He=2;He<arguments.length;He++)he[He-2]=arguments[He];return v.prototype[F].apply(A,he)}}function I(h){const v=h.length;if(0<v){const b=Array(v);for(let A=0;A<v;A++)b[A]=h[A];return b}return[]}function j(h,v){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(m(A)){const F=h.length||0,J=A.length||0;h.length=F+J;for(let he=0;he<J;he++)h[F+he]=A[he]}else h.push(A)}}class U{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(h){return/^[\s\xa0]*$/.test(h)}function K(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function Z(h){return Z[" "](h),h}Z[" "]=function(){};var W=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ue(h,v,b){for(const A in h)v.call(b,h[A],A,h)}function k(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function S(h){const v={};for(const b in h)v[b]=h[b];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,v){let b,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(b in A)h[b]=A[b];for(let J=0;J<N.length;J++)b=N[J],Object.prototype.hasOwnProperty.call(A,b)&&(h[b]=A[b])}}function L(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function B(h){d.setTimeout(()=>{throw h},0)}function R(){var h=_e;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class fe{constructor(){this.h=this.g=null}add(v,b){const A=me.get();A.set(v,b),this.h?this.h.next=A:this.g=A,this.h=A}}var me=new U(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ce=!1,_e=new fe,P=()=>{const h=d.Promise.resolve(void 0);se=()=>{h.then(te)}};var te=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(b){B(b)}var v=me;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ce=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var pe=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};d.addEventListener("test",b,v),d.removeEventListener("test",b,v)}catch{}return h})();function we(h,v){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(W){e:{try{Z(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ee[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&we.aa.h.call(this)}}D(we,le);var Ee={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function ge(h,v,b,A,F){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!A,this.ha=F,this.key=++Ye,this.da=this.fa=!1}function Te(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ke(h){this.src=h,this.g={},this.h=0}ke.prototype.add=function(h,v,b,A,F){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var he=St(h,v,A,F);return-1<he?(v=h[he],b||(v.fa=!1)):(v=new ge(v,this.src,J,!!A,F),v.fa=b,h.push(v)),v};function Qe(h,v){var b=v.type;if(b in h.g){var A=h.g[b],F=Array.prototype.indexOf.call(A,v,void 0),J;(J=0<=F)&&Array.prototype.splice.call(A,F,1),J&&(Te(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function St(h,v,b,A){for(var F=0;F<h.length;++F){var J=h[F];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==A)return F}return-1}var At="closure_lm_"+(1e6*Math.random()|0),Pt={};function dn(h,v,b,A,F){if(Array.isArray(v)){for(var J=0;J<v.length;J++)dn(h,v[J],b,A,F);return null}return b=Lc(b),h&&h[ft]?h.K(v,b,p(A)?!!A.capture:!1,F):Rt(h,v,b,!1,A,F)}function Rt(h,v,b,A,F,J){if(!v)throw Error("Invalid event type");var he=p(F)?!!F.capture:!!F,He=Hr(h);if(He||(h[At]=He=new ke(h)),b=He.add(v,b,A,he,J),b.proxy)return b;if(A=es(),b.proxy=A,A.src=h,A.listener=b,h.addEventListener)pe||(F=he),F===void 0&&(F=!1),h.addEventListener(v.toString(),A,F);else if(h.attachEvent)h.attachEvent(Kn(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function es(){function h(b){return v.call(h.src,h.listener,b)}const v=ts;return h}function qr(h,v,b,A,F){if(Array.isArray(v))for(var J=0;J<v.length;J++)qr(h,v[J],b,A,F);else A=p(A)?!!A.capture:!!A,b=Lc(b),h&&h[ft]?(h=h.i,v=String(v).toString(),v in h.g&&(J=h.g[v],b=St(J,b,A,F),-1<b&&(Te(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete h.g[v],h.h--)))):h&&(h=Hr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=St(v,b,A,F)),(b=-1<h?v[h]:null)&&Fr(b))}function Fr(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ft])Qe(v.i,h);else{var b=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(b,A,h.capture):v.detachEvent?v.detachEvent(Kn(b),A):v.addListener&&v.removeListener&&v.removeListener(A),(b=Hr(v))?(Qe(b,h),b.h==0&&(b.src=null,v[At]=null)):Te(h)}}}function Kn(h){return h in Pt?Pt[h]:Pt[h]="on"+h}function ts(h,v){if(h.da)h=!0;else{v=new we(v,this);var b=h.listener,A=h.ha||h.src;h.fa&&Fr(h),h=b.call(A,v)}return h}function Hr(h){return h=h[At],h instanceof ke?h:null}var bl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lc(h){return typeof h=="function"?h:(h[bl]||(h[bl]=function(v){return h.handleEvent(v)}),h[bl])}function Tt(){oe.call(this),this.i=new ke(this),this.M=this,this.F=null}D(Tt,oe),Tt.prototype[ft]=!0,Tt.prototype.removeEventListener=function(h,v,b,A){qr(this,h,v,b,A)};function et(h,v){var b,A=h.F;if(A)for(b=[];A;A=A.F)b.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new le(v,h);else if(v instanceof le)v.target=v.target||h;else{var F=v;v=new le(A,h),V(v,F)}if(F=!0,b)for(var J=b.length-1;0<=J;J--){var he=v.g=b[J];F=Pn(he,A,!0,v)&&F}if(he=v.g=h,F=Pn(he,A,!0,v)&&F,F=Pn(he,A,!1,v)&&F,b)for(J=0;J<b.length;J++)he=v.g=b[J],F=Pn(he,A,!1,v)&&F}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],A=0;A<b.length;A++)Te(b[A]);delete h.g[v],h.h--}}this.F=null},Tt.prototype.K=function(h,v,b,A){return this.i.add(String(h),v,!1,b,A)},Tt.prototype.L=function(h,v,b,A){return this.i.add(String(h),v,!0,b,A)};function Pn(h,v,b,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,J=0;J<v.length;++J){var he=v[J];if(he&&!he.da&&he.capture==b){var He=he.listener,Gt=he.ha||he.src;he.fa&&Qe(h.i,he),F=He.call(Gt,A)!==!1&&F}}return F&&!A.defaultPrevented}function mn(h,v,b){if(typeof h=="function")b&&(h=E(h,b));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function Uc(h){h.g=mn(()=>{h.g=null,h.i&&(h.i=!1,Uc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Bd extends oe{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Uc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(h){oe.call(this),this.h=h,this.g={}}D(Gr,oe);var Kr=[];function $r(h){ue(h.g,function(v,b){this.g.hasOwnProperty(b)&&Fr(v)},h),h.g={}}Gr.prototype.N=function(){Gr.aa.N.call(this),$r(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ci=d.JSON.stringify,Ha=d.JSON.parse,Yr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function El(){}El.prototype.h=null;function xl(h){return h.h||(h.h=h.i())}function wl(){}var ns={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function is(){le.call(this,"d")}D(is,le);function Sl(){le.call(this,"c")}D(Sl,le);var Ei={},Al=null;function qs(){return Al=Al||new Tt}Ei.La="serverreachability";function Ga(h){le.call(this,Ei.La,h)}D(Ga,le);function Fs(h){const v=qs();et(v,new Ga(v))}Ei.STAT_EVENT="statevent";function Bc(h,v){le.call(this,Ei.STAT_EVENT,h),this.stat=v}D(Bc,le);function dt(h){const v=qs();et(v,new Bc(v,h))}Ei.Ma="timingevent";function Ht(h,v){le.call(this,Ei.Ma,h),this.size=v}D(Ht,le);function kt(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function $n(){this.g=!0}$n.prototype.xa=function(){this.g=!1};function Rl(h,v,b,A,F,J){h.info(function(){if(h.g)if(J)for(var he="",He=J.split("&"),Gt=0;Gt<He.length;Gt++){var Ge=He[Gt].split("=");if(1<Ge.length){var Zt=Ge[0];Ge=Ge[1];var Kt=Zt.split("_");he=2<=Kt.length&&Kt[1]=="type"?he+(Zt+"="+Ge+"&"):he+(Zt+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+v+`
`+b+`
`+he})}function zd(h,v,b,A,F,J,he){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+v+`
`+b+`
`+J+" "+he})}function Hs(h,v,b,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Qr(h,b)+(A?" "+A:"")})}function zc(h,v){h.info(function(){return"TIMEOUT: "+v})}$n.prototype.info=function(){};function Qr(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var A=b[h];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var J=F[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<F.length;he++)F[he]=""}}}}return ci(b)}catch{return v}}var Gs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ss={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xi;function wi(){}D(wi,El),wi.prototype.g=function(){return new XMLHttpRequest},wi.prototype.i=function(){return{}},xi=new wi;function En(h,v,b,A){this.j=h,this.i=v,this.l=b,this.R=A||1,this.U=new Gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ct}function Ct(){this.i=null,this.g="",this.h=!1}var Cl={},Ka={};function hi(h,v,b){h.L=1,h.v=ea(kn(v)),h.m=b,h.P=!0,rs(h,null)}function rs(h,v){h.F=Date.now(),Xr(h),h.A=kn(h.v);var b=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Pl(b.i,"t",A),h.C=0,b=h.j.J,h.h=new Ct,h.g=ih(h.j,b?v:null,!h.m),0<h.O&&(h.M=new Bd(E(h.Y,h,h.g),h.O)),v=h.U,b=h.g,A=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(Kr[0]=F.toString()),F=Kr);for(var J=0;J<F.length;J++){var he=dn(b,F[J],A||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Fs(),Rl(h.i,h.u,h.A,h.l,h.R,h.m)}En.prototype.ca=function(h){h=h.target;const v=this.M;v&&Wn(h)==3?v.j():this.Y(h)},En.prototype.Y=function(h){try{if(h==this.g)e:{const Kt=Wn(this.g);var v=this.g.Ba();const ds=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Qc(this.g)))){this.J||Kt!=4||v==7||(v==8||0>=ds?Fs(3):Fs(2)),Ks(this);var b=this.g.Z();this.X=b;t:if(qc(this)){var A=Qc(this.g);h="";var F=A.length,J=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Si(this);var he="";break t}this.h.i=new d.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(J&&v==F-1)});A.length=0,this.h.g+=h,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=b==200,zd(this.i,this.u,this.A,this.l,this.R,Kt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Gt=this.g;if((He=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(He)){var Ge=He;break t}}Ge=null}if(b=Ge)Hs(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wr(this,b);else{this.o=!1,this.s=3,dt(12),sn(this),Si(this);break e}}if(this.P){b=!0;let rn;for(;!this.J&&this.C<he.length;)if(rn=Fc(this,he),rn==Ka){Kt==4&&(this.s=4,dt(14),b=!1),Hs(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Cl){this.s=4,dt(15),Hs(this.i,this.l,he,"[Invalid Chunk]"),b=!1;break}else Hs(this.i,this.l,rn,null),Wr(this,rn);if(qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||he.length!=0||this.h.h||(this.s=1,dt(16),b=!1),this.o=this.o&&b,!b)Hs(this.i,this.l,he,"[Invalid Chunked Response]"),sn(this),Si(this);else if(0<he.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),la(Zt),Zt.M=!0,dt(11))}}else Hs(this.i,this.l,he,null),Wr(this,he);Kt==4&&sn(this),this.o&&!this.J&&(Kt==4?eh(this.j,this):(this.o=!1,Xr(this)))}else Kd(this.g),b==400&&0<he.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),sn(this),Si(this)}}}catch{}finally{}};function qc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Fc(h,v){var b=h.C,A=v.indexOf(`
`,b);return A==-1?Ka:(b=Number(v.substring(b,A)),isNaN(b)?Cl:(A+=1,A+b>v.length?Ka:(v=v.slice(A,A+b),h.C=A+b,v)))}En.prototype.cancel=function(){this.J=!0,sn(this)};function Xr(h){h.S=Date.now()+h.I,Hc(h,h.I)}function Hc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=kt(E(h.ba,h),v)}function Ks(h){h.B&&(d.clearTimeout(h.B),h.B=null)}En.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(zc(this.i,this.A),this.L!=2&&(Fs(),dt(17)),sn(this),this.s=2,Si(this)):Hc(this,this.S-h)};function Si(h){h.j.G==0||h.J||eh(h.j,h)}function sn(h){Ks(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,$r(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Wr(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||Nl(b.h,h))){if(!h.K&&Nl(b.h,h)&&b.G==3){try{var A=b.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)so(b),no(b);else break e;Ul(b),dt(18)}}else b.za=F[1],0<b.za-b.T&&37500>F[2]&&b.F&&b.v==0&&!b.C&&(b.C=kt(E(b.Za,b),6e3));if(1>=Ya(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else fs(b,11)}else if((h.K||b.g==h)&&so(b),!Y(v))for(F=b.Da.g.parse(v),v=0;v<F.length;v++){let Ge=F[v];if(b.T=Ge[0],Ge=Ge[1],b.G==2)if(Ge[0]=="c"){b.K=Ge[1],b.ia=Ge[2];const Zt=Ge[3];Zt!=null&&(b.la=Zt,b.j.info("VER="+b.la));const Kt=Ge[4];Kt!=null&&(b.Aa=Kt,b.j.info("SVER="+b.Aa));const ds=Ge[5];ds!=null&&typeof ds=="number"&&0<ds&&(A=1.5*ds,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const rn=h.g;if(rn){const Mi=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mi){var J=A.h;J.g||Mi.indexOf("spdy")==-1&&Mi.indexOf("quic")==-1&&Mi.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Qa(J,J.h),J.h=null))}if(A.D){const zl=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(A.ya=zl,it(A.I,A.D,zl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var he=h;if(A.qa=nh(A,A.J?A.ia:null,A.W),he.K){xn(A.h,he);var He=he,Gt=A.L;Gt&&(He.I=Gt),He.B&&(Ks(He),Xr(He)),A.g=he}else Zc(A);0<b.i.length&&io(b)}else Ge[0]!="stop"&&Ge[0]!="close"||fs(b,7);else b.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?fs(b,7):jl(b):Ge[0]!="noop"&&b.l&&b.l.ta(Ge),b.v=0)}}Fs(4)}catch{}}var Gc=class{constructor(h,v){this.g=h,this.map=v}};function as(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $a(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ya(h){return h.h?1:h.g?h.g.size:0}function Nl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Qa(h,v){h.g?h.g.add(v):h.h=v}function xn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}as.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Il(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return I(h.i)}function qd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],b=h.length,A=0;A<b;A++)v.push(h[A]);return v}v=[],b=0;for(A in h)v[b++]=h[A];return v}function Xa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const A in h)v[b++]=A;return v}}}function Dl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=Xa(h),A=qd(h),F=A.length,J=0;J<F;J++)v.call(void 0,A[J],b&&b[J],h)}var Zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fd(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var A=h[b].indexOf("="),F=null;if(0<=A){var J=h[b].substring(0,A);F=h[b].substring(A+1)}else J=h[b];v(J,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ot(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ot){this.h=h.h,Jr(this,h.j),this.o=h.o,this.g=h.g,$s(this,h.s),this.l=h.l;var v=h.i,b=new ls;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),os(this,b),this.m=h.m}else h&&(v=String(h).match(Zr))?(this.h=!1,Jr(this,v[1]||"",!0),this.o=Yn(v[2]||""),this.g=Yn(v[3]||"",!0),$s(this,v[4]),this.l=Yn(v[5]||"",!0),os(this,v[6]||"",!0),this.m=Yn(v[7]||"")):(this.h=!1,this.i=new ls(null,this.h))}Ot.prototype.toString=function(){var h=[],v=this.j;v&&h.push(ta(v,Ml,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ta(v,Ml,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(ta(b,b.charAt(0)=="/"?Hd:Vl,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",ta(b,Wa)),h.join("")};function kn(h){return new Ot(h)}function Jr(h,v,b){h.j=b?Yn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function $s(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function os(h,v,b){v instanceof ls?(h.i=v,$c(h.i,h.h)):(b||(v=ta(v,Gd)),h.i=new ls(v,h.h))}function it(h,v,b){h.i.set(v,b)}function ea(h){return it(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Yn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ta(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,Kc),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Kc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ml=/[#\/\?@]/g,Vl=/[#\?:]/g,Hd=/[#\?]/g,Gd=/[#\?@]/g,Wa=/#/g;function ls(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Qn(h){h.g||(h.g=new Map,h.h=0,h.i&&Fd(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=ls.prototype,t.add=function(h,v){Qn(this),this.i=null,h=Ai(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function us(h,v){Qn(h),v=Ai(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function cs(h,v){return Qn(h),v=Ai(h,v),h.g.has(v)}t.forEach=function(h,v){Qn(this),this.g.forEach(function(b,A){b.forEach(function(F){h.call(v,F,A,this)},this)},this)},t.na=function(){Qn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let A=0;A<v.length;A++){const F=h[A];for(let J=0;J<F.length;J++)b.push(v[A])}return b},t.V=function(h){Qn(this);let v=[];if(typeof h=="string")cs(this,h)&&(v=v.concat(this.g.get(Ai(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},t.set=function(h,v){return Qn(this),this.i=null,h=Ai(this,h),cs(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Pl(h,v,b){us(h,v),0<b.length&&(h.i=null,h.g.set(Ai(h,v),I(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var A=v[b];const J=encodeURIComponent(String(A)),he=this.V(A);for(A=0;A<he.length;A++){var F=J;he[A]!==""&&(F+="="+encodeURIComponent(String(he[A]))),h.push(F)}}return this.i=h.join("&")};function Ai(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function $c(h,v){v&&!h.j&&(Qn(h),h.i=null,h.g.forEach(function(b,A){var F=A.toLowerCase();A!=F&&(us(this,A),Pl(this,F,b))},h)),h.j=v}function na(h,v){const b=new $n;if(d.Image){const A=new Image;A.onload=C(Xn,b,"TestLoadImage: loaded",!0,v,A),A.onerror=C(Xn,b,"TestLoadImage: error",!1,v,A),A.onabort=C(Xn,b,"TestLoadImage: abort",!1,v,A),A.ontimeout=C(Xn,b,"TestLoadImage: timeout",!1,v,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function fi(h,v){const b=new $n,A=new AbortController,F=setTimeout(()=>{A.abort(),Xn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(J=>{clearTimeout(F),J.ok?Xn(b,"TestPingServer: ok",!0,v):Xn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Xn(b,"TestPingServer: error",!1,v)})}function Xn(h,v,b,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(b)}catch{}}function ia(){this.g=new Yr}function Ri(h,v,b){const A=b||"";try{Dl(h,function(F,J){let he=F;p(F)&&(he=ci(F)),v.push(A+J+"="+encodeURIComponent(he))})}catch(F){throw v.push(A+"type="+encodeURIComponent("_badmap")),F}}function Ys(h){this.l=h.Ub||null,this.j=h.eb||!1}D(Ys,El),Ys.prototype.g=function(){return new hs(this.l,this.j)},Ys.prototype.i=(function(h){return function(){return h}})({});function hs(h,v){Tt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(hs,Tt),t=hs.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ni(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function kl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ci(this):Ni(this),this.readyState==3&&kl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ci(this))},t.Qa=function(h){this.g&&(this.response=h,Ci(this))},t.ga=function(){this.g&&Ci(this)};function Ci(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ni(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function Ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ol(h){let v="";return ue(h,function(b,A){v+=A,v+=":",v+=b,v+=`\r
`}),v}function Wt(h,v,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Ol(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):it(h,v,b))}function Je(h){Tt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Je,Tt);var Za=/^https?$/i,sa=["POST","PUT"];t=Je.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xi.g(),this.v=this.o?xl(this.o):xl(xi),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(J){Yc(this,J);return}if(h=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)b.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())b.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),F=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(sa,v,void 0))||A||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of b)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ra(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){Yc(this,J)}};function Yc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ja(h),Ii(h)}function Ja(h){h.A||(h.A=!0,et(h,"complete"),et(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,et(this,"complete"),et(this,"abort"),Ii(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?eo(this):this.bb())},t.bb=function(){eo(this)};function eo(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Wn(h)!=4||h.Z()!=2)){if(h.u&&Wn(h)==4)mn(h.Ea,0,h);else if(et(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const he=h.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var A;if(A=he===0){var F=String(h.D).match(Zr)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),A=!Za.test(F?F.toLowerCase():"")}b=A}if(b)et(h,"complete"),et(h,"success");else{h.m=6;try{var J=2<Wn(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",Ja(h)}}finally{Ii(h)}}}}function Ii(h,v){if(h.g){ra(h);const b=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||et(h,"ready");try{b.onreadystatechange=A}catch{}}}function ra(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ha(v)}};function Qc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Kd(h){const v={};h=(h.g&&2<=Wn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(Y(h[A]))continue;var b=L(h[A]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[F]||[];v[F]=J,J.push(b)}k(v,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function to(h){this.Aa=0,this.i=[],this.j=new $n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,h),this.cb=aa("retryDelaySeedMs",1e4,h),this.Wa=aa("forwardChannelMaxRetries",2,h),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new as(h&&h.concurrentRequestLimit),this.Da=new ia,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=to.prototype,t.la=8,t.G=1,t.connect=function(h,v,b,A){dt(0),this.W=h,this.H=v||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=nh(this,null,this.W),io(this)};function jl(h){if(Xc(h),h.G==3){var v=h.U++,b=kn(h.I);if(it(b,"SID",h.K),it(b,"RID",v),it(b,"TYPE","terminate"),oa(h,b),v=new En(h,h.j,v),v.L=2,v.v=ea(kn(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=v.v,b=!0),b||(v.g=ih(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Xr(v)}th(h)}function no(h){h.g&&(la(h),h.g.cancel(),h.g=null)}function Xc(h){no(h),h.u&&(d.clearTimeout(h.u),h.u=null),so(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function io(h){if(!$a(h.h)&&!h.s){h.s=!0;var v=h.Ga;se||P(),ce||(se(),ce=!0),_e.add(v,h),h.B=0}}function $d(h,v){return Ya(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=kt(E(h.Ga,h,v),Bl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new En(this,this.j,h);let J=this.o;if(this.S&&(J?(J=S(J),V(J,this.S)):J=this.S),this.m!==null||this.O||(F.H=J,J=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Wc(this,F,v),b=kn(this.I),it(b,"RID",h),it(b,"CVER",22),this.D&&it(b,"X-HTTP-Session-Id",this.D),oa(this,b),J&&(this.O?v="headers="+encodeURIComponent(String(Ol(J)))+"&"+v:this.m&&Wt(b,this.m,J)),Qa(this.h,F),this.Ua&&it(b,"TYPE","init"),this.P?(it(b,"$req",v),it(b,"SID","null"),F.T=!0,hi(F,b,null)):hi(F,b,v),this.G=2}}else this.G==3&&(h?Ll(this,h):this.i.length==0||$a(this.h)||Ll(this))};function Ll(h,v){var b;v?b=v.l:b=h.U++;const A=kn(h.I);it(A,"SID",h.K),it(A,"RID",b),it(A,"AID",h.T),oa(h,A),h.m&&h.o&&Wt(A,h.m,h.o),b=new En(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Wc(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Qa(h.h,b),hi(b,A,v)}function oa(h,v){h.H&&ue(h.H,function(b,A){it(v,A,b)}),h.l&&Dl({},function(b,A){it(v,A,b)})}function Wc(h,v,b){b=Math.min(h.i.length,b);var A=h.l?E(h.l.Na,h.l,h):null;e:{var F=h.i;let J=-1;for(;;){const he=["count="+b];J==-1?0<b?(J=F[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let He=!0;for(let Gt=0;Gt<b;Gt++){let Ge=F[Gt].g;const Zt=F[Gt].map;if(Ge-=J,0>Ge)J=Math.max(0,F[Gt].g-100),He=!1;else try{Ri(Zt,he,"req"+Ge+"_")}catch{A&&A(Zt)}}if(He){A=he.join("&");break e}}}return h=h.i.splice(0,b),v.D=h,A}function Zc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;se||P(),ce||(se(),ce=!0),_e.add(v,h),h.v=0}}function Ul(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=kt(E(h.Fa,h),Bl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Jc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=kt(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),no(this),Jc(this))};function la(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Jc(h){h.g=new En(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=kn(h.qa);it(v,"RID","rpc"),it(v,"SID",h.K),it(v,"AID",h.T),it(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&it(v,"TO",h.ja),it(v,"TYPE","xmlhttp"),oa(h,v),h.m&&h.o&&Wt(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=ea(kn(v)),b.m=null,b.P=!0,rs(b,h)}t.Za=function(){this.C!=null&&(this.C=null,no(this),Ul(this),dt(19))};function so(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function eh(h,v){var b=null;if(h.g==v){so(h),la(h),h.g=null;var A=2}else if(Nl(h.h,v))b=v.D,xn(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var F=h.B;A=qs(),et(A,new Ht(A,b)),io(h)}else Zc(h);else if(F=v.s,F==3||F==0&&0<v.X||!(A==1&&$d(h,v)||A==2&&Ul(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),F){case 1:fs(h,5);break;case 4:fs(h,10);break;case 3:fs(h,6);break;default:fs(h,2)}}}function Bl(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function fs(h,v){if(h.j.info("Error code "+v),v==2){var b=E(h.fb,h),A=h.Xa;const F=!A;A=new Ot(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Jr(A,"https"),ea(A),F?na(A.toString(),b):fi(A.toString(),b)}else dt(2);h.G=0,h.l&&h.l.sa(v),th(h),Xc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function th(h){if(h.G=0,h.ka=[],h.l){const v=Il(h.h);(v.length!=0||h.i.length!=0)&&(j(h.ka,v),j(h.ka,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.ra()}}function nh(h,v,b){var A=b instanceof Ot?kn(b):new Ot(b);if(A.g!="")v&&(A.g=v+"."+A.g),$s(A,A.s);else{var F=d.location;A=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var J=new Ot(null);A&&Jr(J,A),v&&(J.g=v),F&&$s(J,F),b&&(J.l=b),A=J}return b=h.D,v=h.ya,b&&v&&it(A,b,v),it(A,"VER",h.la),oa(h,A),A}function ih(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Je(new Ys({eb:b})):new Je(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sh(){}t=sh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ro(){}ro.prototype.g=function(h,v){return new wn(h,v)};function wn(h,v){Tt.call(this),this.g=new to(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Y(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Di(this)}D(wn,Tt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){jl(this.g)},wn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=ci(h),h=b);v.i.push(new Gc(v.Ya++,h)),v.G==3&&io(v)},wn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,wn.aa.N.call(this)};function rh(h){is.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}D(rh,is);function ah(){Sl.call(this),this.status=1}D(ah,Sl);function Di(h){this.g=h}D(Di,sh),Di.prototype.ua=function(){et(this.g,"a")},Di.prototype.ta=function(h){et(this.g,new rh(h))},Di.prototype.sa=function(h){et(this.g,new ah)},Di.prototype.ra=function(){et(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,H1=function(){return new ro},F1=function(){return qs()},q1=Ei,jg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,If=Gs,ss.COMPLETE="complete",z1=ss,wl.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Vu=wl,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,B1=Je}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const hE="@firebase/firestore",fE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new Dy("@firebase/firestore");function Oo(){return ja.logLevel}function ye(t,...e){if(ja.logLevel<=ze.DEBUG){const n=e.map(Hy);ja.debug(`Firestore (${ml}): ${t}`,...n)}}function ks(t,...e){if(ja.logLevel<=ze.ERROR){const n=e.map(Hy);ja.error(`Firestore (${ml}): ${t}`,...n)}}function ec(t,...e){if(ja.logLevel<=ze.WARN){const n=e.map(Hy);ja.warn(`Firestore (${ml}): ${t}`,...n)}}function Hy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,G1(t,s,n)}function G1(t,e,n){let s=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ks(s),new Error(s)}function Ze(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||G1(e,a,s)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class lP{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string",31837,{l:s}),new aP(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class uP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new uP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const s=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=fP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function qe(t,e){return t<e?-1:t>e?1:0}function Lg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Jp(a)===Jp(l)?qe(a,l):Jp(a)?1:-1}return qe(t.length,e.length)}const dP=55296,mP=57343;function Jp(t){const e=t.charCodeAt(0);return e>=dP&&e<=mP}function el(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__name__";class Li{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ne(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Li.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const s=Li.isNumericId(e),a=Li.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Li.extractNumericId(e).compare(Li.extractNumericId(n)):Lg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}}class ct extends Li{construct(e,n,s){return new ct(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ct(n)}static emptyPath(){return new ct([])}}const pP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Li{construct(e,n,s){return new hn(e,n,s)}static isValidIdentifier(e){return pP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mE}static keyField(){return new hn([mE])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ct.fromString(e))}static fromName(e){return new xe(ct.fromString(e).popFirst(5))}static empty(){return new xe(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t,e,n){if(!n)throw new de(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gP(t,e,n,s){if(e===!0&&s===!0)throw new de(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pE(t){if(!xe.isDocumentKey(t))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gE(t){if(xe.isDocumentKey(t))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _d(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Os(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_d(t);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function xc(t,e){if(!$1(t))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new de(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=-62135596800,vE=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*vE);return new ht(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yE)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vE}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xc(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:qt("string",ht._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new ht(0,0))}static max(){return new Ve(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=-1;function yP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(s===1e9?new ht(n+1,0):new ht(n,s));return new Nr(a,xe.empty(),e)}function vP(t){return new Nr(t.readTime,t.key,tc)}class Nr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Nr(Ve.min(),xe.empty(),tc)}static max(){return new Nr(Ve.max(),xe.empty(),tc)}}function _P(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==TP)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,s)=>{n(e)}))}static reject(e){return new ae(((n,s)=>{s(e)}))}static waitFor(e){return new ae(((n,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next((a=>a?ae.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ae(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{c[p]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new ae(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function EP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Td.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=-1;function bd(t){return t==null}function Qf(t){return t===0&&1/t==-1/0}function xP(t){return typeof t=="number"&&Number.isInteger(t)&&!Qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="";function wP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_E(e)),e=SP(t.get(n),e);return _E(e)}function SP(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Y1:n+="";break;default:n+=l}}return n}function _E(t){return t+Y1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ur(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AP(t,e){const n=[];for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.push(e(t[s],s,t));return n}function Q1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hf(this.root,e,this.comparator,!0)}}class hf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new cn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bE(this.data.getIterator())}getIteratorFrom(e){return new bE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class bE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Xt(hn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new X1("Invalid base64 string: "+l):l}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const RP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(t){if(Ze(!!t,39018),typeof t=="string"){let e=0;const n=RP.exec(t);if(Ze(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dr(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="server_timestamp",Z1="__type__",J1="__previous_value__",eS="__local_write_time__";function $y(t){return(t?.mapValue?.fields||{})[Z1]?.stringValue===W1}function Ed(t){const e=t.mapValue.fields[J1];return $y(e)?Ed(e):e}function nc(t){const e=Ir(t.mapValue.fields[eS].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n,s,a,l,c,d,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Xf="(default)";class ic{constructor(e,n){this.projectId=e,this.database=n||Xf}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="__type__",NP="__max__",ff={mapValue:{}},nS="__vector__",Wf="value";function Mr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$y(t)?4:DP(t)?9007199254740991:IP(t)?10:11:Ne(28295,{value:t})}function Zi(t,e){if(t===e)return!0;const n=Mr(t);if(n!==Mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nc(t).isEqual(nc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ir(a.timestampValue),d=Ir(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Dr(a.bytesValue).isEqual(Dr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Mt(a.doubleValue),d=Mt(l.doubleValue);return c===d?Qf(c)===Qf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(TE(c)!==TE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Zi(c[m],d[m])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function sc(t,e){return(t.values||[]).find((n=>Zi(n,e)))!==void 0}function tl(t,e){if(t===e)return 0;const n=Mr(t),s=Mr(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Mt(l.integerValue||l.doubleValue),m=Mt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return EE(t.timestampValue,e.timestampValue);case 4:return EE(nc(t),nc(e));case 5:return Lg(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Dr(l),m=Dr(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=qe(d[p],m[p]);if(y!==0)return y}return qe(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=qe(Mt(l.latitude),Mt(c.latitude));return d!==0?d:qe(Mt(l.longitude),Mt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return xE(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[Wf]?.arrayValue,y=m[Wf]?.arrayValue,T=qe(p?.values?.length||0,y?.values?.length||0);return T!==0?T:xE(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===ff.mapValue&&c===ff.mapValue)return 0;if(l===ff.mapValue)return 1;if(c===ff.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const E=Lg(m[T],y[T]);if(E!==0)return E;const C=tl(d[m[T]],p[y[T]]);if(C!==0)return C}return qe(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function EE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Ir(t),s=Ir(e),a=qe(n.seconds,s.seconds);return a!==0?a:qe(n.nanos,s.nanos)}function xE(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=tl(n[a],s[a]);if(l)return l}return qe(n.length,s.length)}function nl(t){return Ug(t)}function Ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ir(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Dr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Ug(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Ug(n.fields[c])}`;return a+"}"})(t.mapValue):Ne(61005,{value:t})}function Df(t){switch(Mr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ed(t);return e?16+Df(e):16;case 5:return 2*t.stringValue.length;case 6:return Dr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Df(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ur(s.fields,((l,c)=>{a+=l.length+Df(c)})),a})(t.mapValue);default:throw Ne(13486,{value:t})}}function wE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bg(t){return!!t&&"integerValue"in t}function Yy(t){return!!t&&"arrayValue"in t}function SE(t){return!!t&&"nullValue"in t}function AE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mf(t){return!!t&&"mapValue"in t}function IP(t){return(t?.mapValue?.fields||{})[tS]?.stringValue===nS}function Bu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ur(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Bu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bu(t.arrayValue.values[n]);return e}return{...t}}function DP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Mf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(n)}setAll(e){let n=hn.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Bu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Mf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Mf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ur(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Mn(Bu(this.value))}}function iS(t){const e=[];return Ur(t.fields,((n,s)=>{const a=new hn([n]);if(Mf(s)){const l=iS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new _n(e,0,Ve.min(),Ve.min(),Ve.min(),Mn.empty(),0)}static newFoundDocument(e,n,s,a){return new _n(e,1,n,Ve.min(),s,a,0)}static newNoDocument(e,n){return new _n(e,2,n,Ve.min(),Ve.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Ve.min(),Ve.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){this.position=e,this.inclusive=n}}function RE(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=xe.comparator(xe.fromName(c.referenceValue),n.key):s=tl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function CE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function MP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class zt extends sS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new PP(e,n,s):n==="array-contains"?new jP(e,s):n==="in"?new LP(e,s):n==="not-in"?new UP(e,s):n==="array-contains-any"?new BP(e,s):new zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new kP(e,s):new OP(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends sS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ti(e,n)}matches(e){return rS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rS(t){return t.op==="and"}function aS(t){return VP(t)&&rS(t)}function VP(t){for(const e of t.filters)if(e instanceof Ti)return!1;return!0}function zg(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(aS(t))return t.filters.map((e=>zg(e))).join(",");{const e=t.filters.map((n=>zg(n))).join(",");return`${t.op}(${e})`}}function oS(t,e){return t instanceof zt?(function(s,a){return a instanceof zt&&s.op===a.op&&s.field.isEqual(a.field)&&Zi(s.value,a.value)})(t,e):t instanceof Ti?(function(s,a){return a instanceof Ti&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&oS(c,a.filters[d])),!0):!1})(t,e):void Ne(19439)}function lS(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`})(t):t instanceof Ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(lS).join(" ,")+"}"})(t):"Filter"}class PP extends zt{constructor(e,n,s){super(e,n,s),this.key=xe.fromName(s.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class kP extends zt{constructor(e,n){super(e,"in",n),this.keys=uS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class OP extends zt{constructor(e,n){super(e,"not-in",n),this.keys=uS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function uS(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class jP extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yy(n)&&sc(n.arrayValue,this.value)}}class LP extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sc(this.value.arrayValue,n)}}class UP extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sc(this.value.arrayValue,n)}}class BP extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>sc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function NE(t,e=null,n=[],s=[],a=null,l=null,c=null){return new zP(t,e,n,s,a,l,c)}function Qy(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>zg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>nl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>nl(s))).join(",")),e.Te=n}return e.Te}function Xy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CE(t.startAt,e.startAt)&&CE(t.endAt,e.endAt)}function qg(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qP(t,e,n,s,a,l,c,d){return new wc(t,e,n,s,a,l,c,d)}function Wy(t){return new wc(t)}function IE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cS(t){return t.collectionGroup!==null}function zu(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Xt(hn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Jf(l,s))})),n.has(hn.keyField().canonicalString())||e.Ie.push(new Jf(hn.keyField(),s))}return e.Ie}function Hi(t){const e=Me(t);return e.Ee||(e.Ee=hS(e,zu(t))),e.Ee}function FP(t){const e=Me(t);return e.de||(e.de=hS(e,t.explicitOrderBy)),e.de}function hS(t,e){if(t.limitType==="F")return NE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Jf(a.field,l)}));const n=t.endAt?new Zf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Zf(t.startAt.position,t.startAt.inclusive):null;return NE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Fg(t,e){const n=t.filters.concat([e]);return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ed(t,e,n){return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return Xy(Hi(t),Hi(e))&&t.limitType===e.limitType}function fS(t){return`${Qy(Hi(t))}|lt:${t.limitType}`}function jo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>lS(a))).join(", ")}]`),bd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>nl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>nl(a))).join(",")),`Target(${s})`})(Hi(t))}; limitType=${t.limitType})`}function wd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):xe.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of zu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const p=RE(c,d,m);return c.inclusive?p<=0:p<0})(s.startAt,zu(s),a)||s.endAt&&!(function(c,d,m){const p=RE(c,d,m);return c.inclusive?p>=0:p>0})(s.endAt,zu(s),a))})(t,e)}function HP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dS(t){return(e,n)=>{let s=!1;for(const a of zu(t)){const l=GP(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function GP(t,e,n){const s=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?tl(m,p):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ur(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return Q1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new _t(xe.comparator);function js(){return KP}const mS=new _t(xe.comparator);function Pu(...t){let e=mS;for(const n of t)e=e.insert(n.key,n);return e}function pS(t){let e=mS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ra(){return qu()}function gS(){return qu()}function qu(){return new Ba((t=>t.toString()),((t,e)=>t.isEqual(e)))}const $P=new _t(xe.comparator),YP=new Xt(xe.comparator);function Fe(...t){let e=YP;for(const n of t)e=e.add(n);return e}const QP=new Xt(qe);function XP(){return QP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function yS(t){return{integerValue:""+t}}function WP(t,e){return xP(e)?yS(e):Zy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this._=void 0}}function ZP(t,e,n){return t instanceof rc?(function(a,l){const c={fields:{[Z1]:{stringValue:W1},[eS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&$y(l)&&(l=Ed(l)),l&&(c.fields[J1]=l),{mapValue:c}})(n,e):t instanceof ac?_S(t,e):t instanceof oc?TS(t,e):(function(a,l){const c=vS(a,l),d=DE(c)+DE(a.Ae);return Bg(c)&&Bg(a.Ae)?yS(d):Zy(a.serializer,d)})(t,e)}function JP(t,e,n){return t instanceof ac?_S(t,e):t instanceof oc?TS(t,e):n}function vS(t,e){return t instanceof td?(function(s){return Bg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class rc extends Sd{}class ac extends Sd{constructor(e){super(),this.elements=e}}function _S(t,e){const n=bS(e);for(const s of t.elements)n.some((a=>Zi(a,s)))||n.push(s);return{arrayValue:{values:n}}}class oc extends Sd{constructor(e){super(),this.elements=e}}function TS(t,e){let n=bS(e);for(const s of t.elements)n=n.filter((a=>!Zi(a,s)));return{arrayValue:{values:n}}}class td extends Sd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function DE(t){return Mt(t.integerValue||t.doubleValue)}function bS(t){return Yy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n){this.field=e,this.transform=n}}function tk(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof ac&&a instanceof ac||s instanceof oc&&a instanceof oc?el(s.elements,a.elements,Zi):s instanceof td&&a instanceof td?Zi(s.Ae,a.Ae):s instanceof rc&&a instanceof rc})(t.transform,e.transform)}class nk{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ad{}function ES(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jy(t.key,Gn.none()):new Sc(t.key,t.data,Gn.none());{const n=t.data,s=Mn.empty();let a=new Xt(hn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Br(t.key,s,new Hn(a.toArray()),Gn.none())}}function ik(t,e,n){t instanceof Sc?(function(a,l,c){const d=a.value.clone(),m=VE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Br?(function(a,l,c){if(!Vf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=VE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(xS(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Fu(t,e,n,s){return t instanceof Sc?(function(l,c,d,m){if(!Vf(l.precondition,c))return d;const p=l.value.clone(),y=PE(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Br?(function(l,c,d,m){if(!Vf(l.precondition,c))return d;const p=PE(l.fieldTransforms,m,c),y=c.data;return y.setAll(xS(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(t,e,n,s):(function(l,c,d){return Vf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function sk(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=vS(s.transform,a||null);l!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,l))}return n||null}function ME(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&el(s,a,((l,c)=>tk(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sc extends Ad{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Br extends Ad{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function VE(t,e,n){const s=new Map;Ze(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,JP(c,d,n[a]))}return s}function PE(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,ZP(l,c,e))}return s}class Jy extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rk extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&ik(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=ES(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,((n,s)=>ME(n,s)))&&el(this.baseMutations,e.baseMutations,((n,s)=>ME(n,s)))}}class e0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return $P})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new e0(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,s){this.alias=e,this.aggregateType=n,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,$e;function ck(t){switch(t){case ne.OK:return Ne(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function wS(t){if(t===void 0)return ks("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Ut.OK:return ne.OK;case Ut.CANCELLED:return ne.CANCELLED;case Ut.UNKNOWN:return ne.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ne.INTERNAL;case Ut.UNAVAILABLE:return ne.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ne.NOT_FOUND;case Ut.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ut.ABORTED:return ne.ABORTED;case Ut.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ut.DATA_LOSS:return ne.DATA_LOSS;default:return Ne(39323,{code:t})}}($e=Ut||(Ut={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new Rr([4294967295,4294967295],0);function kE(t){const e=hk().encode(t),n=new U1;return n.update(e),new Uint8Array(n.digest())}function OE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Rr([n,s],0),new Rr([a,l],0)]}class t0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ku(`Invalid padding: ${n}`);if(s<0)throw new ku(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ku(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ku(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Rr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Rr.fromNumber(s)));return a.compare(fk)===1&&(a=new Rr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kE(e),[s,a]=OE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new t0(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=kE(e),[s,a]=OE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Rd(Ve.min(),a,new _t(qe),js(),Fe())}}class Ac{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ac(s,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class SS{constructor(e,n){this.targetId=e,this.Ce=n}}class AS{constructor(e,n,s=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class jE{constructor(){this.ve=0,this.Fe=LE(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),s=Fe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ne(38017,{changeType:l})}})),new Ac(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=LE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dk{constructor(e){this.Ge=e,this.ze=new Map,this.je=js(),this.Je=df(),this.He=df(),this.Ye=new _t(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(qg(l))if(s===0){const c=new xe(l.path);this.et(n,c,_n.newNoDocument(c,Ve.min()))}else Ze(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Dr(s).toUint8Array()}catch(m){if(m instanceof X1)return ec("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new t0(c,a,l)}catch(m){return ec(m instanceof ku?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&qg(d.target)){const m=new xe(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,_n.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Fe();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Rd(e,n,this.Ye,this.je,s);return this.je=js(),this.Je=df(),this.He=df(),this.Ye=new _t(qe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new jE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function df(){return new _t(xe.comparator)}function LE(){return new _t(xe.comparator)}const mk={asc:"ASCENDING",desc:"DESCENDING"},pk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gk={and:"AND",or:"OR"};class yk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hg(t,e){return t.useProto3Json||bd(e)?e:{value:e}}function nd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vk(t,e){return nd(t,e.toTimestamp())}function Gi(t){return Ze(!!t,49232),Ve.fromTimestamp((function(n){const s=Ir(n);return new ht(s.seconds,s.nanos)})(t))}function n0(t,e){return Gg(t,e).canonicalString()}function Gg(t,e){const n=(function(a){return new ct(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function CS(t){const e=ct.fromString(t);return Ze(PS(e),10190,{key:e.toString()}),e}function Kg(t,e){return n0(t.databaseId,e.path)}function eg(t,e){const n=CS(e);if(n.get(1)!==t.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(IS(n))}function NS(t,e){return n0(t.databaseId,e)}function _k(t){const e=CS(t);return e.length===4?ct.emptyPath():IS(e)}function $g(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IS(t){return Ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function UE(t,e,n){return{name:Kg(t,e),fields:n.value.mapValue.fields}}function Tk(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ne(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Ze(y===void 0||typeof y=="string",58123),fn.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),fn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?ne.UNKNOWN:wS(p.code);return new de(y,p.message||"")})(c);n=new AS(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=eg(t,s.document.name),l=Gi(s.document.updateTime),c=s.document.createTime?Gi(s.document.createTime):Ve.min(),d=new Mn({mapValue:{fields:s.document.fields}}),m=_n.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Pf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=eg(t,s.document),l=s.readTime?Gi(s.readTime):Ve.min(),c=_n.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Pf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=eg(t,s.document),l=s.removedTargetIds||[];n=new Pf([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new uk(a,l),d=s.targetId;n=new SS(d,c)}}return n}function bk(t,e){let n;if(e instanceof Sc)n={update:UE(t,e.key,e.value)};else if(e instanceof Jy)n={delete:Kg(t,e.key)};else if(e instanceof Br)n={update:UE(t,e.key,e.data),updateMask:Ik(e.fieldMask)};else{if(!(e instanceof rk))return Ne(16599,{Vt:e.type});n={verify:Kg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof rc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ac)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof oc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof td)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ne(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:vk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)})(t,e.precondition)),n}function Ek(t,e){return t&&t.length>0?(Ze(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Gi(a.updateTime):Gi(l);return c.isEqual(Ve.min())&&(c=Gi(l)),new nk(c,a.transformResults||[])})(n,e)))):[]}function xk(t,e){return{documents:[NS(t,e.path)]}}function DS(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NS(t,a);const l=(function(p){if(p.length!==0)return VS(Ti.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:Er(E.field),direction:Rk(E.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Hg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function wk(t,e,n,s){const{ft:a,parent:l}=DS(t,e),c={},d=[];let m=0;return n.forEach((p=>{const y="aggregate_"+m++;c[y]=p.alias,p.aggregateType==="count"?d.push({alias:y,count:{}}):p.aggregateType==="avg"?d.push({alias:y,avg:{field:Er(p.fieldPath)}}):p.aggregateType==="sum"&&d.push({alias:y,sum:{field:Er(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:d,structuredQuery:a.structuredQuery},parent:a.parent},gt:c,parent:l}}function Sk(t){let e=_k(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ze(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(T){const E=MS(T);return E instanceof Ti&&aS(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((E=>(function(D){return new Jf(Lo(D.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let E;return E=typeof T=="object"?T.value:T,bd(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(T){const E=!!T.before,C=T.values||[];return new Zf(C,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const E=!T.before,C=T.values||[];return new Zf(C,E)})(n.endAt)),qP(e,a,c,l,d,"F",m,p)}function Ak(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Lo(n.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(n.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(n.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(n.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(Lo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ti.create(n.compositeFilter.filters.map((s=>MS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function Rk(t){return mk[t]}function Ck(t){return pk[t]}function Nk(t){return gk[t]}function Er(t){return{fieldPath:t.canonicalString()}}function Lo(t){return hn.fromServerFormat(t.fieldPath)}function VS(t){return t instanceof zt?(function(n){if(n.op==="=="){if(AE(n.value))return{unaryFilter:{field:Er(n.field),op:"IS_NAN"}};if(SE(n.value))return{unaryFilter:{field:Er(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AE(n.value))return{unaryFilter:{field:Er(n.field),op:"IS_NOT_NAN"}};if(SE(n.value))return{unaryFilter:{field:Er(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Er(n.field),op:Ck(n.op),value:n.value}}})(t):t instanceof Ti?(function(n){const s=n.getFilters().map((a=>VS(a)));return s.length===1?s[0]:{compositeFilter:{op:Nk(n.op),filters:s}}})(t):Ne(54877,{filter:t})}function Ik(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function PS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,s,a,l=Ve.min(),c=Ve.min(),d=fn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.yt=e}}function Mk(t){const e=Sk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.Cn=new Pk}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Nr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Nr.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class Pk{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Xt(ct.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Xt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kS=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(kS,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="LruGarbageCollector",OS=1048576;function qE([t,e],[n,s]){const a=qe(t,n);return a===0?qe(e,s):a}class kk{constructor(e){this.Ir=e,this.buffer=new Xt(qE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();qE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ok{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(zE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?ye(zE,"Ignoring IndexedDB error during garbage collection: ",n):await pl(n)}await this.Vr(3e5)}))}}class jk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Td.ce);const s=new kk(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(BE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(s=T,d=Date.now(),this.removeTargets(e,s,n)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),Oo()<=ze.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function Lk(t,e){return new jk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.changes=new Ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Fu(s.mutation,a,Hn.empty(),ht.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Fe()){const a=Ra();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Pu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ra();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Fe())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,a){let l=js();const c=qu(),d=(function(){return qu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Br)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Fu(y.mutation,p,y.mutation.getFieldMask(),ht.now())):c.set(p.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new Bk(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=qu();let a=new _t(((c,d)=>c-d)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||Hn.empty();y=d.applyToLocalView(p,y),s.set(m,y);const T=(a.get(d.batchId)||Fe()).add(m);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,T=gS();y.forEach((E=>{if(!l.has(E)){const C=ES(n.get(E),s.get(E));C!==null&&T.set(E,C),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ae.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ae.resolve(Ra());let d=tc,m=l;return c.next((p=>ae.forEach(p,((y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Fe()))).next((y=>({batchId:d,changes:pS(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((s=>{let a=Pu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Pu();return this.indexManager.getCollectionParents(e,l).next((d=>ae.forEach(d,(m=>{const p=(function(T,E){return new wc(E,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((T,E)=>{c=c.insert(T,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,_n.newInvalidDocument(y)))}));let d=Pu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Fu(y.mutation,p,Hn.empty(),ht.now()),wd(n,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Gi(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:Mk(a.bundledQuery),readTime:Gi(a.readTime)}})(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.overlays=new _t(xe.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ra();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const a=Ra(),l=n.length+1,c=new xe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new _t(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Ra(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Ra(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return ae.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new ok(n,s));let l=this.qr.get(n);l===void 0&&(l=Fe(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.Qr=new Xt(nn.$r),this.Ur=new Xt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new nn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new nn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new xe(new ct([])),s=new nn(n,e),a=new nn(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new ct([])),s=new nn(n,e),a=new nn(n,e+1);let l=Fe();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new nn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class nn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(nn.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ak(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new nn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Ky:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new nn(n,0),a=new nn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xt(qe);return n.forEach((a=>{const l=new nn(a,0),c=new nn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;xe.isDocumentKey(l)||(l=l.child(""));const c=new nn(new xe(l),0);let d=new Xt(qe);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),c),ae.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ze(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(n.mutations,(a=>{const l=new nn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new nn(n,0),a=this.Zr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.ri=e,this.docs=(function(){return new _t(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let s=js();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))})),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=js();const c=n.path,d=new xe(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||_P(vP(y),s)<=0||(a.has(y.key)||wd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ne(9500)}ii(e,n){return ae.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new $k(this)}getSize(e){return ae.resolve(this.size)}}class $k extends Uk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.persistence=e,this.si=new Ba((n=>Qy(n)),Xy),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new i0,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new il(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Td(0),this.li=!1,this.li=!0,this.hi=new Hk,this.referenceDelegate=e(this),this.Pi=new Yk(this),this.indexManager=new Vk,this.remoteDocumentCache=(function(a){return new Kk(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Dk(n),this.Ii=new qk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Gk(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const a=new Qk(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ae.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Qk extends bP{constructor(e){super(),this.currentSequenceNumber=e}}class s0{constructor(e){this.persistence=e,this.Ri=new i0,this.Vi=null}static mi(e){return new s0(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(s=>{const a=xe.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class id{constructor(e,n){this.persistence=e,this.pi=new Ba((s=>wP(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Lk(this,n)}static mi(e,n){return new id(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,l.removeEntry(c,Ve.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Df(e.data.value)),n}br(e,n,s){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Fe(),a=Fe();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new r0(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AI()?8:EP(bn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Xk;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Oo()<=ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Oo()<=ze.DEBUG&&ye("QueryEngine","Query:",jo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Oo()<=ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(n))):ae.resolve())}ys(e,n){if(IE(n))return ae.resolve(null);let s=Hi(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ed(n,null,"F"),s=Hi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Fe(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,d);return this.Cs(n,p,c,m.readTime)?this.ys(e,ed(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return IE(n)||a.isEqual(Ve.min())?ae.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?ae.resolve(null):(Oo()<=ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jo(n)),this.vs(e,c,n,yP(a,tc)).next((d=>d)))}))}Ds(e,n){let s=new Xt(dS(e));return n.forEach(((a,l)=>{wd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Oo()<=ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",jo(n)),this.ps.getDocumentsMatchingQuery(e,n,Nr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="LocalStore",Zk=3e8;class Jk{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new _t(qe),this.xs=new Ba((l=>Qy(l)),Xy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function eO(t,e,n,s){return new Jk(t,e,n,s)}async function LS(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Fe();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function tO(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const T=p.batch,E=T.keys();let C=ae.resolve();return E.forEach((D=>{C=C.next((()=>y.getEntry(m,D))).next((I=>{const j=p.docVersions.get(D);Ze(j!==null,48541),I.version.compareTo(j)<0&&(T.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),y.addEntry(I)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Fe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function US(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function nO(t,e){const n=Me(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((y,T)=>{const E=a.get(T);if(!E)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,T))));let C=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(fn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(T,C),(function(I,j,U){return I.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=Zk?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(E,C,y)&&d.push(n.Pi.updateTargetData(l,C))}));let m=js(),p=Fe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(iO(l,c,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(Ve.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return ae.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function iO(t,e,n){let s=Fe(),a=Fe();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=js();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ve.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ye(a0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function sO(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ky),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function rO(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ae.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new xr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Yg(t,e,n){const s=Me(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!gl(c))throw c;ye(a0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function FE(t,e,n){const s=Me(t);let a=Ve.min(),l=Fe();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const T=Me(m),E=T.xs.get(y);return E!==void 0?ae.resolve(T.Ms.get(E)):T.Pi.getTargetData(p,y)})(s,c,Hi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ve.min(),n?l:Fe()))).next((d=>(aO(s,HP(e),d),{documents:d,Qs:l})))))}function aO(t,e,n){let s=t.Os.get(e)||Ve.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class HE{constructor(){this.activeTargetIds=XP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oO{constructor(){this.Mo=new HE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new HE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="ConnectivityMonitor";class KE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(GE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(GE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf=null;function Qg(){return mf===null?mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():mf++,"0x"+mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="RestConnection",uO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Xf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=Qg(),d=this.zo(e,n.toUriEncodedString());ye(tg,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),y=hl(p);return this.Jo(e,d,m,s,y).then((T=>(ye(tg,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw ec(tg,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ml})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=uO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class fO extends cO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=Qg();return new Promise(((d,m)=>{const p=new B1;p.setWithCredentials(!0),p.listenOnce(z1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case If.NO_ERROR:const T=p.getResponseJson();ye(yn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case If.TIMEOUT:ye(yn,`RPC '${e}' ${c} timed out`),m(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case If.HTTP_ERROR:const E=p.getStatus();if(ye(yn,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const D=C?.error;if(D&&D.status&&D.message){const I=(function(U){const Y=U.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Y)>=0?Y:ne.UNKNOWN})(D.status);m(new de(I,D.message))}else m(new de(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(yn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);ye(yn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Qg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=H1(),d=F1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ye(yn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);this.I_(T);let E=!1,C=!1;const D=new hO({Yo:j=>{C?ye(yn,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(E||(ye(yn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),E=!0),ye(yn,`RPC '${e}' stream ${a} sending:`,j),T.send(j))},Zo:()=>T.close()}),I=(j,U,Y)=>{j.listen(U,(K=>{try{Y(K)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return I(T,Vu.EventType.OPEN,(()=>{C||(ye(yn,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),I(T,Vu.EventType.CLOSE,(()=>{C||(C=!0,ye(yn,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(T))})),I(T,Vu.EventType.ERROR,(j=>{C||(C=!0,ec(yn,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),D.a_(new de(ne.UNAVAILABLE,"The operation could not be completed")))})),I(T,Vu.EventType.MESSAGE,(j=>{if(!C){const U=j.data[0];Ze(!!U,16349);const Y=U,K=Y?.error||Y[0]?.error;if(K){ye(yn,`RPC '${e}' stream ${a} received error:`,K);const Z=K.status;let W=(function(S){const N=Ut[S];if(N!==void 0)return wS(N)})(Z),ue=K.message;W===void 0&&(W=ne.INTERNAL,ue="Unknown error status: "+Z+" with message "+K.message),C=!0,D.a_(new de(W,ue)),T.close()}else ye(yn,`RPC '${e}' stream ${a} received:`,U),D.u_(U)}})),I(d,q1.STAT_EVENT,(j=>{j.stat===jg.PROXY?ye(yn,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===jg.NOPROXY&&ye(yn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){return new yk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="PersistentStream";class zS{constructor(e,n,s,a,l,c,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ks(n.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new de(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye($E,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ye($E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dO extends zS{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Tk(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?Gi(c.readTime):Ve.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=$g(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=qg(m)?{documents:xk(l,m)}:{query:DS(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=RS(l,c.resumeToken);const p=Hg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ve.min())>0){d.readTime=nd(l,c.snapshotVersion.toTimestamp());const p=Hg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const s=Ak(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=$g(this.serializer),n.removeTarget=e,this.q_(n)}}class mO extends zS{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Ek(e.writeResults,e.commitTime),s=Gi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=$g(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>bk(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{}class gO extends pO{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Gg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(ne.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Gg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ks(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="RemoteStore";class vO{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{za(this)&&(ye(La,"Restarting streams for network reachability change."),await(async function(m){const p=Me(m);p.Ea.add(4),await Rc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Nd(p)})(this))}))})),this.Ra=new yO(s,a)}}async function Nd(t){if(za(t))for(const e of t.da)await e(!0)}async function Rc(t){for(const e of t.da)await e(!1)}function qS(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),c0(n)?u0(n):yl(n).O_()&&l0(n,e))}function o0(t,e){const n=Me(t),s=yl(n);n.Ia.delete(e),s.O_()&&FS(n,e),n.Ia.size===0&&(s.O_()?s.L_():za(n)&&n.Ra.set("Unknown"))}function l0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(t).Y_(e)}function FS(t,e){t.Va.Ue(e),yl(t).Z_(e)}function u0(t){t.Va=new dk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yl(t).start(),t.Ra.ua()}function c0(t){return za(t)&&!yl(t).x_()&&t.Ia.size>0}function za(t){return Me(t).Ea.size===0}function HS(t){t.Va=void 0}async function _O(t){t.Ra.set("Online")}async function TO(t){t.Ia.forEach(((e,n)=>{l0(t,e)}))}async function bO(t,e){HS(t),c0(t)?(t.Ra.ha(e),u0(t)):t.Ra.set("Unknown")}async function EO(t,e,n){if(t.Ra.set("Online"),e instanceof AS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){ye(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await sd(t,s)}else if(e instanceof Pf?t.Va.Ze(e):e instanceof SS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const s=await US(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(fn.EMPTY_BYTE_STRING,y.snapshotVersion)),FS(l,m);const T=new xr(y.target,m,p,y.sequenceNumber);l0(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){ye(La,"Failed to raise snapshot:",s),await sd(t,s)}}async function sd(t,e,n){if(!gl(e))throw e;t.Ea.add(1),await Rc(t),t.Ra.set("Offline"),n||(n=()=>US(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(La,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Nd(t)}))}function GS(t,e){return e().catch((n=>sd(t,n,e)))}async function Id(t){const e=Me(t),n=Vr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ky;for(;xO(e);)try{const a=await sO(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,wO(e,a)}catch(a){await sd(e,a)}KS(e)&&$S(e)}function xO(t){return za(t)&&t.Ta.length<10}function wO(t,e){t.Ta.push(e);const n=Vr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function KS(t){return za(t)&&!Vr(t).x_()&&t.Ta.length>0}function $S(t){Vr(t).start()}async function SO(t){Vr(t).ra()}async function AO(t){const e=Vr(t);for(const n of t.Ta)e.ea(n.mutations)}async function RO(t,e,n){const s=t.Ta.shift(),a=e0.from(s,e,n);await GS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Id(t)}async function CO(t,e){e&&Vr(t).X_&&await(async function(s,a){if((function(c){return ck(c)&&c!==ne.ABORTED})(a.code)){const l=s.Ta.shift();Vr(s).B_(),await GS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Id(s)}})(t,e),KS(t)&&$S(t)}async function YE(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ye(La,"RemoteStore received new credentials");const s=za(n);n.Ea.add(3),await Rc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nd(n)}async function NO(t,e){const n=Me(t);e?(n.Ea.delete(2),await Nd(n)):e||(n.Ea.add(2),await Rc(n),n.Ra.set("Unknown"))}function yl(t){return t.ma||(t.ma=(function(n,s,a){const l=Me(n);return l.sa(),new dO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:_O.bind(null,t),t_:TO.bind(null,t),r_:bO.bind(null,t),H_:EO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),c0(t)?u0(t):t.Ra.set("Unknown")):(await t.ma.stop(),HS(t))}))),t.ma}function Vr(t){return t.fa||(t.fa=(function(n,s,a){const l=Me(n);return l.sa(),new mO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:SO.bind(null,t),r_:CO.bind(null,t),ta:AO.bind(null,t),na:RO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Id(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(La,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new h0(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f0(t,e){if(ks("AsyncQueue",`${e}: ${t}`),gl(t))return new de(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||xe.comparator(n.key,s.key):(n,s)=>xe.comparator(n.key,s.key),this.keyedMap=Pu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Qo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.ga=new _t(xe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class sl{constructor(e,n,s,a,l,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new sl(e,n,Qo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class DO{constructor(){this.queries=XE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Me(n),l=a.queries;a.queries=XE(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function XE(){return new Ba((t=>fS(t)),xd)}async function YS(t,e){const n=Me(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new IO,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=f0(c,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&d0(n)}async function QS(t,e){const n=Me(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function MO(t,e){const n=Me(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&d0(n)}function VO(t,e,n){const s=Me(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function d0(t){t.Ca.forEach((e=>{e.next()}))}var Xg,WE;(WE=Xg||(Xg={})).Ma="default",WE.Cache="cache";class XS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new sl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.key=e}}class ZS{constructor(e){this.key=e}}class PO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=dS(e),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new QE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,T)=>{const E=a.get(y),C=wd(this.query,T)?T:null,D=!!E&&this.mutatedKeys.has(E.key),I=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let j=!1;E&&C?E.data.isEqual(C.data)?D!==I&&(s.track({type:3,doc:C}),j=!0):this.su(E,C)||(s.track({type:2,doc:C}),j=!0,(m&&this.eu(C,m)>0||p&&this.eu(C,p)<0)&&(d=!0)):!E&&C?(s.track({type:0,doc:C}),j=!0):E&&!C&&(s.track({type:1,doc:E}),j=!0,(m||p)&&(d=!0)),j&&(C?(c=c.add(C),l=I?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,T)=>(function(C,D){const I=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:j})}};return I(C)-I(D)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new sl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new ZS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new WS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const m0="SyncEngine";class kO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class OO{constructor(e){this.key=e,this.hu=!1}}class jO{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ba((d=>fS(d)),xd),this.Iu=new Map,this.Eu=new Set,this.du=new _t(xe.comparator),this.Au=new Map,this.Ru=new i0,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LO(t,e,n=!0){const s=sA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await JS(s,e,n,!0),a}async function UO(t,e){const n=sA(t);await JS(n,e,!0,!1)}async function JS(t,e,n,s){const a=await rO(t.localStore,Hi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await BO(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&qS(t.remoteStore,a),d}async function BO(t,e,n,s,a){t.pu=(T,E,C)=>(async function(I,j,U,Y){let K=j.view.ru(U);K.Cs&&(K=await FE(I.localStore,j.query,!1).then((({documents:k})=>j.view.ru(k,K))));const Z=Y&&Y.targetChanges.get(j.targetId),W=Y&&Y.targetMismatches.get(j.targetId)!=null,ue=j.view.applyChanges(K,I.isPrimaryClient,Z,W);return JE(I,j.targetId,ue.au),ue.snapshot})(t,T,E,C);const l=await FE(t.localStore,e,!0),c=new PO(e,l.Qs),d=c.ru(l.documents),m=Ac.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,m);JE(t,n,p.au);const y=new kO(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function zO(t,e,n){const s=Me(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!xd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Yg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&o0(s.remoteStore,a.targetId),Wg(s,a.targetId)})).catch(pl)):(Wg(s,a.targetId),await Yg(s.localStore,a.targetId,!0))}async function qO(t,e){const n=Me(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),o0(n.remoteStore,s.targetId))}async function FO(t,e,n){const s=XO(t);try{const a=await(function(c,d){const m=Me(c),p=ht.now(),y=d.reduce(((C,D)=>C.add(D.key)),Fe());let T,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let D=js(),I=Fe();return m.Ns.getEntries(C,y).next((j=>{D=j,D.forEach(((U,Y)=>{Y.isValidDocument()||(I=I.add(U))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,D))).next((j=>{T=j;const U=[];for(const Y of d){const K=sk(Y,T.get(Y.key).overlayedDocument);K!=null&&U.push(new Br(Y.key,K,iS(K.value.mapValue),Gn.exists(!0)))}return m.mutationQueue.addMutationBatch(C,p,U,d)})).next((j=>{E=j;const U=j.applyToLocalDocumentSet(T,I);return m.documentOverlayCache.saveOverlays(C,j.batchId,U)}))})).then((()=>({batchId:E.batchId,changes:pS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new _t(qe)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Cc(s,a.changes),await Id(s.remoteStore)}catch(a){const l=f0(a,"Failed to persist write");n.reject(l)}}async function eA(t,e){const n=Me(t);try{const s=await nO(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ze(c.hu,14607):a.removedDocuments.size>0&&(Ze(c.hu,42227),c.hu=!1))})),await Cc(n,s,e)}catch(s){await pl(s)}}function ZE(t,e,n){const s=Me(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Me(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,T)=>{for(const E of T.Sa)E.va(d)&&(p=!0)})),p&&d0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function HO(t,e,n){const s=Me(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new _t(xe.comparator);c=c.insert(l,_n.newNoDocument(l,Ve.min()));const d=Fe().add(l),m=new Rd(Ve.min(),new Map,new _t(qe),c,d);await eA(s,m),s.du=s.du.remove(l),s.Au.delete(e),p0(s)}else await Yg(s.localStore,e,!1).then((()=>Wg(s,e,n))).catch(pl)}async function GO(t,e){const n=Me(t),s=e.batch.batchId;try{const a=await tO(n.localStore,e);nA(n,s,null),tA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cc(n,a)}catch(a){await pl(a)}}async function KO(t,e,n){const s=Me(t);try{const a=await(function(c,d){const m=Me(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((T=>(Ze(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(p,T)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);nA(s,e,n),tA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cc(s,a)}catch(a){await pl(a)}}function tA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function nA(t,e,n){const s=Me(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Wg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||iA(t,s)}))}function iA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(o0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),p0(t))}function JE(t,e,n){for(const s of n)s instanceof WS?(t.Ru.addReference(s.key,e),$O(t,s)):s instanceof ZS?(ye(m0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||iA(t,s.key)):Ne(19791,{wu:s})}function $O(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ye(m0,"New document in limbo: "+n),t.Eu.add(s),p0(t))}function p0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(ct.fromString(e)),s=t.fu.next();t.Au.set(s,new OO(n)),t.du=t.du.insert(n,s),qS(t.remoteStore,new xr(Hi(Wy(n.path)),s,"TargetPurposeLimboResolution",Td.ce))}}async function Cc(t,e,n){const s=Me(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=r0.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const y=Me(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ae.forEach(p,(E=>ae.forEach(E.Es,(C=>y.persistence.referenceDelegate.addReference(T,E.targetId,C))).next((()=>ae.forEach(E.ds,(C=>y.persistence.referenceDelegate.removeReference(T,E.targetId,C)))))))))}catch(T){if(!gl(T))throw T;ye(a0,"Failed to update sequence numbers: "+T)}for(const T of p){const E=T.targetId;if(!T.fromCache){const C=y.Ms.get(E),D=C.snapshotVersion,I=C.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(E,I)}}})(s.localStore,l))}async function YO(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ye(m0,"User change. New user:",e.toKey());const s=await LS(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new de(ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cc(n,s.Ls)}}function QO(t,e){const n=Me(t),s=n.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let a=Fe();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function sA(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HO.bind(null,e),e.Pu.H_=MO.bind(null,e.eventManager),e.Pu.yu=VO.bind(null,e.eventManager),e}function XO(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KO.bind(null,e),e}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return eO(this.persistence,new Wk,e.initialUser,this.serializer)}Cu(e){return new jS(s0.mi,this.serializer)}Du(e){return new oO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class WO extends rd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ze(this.persistence.referenceDelegate instanceof id,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ok(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new jS((s=>id.mi(s,n)),this.serializer)}}class Zg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ZE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=YO.bind(null,this.syncEngine),await NO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DO})()}createDatastore(e){const n=Cd(e.databaseInfo.databaseId),s=(function(l){return new fO(l)})(e.databaseInfo);return(function(l,c,d,m){return new gO(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,d){return new vO(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>ZE(this.syncEngine,n,0)),(function(){return KE.v()?new KE:new lO})())}createSyncEngine(e,n){return(function(a,l,c,d,m,p,y){const T=new jO(a,l,c,d,m,p);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Me(n);ye(La,"RemoteStore shutting down."),s.Ea.add(5),await Rc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zg.provider={build:()=>new Zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ks("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="FirestoreClient";class ZO{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=In.UNAUTHENTICATED,this.clientId=Gy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ye(Pr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ye(Pr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=f0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ig(t,e){t.asyncQueue.verifyOperationInProgress(),ye(Pr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await LS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ex(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JO(t);ye(Pr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>YE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>YE(e.remoteStore,a))),t._onlineComponents=e}async function JO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(Pr,"Using user provided OfflineComponentProvider");try{await ig(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ec("Error using user provided cache. Falling back to memory cache: "+n),await ig(t,new rd)}}else ye(Pr,"Using default OfflineComponentProvider"),await ig(t,new WO(void 0));return t._offlineComponents}async function g0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(Pr,"Using user provided OnlineComponentProvider"),await ex(t,t._uninitializedComponentsProvider._online)):(ye(Pr,"Using default OnlineComponentProvider"),await ex(t,new Zg))),t._onlineComponents}function e4(t){return g0(t).then((e=>e.syncEngine))}function t4(t){return g0(t).then((e=>e.datastore))}async function aA(t){const e=await g0(t),n=e.eventManager;return n.onListen=LO.bind(null,e.syncEngine),n.onUnlisten=zO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qO.bind(null,e.syncEngine),n}function n4(t,e,n={}){const s=new Fi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new rA({next:E=>{y.Nu(),c.enqueueAndForget((()=>QS(l,T)));const C=E.docs.has(d);!C&&E.fromCache?p.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&m&&m.source==="server"?p.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),T=new XS(Wy(d.path),y,{includeMetadataChanges:!0,qa:!0});return YS(l,T)})(await aA(t),t.asyncQueue,e,n,s))),s.promise}function i4(t,e,n={}){const s=new Fi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new rA({next:E=>{y.Nu(),c.enqueueAndForget((()=>QS(l,T))),E.fromCache&&m.source==="server"?p.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),T=new XS(d,y,{includeMetadataChanges:!0,qa:!0});return YS(l,T)})(await aA(t),t.asyncQueue,e,n,s))),s.promise}function s4(t,e,n){const s=new Fi;return t.asyncQueue.enqueueAndForget((async()=>{try{const a=await t4(t);s.resolve((async function(c,d,m){const p=Me(c),{request:y,gt:T,parent:E}=wk(p.serializer,FP(d),m);p.connection.$o||delete y.parent;const C=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,E,y,1)).filter((I=>!!I.result));Ze(C.length===1,64727);const D=C[0].result?.aggregateFields;return Object.keys(D).reduce(((I,j)=>(I[T[j]]=D[j],I)),{})})(a,e,n))}catch(a){s.reject(a)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="firestore.googleapis.com",nx=!0;class ix{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r4,this.ssl=nx}else this.host=e.host,this.ssl=e.ssl??nx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OS)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class y0{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ix({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ix(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new oP;switch(s.type){case"firstParty":return new cP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=tx.get(n);s&&(ye("ComponentProvider","Removing Datastore"),tx.delete(n),s.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qa(this.firestore,e,this._query)}}class Ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(xc(n,Ft._jsonSchema))return new Ft(e,s||null,new xe(ct.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:qt("string",Ft._jsonSchemaVersion),referencePath:qt("string")};class Cr extends qa{constructor(e,n,s){super(e,n,Wy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new xe(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function je(t,e,...n){if(t=Vt(t),K1("collection","path",e),t instanceof y0){const s=ct.fromString(e,...n);return gE(s),new Cr(t,null,s)}{if(!(t instanceof Ft||t instanceof Cr))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ct.fromString(e,...n));return gE(s),new Cr(t.firestore,null,s)}}function Ki(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=Gy.newId()),K1("doc","path",e),t instanceof y0){const s=ct.fromString(e,...n);return pE(s),new Ft(t,null,new xe(s))}{if(!(t instanceof Ft||t instanceof Cr))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ct.fromString(e,...n));return pE(s),new Ft(t.firestore,t instanceof Cr?t.converter:null,new xe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="AsyncQueue";class rx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BS(this,"async_queue_retry"),this._c=()=>{const s=ng();s&&ye(sx,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ng();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;ye(sx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ks("INTERNAL UNHANDLED ERROR: ",ax(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=h0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:ax(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ax(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fa extends y0{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new rx,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rx(e),this._firestoreClient=void 0,await e}}}function a4(t,e,n){n||(n=Xf);const s=Vy(t,"firestore");if(s.isInitialized(n)){const a=s.getImmediate({identifier:n}),l=s.getOptions(n);if(Va(l,e))return a;throw new de(ne.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new de(ne.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OS)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&hl(e.host)&&Zw(e.host),s.initialize({options:e,instanceIdentifier:n})}function Nc(t){if(t._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||o4(t),t._firestoreClient}function o4(t){const e=t._freezeSettings(),n=(function(a,l,c,d){return new CP(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,oA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ZO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class u4{constructor(e,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(fn.fromBase64String(e))}catch(n){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new li(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xc(e,li._jsonSchema))return li.fromBase64String(e.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:qt("string",li._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(xc(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:qt("string",$i._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xc(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Yi(e.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:qt("string",Yi._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=/^__.*__$/;class h4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Br(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sc(e,this.data,n,this.fieldTransforms)}}class lA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Br(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class v0{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new v0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ad(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uA(this.Ac)&&c4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class f4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Cd(e)}Cc(e,n,s,a=!1){return new v0({Ac:e,methodName:n,Dc:s,path:hn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(t){const e=t._freezeSettings(),n=Cd(t._databaseId);return new f4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cA(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);T0("Data must be an object, but it was:",c,s);const d=dA(s,c);let m,p;if(l.merge)m=new Hn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const E=Jg(e,T,n);if(!c.contains(E))throw new de(ne.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);pA(y,E)||y.push(E)}m=new Hn(y),p=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,p=c.fieldTransforms;return new h4(new Mn(d),m,p)}class Vd extends Dd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vd}}class _0 extends Dd{_toFieldTransform(e){return new ek(e.path,new rc)}isEqual(e){return e instanceof _0}}function hA(t,e,n,s){const a=t.Cc(1,e,n);T0("Data must be an object, but it was:",a,s);const l=[],c=Mn.empty();Ur(s,((m,p)=>{const y=b0(e,m,n);p=Vt(p);const T=a.yc(y);if(p instanceof Vd)l.push(y);else{const E=Dc(p,T);E!=null&&(l.push(y),c.set(y,E))}}));const d=new Hn(l);return new lA(c,d,a.fieldTransforms)}function fA(t,e,n,s,a,l){const c=t.Cc(1,e,n),d=[Jg(e,s,n)],m=[a];if(l.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)d.push(Jg(e,l[E])),m.push(l[E+1]);const p=[],y=Mn.empty();for(let E=d.length-1;E>=0;--E)if(!pA(p,d[E])){const C=d[E];let D=m[E];D=Vt(D);const I=c.yc(C);if(D instanceof Vd)p.push(C);else{const j=Dc(D,I);j!=null&&(p.push(C),y.set(C,j))}}const T=new Hn(p);return new lA(y,T,c.fieldTransforms)}function d4(t,e,n,s=!1){return Dc(n,t.Cc(s?4:3,e))}function Dc(t,e){if(mA(t=Vt(t)))return T0("Unsupported field value:",e,t),dA(t,e);if(t instanceof Dd)return(function(s,a){if(!uA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=Dc(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=Vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return WP(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ht.fromDate(s);return{timestampValue:nd(a.serializer,l)}}if(s instanceof ht){const l=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nd(a.serializer,l)}}if(s instanceof $i)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof li)return{bytesValue:RS(a.serializer,s._byteString)};if(s instanceof Ft){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:n0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Yi)return(function(c,d){return{mapValue:{fields:{[tS]:{stringValue:nS},[Wf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Zy(d.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${_d(s)}`)})(t,e)}function dA(t,e){const n={};return Q1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ur(t,((s,a)=>{const l=Dc(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function mA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof $i||t instanceof li||t instanceof Ft||t instanceof Dd||t instanceof Yi)}function T0(t,e,n){if(!mA(n)||!$1(n)){const s=_d(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Jg(t,e,n){if((e=Vt(e))instanceof Ic)return e._internalPath;if(typeof e=="string")return b0(t,e);throw ad("Field path arguments must be of type string or ",t,!1,void 0,n)}const m4=new RegExp("[~\\*/\\[\\]]");function b0(t,e,n){if(e.search(m4)>=0)throw ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ic(...e.split("."))._internalPath}catch{throw ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ad(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new de(ne.INVALID_ARGUMENT,d+t+m)}function pA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class p4 extends gA{data(){return super.data()}}function E0(t,e){return typeof e=="string"?b0(t,e):e instanceof Ic?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x0{}class yA extends x0{}function vn(t,e,...n){let s=[];e instanceof x0&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof w0)).length,d=l.filter((m=>m instanceof Pd)).length;if(c>1||c>0&&d>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Pd extends yA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Pd(e,n,s)}_apply(e){const n=this._parse(e);return vA(e._query,n),new qa(e.firestore,e.converter,Fg(e._query,n))}_parse(e){const n=Md(e.firestore);return(function(l,c,d,m,p,y,T){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){lx(T,y);const D=[];for(const I of T)D.push(ox(m,l,I));E={arrayValue:{values:D}}}else E=ox(m,l,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||lx(T,y),E=d4(d,c,T,y==="in"||y==="not-in");return zt.create(p,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qt(t,e,n){const s=e,a=E0("where",t);return Pd._create(a,s,n)}class w0 extends x0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new w0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)vA(c,m),c=Fg(c,m)})(e._query,n),new qa(e.firestore,e.converter,Fg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class S0 extends yA{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new S0(e,n,s)}_apply(e){return new qa(e.firestore,e.converter,ed(e._query,this._limit,this._limitType))}}function A0(t){return S0._create("limit",t,"F")}function ox(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cS(e)&&n.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ct.fromString(n));if(!xe.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return wE(t,new xe(s))}if(n instanceof Ft)return wE(t,n._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(n)}.`)}function lx(t,e){if(!Array.isArray(t)||t.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vA(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class y4{convertValue(e,n="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ur(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Wf].arrayValue?.values?.map((s=>Mt(s.doubleValue)));return new Yi(n)}convertGeoPoint(e){return new $i(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ed(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const n=Ir(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ct.fromString(e);Ze(PS(s),9688,{name:e});const a=new ic(s.get(1),s.get(3)),l=new xe(s.popFirst(5));return a.isEqual(n)||ks(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}function v4(){return new l4("count")}class Ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends gA{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(E0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:qt("string",Ia._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class kf extends Ia{data(e={}){return super.data(e)}}class Xo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ou(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new kf(this._firestore,this._userDataWriter,s.key,s,new Ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new kf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ou(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new kf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ou(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:_4(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){t=Os(t,Ft);const e=Os(t.firestore,Fa);return n4(Nc(e),t._key).then((n=>T4(e,t,n)))}Xo._jsonSchemaVersion="firestore/querySnapshot/1.0",Xo._jsonSchema={type:qt("string",Xo._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class R0 extends y4{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function ot(t){t=Os(t,qa);const e=Os(t.firestore,Fa),n=Nc(e),s=new R0(e);return g4(t._query),i4(n,t._query).then((a=>new Xo(e,s,t,a)))}function ux(t,e,n,...s){t=Os(t,Ft);const a=Os(t.firestore,Fa),l=Md(a);let c;return c=typeof(e=Vt(e))=="string"||e instanceof Ic?fA(l,"updateDoc",t._key,e,n,s):hA(l,"updateDoc",t._key,e),C0(a,[c.toMutation(t._key,Gn.exists(!0))])}function Ui(t,e){const n=Os(t.firestore,Fa),s=Ki(t),a=_A(t.converter,e);return C0(n,[cA(Md(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then((()=>s))}function C0(t,e){return(function(s,a){const l=new Fi;return s.asyncQueue.enqueueAndForget((async()=>FO(await e4(s),a,l))),l.promise})(Nc(t),e)}function T4(t,e,n){const s=n.docs.get(e._key),a=new R0(t);return new Ia(t,a,e._key,s,new Ou(n.hasPendingWrites,n.fromCache),e.converter)}function cx(t){return b4(t,{count:v4()})}function b4(t,e){const n=Os(t.firestore,Fa),s=Nc(n),a=AP(e,((l,c)=>new lk(c,l.aggregateType,l._internalFieldPath)));return s4(s,t._query,a).then((l=>(function(d,m,p){const y=new R0(d);return new u4(m,y,p)})(n,t,l)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Md(e)}set(e,n,s){this._verifyNotCommitted();const a=sg(e,this._firestore),l=_A(a.converter,n,s),c=cA(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,Gn.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=sg(e,this._firestore);let c;return c=typeof(n=Vt(n))=="string"||n instanceof Ic?fA(this._dataReader,"WriteBatch.update",l._key,n,s,a):hA(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=sg(e,this._firestore);return this._mutations=this._mutations.concat(new Jy(n._key,Gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sg(t,e){if((t=Vt(t)).firestore!==e)throw new de(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Bi(){return new _0("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t){return Nc(t=Os(t,Fa)),new E4(t,(e=>C0(t,e)))}(function(e,n=!0){(function(a){ml=a})(fl),Jo(new Pa("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Fa(new lP(s.getProvider("auth-internal")),new hP(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ar(hE,fE,e),Ar(hE,fE,"esm2020")})();const TA={apiKey:"AIzaSyDUCyCMuw1WxUsO52rf3K5a01CRbI2Qgrg",authDomain:"stdserver-94bec.firebaseapp.com",projectId:"stdserver-94bec",storageBucket:"stdserver-94bec.firebasestorage.app",messagingSenderId:"104857912312",appId:"1:104857912312:web:0f9468476fec38151acc0d",measurementId:"G-B4RR6XWWDK"},bA=Py(TA),od=L1(bA),w4=Py(TA,"Secondary"),S4=L1(w4),Re=a4(bA,{experimentalAutoDetectLongPolling:!0}),EA=M.createContext(void 0);function A4({children:t}){const[e,n]=M.useState(null),[s,a]=M.useState(!0),[l,c]=M.useState(!1);M.useEffect(()=>{const T=KM(od,E=>{n(E),a(!1)});return()=>T()},[]);const y={user:e,loading:l,startLoading:()=>c(!0),stopLoading:()=>c(!1),signOut:()=>$M(od)};return _.jsx(EA.Provider,{value:y,children:s?_.jsx("div",{className:"flex h-screen items-center justify-center bg-[#0d0d0d]",children:_.jsx("p",{className:"text-gray-400",children:"Yükleniyor…"})}):t})}function Mc(){const t=M.useContext(EA);if(!t)throw new Error("useAuth, AuthProvider içinde kullanılmalıdır.");return t}/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),hx=t=>{const e=C4(t);return e.charAt(0).toUpperCase()+e.slice(1)},xA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),N4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>M.createElement("svg",{ref:m,...I4,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:xA("lucide",a),...!l&&!N4(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>M.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(t,e)=>{const n=M.forwardRef(({className:s,...a},l)=>M.createElement(D4,{ref:l,iconNode:e,className:xA(`lucide-${R4(hx(t))}`,`lucide-${t}`,s),...a}));return n.displayName=hx(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wA=wt("book-open",M4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],P4=wt("calendar-clock",V4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],N0=wt("chart-column",k4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],I0=wt("chevron-down",O4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Wo=wt("clipboard-list",j4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Od=wt("external-link",L4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],B4=wt("eye-off",U4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],q4=wt("eye",z4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],SA=wt("file-text",F4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],G4=wt("funnel",H4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],fx=wt("layers",K4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Y4=wt("lock",$4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],X4=wt("mail",Q4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Z4=wt("refresh-cw",W4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],e3=wt("search",J4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AA=wt("send",t3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dx=wt("square-check-big",n3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 7v10",key:"d5nglc"}],["path",{d:"M11 7v10",key:"pptsnr"}],["path",{d:"m15 7 2 10",key:"1m7qm5"}]],s3=wt("square-library",i3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],mx=wt("square",r3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],o3=wt("target",a3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],u3=wt("user-round",l3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ey=wt("users",c3),h3="/assets/logo-tR9Ir_51.png";function px({size:t=24,label:e,className:n=""}){return _.jsxs("div",{className:`flex items-center gap-2 ${n}`,role:"status","aria-live":"polite",children:[_.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"animate-spin","aria-label":e||"Yükleniyor",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.25"}),_.jsx("path",{d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeLinecap:"round"})]}),e?_.jsx("span",{className:"text-sm",children:e}):null]})}const f3="admin@mail.com",d3=(t,e)=>{const n=(e||"").toLowerCase();return t==="auth/invalid-credential"||t==="auth/invalid-login-credentials"||t==="auth/wrong-password"||t==="auth/user-not-found"||t==="auth/invalid-email"||n.includes("invalid_login_credentials")||n.includes("invalid-credential")},m3=t=>{const e=t,n=e?.code,s=e?.message;return d3(n,s)?"E-mail veya şifre yanlış.":n==="auth/too-many-requests"?"Çok fazla başarısız deneme. Lütfen biraz sonra tekrar deneyin.":n==="auth/network-request-failed"?"Ağ hatası. Bağlantınızı kontrol edin.":n==="auth/user-disabled"?"Hesabınız devre dışı bırakılmış.":n==="auth/operation-not-allowed"?"Bu oturum yöntemi şu anda etkin değil.":"Giriş başarısız. Lütfen tekrar deneyin."};function p3(){const t=cl(),{startLoading:e,stopLoading:n}=Mc(),[s,a]=M.useState({email:"",password:""}),[l,c]=M.useState(!1),[d,m]=M.useState(!1),[p,y]=M.useState(!1),[T,E]=M.useState(""),C=async D=>{D.preventDefault(),E(""),y(!0),e();try{await FM(od,d?I1:zy);const{user:I}=await qM(od,s.email,s.password);t(I.email===f3?"/admin":"/dashboard")}catch(I){console.error("Login error:",I),E(m3(I))}finally{y(!1),n()}};return _.jsxs("section",{className:"relative min-h-screen bg-gradient-to-b from-sky-50 to-white",children:[_.jsx("div",{className:"pointer-events-none absolute inset-x-0 -top-24 mx-auto h-72 w-[90%] rounded-[3rem] bg-[radial-gradient(closest-side,rgba(37,99,235,0.18),transparent)] blur-2xl"}),p&&_.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/50 backdrop-blur-sm",children:_.jsx(px,{size:40,label:"Giriş yapılıyor..."})}),_.jsx("div",{className:"relative z-10 mx-auto max-w-6xl px-4",children:_.jsx("div",{className:"grid min-h-[90vh] place-items-center",children:_.jsxs("div",{className:"w-full max-w-md",children:[_.jsx("div",{className:"flex items-center justify-center",children:_.jsx("img",{src:h3,alt:"Öğrenci Portalı",className:"h-16 w-auto md:h-20"})}),_.jsxs("div",{className:"mt-6 rounded-3xl bg-white p-6 shadow-sm ring-1 ring-slate-200",children:[_.jsx("h1",{className:"text-center text-xl font-extrabold tracking-tight text-slate-900",children:"Giriş Yap"}),T&&_.jsx("div",{className:"mt-3 rounded-lg bg-rose-50 px-3 py-2 text-sm text-rose-700 ring-1 ring-rose-200",role:"alert","aria-live":"assertive",children:T}),_.jsxs("form",{onSubmit:C,className:"mt-5 space-y-4",children:[_.jsxs("div",{className:"relative",children:[_.jsx(X4,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),_.jsx("input",{type:"email",name:"email",placeholder:"e-mail",value:s.email,onChange:D=>a(I=>({...I,email:D.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white py-3 pl-10 pr-3 text-sm text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"username",required:!0})]}),_.jsxs("div",{className:"relative",children:[_.jsx(Y4,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),_.jsx("input",{type:l?"text":"password",name:"password",placeholder:"şifre",value:s.password,onChange:D=>a(I=>({...I,password:D.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white py-3 pl-10 pr-10 text-sm text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"current-password",required:!0}),_.jsx("button",{type:"button",onClick:()=>c(D=>!D),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":l?"Şifreyi gizle":"Şifreyi göster",children:l?_.jsx(B4,{className:"h-4 w-4"}):_.jsx(q4,{className:"h-4 w-4"})})]}),_.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-600",children:[_.jsx("input",{type:"checkbox",checked:d,onChange:()=>m(!d),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),"Beni hatırla"]}),_.jsx("button",{type:"submit",disabled:p,"aria-busy":p,className:"w-full rounded-lg bg-blue-600 py-3 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-blue-500 disabled:opacity-60",children:p?_.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[_.jsx(px,{size:18}),"Giriş yapılıyor..."]}):"Giriş"})]}),_.jsxs("p",{className:"mt-6 text-center text-xs text-slate-500",children:["© ",new Date().getFullYear()," EB Öğrenci Portalı"]})]})]})})})]})}const ko=/^[A-D]+$/i,g3=()=>Array.from({length:6},()=>"0123456789".charAt(Math.floor(Math.random()*10))).join("");function y3(){const[t,e]=M.useState({students:0,tests:0}),n=async()=>{const Te=(await cx(je(Re,"students"))).data().count,[ke,Qe]=await Promise.all([ot(je(Re,"kategoriAdlari")),ot(je(Re,"ozelKategoriler"))]),St=ke.docs.map(es=>es.data().name).filter(Boolean),At=Qe.docs.map(es=>es.data().name).filter(Boolean),Pt=async(es,qr)=>(await Promise.all(es.map(async Kn=>{try{const ts=vn(je(Re,Kn),Qt("type","==",qr));return(await cx(ts)).data().count??0}catch(ts){return console.error("Count error for",Kn,ts),0}}))).reduce((Kn,ts)=>Kn+ts,0),[dn,Rt]=await Promise.all([Pt(St,"test"),Pt(At,"yayın")]);e({students:Te,tests:dn+Rt})},[s,a]=M.useState([]),[l,c]=M.useState([]),[d,m]=M.useState([]),p=async()=>{const ge=await ot(je(Re,"kategoriAdlari"));a(ge.docs.map(Te=>({id:Te.id,...Te.data()})))},y=async()=>{const ge=await ot(je(Re,"slaytKategoriAdlari"));c(ge.docs.map(Te=>({id:Te.id,...Te.data()})))},T=async()=>{const ge=await ot(je(Re,"ozelKategoriler"));m(ge.docs.map(Te=>({id:Te.id,...Te.data()})))};M.useEffect(()=>{n(),p(),y(),T()},[]);const[E,C]=M.useState({email:"",firstName:"",lastName:"",password:""}),D=ge=>{const{name:Te,value:ke}=ge.target;C(Qe=>({...Qe,[Te]:ke}))},I=ge=>ge.toLocaleLowerCase("tr-TR").replace(/ı/g,"i"),j=ge=>I(ge).normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),U=async ge=>{ge.preventDefault();const{email:Te,firstName:ke,lastName:Qe,password:St}=E;if(!(!Te||!ke||!Qe||!St))try{const Pt=(await zM(S4,Te,St)).user.uid,dn=j(`${ke} ${Qe}`),Rt=x4(Re);Rt.set(Ki(Re,"students",Pt),{email:String(Te).toLowerCase(),firstName:ke,lastName:Qe,createdAt:Bi()}),Rt.set(Ki(Re,"ogrenciAdlari",Pt),{fullname:dn},{merge:!0}),Rt.set(Ki(Re,"ogrenciAdlari","_index"),{names:{[dn]:!0}},{merge:!0}),await Rt.commit(),C({email:"",firstName:"",lastName:"",password:""}),await n(),alert("Öğrenci eklendi.")}catch(At){alert(At?.message||"Bir hata oluştu.")}},[Y,K]=M.useState({name:""}),Z=async ge=>{if(ge.preventDefault(),!!Y.name)try{await Ui(je(Re,"kategoriAdlari"),Y),K({name:""}),await p(),alert("Test kategorisi eklendi.")}catch(Te){alert(Te?.message??"Hata")}},[W,ue]=M.useState({name:""}),k=async ge=>{if(ge.preventDefault(),!!W.name)try{await Ui(je(Re,"ozelKategoriler"),W),ue({name:""}),await T(),alert("Özel ders kategorisi eklendi.")}catch(Te){alert(Te?.message??"Hata")}},[S,N]=M.useState({name:"",grade:""}),V=async ge=>{ge.preventDefault();const{name:Te,grade:ke}=S;if(!(!Te||!ke))try{await Ui(je(Re,"slaytKategoriAdlari"),{name:Te,grade:+ke}),N({name:"",grade:""}),await y(),alert("Slayt kategorisi eklendi.")}catch(Qe){alert(Qe?.message??"Hata")}},[L,B]=M.useState(""),[R,fe]=M.useState({collection:"",grade:"",name:"",link:"",testmakerLink:"",questionCount:"",answerKey:"",type:"test"}),me=ge=>{const{name:Te,value:ke}=ge.target;fe(Qe=>({...Qe,[Te]:ke})),Te==="answerKey"&&B(ke===""||ko.test(ke)?"":"Sadece A-D harfleri içermeli")},Q=()=>{if(!R.answerKey)return;const ge=ko.test(R.answerKey);B(ge?"":"Sadece A-D harfleri içermeli")},se=async ge=>{ge.preventDefault();const{collection:Te,grade:ke,name:Qe,link:St,testmakerLink:At,questionCount:Pt,answerKey:dn}=R;if(!(!Te||!ke||!Qe||!St||!At||!Pt||!dn)){if(!ko.test(dn)||dn.length!==Number(Pt)){B("Anahtar uzunluğu soru sayısına eşit ve yalnız A-D olmalı");return}try{await Ui(je(Re,Te),{grade:+ke,name:Qe,link:St,questionCount:+Pt,answerKey:dn,testmakerLink:At,createdAt:Bi(),type:"test"}),fe({collection:"",grade:"",name:"",link:"",questionCount:"",testmakerLink:"",answerKey:"",type:"test"}),await n(),alert("Test kaydedildi.")}catch(Rt){alert(Rt?.message??"Hata")}}},[ce,_e]=M.useState({collection:"",grade:"",name:"",link:"",type:"slayt"}),P=ge=>{const{name:Te,value:ke}=ge.target;_e(Qe=>({...Qe,[Te]:ke}))},te=async ge=>{ge.preventDefault();const{collection:Te,grade:ke,name:Qe,link:St}=ce;if(!(!Te||!ke||!Qe||!St))try{await Ui(je(Re,Te),{grade:+ke,name:Qe,link:St,createdAt:Bi(),type:"slayt"}),_e({collection:"",grade:"",name:"",link:"",type:"slayt"}),alert("Slayt kaydedildi.")}catch(At){alert(At?.message??"Hata")}},[oe,le]=M.useState(""),[pe,we]=M.useState({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:"",type:"yayın",testmakerLink:""}),Ee=ge=>{const{name:Te,value:ke}=ge.target;we(Qe=>({...Qe,[Te]:ke})),Te==="answerKey"&&le(ke===""||ko.test(ke)?"":"Sadece A-D harfleri içermeli")},ft=()=>{if(!pe.answerKey)return;const ge=ko.test(pe.answerKey);le(ge?"":"Sadece A-D harfleri içermeli")},Ye=async ge=>{ge.preventDefault();const{collection:Te,grade:ke,name:Qe,link:St,questionCount:At,answerKey:Pt}=pe;if(!(!Te||!ke||!Qe||!St||!At||!Pt)){if(!ko.test(Pt)||Pt.length!==Number(At)){le("Anahtar uzunluğu soru sayısına eşit ve yalnız A-D olmalı");return}try{await Ui(je(Re,Te),{grade:+ke,name:Qe,link:St,questionCount:+At,answerKey:Pt,createdAt:Bi(),type:"yayın"}),we({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:"",type:"yayın",testmakerLink:""}),await n(),alert("Özel ders testi kaydedildi.")}catch(dn){alert(dn?.message??"Hata")}}};return _.jsxs("div",{className:"min-h-screen bg-neutral-950 p-8 text-gray-100",children:[_.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Admin Paneli"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs(zf,{to:"/admin/students",className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-3 py-2 text-sm font-medium hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-600",title:"Öğrenci Raporlarını Aç",children:[_.jsx(N0,{className:"h-4 w-4"}),"Öğrenci Raporları"]}),_.jsxs(zf,{to:"/admin/assign",className:"inline-flex items-center gap-2 rounded-md bg-emerald-600 px-3 py-2 text-sm font-medium hover:bg-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-600",title:"Test Atama Sayfasını Aç",children:[_.jsx(AA,{className:"h-4 w-4"}),"Test Atama"]})]})]}),_.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[_.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Öğrenci Ekle"}),_.jsxs("form",{onSubmit:U,className:"space-y-4",children:[_.jsx("input",{name:"email",type:"email",value:E.email,onChange:D,placeholder:"E-posta",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[_.jsx("input",{name:"firstName",value:E.firstName,onChange:D,placeholder:"Ad",className:"rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("input",{name:"lastName",value:E.lastName,onChange:D,placeholder:"Soyad",className:"rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{name:"password",value:E.password,onChange:D,placeholder:"Geçici Parola",className:"flex-1 rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("button",{type:"button",onClick:()=>C(ge=>({...ge,password:g3()})),className:"rounded-md bg-neutral-700 px-3 text-xs hover:bg-neutral-600",children:"Üret"})]}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Ekle"})]})]}),_.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Test Kategorisi Ekle"}),_.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[_.jsx("input",{value:Y.name,onChange:ge=>K(Te=>({...Te,name:ge.target.value})),placeholder:"Kategori adı",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Ekle"})]}),_.jsx("h2",{className:"mt-8 mb-4 text-xl font-semibold",children:"Özel Ders Kategorisi Ekle"}),_.jsxs("form",{onSubmit:k,className:"space-y-4",children:[_.jsx("input",{value:W.name,onChange:ge=>ue(Te=>({...Te,name:ge.target.value})),placeholder:"Özel kategori adı",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-emerald-600 py-2 text-sm font-medium hover:bg-emerald-500",children:"Ekle"})]})]}),_.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Slayt Kategorisi Ekle"}),_.jsxs("form",{onSubmit:V,className:"space-y-4",children:[_.jsxs("select",{value:S.grade,onChange:ge=>N(Te=>({...Te,grade:ge.target.value})),className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Sınıf"}),_.jsx("option",{value:"5",children:"5"}),_.jsx("option",{value:"6",children:"6"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"8",children:"8"})]}),_.jsx("input",{value:S.name,onChange:ge=>N(Te=>({...Te,name:ge.target.value})),placeholder:"Kategori adı",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Ekle"})]})]}),_.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Sistem İstatistikleri"}),_.jsxs("div",{className:"space-y-2 text-sm",children:[_.jsxs("p",{children:[_.jsx("span",{className:"font-semibold text-blue-400",children:t.students})," öğrenci kayıtlı"]}),_.jsxs("p",{children:[_.jsx("span",{className:"font-semibold text-blue-400",children:t.tests})," test mevcut"]})]})]}),_.jsx("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800 md:col-span-4",children:_.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Test Ekle"}),_.jsxs("form",{onSubmit:se,className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-1",children:[_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Kategori"}),_.jsxs("select",{name:"collection",value:R.collection,onChange:me,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),s.map(ge=>_.jsx("option",{value:ge.name,children:ge.name},ge.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Sınıf"}),_.jsxs("select",{name:"grade",value:R.grade,onChange:me,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),_.jsx("option",{value:"5",children:"5"}),_.jsx("option",{value:"6",children:"6"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"8",children:"8"})]})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Adı"}),_.jsx("input",{name:"name",value:R.name,onChange:me,placeholder:"Ör. 7.Sınıf Deneme–1",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Linki"}),_.jsx("input",{name:"link",value:R.link,onChange:me,placeholder:"https://...",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"TestMaker Linki"}),_.jsx("input",{name:"testmakerLink",value:R.testmakerLink,onChange:me,placeholder:"https://...",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Soru Sayısı"}),_.jsx("input",{name:"questionCount",type:"number",value:R.questionCount,onChange:me,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Cevap Anahtarı"}),_.jsx("textarea",{name:"answerKey",rows:3,value:R.answerKey,onChange:me,onBlur:Q,placeholder:"Ör. ABCDABCD...",className:`w-full resize-y rounded-lg bg-neutral-800 p-4 text-sm font-mono tracking-wider leading-relaxed focus:outline-none focus:ring-2 ${L?"ring-2 ring-red-600 focus:ring-red-600":"focus:ring-blue-600"}`,required:!0}),L&&_.jsx("p",{className:"mt-1 text-xs text-red-500",children:L})]}),_.jsx("div",{className:"sm:col-span-2",children:_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Kaydet"})})]})]}),_.jsxs("div",{children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Slayt Ekle"}),_.jsxs("form",{onSubmit:te,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Kategori"}),_.jsxs("select",{name:"collection",value:ce.collection,onChange:P,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),l.map(ge=>_.jsx("option",{value:ge.name,children:ge.name},ge.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Sınıf"}),_.jsxs("select",{name:"grade",value:ce.grade,onChange:P,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),_.jsx("option",{value:"5",children:"5"}),_.jsx("option",{value:"6",children:"6"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"8",children:"8"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Slayt Adı"}),_.jsx("input",{name:"name",value:ce.name,onChange:P,placeholder:"Ör. ‘Üslü Sayılar’",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Slayt Linki"}),_.jsx("input",{name:"link",value:ce.link,onChange:P,placeholder:"https://...",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Kaydet"})]})]}),_.jsxs("div",{children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Özel Ders Testi Ekle"}),_.jsxs("form",{onSubmit:Ye,className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-1",children:[_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Kategori (Özel)"}),_.jsxs("select",{name:"collection",value:pe.collection,onChange:Ee,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),d.map(ge=>_.jsx("option",{value:ge.name,children:ge.name},ge.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Sınıf"}),_.jsxs("select",{name:"grade",value:pe.grade,onChange:Ee,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),_.jsx("option",{value:"5",children:"5"}),_.jsx("option",{value:"6",children:"6"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"8",children:"8"})]})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Adı"}),_.jsx("input",{name:"name",value:pe.name,onChange:Ee,placeholder:"Ör. 8.Sınıf Özel Deneme–1",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Linki"}),_.jsx("input",{name:"link",value:pe.link,onChange:Ee,placeholder:"https://...",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Soru Sayısı"}),_.jsx("input",{name:"questionCount",type:"number",value:pe.questionCount,onChange:Ee,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Cevap Anahtarı"}),_.jsx("textarea",{name:"answerKey",rows:3,value:pe.answerKey,onChange:Ee,onBlur:ft,placeholder:"Ör. ABCDABCD...",className:`w-full resize-y rounded-lg bg-neutral-800 p-4 text-sm font-mono tracking-wider leading-relaxed focus:outline-none focus:ring-2 ${oe?"ring-2 ring-red-600 focus:ring-red-600":"focus:ring-blue-600"}`,required:!0}),oe&&_.jsx("p",{className:"mt-1 text-xs text-red-500",children:oe})]}),_.jsx("div",{className:"sm:col-span-2",children:_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Kaydet"})})]})]})]})})]})]})}const RA=M.createContext({});function v3(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const D0=typeof window<"u",_3=D0?M.useLayoutEffect:M.useEffect,M0=M.createContext(null);function V0(t,e){t.indexOf(e)===-1&&t.push(e)}function P0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ls=(t,e,n)=>n>e?e:n<t?t:n;let k0=()=>{};const Us={},CA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function NA(t){return typeof t=="object"&&t!==null}const IA=t=>/^0[^.\s]+$/u.test(t);function O0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ui=t=>t,T3=(t,e)=>n=>e(t(n)),Vc=(...t)=>t.reduce(T3),lc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class j0{constructor(){this.subscriptions=[]}add(e){return V0(this.subscriptions,e),()=>P0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qi=t=>t*1e3,Xi=t=>t/1e3;function DA(t,e){return e?t*(1e3/e):0}const MA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,b3=1e-7,E3=12;function x3(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=MA(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>b3&&++d<E3);return c}function Pc(t,e,n,s){if(t===e&&n===s)return ui;const a=l=>x3(l,0,1,t,n);return l=>l===0||l===1?l:MA(a(l),e,s)}const VA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,PA=t=>e=>1-t(1-e),kA=Pc(.33,1.53,.69,.99),L0=PA(kA),OA=VA(L0),jA=t=>(t*=2)<1?.5*L0(t):.5*(2-Math.pow(2,-10*(t-1))),U0=t=>1-Math.sin(Math.acos(t)),LA=PA(U0),UA=VA(U0),w3=Pc(.42,0,1,1),S3=Pc(0,0,.58,1),BA=Pc(.42,0,.58,1),A3=t=>Array.isArray(t)&&typeof t[0]!="number",zA=t=>Array.isArray(t)&&typeof t[0]=="number",R3={linear:ui,easeIn:w3,easeInOut:BA,easeOut:S3,circIn:U0,circInOut:UA,circOut:LA,backIn:L0,backInOut:OA,backOut:kA,anticipate:jA},C3=t=>typeof t=="string",gx=t=>{if(zA(t)){k0(t.length===4);const[e,n,s,a]=t;return Pc(e,n,s,a)}else if(C3(t))return R3[t];return t},pf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function N3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,T=!1,E=!1)=>{const D=E&&a?n:s;return T&&c.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const I3=40;function qA(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=pf.reduce((K,Z)=>(K[Z]=N3(l),K),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:T,preRender:E,render:C,postRender:D}=c,I=()=>{const K=Us.useManualTiming?a.timestamp:performance.now();n=!1,Us.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(K-a.timestamp,I3),1)),a.timestamp=K,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),T.process(a),E.process(a),C.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(I))},j=()=>{n=!0,s=!0,a.isProcessing||t(I)};return{schedule:pf.reduce((K,Z)=>{const W=c[Z];return K[Z]=(ue,k=!1,S=!1)=>(n||j(),W.schedule(ue,k,S)),K},{}),cancel:K=>{for(let Z=0;Z<pf.length;Z++)c[pf[Z]].cancel(K)},state:a,steps:c}}const{schedule:pt,cancel:kr,state:un,steps:rg}=qA(typeof requestAnimationFrame<"u"?requestAnimationFrame:ui,!0);let Of;function D3(){Of=void 0}const Vn={now:()=>(Of===void 0&&Vn.set(un.isProcessing||Us.useManualTiming?un.timestamp:performance.now()),Of),set:t=>{Of=t,queueMicrotask(D3)}},FA=t=>e=>typeof e=="string"&&e.startsWith(t),B0=FA("--"),M3=FA("var(--"),z0=t=>M3(t)?V3.test(t.split("/*")[0].trim()):!1,V3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},uc={...vl,transform:t=>Ls(0,1,t)},gf={...vl,default:1},Hu=t=>Math.round(t*1e5)/1e5,q0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function P3(t){return t==null}const k3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,F0=(t,e)=>n=>!!(typeof n=="string"&&k3.test(n)&&n.startsWith(t)||e&&!P3(n)&&Object.prototype.hasOwnProperty.call(n,e)),HA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(q0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},O3=t=>Ls(0,255,t),ag={...vl,transform:t=>Math.round(O3(t))},Ca={test:F0("rgb","red"),parse:HA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ag.transform(t)+", "+ag.transform(e)+", "+ag.transform(n)+", "+Hu(uc.transform(s))+")"};function j3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ty={test:F0("#"),parse:j3,transform:Ca.transform},kc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),yr=kc("deg"),Wi=kc("%"),De=kc("px"),L3=kc("vh"),U3=kc("vw"),yx={...Wi,parse:t=>Wi.parse(t)/100,transform:t=>Wi.transform(t*100)},Bo={test:F0("hsl","hue"),parse:HA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Wi.transform(Hu(e))+", "+Wi.transform(Hu(n))+", "+Hu(uc.transform(s))+")"},Bt={test:t=>Ca.test(t)||ty.test(t)||Bo.test(t),parse:t=>Ca.test(t)?Ca.parse(t):Bo.test(t)?Bo.parse(t):ty.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ca.transform(t):Bo.transform(t),getAnimatableNone:t=>{const e=Bt.parse(t);return e.alpha=0,Bt.transform(e)}},B3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function z3(t){return isNaN(t)&&typeof t=="string"&&(t.match(q0)?.length||0)+(t.match(B3)?.length||0)>0}const GA="number",KA="color",q3="var",F3="var(",vx="${}",H3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(H3,m=>(Bt.test(m)?(s.color.push(l),a.push(KA),n.push(Bt.parse(m))):m.startsWith(F3)?(s.var.push(l),a.push(q3),n.push(m)):(s.number.push(l),a.push(GA),n.push(parseFloat(m))),++l,vx)).split(vx);return{values:n,split:d,indexes:s,types:a}}function $A(t){return cc(t).values}function YA(t){const{split:e,types:n}=cc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===GA?l+=Hu(a[c]):d===KA?l+=Bt.transform(a[c]):l+=a[c]}return l}}const G3=t=>typeof t=="number"?0:Bt.test(t)?Bt.getAnimatableNone(t):t;function K3(t){const e=$A(t);return YA(t)(e.map(G3))}const Or={test:z3,parse:$A,createTransformer:YA,getAnimatableNone:K3};function og(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=og(m,d,t+1/3),l=og(m,d,t),c=og(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function ld(t,e){return n=>n>0?e:t}const vt=(t,e,n)=>t+(e-t)*n,lg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},Y3=[ty,Ca,Bo],Q3=t=>Y3.find(e=>e.test(t));function _x(t){const e=Q3(t);if(!e)return!1;let n=e.parse(t);return e===Bo&&(n=$3(n)),n}const Tx=(t,e)=>{const n=_x(t),s=_x(e);if(!n||!s)return ld(t,e);const a={...n};return l=>(a.red=lg(n.red,s.red,l),a.green=lg(n.green,s.green,l),a.blue=lg(n.blue,s.blue,l),a.alpha=vt(n.alpha,s.alpha,l),Ca.transform(a))},ny=new Set(["none","hidden"]);function X3(t,e){return ny.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function W3(t,e){return n=>vt(t,e,n)}function H0(t){return typeof t=="number"?W3:typeof t=="string"?z0(t)?ld:Bt.test(t)?Tx:ej:Array.isArray(t)?QA:typeof t=="object"?Bt.test(t)?Tx:Z3:ld}function QA(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>H0(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function Z3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=H0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function J3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const ej=(t,e)=>{const n=Or.createTransformer(e),s=cc(t),a=cc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?ny.has(t)&&!a.values.length||ny.has(e)&&!s.values.length?X3(t,e):Vc(QA(J3(s,a),a.values),n):ld(t,e)};function XA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):H0(t)(t,e)}const tj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>pt.update(e,n),stop:()=>kr(e),now:()=>un.isProcessing?un.timestamp:Vn.now()}},WA=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ud=2e4;function G0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ud;)e+=n,s=t.next(e);return e>=ud?1/0:e}function nj(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(G0(s),ud);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Xi(a)}}const ij=5;function ZA(t,e,n){const s=Math.max(e-ij,0);return DA(n-t(s),e-s)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ug=.001;function sj({duration:t=xt.duration,bounce:e=xt.bounce,velocity:n=xt.velocity,mass:s=xt.mass}){let a,l,c=1-e;c=Ls(xt.minDamping,xt.maxDamping,c),t=Ls(xt.minDuration,xt.maxDuration,Xi(t)),c<1?(a=p=>{const y=p*c,T=y*t,E=y-n,C=iy(p,c),D=Math.exp(-T);return ug-E/C*D},l=p=>{const T=p*c*t,E=T*n+n,C=Math.pow(c,2)*Math.pow(p,2)*t,D=Math.exp(-T),I=iy(Math.pow(p,2),c);return(-a(p)+ug>0?-1:1)*((E-C)*D)/I}):(a=p=>{const y=Math.exp(-p*t),T=(p-n)*t+1;return-ug+y*T},l=p=>{const y=Math.exp(-p*t),T=(n-p)*(t*t);return y*T});const d=5/t,m=aj(a,l,d);if(t=Qi(t),isNaN(m))return{stiffness:xt.stiffness,damping:xt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const rj=12;function aj(t,e,n){let s=n;for(let a=1;a<rj;a++)s=s-t(s)/e(s);return s}function iy(t,e){return t*Math.sqrt(1-e*e)}const oj=["duration","bounce"],lj=["stiffness","damping","mass"];function bx(t,e){return e.some(n=>t[n]!==void 0)}function uj(t){let e={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...t};if(!bx(t,lj)&&bx(t,oj))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ls(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:xt.mass,stiffness:a,damping:l}}else{const n=sj(t);e={...e,...n,mass:xt.mass},e.isResolvedFromDuration=!0}return e}function cd(t=xt.visualDuration,e=xt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:T,velocity:E,isResolvedFromDuration:C}=uj({...n,velocity:-Xi(n.velocity||0)}),D=E||0,I=p/(2*Math.sqrt(m*y)),j=c-l,U=Xi(Math.sqrt(m/y)),Y=Math.abs(j)<5;s||(s=Y?xt.restSpeed.granular:xt.restSpeed.default),a||(a=Y?xt.restDelta.granular:xt.restDelta.default);let K;if(I<1){const W=iy(U,I);K=ue=>{const k=Math.exp(-I*U*ue);return c-k*((D+I*U*j)/W*Math.sin(W*ue)+j*Math.cos(W*ue))}}else if(I===1)K=W=>c-Math.exp(-U*W)*(j+(D+U*j)*W);else{const W=U*Math.sqrt(I*I-1);K=ue=>{const k=Math.exp(-I*U*ue),S=Math.min(W*ue,300);return c-k*((D+I*U*j)*Math.sinh(S)+W*j*Math.cosh(S))/W}}const Z={calculatedDuration:C&&T||null,next:W=>{const ue=K(W);if(C)d.done=W>=T;else{let k=W===0?D:0;I<1&&(k=W===0?Qi(D):ZA(K,W,ue));const S=Math.abs(k)<=s,N=Math.abs(c-ue)<=a;d.done=S&&N}return d.value=d.done?c:ue,d},toString:()=>{const W=Math.min(G0(Z),ud),ue=WA(k=>Z.next(W*k).value,W,30);return W+"ms "+ue},toTransition:()=>{}};return Z}cd.applyToOptions=t=>{const e=nj(t,100,cd);return t.ease=e.ease,t.duration=Qi(e.duration),t.type="keyframes",t};function sy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const T=t[0],E={done:!1,value:T},C=S=>d!==void 0&&S<d||m!==void 0&&S>m,D=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let I=n*e;const j=T+I,U=c===void 0?j:c(j);U!==j&&(I=U-T);const Y=S=>-I*Math.exp(-S/s),K=S=>U+Y(S),Z=S=>{const N=Y(S),V=K(S);E.done=Math.abs(N)<=p,E.value=E.done?U:V};let W,ue;const k=S=>{C(E.value)&&(W=S,ue=cd({keyframes:[E.value,D(E.value)],velocity:ZA(K,S,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return k(0),{calculatedDuration:null,next:S=>{let N=!1;return!ue&&W===void 0&&(N=!0,Z(S),k(S)),W!==void 0&&S>=W?ue.next(S-W):(!N&&Z(S),E)}}}function cj(t,e,n){const s=[],a=n||Us.mix||XA,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||ui:e;d=Vc(m,d)}s.push(d)}return s}function hj(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(k0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=cj(e,s,a),m=d.length,p=y=>{if(c&&y<t[0])return e[0];let T=0;if(m>1)for(;T<t.length-2&&!(y<t[T+1]);T++);const E=lc(t[T],t[T+1],y);return d[T](E)};return n?y=>p(Ls(t[0],t[l-1],y)):p}function fj(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=lc(0,e,s);t.push(vt(n,1,a))}}function dj(t){const e=[0];return fj(e,t.length-1),e}function mj(t,e){return t.map(n=>n*e)}function pj(t,e){return t.map(()=>e||BA).splice(0,t.length-1)}function Gu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=A3(s)?s.map(gx):gx(s),l={done:!1,value:e[0]},c=mj(n&&n.length===e.length?n:dj(e),t),d=hj(c,e,{ease:Array.isArray(a)?a:pj(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const gj=t=>t!==null;function K0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(gj),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const yj={decay:sy,inertia:sy,tween:Gu,keyframes:Gu,spring:cd};function JA(t){typeof t.type=="string"&&(t.type=yj[t.type])}class $0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const vj=t=>t/100;class Y0 extends $0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Vn.now()&&this.tick(Vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;JA(e);const{type:n=Gu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const m=n||Gu;m!==Gu&&typeof d[0]!="number"&&(this.mixKeyframes=Vc(vj,XA(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=G0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:T,repeatType:E,repeatDelay:C,type:D,onUpdate:I,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,Z=s;if(T){const S=Math.min(this.currentTime,a)/d;let N=Math.floor(S),V=S%1;!V&&S>=1&&(V=1),V===1&&N--,N=Math.min(N,T+1),!!(N%2)&&(E==="reverse"?(V=1-V,C&&(V-=C/d)):E==="mirror"&&(Z=c)),K=Ls(0,1,V)*d}const W=Y?{done:!1,value:y[0]}:Z.next(K);l&&(W.value=l(W.value));let{done:ue}=W;!Y&&m!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return k&&D!==sy&&(W.value=K0(y,this.options,j,this.speed)),I&&I(W.value),k&&this.finish(),W}then(e,n){return this.finished.then(e,n)}get duration(){return Xi(this.calculatedDuration)}get time(){return Xi(this.currentTime)}set time(e){e=Qi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=tj,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function _j(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Na=t=>t*180/Math.PI,ry=t=>{const e=Na(Math.atan2(t[1],t[0]));return ay(e)},Tj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ry,rotateZ:ry,skewX:t=>Na(Math.atan(t[1])),skewY:t=>Na(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ay=t=>(t=t%360,t<0&&(t+=360),t),Ex=ry,xx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),wx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xx,scaleY:wx,scale:t=>(xx(t)+wx(t))/2,rotateX:t=>ay(Na(Math.atan2(t[6],t[5]))),rotateY:t=>ay(Na(Math.atan2(-t[2],t[0]))),rotateZ:Ex,rotate:Ex,skewX:t=>Na(Math.atan(t[4])),skewY:t=>Na(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function oy(t){return t.includes("scale")?1:0}function ly(t,e){if(!t||t==="none")return oy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=bj,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Tj,a=d}if(!a)return oy(e);const l=s[e],c=a[1].split(",").map(xj);return typeof l=="function"?l(c):c[l]}const Ej=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ly(n,e)};function xj(t){return parseFloat(t.trim())}const _l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tl=new Set(_l),Sx=t=>t===vl||t===De,wj=new Set(["x","y","z"]),Sj=_l.filter(t=>!wj.has(t));function Aj(t){const e=[];return Sj.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Da={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ly(e,"x"),y:(t,{transform:e})=>ly(e,"y")};Da.translateX=Da.x;Da.translateY=Da.y;const Ma=new Set;let uy=!1,cy=!1,hy=!1;function eR(){if(cy){const t=Array.from(Ma).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=Aj(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}cy=!1,uy=!1,Ma.forEach(t=>t.complete(hy)),Ma.clear()}function tR(){Ma.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(cy=!0)})}function Rj(){hy=!0,tR(),eR(),hy=!1}class Q0{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ma.add(this),uy||(uy=!0,pt.read(tR),pt.resolveKeyframes(eR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}_j(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ma.delete(this)}cancel(){this.state==="scheduled"&&(Ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Cj=t=>t.startsWith("--");function Nj(t,e,n){Cj(e)?t.style.setProperty(e,n):t.style[e]=n}const Ij=O0(()=>window.ScrollTimeline!==void 0),Dj={};function Mj(t,e){const n=O0(t);return()=>Dj[e]??n()}const nR=Mj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ju=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Ax={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ju([0,.65,.55,1]),circOut:ju([.55,0,1,.45]),backIn:ju([.31,.01,.66,-.59]),backOut:ju([.33,1.53,.69,.99])};function iR(t,e){if(t)return typeof t=="function"?nR()?WA(t,e):"ease-out":zA(t)?ju(t):Array.isArray(t)?t.map(n=>iR(n,e)||Ax.easeOut):Ax[t]}function Vj(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const T=iR(d,a);Array.isArray(T)&&(y.easing=T);const E={delay:s,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function sR(t){return typeof t=="function"&&"applyToOptions"in t}function Pj({type:t,...e}){return sR(t)&&nR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class kj extends $0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,k0(typeof e.type!="string");const p=Pj(e);this.animation=Vj(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=K0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):Nj(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Xi(Number(e))}get time(){return Xi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Ij()?(this.animation.timeline=e,ui):n(this)}}const rR={anticipate:jA,backInOut:OA,circInOut:UA};function Oj(t){return t in rR}function jj(t){typeof t.ease=="string"&&Oj(t.ease)&&(t.ease=rR[t.ease])}const Rx=10;class Lj extends kj{constructor(e){jj(e),JA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Y0({...c,autoplay:!1}),m=Qi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-Rx).value,d.sample(m).value,Rx),d.stop()}}const Cx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Or.test(t)||t==="0")&&!t.startsWith("url("));function Uj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Bj(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Cx(a,e),d=Cx(l,e);return!c||!d?!1:Uj(t)||(n==="spring"||sR(n))&&s}function fy(t){t.duration=0,t.type}const zj=new Set(["opacity","clipPath","filter","transform"]),qj=O0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Fj(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return qj()&&n&&zj.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const Hj=40;class Gj extends $0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vn.now();const E={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,...T},C=y?.KeyframeResolver||Q0;this.keyframeResolver=new C(d,(D,I,j)=>this.onKeyframesResolved(D,I,E,!j),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Vn.now(),Bj(e,l,c,d)||((Us.instantAnimations||!m)&&y?.(K0(e,s,n)),e[0]=e[e.length-1],fy(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Hj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!p&&Fj(E)?new Lj({...E,element:E.motionValue.owner.current}):new Y0(E);C.finished.then(()=>this.notifyFinished()).catch(ui),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Rj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Kj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $j(t){const e=Kj.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function aR(t,e,n=1){const[s,a]=$j(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return CA(c)?parseFloat(c):c}return z0(a)?aR(a,e,n+1):a}function X0(t,e){return t?.[e]??t?.default??t}const oR=new Set(["width","height","top","left","right","bottom",..._l]),Yj={test:t=>t==="auto",parse:t=>t},lR=t=>e=>e.test(t),uR=[vl,De,Wi,yr,U3,L3,Yj],Nx=t=>uR.find(lR(t));function Qj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||IA(t):!0}const Xj=new Set(["brightness","contrast","saturate","opacity"]);function Wj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(q0)||[];if(!s)return t;const a=n.replace(s,"");let l=Xj.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const Zj=/\b([a-z-]*)\(.*?\)/gu,dy={...Or,getAnimatableNone:t=>{const e=t.match(Zj);return e?e.map(Wj).join(" "):t}},Ix={...vl,transform:Math.round},Jj={rotate:yr,rotateX:yr,rotateY:yr,rotateZ:yr,scale:gf,scaleX:gf,scaleY:gf,scaleZ:gf,skew:yr,skewX:yr,skewY:yr,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:uc,originX:yx,originY:yx,originZ:De},W0={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...Jj,zIndex:Ix,fillOpacity:uc,strokeOpacity:uc,numOctaves:Ix},eL={...W0,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:dy,WebkitFilter:dy},cR=t=>eL[t];function hR(t,e){let n=cR(t);return n!==dy&&(n=Or),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tL=new Set(["auto","none","0"]);function nL(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!tL.has(l)&&cc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=hR(n,a)}class iL extends Q0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),z0(p))){const y=aR(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!oR.has(s)||e.length!==2)return;const[a,l]=e,c=Nx(a),d=Nx(l);if(c!==d)if(Sx(c)&&Sx(d))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Da[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||Qj(e[a]))&&s.push(a);s.length&&nL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Da[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Da[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function sL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const fR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function rL(t){return NA(t)&&"offsetHeight"in t}const Dx=30,aL=t=>!isNaN(parseFloat(t));class oL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Vn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=aL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new j0);const s=this.events[e].add(n);return e==="change"?()=>{s(),pt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Dx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Dx);return DA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rl(t,e){return new oL(t,e)}const{schedule:Z0}=qA(queueMicrotask,!1),gi={x:!1,y:!1};function dR(){return gi.x||gi.y}function lL(t){return t==="x"||t==="y"?gi[t]?null:(gi[t]=!0,()=>{gi[t]=!1}):gi.x||gi.y?null:(gi.x=gi.y=!0,()=>{gi.x=gi.y=!1})}function mR(t,e){const n=sL(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Mx(t){return!(t.pointerType==="touch"||dR())}function uL(t,e,n={}){const[s,a,l]=mR(t,n),c=d=>{if(!Mx(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const y=T=>{Mx(T)&&(p(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const pR=(t,e)=>e?t===e?!0:pR(t,e.parentElement):!1,J0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hL(t){return cL.has(t.tagName)||t.tabIndex!==-1}const jf=new WeakSet;function Vx(t){return e=>{e.key==="Enter"&&t(e)}}function cg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Vx(()=>{if(jf.has(n))return;cg(n,"down");const a=Vx(()=>{cg(n,"up")}),l=()=>cg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Px(t){return J0(t)&&!dR()}function dL(t,e,n={}){const[s,a,l]=mR(t,n),c=d=>{const m=d.currentTarget;if(!Px(d))return;jf.add(m);const p=e(m,d),y=(C,D)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",E),jf.has(m)&&jf.delete(m),Px(C)&&typeof p=="function"&&p(C,{success:D})},T=C=>{y(C,m===window||m===document||n.useGlobalTarget||pR(m,C.target))},E=C=>{y(C,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",E,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),rL(d)&&(d.addEventListener("focus",p=>fL(p,a)),!hL(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function gR(t){return NA(t)&&"ownerSVGElement"in t}function mL(t){return gR(t)&&t.tagName==="svg"}const Tn=t=>!!(t&&t.getVelocity),pL=[...uR,Bt,Or],gL=t=>pL.find(lR(t)),yR=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function yL(t=!0){const e=M.useContext(M0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=M.useId();M.useEffect(()=>{if(t)return a(l)},[t]);const c=M.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const vR=M.createContext({strict:!1}),kx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},al={};for(const t in kx)al[t]={isEnabled:e=>kx[t].some(n=>!!e[n])};function vL(t){for(const e in t)al[e]={...al[e],...t[e]}}const _L=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_L.has(t)}let _R=t=>!hd(t);function TL(t){typeof t=="function"&&(_R=e=>e.startsWith("on")?!hd(e):t(e))}try{TL(require("@emotion/is-prop-valid").default)}catch{}function bL(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(_R(a)||n===!0&&hd(a)||!e&&!hd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const jd=M.createContext({});function Ld(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function hc(t){return typeof t=="string"||Array.isArray(t)}const ev=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tv=["initial",...ev];function Ud(t){return Ld(t.animate)||tv.some(e=>hc(t[e]))}function TR(t){return!!(Ud(t)||t.variants)}function EL(t,e){if(Ud(t)){const{initial:n,animate:s}=t;return{initial:n===!1||hc(n)?n:void 0,animate:hc(s)?s:void 0}}return t.inherit!==!1?e:{}}function xL(t){const{initial:e,animate:n}=EL(t,M.useContext(jd));return M.useMemo(()=>({initial:e,animate:n}),[Ox(e),Ox(n)])}function Ox(t){return Array.isArray(t)?t.join(" "):t}const fc={};function wL(t){for(const e in t)fc[e]=t[e],B0(e)&&(fc[e].isCSSVariable=!0)}function bR(t,{layout:e,layoutId:n}){return Tl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fc[t]||t==="opacity")}const SL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AL=_l.length;function RL(t,e,n){let s="",a=!0;for(let l=0;l<AL;l++){const c=_l[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=fR(d,W0[c]);if(!m){a=!1;const y=SL[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function nv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const p=e[m];if(Tl.has(m)){c=!0;continue}else if(B0(m)){a[m]=p;continue}else{const y=fR(p,W0[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=RL(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const iv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ER(t,e,n){for(const s in e)!Tn(e[s])&&!bR(s,n)&&(t[s]=e[s])}function CL({transformTemplate:t},e){return M.useMemo(()=>{const n=iv();return nv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function NL(t,e){const n=t.style||{},s={};return ER(s,n,t),Object.assign(s,CL(t,e)),s}function IL(t,e){const n={},s=NL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const DL={offset:"stroke-dashoffset",array:"stroke-dasharray"},ML={offset:"strokeDashoffset",array:"strokeDasharray"};function VL(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?DL:ML;t[l.offset]=De.transform(-s);const c=De.transform(e),d=De.transform(n);t[l.array]=`${c} ${d}`}function xR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if(nv(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:E}=t;T.transform&&(E.transform=T.transform,delete T.transform),(E.transform||T.transformOrigin)&&(E.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),s!==void 0&&(T.scale=s),a!==void 0&&VL(T,a,l,c,!1)}const wR=()=>({...iv(),attrs:{}}),SR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PL(t,e,n,s){const a=M.useMemo(()=>{const l=wR();return xR(l,e,SR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};ER(l,t.style,t),a.style={...l,...a.style}}return a}const kL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sv(t){return typeof t!="string"||t.includes("-")?!1:!!(kL.indexOf(t)>-1||/[A-Z]/u.test(t))}function OL(t,e,n,{latestValues:s},a,l=!1){const d=(sv(t)?PL:IL)(e,s,a,t),m=bL(e,typeof t=="string",l),p=t!==M.Fragment?{...m,...d,ref:n}:{},{children:y}=e,T=M.useMemo(()=>Tn(y)?y.get():y,[y]);return M.createElement(t,{...p,children:T})}function jx(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function rv(t,e,n,s){if(typeof e=="function"){const[a,l]=jx(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=jx(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Lf(t){return Tn(t)?t.get():t}function jL({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:LL(n,s,a,t),renderState:e()}}function LL(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=Lf(l[E]);let{initial:c,animate:d}=t;const m=Ud(t),p=TR(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?d:c;if(T&&typeof T!="boolean"&&!Ld(T)){const E=Array.isArray(T)?T:[T];for(let C=0;C<E.length;C++){const D=rv(t,E[C]);if(D){const{transitionEnd:I,transition:j,...U}=D;for(const Y in U){let K=U[Y];if(Array.isArray(K)){const Z=y?K.length-1:0;K=K[Z]}K!==null&&(a[Y]=K)}for(const Y in I)a[Y]=I[Y]}}}return a}const AR=t=>(e,n)=>{const s=M.useContext(jd),a=M.useContext(M0),l=()=>jL(t,e,s,a);return n?l():v3(l)};function av(t,e,n){const{style:s}=t,a={};for(const l in s)(Tn(s[l])||e.style&&Tn(e.style[l])||bR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const UL=AR({scrapeMotionValuesFromProps:av,createRenderState:iv});function RR(t,e,n){const s=av(t,e,n);for(const a in t)if(Tn(t[a])||Tn(e[a])){const l=_l.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const BL=AR({scrapeMotionValuesFromProps:RR,createRenderState:wR}),zL=Symbol.for("motionComponentSymbol");function zo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qL(t,e,n){return M.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):zo(n)&&(n.current=s))},[e])}const ov=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FL="framerAppearId",CR="data-"+ov(FL),NR=M.createContext({});function HL(t,e,n,s,a){const{visualElement:l}=M.useContext(jd),c=M.useContext(vR),d=M.useContext(M0),m=M.useContext(yR).reducedMotion,p=M.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,T=M.useContext(NR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&GL(p.current,n,a,T);const E=M.useRef(!1);M.useInsertionEffect(()=>{y&&E.current&&y.update(n,d)});const C=n[CR],D=M.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return _3(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),M.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),D.current=!1),y.enteringChildren=void 0)}),y}function GL(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:IR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&zo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function IR(t){if(t)return t.options.allowProjection!==!1?t.projection:IR(t.parent)}function hg(t,{forwardMotionProps:e=!1}={},n,s){n&&vL(n);const a=sv(t)?BL:UL;function l(d,m){let p;const y={...M.useContext(yR),...d,layoutId:KL(d)},{isStatic:T}=y,E=xL(d),C=a(d,T);if(!T&&D0){$L();const D=YL(y);p=D.MeasureLayout,E.visualElement=HL(t,C,y,s,D.ProjectionNode)}return _.jsxs(jd.Provider,{value:E,children:[p&&E.visualElement?_.jsx(p,{visualElement:E.visualElement,...y}):null,OL(t,d,qL(C,E.visualElement,m),C,T,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=M.forwardRef(l);return c[zL]=t,c}function KL({layoutId:t}){const e=M.useContext(RA).id;return e&&t!==void 0?e+"-"+t:t}function $L(t,e){M.useContext(vR).strict}function YL(t){const{drag:e,layout:n}=al;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function QL(t,e){if(typeof Proxy>"u")return hg;const n=new Map,s=(l,c)=>hg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,hg(c,void 0,t,e)),n.get(c))})}function DR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function XL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function fg(t){return t===void 0||t===1}function my({scale:t,scaleX:e,scaleY:n}){return!fg(t)||!fg(e)||!fg(n)}function Aa(t){return my(t)||MR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function MR(t){return Lx(t.x)||Lx(t.y)}function Lx(t){return t&&t!=="0%"}function fd(t,e,n){const s=t-n,a=e*s;return n+a}function Ux(t,e,n,s,a){return a!==void 0&&(t=fd(t,a,s)),fd(t,n,s)+e}function py(t,e=0,n=1,s,a){t.min=Ux(t.min,e,n,s,a),t.max=Ux(t.max,e,n,s,a)}function VR(t,{x:e,y:n}){py(t.x,e.translate,e.scale,e.originPoint),py(t.y,n.translate,n.scale,n.originPoint)}const Bx=.999999999999,zx=1.0000000000001;function ZL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Fo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,VR(t,c)),s&&Aa(l.latestValues)&&Fo(t,l.latestValues))}e.x<zx&&e.x>Bx&&(e.x=1),e.y<zx&&e.y>Bx&&(e.y=1)}function qo(t,e){t.min=t.min+e,t.max=t.max+e}function qx(t,e,n,s,a=.5){const l=vt(t.min,t.max,a);py(t,e,n,l,s)}function Fo(t,e){qx(t.x,e.x,e.scaleX,e.scale,e.originX),qx(t.y,e.y,e.scaleY,e.scale,e.originY)}function PR(t,e){return DR(WL(t.getBoundingClientRect(),e))}function JL(t,e,n){const s=PR(t,n),{scroll:a}=e;return a&&(qo(s.x,a.offset.x),qo(s.y,a.offset.y)),s}const Fx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:Fx(),y:Fx()}),Hx=()=>({min:0,max:0}),Dt=()=>({x:Hx(),y:Hx()}),gy={current:null},kR={current:!1};function e6(){if(kR.current=!0,!!D0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gy.current=t.matches;t.addEventListener("change",e),e()}else gy.current=!1}const t6=new WeakMap;function n6(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Tn(a))t.addValue(s,a);else if(Tn(l))t.addValue(s,rl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,rl(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Gx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class i6{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Q0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Vn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,pt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Ud(n),this.isVariantNode=TR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in T){const C=T[E];m[E]!==void 0&&Tn(C)&&C.set(m[E])}}mount(e){this.current=e,t6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),kR.current||e6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),kr(this.notifyUpdate),kr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Tl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&pt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in al){const n=al[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Gx.length;s++){const a=Gx[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=n6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=rl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(CA(s)||IA(s))?s=parseFloat(s):!gL(s)&&Or.test(n)&&(s=hR(e,n)),this.setBaseTarget(e,Tn(s)?s.get():s)),Tn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=rv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Tn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new j0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Z0.render(this.render)}}class OR extends i6{constructor(){super(...arguments),this.KeyframeResolver=iL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jR(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function s6(t){return window.getComputedStyle(t)}class r6 extends OR{constructor(){super(...arguments),this.type="html",this.renderInstance=jR}readValueFromInstance(e,n){if(Tl.has(n))return this.projection?.isProjecting?oy(n):Ej(e,n);{const s=s6(e),a=(B0(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PR(e,n)}build(e,n,s){nv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return av(e,n,s)}}const LR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function a6(t,e,n,s){jR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(LR.has(a)?a:ov(a),e.attrs[a])}class o6 extends OR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Tl.has(n)){const s=cR(n);return s&&s.default||0}return n=LR.has(n)?n:ov(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return RR(e,n,s)}build(e,n,s){xR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){a6(e,n,s,a)}mount(e){this.isSVGTag=SR(e.tagName),super.mount(e)}}const l6=(t,e)=>sv(t)?new o6(e):new r6(e,{allowProjection:t!==M.Fragment});function Zo(t,e,n){const s=t.getProps();return rv(s,e,n!==void 0?n:s.custom,t)}const yy=t=>Array.isArray(t);function u6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,rl(n))}function c6(t){return yy(t)?t[t.length-1]||0:t}function h6(t,e){const n=Zo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=c6(l[c]);u6(t,c,d)}}function f6(t){return!!(Tn(t)&&t.add)}function vy(t,e){const n=t.getValue("willChange");if(f6(n))return n.add(e);if(!n&&Us.WillChange){const s=new Us.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function UR(t){return t.props[CR]}const d6=t=>t!==null;function m6(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(d6),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const p6={type:"spring",stiffness:500,damping:25,restSpeed:10},g6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),y6={type:"keyframes",duration:.8},v6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_6=(t,{keyframes:e})=>e.length>2?y6:Tl.has(t)?t.startsWith("scale")?g6(e[1]):p6:v6;function T6({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const lv=(t,e,n,s={},a,l)=>c=>{const d=X0(s,t)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Qi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};T6(d)||Object.assign(y,_6(t,y)),y.duration&&(y.duration=Qi(y.duration)),y.repeatDelay&&(y.repeatDelay=Qi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(fy(y),y.delay===0&&(T=!0)),(Us.instantAnimations||Us.skipAnimations)&&(T=!0,fy(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,T&&!l&&e.get()!==void 0){const E=m6(y.keyframes,d);if(E!==void 0){pt.update(()=>{y.onUpdate(E),y.onComplete()});return}}return d.isSync?new Y0(y):new Gj(y)};function b6({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function BR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const T=t.getValue(y,t.latestValues[y]??null),E=d[y];if(E===void 0||p&&b6(p,y))continue;const C={delay:n,...X0(l||{},y)},D=T.get();if(D!==void 0&&!T.isAnimating&&!Array.isArray(E)&&E===D&&!C.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const U=UR(t);if(U){const Y=window.MotionHandoffAnimation(U,y,pt);Y!==null&&(C.startTime=Y,I=!0)}}vy(t,y),T.start(lv(y,T,E,t.shouldReduceMotion&&oR.has(y)?{type:!1}:C,t,I));const j=T.animation;j&&m.push(j)}return c&&Promise.all(m).then(()=>{pt.update(()=>{c&&h6(t,c)})}),m}function zR(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function _y(t,e,n={}){const s=Zo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(BR(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:T}=a;return E6(t,e,m,p,y,T,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function E6(t,e,n=0,s=0,a=0,l=1,c){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(_y(m,e,{...c,delay:n+(typeof s=="function"?0:s)+zR(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function x6(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>_y(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=_y(t,e,n);else{const a=typeof e=="function"?Zo(t,e,n.custom):e;s=Promise.all(BR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function qR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const w6=tv.length;function FR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?FR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<w6;n++){const s=tv[n],a=t.props[s];(hc(a)||a===!1)&&(e[s]=a)}return e}const S6=[...ev].reverse(),A6=ev.length;function R6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>x6(t,n,s)))}function C6(t){let e=R6(t),n=Kx(),s=!0;const a=m=>(p,y)=>{const T=Zo(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:E,transitionEnd:C,...D}=T;p={...p,...D,...C}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=FR(t.parent)||{},T=[],E=new Set;let C={},D=1/0;for(let j=0;j<A6;j++){const U=S6[j],Y=n[U],K=p[U]!==void 0?p[U]:y[U],Z=hc(K),W=U===m?Y.isActive:null;W===!1&&(D=j);let ue=K===y[U]&&K!==p[U]&&Z;if(ue&&s&&t.manuallyAnimateOnMount&&(ue=!1),Y.protectedKeys={...C},!Y.isActive&&W===null||!K&&!Y.prevProp||Ld(K)||typeof K=="boolean")continue;const k=N6(Y.prevProp,K);let S=k||U===m&&Y.isActive&&!ue&&Z||j>D&&Z,N=!1;const V=Array.isArray(K)?K:[K];let L=V.reduce(a(U),{});W===!1&&(L={});const{prevResolvedValues:B={}}=Y,R={...B,...L},fe=se=>{S=!0,E.has(se)&&(N=!0,E.delete(se)),Y.needsAnimating[se]=!0;const ce=t.getValue(se);ce&&(ce.liveStyle=!1)};for(const se in R){const ce=L[se],_e=B[se];if(C.hasOwnProperty(se))continue;let P=!1;yy(ce)&&yy(_e)?P=!qR(ce,_e):P=ce!==_e,P?ce!=null?fe(se):E.add(se):ce!==void 0&&E.has(se)?fe(se):Y.protectedKeys[se]=!0}Y.prevProp=K,Y.prevResolvedValues=L,Y.isActive&&(C={...C,...L}),s&&t.blockInitialAnimation&&(S=!1);const me=ue&&k;S&&(!me||N)&&T.push(...V.map(se=>{const ce={type:U};if(typeof se=="string"&&s&&!me&&t.manuallyAnimateOnMount&&t.parent){const{parent:_e}=t,P=Zo(_e,se);if(_e.enteringChildren&&P){const{delayChildren:te}=P.transition||{};ce.delay=zR(_e.enteringChildren,t,te)}}return{animation:se,options:ce}}))}if(E.size){const j={};if(typeof p.initial!="boolean"){const U=Zo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(j.transition=U.transition)}E.forEach(U=>{const Y=t.getBaseTarget(U),K=t.getValue(U);K&&(K.liveStyle=!0),j[U]=Y??null}),T.push({animation:j})}let I=!!T.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(I=!1),s=!1,I?e(T):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Kx(),s=!0}}}function N6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qR(e,t):!1}function wa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kx(){return{animate:wa(!0),whileInView:wa(),whileHover:wa(),whileTap:wa(),whileDrag:wa(),whileFocus:wa(),exit:wa()}}class zr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class I6 extends zr{constructor(e){super(e),e.animationState||(e.animationState=C6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ld(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let D6=0;class M6 extends zr{constructor(){super(...arguments),this.id=D6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const V6={animation:{Feature:I6},exit:{Feature:M6}};function dc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Oc(t){return{point:{x:t.pageX,y:t.pageY}}}const P6=t=>e=>J0(e)&&t(e,Oc(e));function Ku(t,e,n,s){return dc(t,e,P6(n),s)}const HR=1e-4,k6=1-HR,O6=1+HR,GR=.01,j6=0-GR,L6=0+GR;function An(t){return t.max-t.min}function U6(t,e,n){return Math.abs(t-e)<=n}function $x(t,e,n,s=.5){t.origin=s,t.originPoint=vt(e.min,e.max,t.origin),t.scale=An(n)/An(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=k6&&t.scale<=O6||isNaN(t.scale))&&(t.scale=1),(t.translate>=j6&&t.translate<=L6||isNaN(t.translate))&&(t.translate=0)}function $u(t,e,n,s){$x(t.x,e.x,n.x,s?s.originX:void 0),$x(t.y,e.y,n.y,s?s.originY:void 0)}function Yx(t,e,n){t.min=n.min+e.min,t.max=t.min+An(e)}function B6(t,e,n){Yx(t.x,e.x,n.x),Yx(t.y,e.y,n.y)}function Qx(t,e,n){t.min=e.min-n.min,t.max=t.min+An(e)}function Yu(t,e,n){Qx(t.x,e.x,n.x),Qx(t.y,e.y,n.y)}function ai(t){return[t("x"),t("y")]}const KR=({current:t})=>t?t.ownerDocument.defaultView:null,Xx=(t,e)=>Math.abs(t-e);function z6(t,e){const n=Xx(t.x,e.x),s=Xx(t.y,e.y);return Math.sqrt(n**2+s**2)}class $R{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=mg(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,D=z6(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!D)return;const{point:I}=E,{timestamp:j}=un;this.history.push({...I,timestamp:j});const{onStart:U,onMove:Y}=this.handlers;C||(U&&U(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,E)},this.handlePointerMove=(E,C)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=dg(C,this.transformPagePoint),pt.update(this.updatePoint,!0)},this.handlePointerUp=(E,C)=>{this.end();const{onEnd:D,onSessionEnd:I,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=mg(E.type==="pointercancel"?this.lastMoveEventInfo:dg(C,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,U),I&&I(E,U)},!J0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Oc(e),m=dg(d,this.transformPagePoint),{point:p}=m,{timestamp:y}=un;this.history=[{...p,timestamp:y}];const{onSessionStart:T}=n;T&&T(e,mg(m,this.history)),this.removeListeners=Vc(Ku(this.contextWindow,"pointermove",this.handlePointerMove),Ku(this.contextWindow,"pointerup",this.handlePointerUp),Ku(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),kr(this.updatePoint)}}function dg(t,e){return e?{point:e(t.point)}:t}function Wx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mg({point:t},e){return{point:t,delta:Wx(t,YR(e)),offset:Wx(t,q6(e)),velocity:F6(e,.1)}}function q6(t){return t[0]}function YR(t){return t[t.length-1]}function F6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=YR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Qi(e)));)n--;if(!s)return{x:0,y:0};const l=Xi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function H6(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?vt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?vt(n,t,s.max):Math.min(t,n)),t}function Zx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function G6(t,{top:e,left:n,bottom:s,right:a}){return{x:Zx(t.x,n,a),y:Zx(t.y,e,s)}}function Jx(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function K6(t,e){return{x:Jx(t.x,e.x),y:Jx(t.y,e.y)}}function $6(t,e){let n=.5;const s=An(t),a=An(e);return a>s?n=lc(e.min,e.max-s,t.min):s>a&&(n=lc(t.min,t.max-a,e.min)),Ls(0,1,n)}function Y6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ty=.35;function Q6(t=Ty){return t===!1?t=0:t===!0&&(t=Ty),{x:ew(t,"left","right"),y:ew(t,"top","bottom")}}function ew(t,e,n){return{min:tw(t,e),max:tw(t,n)}}function tw(t,e){return typeof t=="number"?t:t[e]||0}const X6=new WeakMap;class W6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Oc(T).point)},c=(T,E)=>{const{drag:C,dragPropagation:D,onDragStart:I}=this.getProps();if(C&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lL(C),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ai(U=>{let Y=this.getAxisMotionValue(U).get()||0;if(Wi.test(Y)){const{projection:K}=this.visualElement;if(K&&K.layout){const Z=K.layout.layoutBox[U];Z&&(Y=An(Z)*(parseFloat(Y)/100))}}this.originPoint[U]=Y}),I&&pt.postRender(()=>I(T,E)),vy(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},d=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:D,onDirectionLock:I,onDrag:j}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:U}=E;if(D&&this.currentDirection===null){this.currentDirection=Z6(U),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",E.point,U),this.updateAxis("y",E.point,U),this.visualElement.render(),j&&j(T,E)},m=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E,this.stop(T,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ai(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new $R(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:KR(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&pt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!yf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=H6(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&zo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=G6(s.layoutBox,e):this.constraints=!1,this.elastic=Q6(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ai(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Y6(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=JL(s,a.root,this.visualElement.getTransformPagePoint());let c=K6(a.layout.layoutBox,l);if(n){const d=n(XL(c));this.hasMutatedConstraints=!!d,d&&(c=DR(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=ai(y=>{if(!yf(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const E=a?200:1e6,C=a?40:1e7,D={type:"inertia",velocity:s?e[y]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return vy(this.visualElement,e),s.start(lv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ai(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ai(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ai(n=>{const{drag:s}=this.getProps();if(!yf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-vt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!zo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ai(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=$6({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ai(c=>{if(!yf(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(vt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;X6.set(this.visualElement,this);const e=this.visualElement.current,n=Ku(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();zo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),pt.read(s);const c=dc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ai(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ty,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function yf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Z6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class J6 extends zr{constructor(e){super(e),this.removeGroupControls=ui,this.removeListeners=ui,this.controls=new W6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ui}unmount(){this.removeGroupControls(),this.removeListeners()}}const nw=t=>(e,n)=>{t&&pt.postRender(()=>t(e,n))};class e5 extends zr{constructor(){super(...arguments),this.removePointerDownListener=ui}onPointerDown(e){this.session=new $R(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:nw(e),onStart:nw(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&pt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Ku(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Iu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=iw(t,e.target.x),s=iw(t,e.target.y);return`${n}% ${s}%`}},t5={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Or.parse(t);if(a.length>5)return s;const l=Or.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const p=vt(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let pg=!1;class n5 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;wL(i5),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),pg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Uf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,pg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||pt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Z0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;pg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QR(t){const[e,n]=yL(),s=M.useContext(RA);return _.jsx(n5,{...t,layoutGroup:s,switchLayoutGroup:M.useContext(NR),isPresent:e,safeToRemove:n})}const i5={borderRadius:{...Iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Iu,borderTopRightRadius:Iu,borderBottomLeftRadius:Iu,borderBottomRightRadius:Iu,boxShadow:t5};function s5(t,e,n){const s=Tn(t)?t:rl(t);return s.start(lv("",s,e,n)),s.animation}const r5=(t,e)=>t.depth-e.depth;class a5{constructor(){this.children=[],this.isDirty=!1}add(e){V0(this.children,e),this.isDirty=!0}remove(e){P0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(r5),this.isDirty=!1,this.children.forEach(e)}}function o5(t,e){const n=Vn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(kr(s),t(l-e))};return pt.setup(s,!0),()=>kr(s)}const XR=["TopLeft","TopRight","BottomLeft","BottomRight"],l5=XR.length,sw=t=>typeof t=="string"?parseFloat(t):t,rw=t=>typeof t=="number"||De.test(t);function u5(t,e,n,s,a,l){a?(t.opacity=vt(0,n.opacity??1,c5(s)),t.opacityExit=vt(e.opacity??1,0,h5(s))):l&&(t.opacity=vt(e.opacity??1,n.opacity??1,s));for(let c=0;c<l5;c++){const d=`border${XR[c]}Radius`;let m=aw(e,d),p=aw(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||rw(m)===rw(p)?(t[d]=Math.max(vt(sw(m),sw(p),s),0),(Wi.test(p)||Wi.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,s))}function aw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const c5=WR(0,.5,LA),h5=WR(.5,.95,ui);function WR(t,e,n){return s=>s<t?0:s>e?1:n(lc(t,e,s))}function ow(t,e){t.min=e.min,t.max=e.max}function ri(t,e){ow(t.x,e.x),ow(t.y,e.y)}function lw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function uw(t,e,n,s,a){return t-=e,t=fd(t,1/n,s),a!==void 0&&(t=fd(t,1/a,s)),t}function f5(t,e=0,n=1,s=.5,a,l=t,c=t){if(Wi.test(e)&&(e=parseFloat(e),e=vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=vt(l.min,l.max,s);t===l&&(d-=e),t.min=uw(t.min,e,n,d,a),t.max=uw(t.max,e,n,d,a)}function cw(t,e,[n,s,a],l,c){f5(t,e[n],e[s],e[a],e.scale,l,c)}const d5=["x","scaleX","originX"],m5=["y","scaleY","originY"];function hw(t,e,n,s){cw(t.x,e,d5,n?n.x:void 0,s?s.x:void 0),cw(t.y,e,m5,n?n.y:void 0,s?s.y:void 0)}function fw(t){return t.translate===0&&t.scale===1}function ZR(t){return fw(t.x)&&fw(t.y)}function dw(t,e){return t.min===e.min&&t.max===e.max}function p5(t,e){return dw(t.x,e.x)&&dw(t.y,e.y)}function mw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function JR(t,e){return mw(t.x,e.x)&&mw(t.y,e.y)}function pw(t){return An(t.x)/An(t.y)}function gw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class g5{constructor(){this.members=[]}add(e){V0(this.members,e),e.scheduleRender()}remove(e){if(P0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y5(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:T,rotateY:E,skewX:C,skewY:D}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),T&&(s+=`rotateX(${T}deg) `),E&&(s+=`rotateY(${E}deg) `),C&&(s+=`skewX(${C}deg) `),D&&(s+=`skewY(${D}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const gg=["","X","Y","Z"],v5=1e3;let _5=0;function yg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function eC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=UR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&eC(s)}function tC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=_5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(E5),this.nodes.forEach(A5),this.nodes.forEach(R5),this.nodes.forEach(x5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new a5)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new j0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=gR(c)&&!mL(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let y,T=0;const E=()=>this.root.updateBlockedByResize=!1;pt.read(()=>{T=window.innerWidth}),t(c,()=>{const C=window.innerWidth;C!==T&&(T=C,this.root.updateBlockedByResize=!0,y&&y(),y=o5(E,250),Uf.hasAnimatedSinceResize&&(Uf.hasAnimatedSinceResize=!1,this.nodes.forEach(_w)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||M5,{onLayoutAnimationStart:I,onLayoutAnimationComplete:j}=p.getProps(),U=!this.targetLayout||!JR(this.targetLayout,C),Y=!T&&E;if(this.options.layoutRoot||this.resumeFrom||Y||T&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...X0(D,"layout"),onPlay:I,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,Y)}else T||_w(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(S5),this.nodes.forEach(T5),this.nodes.forEach(b5)):this.nodes.forEach(vw),this.clearAllSnapshots();const d=Vn.now();un.delta=Ls(0,1e3/60,d-un.timestamp),un.timestamp=d,un.isProcessing=!0,rg.update.process(un),rg.preRender.process(un),rg.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Z0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w5),this.sharedNodes.forEach(N5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!An(this.snapshot.measuredBox.x)&&!An(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!ZR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Aa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),V5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Dt();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(P5))){const{scroll:p}=this.root;p&&(qo(d.x,p.offset.x),qo(d.y,p.offset.y))}return d}removeElementScroll(c){const d=Dt();if(ri(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:T}=p;p!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&ri(d,c),qo(d.x,y.offset.x),qo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=Dt();ri(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Fo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Aa(y.latestValues)&&Fo(m,y.latestValues)}return Aa(this.latestValues)&&Fo(m,this.latestValues),m}removeTransform(c){const d=Dt();ri(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Aa(p.latestValues))continue;my(p.latestValues)&&p.updateSnapshot();const y=Dt(),T=p.measurePageBox();ri(y,T),hw(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Aa(this.latestValues)&&hw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=un.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),Yu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),B6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ri(this.target,this.layout.layoutBox),VR(this.target,this.targetDelta)):ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),Yu(this.relativeTargetOrigin,this.target,E.target),ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||my(this.parent.latestValues)||MR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===un.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ri(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,E=this.treeScale.y;ZL(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Dt());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lw(this.prevProjectionDelta.x,this.projectionDelta.x),lw(this.prevProjectionDelta.y,this.projectionDelta.y)),$u(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==E||!gw(this.projectionDelta.x,this.prevProjectionDelta.x)||!gw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},T=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=Dt(),C=m?m.source:void 0,D=this.layout?this.layout.source:void 0,I=C!==D,j=this.getStack(),U=!j||j.members.length<=1,Y=!!(I&&!U&&this.options.crossfade===!0&&!this.path.some(D5));this.animationProgress=0;let K;this.mixTargetDelta=Z=>{const W=Z/1e3;Tw(T.x,c.x,W),Tw(T.y,c.y,W),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),I5(this.relativeTarget,this.relativeTargetOrigin,E,W),K&&p5(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=Dt()),ri(K,this.relativeTarget)),I&&(this.animationValues=y,u5(y,p,this.latestValues,W,Y,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pt.update(()=>{Uf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=rl(0)),this.currentAnimation=s5(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(v5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&nC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Dt();const T=An(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const E=An(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}ri(d,m),Fo(d,y),$u(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new g5),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&yg("z",c,p,this.animationValues);for(let y=0;y<gg.length;y++)yg(`rotate${gg[y]}`,c,p,this.animationValues),yg(`skew${gg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Lf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Lf(d?.pointerEvents)||""),this.hasProjected&&!Aa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=y5(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x:E,y:C}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in fc){if(y[D]===void 0)continue;const{correct:I,applyTo:j,isCSSVariable:U}=fc[D],Y=T==="none"?y[D]:I(y[D],p);if(j){const K=j.length;for(let Z=0;Z<K;Z++)c[j[Z]]=Y}else U?this.options.visualElement.renderState.vars[D]=Y:c[D]=Y}this.options.layoutId&&(c.pointerEvents=p===this?Lf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(yw),this.root.sharedNodes.clear()}}}function T5(t){t.updateLayout()}function b5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ai(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],E=An(T);T.min=n[y].min,T.max=T.min+E}):nC(a,e.layoutBox,n)&&ai(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],E=An(n[y]);T.max=T.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const c=Ho();$u(c,n,e.layoutBox);const d=Ho();l?$u(d,t.applyTransform(s,!0),e.measuredBox):$u(d,n,e.layoutBox);const m=!ZR(c);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:E}=y;if(T&&E){const C=Dt();Yu(C,e.layoutBox,T.layoutBox);const D=Dt();Yu(D,n,E.layoutBox),JR(C,D)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function E5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function x5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function w5(t){t.clearSnapshot()}function yw(t){t.clearMeasurements()}function vw(t){t.isLayoutDirty=!1}function S5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _w(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function A5(t){t.resolveTargetDelta()}function R5(t){t.calcProjection()}function C5(t){t.resetSkewAndRotation()}function N5(t){t.removeLeadSnapshot()}function Tw(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bw(t,e,n,s){t.min=vt(e.min,n.min,s),t.max=vt(e.max,n.max,s)}function I5(t,e,n,s){bw(t.x,e.x,n.x,s),bw(t.y,e.y,n.y,s)}function D5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const M5={duration:.45,ease:[.4,0,.1,1]},Ew=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xw=Ew("applewebkit/")&&!Ew("chrome/")?Math.round:ui;function ww(t){t.min=xw(t.min),t.max=xw(t.max)}function V5(t){ww(t.x),ww(t.y)}function nC(t,e,n){return t==="position"||t==="preserve-aspect"&&!U6(pw(e),pw(n),.2)}function P5(t){return t!==t.root&&t.scroll?.wasRoot}const k5=tC({attachResizeListener:(t,e)=>dc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vg={current:void 0},iC=tC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vg.current){const t=new k5({});t.mount(window),t.setOptions({layoutScroll:!0}),vg.current=t}return vg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),O5={pan:{Feature:e5},drag:{Feature:J6,ProjectionNode:iC,MeasureLayout:QR}};function Sw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&pt.postRender(()=>l(e,Oc(e)))}class j5 extends zr{mount(){const{current:e}=this.node;e&&(this.unmount=uL(e,(n,s)=>(Sw(this.node,s,"Start"),a=>Sw(this.node,a,"End"))))}unmount(){}}class L5 extends zr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vc(dc(this.node.current,"focus",()=>this.onFocus()),dc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Aw(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&pt.postRender(()=>l(e,Oc(e)))}class U5 extends zr{mount(){const{current:e}=this.node;e&&(this.unmount=dL(e,(n,s)=>(Aw(this.node,s,"Start"),(a,{success:l})=>Aw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const by=new WeakMap,_g=new WeakMap,B5=t=>{const e=by.get(t.target);e&&e(t)},z5=t=>{t.forEach(B5)};function q5({root:t,...e}){const n=t||document;_g.has(n)||_g.set(n,{});const s=_g.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(z5,{root:t,...e})),s[a]}function F5(t,e,n){const s=q5(e);return by.set(t,n),s.observe(t),()=>{by.delete(t),s.unobserve(t)}}const H5={some:0,all:1};class G5 extends zr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:H5[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),E=p?y:T;E&&E(m)};return F5(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(K5(e,n))&&this.startObserver()}unmount(){}}function K5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $5={inView:{Feature:G5},tap:{Feature:U5},focus:{Feature:L5},hover:{Feature:j5}},Y5={layout:{ProjectionNode:iC,MeasureLayout:QR}},Q5={...V6,...$5,...O5,...Y5},mc=QL(Q5,l6),Rw=(t="")=>String(t).trim().split(/\s+/).map(e=>e.split("-").map(n=>n?n[0].toLocaleUpperCase("tr-TR")+n.slice(1).toLocaleLowerCase("tr-TR"):"").join("-")).join(" "),Fn=t=>{if(t==null)return"";const e=String(t).trim();return e==="undefined"||e==="null"?"":e},X5=t=>t.toLocaleLowerCase("tr-TR").replace(/ı/g,"i"),W5=t=>{const e=(t??"unknown").replace(/\u00A0/g," ").trim();return e?X5(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,"").replace(/_+/g,"_").slice(0,120):"unknown"},Z5=new Intl.Collator("tr",{numeric:!0,sensitivity:"base"}),Go=(t,e)=>Z5.compare(t??"",e??""),Tg=t=>t.sort((e,n)=>Go(e.name,n.name)),bg=t=>t.sort((e,n)=>Go(e.cat,n.cat)),Eg=t=>String(t??"").trim().toLowerCase(),J5={indigo:"bg-indigo-50 ring-indigo-100 text-indigo-600",emerald:"bg-emerald-50 ring-emerald-100 text-emerald-600",violet:"bg-violet-50 ring-violet-100 text-violet-600",rose:"bg-rose-50 ring-rose-100 text-rose-600",amber:"bg-amber-50 ring-amber-100 text-amber-600"},Qu={indigo:"text-indigo-700",emerald:"text-emerald-700",violet:"text-violet-700",rose:"text-rose-600",amber:"text-amber-700"},Ey={emerald:{badgeColor:"emerald",chip:"bg-emerald-50 text-emerald-700 ring-emerald-100",text:"text-emerald-700",border:"border-emerald-300",btn:"bg-emerald-600",btnHover:"hover:bg-emerald-500",ring:"focus-visible:ring-emerald-400",underline:"decoration-emerald-300"},rose:{badgeColor:"rose",chip:"bg-rose-50 text-rose-700 ring-rose-100",text:"text-rose-700",border:"border-rose-300",btn:"bg-rose-600",btnHover:"hover:bg-rose-500",ring:"focus-visible:ring-rose-400",underline:"decoration-rose-300"}},jc=({color:t="indigo",children:e,className:n=""})=>_.jsx("span",{className:`inline-flex items-center justify-center rounded-full ring-1 h-6 w-6 sm:h-7 sm:w-7 ${J5[t]} ${n}`,children:e}),vf=({icon:t,color:e="indigo",children:n})=>_.jsxs("div",{className:"mb-4 sm:mb-5 flex items-center gap-2",children:[_.jsx(jc,{color:e,children:_.jsx(t,{className:"h-4 w-4"})}),_.jsx("h2",{className:`text-base sm:text-lg font-semibold ${Qu[e]}`,children:n})]}),_f=({className:t="",children:e})=>_.jsx("div",{className:`rounded-xl border border-slate-300 bg-white shadow-sm overflow-hidden ${t}`,children:e}),e9=({title:t,children:e})=>{const[n,s]=M.useState(!1),[a,l]=M.useState(0),c=M.useRef(null);return M.useEffect(()=>{const d=c.current;if(!d)return;const m=()=>l(d.scrollHeight);m();const p=new ResizeObserver(m);p.observe(d);const y=setTimeout(m,50);return()=>{p.disconnect(),clearTimeout(y)}},[e,n]),_.jsxs("div",{className:"mb-4 sm:mb-5 rounded-xl border border-slate-300 bg-white shadow-sm",children:[_.jsxs("button",{onClick:()=>s(d=>!d),"aria-expanded":n,className:"flex w-full items-center justify-between rounded-xl border-b border-slate-200 px-4 py-3 sm:px-5 sm:py-3.5 text-left text-[15px] font-semibold text-slate-800 transition-colors hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[t,_.jsx(mc.div,{animate:{rotate:n?180:0},transition:{duration:.25},className:"text-slate-500",children:_.jsx(I0,{className:"h-4 w-4"})})]}),_.jsx(mc.div,{initial:!1,animate:n?{maxHeight:a,opacity:1}:{maxHeight:0,opacity:0},transition:{duration:.28,ease:[.22,1,.36,1]},className:"overflow-hidden",style:{willChange:"max-height, opacity"},children:_.jsx("div",{ref:c,className:"px-4 pb-4 pt-3 sm:px-6 sm:pb-5 sm:pt-4",children:e})})]})},sC=({title:t,icon:e,color:n="indigo",children:s,defaultOpen:a=!1})=>{const[l,c]=M.useState(a),[d,m]=M.useState(0),p=M.useRef(null);return M.useEffect(()=>{const y=p.current;if(!y)return;const T=()=>m(y.scrollHeight);T();const E=new ResizeObserver(T);E.observe(y);const C=setTimeout(T,50);return()=>{E.disconnect(),clearTimeout(C)}},[s,l]),_.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white",children:[_.jsxs("button",{onClick:()=>c(y=>!y),"aria-expanded":l,className:"flex w-full items-center justify-between gap-2 rounded-lg px-3 py-2 text-left text-sm font-semibold text-slate-800 hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[_.jsxs("span",{className:"inline-flex items-center gap-2",children:[_.jsx(jc,{color:n,className:"h-6 w-6",children:_.jsx(e,{className:"h-3.5 w-3.5"})}),_.jsx("span",{className:Qu[n],children:t})]}),_.jsx(mc.span,{animate:{rotate:l?180:0},transition:{duration:.22},className:"text-slate-500",children:_.jsx(I0,{className:"h-4 w-4"})})]}),_.jsx(mc.div,{initial:!1,animate:l?{maxHeight:d,opacity:1}:{maxHeight:0,opacity:0},transition:{duration:.28,ease:[.22,1,.36,1]},className:"overflow-hidden",children:_.jsx("div",{ref:p,className:"px-3 pb-3 pt-1 sm:px-4",children:s})})]})},t9=({cats:t=[]})=>t.length?_.jsx("div",{className:"space-y-2 sm:space-y-3",children:t.map(({cat:e,list:n})=>_.jsx(sC,{title:e,icon:wA,color:"indigo",defaultOpen:!1,children:_.jsx("ul",{className:"space-y-1.5 text-sm leading-6 text-slate-700",children:n.map((s,a)=>_.jsxs("li",{className:"flex items-center gap-2 min-w-0",children:[_.jsx(jc,{color:"indigo",className:"h-6 w-6 shrink-0",children:_.jsx(SA,{className:"h-3.5 w-3.5"})}),s.link?_.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline decoration-indigo-300 underline-offset-2 hover:text-indigo-700 min-w-0 max-w-[70vw] sm:max-w-none",title:s.name,children:[_.jsx("span",{className:"truncate",children:s.name}),_.jsx(Od,{className:"h-3.5 w-3.5 shrink-0"})]}):_.jsx("span",{className:"truncate",title:s.name,children:s.name})]},`${e}-${a}`))})},e))}):_.jsx("p",{className:"text-xs text-slate-500",children:"Bu sınıf için slayt yok."}),Cw=({cats:t=[],studentName:e,solvedSet:n,accent:s="emerald"})=>{const a=cl(),l=Ey[s];return t.length?_.jsx("div",{className:"space-y-2 sm:space-y-3",children:t.map(({cat:c,list:d})=>_.jsx(sC,{title:c,icon:s3,color:l.badgeColor,defaultOpen:!1,children:_.jsx("ul",{className:"space-y-2 text-sm leading-6 text-slate-700",children:d.map((m,p)=>{const y=m.questionCount??20,T=!!m.link,E=!!n?.has?.(m.name);return _.jsxs("li",{className:"flex flex-col gap-2 rounded-lg md:flex-row md:items-center md:justify-between",children:[_.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[_.jsx(jc,{color:l.badgeColor,className:"h-6 w-6 shrink-0",children:_.jsx(Wo,{className:"h-3.5 w-3.5"})}),_.jsx("span",{className:"truncate",title:m.name,children:m.name}),_.jsxs("span",{className:`shrink-0 rounded-full px-2 py-0.5 text-[11px] font-medium ring-1 ${l.chip}`,children:[y," soru"]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[T?_.jsxs("a",{href:m.link,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center rounded-md border bg-white px-3 py-1.5 text-xs font-medium shadow-sm hover:bg-slate-50 focus:outline-none focus-visible:ring-2 ${l.border} ${l.text} ${l.ring}`,children:["Testi Gör",_.jsx(Od,{className:"ml-1 h-3.5 w-3.5"})]}):_.jsx("button",{disabled:!0,className:"inline-flex cursor-not-allowed items-center justify-center rounded-md border border-slate-200 bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-500",title:"Bu test için bağlantı eklenmemiş.",children:"Testi Gör"}),_.jsx("button",{"aria-disabled":E,disabled:E,onClick:()=>{if(E)return;const C=`/optik?count=${y}&test=${encodeURIComponent(m.name)}&student=${encodeURIComponent(e)}`;a(C)},title:E?"Bu test daha önce çözüldü.":"Testi çöz",className:`inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium shadow-sm transition-colors focus:outline-none focus-visible:ring-2
                        ${E?"cursor-not-allowed bg-slate-200 text-slate-500 ring-1 ring-slate-300":`${l.btn} text-white ring-1 ring-black/5 ${l.btnHover} ${l.ring}`}`,children:E?"Çözüldü":"Testi Çöz"})]})]},`${c}-${p}`)})})},`${s}-${c}`))}):_.jsx("p",{className:"text-xs text-slate-500",children:"Bu sınıf için test yok."})};function n9(){const{user:t}=Mc(),e=M.useMemo(()=>[5,6,7,8],[]),[n,s]=M.useState({}),[a,l]=M.useState({}),[c,d]=M.useState({}),[m,p]=M.useState(null),[y,T]=M.useState(new Set),[E,C]=M.useState([]),[D,I]=M.useState({submissions:0,compared:0,correct:0,wrong:0,blank:0,accuracy:0});M.useEffect(()=>{t?.uid&&(async()=>{try{const Z=await kd(Ki(Re,"students",t.uid));p(Z.exists()?{id:Z.id,...Z.data()}:{})}catch(Z){console.error("Profil çekilemedi:",Z),p({})}})()},[t]),M.useEffect(()=>{(async()=>{try{const[W,ue,k]=await Promise.all([ot(je(Re,"slaytKategoriAdlari")),ot(je(Re,"kategoriAdlari")),ot(je(Re,"ozelKategoriler"))]),S=W.docs.map(fe=>Fn(fe.data().name)).filter(Boolean),N=ue.docs.map(fe=>Fn(fe.data().name)).filter(Boolean),V=k.docs.map(fe=>Fn(fe.data().name)).filter(Boolean);S.sort(Go),N.sort(Go),V.sort(Go);const L={},B={},R={};await Promise.all(e.map(async fe=>{const me=[];await Promise.all(S.map(async ce=>{const P=(await ot(vn(je(Re,ce),Qt("grade","==",fe)))).docs.flatMap(te=>{const oe=te.data();if(Eg(oe.type)!=="slayt")return[];const le=Fn(oe.name);return le?[{name:le,link:Fn(oe.link)||void 0}]:[]});Tg(P),P.length&&me.push({cat:ce,list:P})})),bg(me),L[fe]=me;const Q=[];await Promise.all(N.map(async ce=>{const P=(await ot(vn(je(Re,ce),Qt("grade","==",fe)))).docs.flatMap(te=>{const oe=te.data();if(Eg(oe.type)!=="test")return[];const le=oe.createdAt?.toDate?.(),pe=le?new Date(le.getTime()+(oe.duration||0)*6e4):null,we=Fn(oe.name);return we?[{name:we,link:Fn(oe.link)||void 0,closing:pe,questionCount:typeof oe.questionCount=="number"?oe.questionCount:typeof oe.count=="number"?oe.count:20}]:[]});Tg(P),P.length&&Q.push({cat:ce,list:P})})),bg(Q),B[fe]=Q;const se=[];await Promise.all(V.map(async ce=>{const P=(await ot(vn(je(Re,ce),Qt("grade","==",fe)))).docs.flatMap(te=>{const oe=te.data();if(Eg(oe.type)!=="yayın")return[];const le=Fn(oe.name);return le?[{name:le,link:Fn(oe.link)||void 0,questionCount:typeof oe.questionCount=="number"?oe.questionCount:typeof oe.count=="number"?oe.count:20}]:[]});Tg(P),P.length&&se.push({cat:ce,list:P})})),bg(se),R[fe]=se})),s(L),l(B),d(R)}catch(W){console.error("Firestore veri çekme hatası:",W)}})()},[e]);const{firstName:j,lastName:U}=M.useMemo(()=>{const Z=Fn(m?.firstName),W=Fn(m?.lastName);return{firstName:Z?Rw(Z):"-",lastName:W?Rw(W):"-"}},[m]),Y=M.useMemo(()=>{const Z=`${j&&j!=="-"?j:""} ${U&&U!=="-"?U:""}`.trim()||(t?.email?.split("@")[0]??"bilinmeyen");return W5(Z)},[j,U,t]);M.useEffect(()=>{Y&&(async()=>{try{const Z=vn(je(Re,Y),Qt("type","==","submission")),W=await ot(Z),ue=new Set;W.forEach(k=>{const S=k.data()?.test?.name;S&&ue.add(String(S))}),T(ue)}catch(Z){console.error("Çözülen testler alınamadı:",Z),T(new Set)}})()},[Y]),M.useEffect(()=>{Y&&(async()=>{try{const Z=`${Y}_odevler`;let W;try{W=await ot(vn(je(Re,Z),Qt("type","==","assignment"),Qt("status","==","assigned")))}catch{W=await ot(vn(je(Re,Z),Qt("type","==","assignment")))}const ue=[];W.forEach(k=>{const S=k.data();if(S.status&&S.status!=="assigned")return;const N=S.test||{},V=Fn(N.name);V&&ue.push({id:k.id,name:V,category:Fn(N.category),grade:N.grade??null,link:N.link||null,questionCount:typeof N.questionCount=="number"?N.questionCount:20,isSpecial:!!N.isSpecial})}),ue.sort((k,S)=>Go(k.name,S.name)),C(ue)}catch(Z){console.error("Atanan ödevler getirilemedi:",Z),C([])}})()},[Y]),M.useEffect(()=>{Y&&(async()=>{try{const Z=vn(je(Re,Y),Qt("type","==","submission")),W=await ot(Z);let ue=0,k=0,S=0,N=0,V=0;W.forEach(R=>{const fe=R.data();if(fe?.type!=="submission")return;ue+=1;const me=fe?.scoring;me&&me.status==="ok"&&(k+=me.compared||0,S+=me.correctCount||0,N+=me.wrongCount||0,V+=me.blankCount||0)});const L=k,B=L>0?S/L:0;I({submissions:ue,compared:k,correct:S,wrong:N,blank:V,accuracy:B})}catch(Z){console.error("İstatistikler hesaplanamadı:",Z),I({submissions:0,compared:0,correct:0,wrong:0,blank:0,accuracy:0})}})()},[Y]);const K=cl();return _.jsx("section",{className:"min-h-screen bg-slate-50 px-3 py-6 sm:px-5 sm:py-8 md:px-6 md:py-10",children:_.jsxs("div",{className:"mx-auto max-w-7xl",children:[_.jsx("div",{className:"mb-8 sm:mb-10 flex items-center justify-center gap-2",children:_.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold tracking-tight text-slate-900",children:"Öğrenci Paneli"})}),_.jsxs("div",{className:"grid gap-6 md:gap-8 lg:grid-cols-3",children:[_.jsxs(_f,{className:"p-4 sm:p-6 md:p-8 lg:col-span-2",children:[_.jsx(vf,{icon:wA,color:"indigo",children:"Slaytlar & Testler"}),[5,6,7,8].map(Z=>_.jsxs(e9,{title:`${Z}. Sınıf`,children:[_.jsx("h3",{className:`mb-2 text-sm font-semibold ${Qu.indigo}`,children:"Slaytlar"}),_.jsx(t9,{cats:n[Z]||[]}),_.jsx("h3",{className:`mb-2 mt-5 text-sm font-semibold ${Qu.emerald}`,children:"Testler"}),_.jsx(Cw,{cats:a[Z]||[],studentName:Y,solvedSet:y,accent:"emerald"}),_.jsx("h3",{className:`mb-2 mt-5 text-sm font-semibold ${Qu.rose}`,children:"Yayınlar"}),_.jsx(Cw,{cats:c[Z]||[],studentName:Y,solvedSet:y,accent:"rose"})]},Z))]}),_.jsxs("div",{className:"flex flex-col gap-6 md:gap-8",children:[_.jsxs(_f,{className:"p-4 sm:p-6 md:p-8",children:[_.jsx(vf,{icon:Wo,color:"rose",children:"Aktif Ödevler"}),E.length===0?_.jsx("p",{className:"text-center text-sm leading-7 text-slate-600",children:"Şu anda atanmış ödev bulunmuyor."}):_.jsx("ul",{className:"space-y-2.5 text-sm",children:E.map(Z=>{const W=y.has(Z.name),ue=Z.isSpecial?Ey.rose:Ey.emerald;return _.jsxs("li",{className:"flex flex-col gap-2 rounded-lg md:flex-row md:items-center md:justify-between",children:[_.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[_.jsx(jc,{color:ue.badgeColor,className:"h-6 w-6 shrink-0",children:_.jsx(Wo,{className:"h-3.5 w-3.5"})}),_.jsx("span",{className:"truncate",title:Z.name,children:Z.name}),_.jsxs("span",{className:`shrink-0 rounded-full px-2 py-0.5 text-[11px] font-medium ring-1 ${ue.chip}`,title:Z.isSpecial?"Özel test":"Normal test",children:[Z.questionCount," soru"]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[Z.link?_.jsxs("a",{href:Z.link,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center rounded-md border bg-white px-3 py-1.5 text-xs font-medium shadow-sm hover:bg-slate-50 focus:outline-none focus-visible:ring-2 ${ue.border} ${ue.text} ${ue.ring}`,children:["Testi Gör",_.jsx(Od,{className:"ml-1 h-3.5 w-3.5"})]}):_.jsx("button",{disabled:!0,className:"inline-flex cursor-not-allowed items-center justify-center rounded-md border border-slate-200 bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-500",title:"Bu test için bağlantı eklenmemiş.",children:"Testi Gör"}),_.jsx("button",{"aria-disabled":W,disabled:W,onClick:()=>{if(W)return;const k=`/optik?count=${Z.questionCount}&test=${encodeURIComponent(Z.name)}&student=${encodeURIComponent(Y)}&cat=${encodeURIComponent(Z.category)}&grade=${Z.grade??""}&link=${encodeURIComponent(Z.link||"")}`;K(k)},title:W?"Bu test daha önce çözüldü.":"Testi çöz",className:`inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium shadow-sm transition-colors focus:outline-none focus-visible:ring-2
                              ${W?"cursor-not-allowed bg-slate-200 text-slate-500 ring-1 ring-slate-300":`${ue.btn} text-white ring-1 ring-black/5 ${ue.btnHover} ${ue.ring}`}`,children:W?"Çözüldü":"Testi Çöz"})]})]},Z.id)})})]}),_.jsxs(_f,{className:"p-4 sm:p-6 md:p-8",children:[_.jsx(vf,{icon:u3,color:"violet",children:"Kişisel Bilgiler"}),_.jsxs("dl",{className:"divide-y divide-slate-200 text-sm",children:[_.jsxs("div",{className:"grid grid-cols-2 gap-y-2 py-3",children:[_.jsx("dt",{className:"font-medium text-slate-600",children:"Ad"}),_.jsx("dd",{className:"text-right",children:j||"-"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-y-2 py-3",children:[_.jsx("dt",{className:"font-medium text-slate-600",children:"Soyad"}),_.jsx("dd",{className:"text-right",children:U||"-"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-y-2 py-3",children:[_.jsx("dt",{className:"font-medium text-slate-600",children:"E-posta"}),_.jsx("dd",{className:"text-right",children:t?.email||"-"})]})]})]}),_.jsxs(_f,{className:"p-4 sm:p-6 md:p-8",children:[_.jsx(vf,{icon:N0,color:"amber",children:"İstatistikler"}),_.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 text-center sm:grid-cols-4",children:[_.jsxs("div",{className:"rounded-lg bg-amber-50 p-2.5 sm:p-3 ring-1 ring-amber-100",children:[_.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-amber-700",children:D.submissions}),_.jsx("div",{className:"mt-1 text-[11px] sm:text-xs font-medium text-amber-700/80",children:"Test"})]}),_.jsxs("div",{className:"rounded-lg bg-emerald-50 p-2.5 sm:p-3 ring-1 ring-emerald-100",children:[_.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-emerald-700",children:D.correct}),_.jsx("div",{className:"mt-1 text-[11px] sm:text-xs font-medium text-emerald-700/80",children:"Doğru"})]}),_.jsxs("div",{className:"rounded-lg bg-rose-50 p-2.5 sm:p-3 ring-1 ring-rose-100",children:[_.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-rose-700",children:D.wrong}),_.jsx("div",{className:"mt-1 text-[11px] sm:text-xs font-medium text-rose-700/80",children:"Yanlış"})]}),_.jsxs("div",{className:"rounded-lg bg-slate-50 p-2.5 sm:p-3 ring-1 ring-slate-200",children:[_.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-slate-700",children:D.blank}),_.jsx("div",{className:"mt-1 text-[11px] sm:text-xs font-medium text-slate-700/80",children:"Boş"})]})]}),_.jsxs("div",{className:"mt-3 sm:mt-4 grid grid-cols-2 gap-3 sm:gap-4",children:[_.jsxs("div",{className:"rounded-lg bg-white p-2.5 sm:p-3 ring-1 ring-slate-200",children:[_.jsx("p",{className:"text-center text-[12px] sm:text-[13px] text-slate-600",children:"Soru Sayısı"}),_.jsx("p",{className:"mt-1 text-center text-lg sm:text-xl font-bold text-slate-900",children:D.compared})]}),_.jsxs("div",{className:"rounded-lg bg-white p-2.5 sm:p-3 ring-1 ring-slate-200",children:[_.jsx("p",{className:"text-center text-[12px] sm:text-[13px] text-slate-600",children:"Doğruluk"}),_.jsxs("p",{className:"mt-1 text-center text-lg sm:text-xl font-bold text-slate-900",children:[(D.accuracy*100).toFixed(1),"%"]})]})]}),_.jsx("button",{type:"button",onClick:()=>K("/cozdugum-testler"),className:"mt-2 w-full rounded-md bg-white py-2.5 text-sm font-semibold text-indigo-700 ring-1 ring-indigo-200 hover:bg-indigo-50",children:"Çözdüğüm Testler"}),D.submissions===0&&_.jsx("p",{className:"mt-4 text-center text-xs text-slate-500",children:"Henüz gönderim yok. Test çözdükçe istatistikler burada görünecek."})]})]})]})]})})}const i9="admin@mail.com";function Nw({children:t,role:e}){const{user:n,loading:s}=Mc(),[a,l]=M.useState(null);if(M.useEffect(()=>{let p=!0;return(async()=>{if(!n){p&&l(null);return}try{const y=await u1(n,!0);p&&l(y&&y.claims||{})}catch{p&&l({})}})(),()=>{p=!1}},[n]),s||n&&a===null)return null;if(!n)return _.jsx(xf,{to:"/",replace:!0});const c=(n.email||"").toLowerCase()===i9,m=(typeof a?.admin=="boolean"?a.admin:!1)||c;return e==="admin"&&!m?_.jsx(xf,{to:"/dashboard",replace:!0}):e==="user"&&m?_.jsx(xf,{to:"/admin",replace:!0}):_.jsx(_.Fragment,{children:t})}const Iw=["A","B","C","D"],s9=t=>t.toLocaleLowerCase("tr-TR").replace(/ı/g,"i"),r9=t=>{const e=(t??"unknown").replace(/\u00A0/g," ").trim();return e?s9(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,"").replace(/_+/g,"_").slice(0,120):"unknown"},Tf=({children:t,color:e="indigo"})=>{const n={indigo:"bg-indigo-50 text-indigo-700 ring-indigo-100",emerald:"bg-emerald-50 text-emerald-700 ring-emerald-100",slate:"bg-slate-50 text-slate-700 ring-slate-200",rose:"bg-rose-50 text-rose-700 ring-rose-100"};return _.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-medium ring-1 ${n[e]}`,children:t})};function a9(t){const{answersArray:e,answerKey:n}=t,s=n.trim().toUpperCase(),a=Math.min(e.length,s.length);let l=0,c=0,d=0;const m=[],p=[],y=[];for(let T=0;T<a;T++){const E=e[T],C=s[T];!E||E==="-"?(d++,y.push(T+1)):C&&E===C?(l++,p.push(T+1)):(c++,m.push(T+1))}return{correctCount:l,wrongCount:c,blankCount:d,wrongQuestions:m,correctQuestions:p,blankQuestions:y,compared:a,keyLength:s.length}}async function xg(t,e){const n=await ot(vn(je(Re,t),Qt("name","==",e),A0(1)));if(n.empty)return null;const s=n.docs[0],a=s.data();return{category:t,data:a,id:s.id}}async function o9(t,e){if(e){const c=await xg(e,t);if(c)return{...c,type:"hint"}}const[n,s]=await Promise.all([ot(je(Re,"kategoriAdlari")),ot(je(Re,"ozelKategoriler"))]),a=n.docs.map(c=>String(c.data()?.name||"").trim()).filter(Boolean),l=s.docs.map(c=>String(c.data()?.name||"").trim()).filter(Boolean);for(const c of a){const d=await xg(c,t);if(d)return{...d,type:"normal"}}for(const c of l){const d=await xg(c,t);if(d)return{...d,type:"special"}}return null}async function wg(t){const{nameKey:e,category:n,testName:s}=t,a=`${e}_odevler`;try{try{const l=await ot(vn(je(Re,a),Qt("status","==","assigned"),Qt("test.category","==",n),Qt("test.name","==",s)));await Promise.all(l.docs.map(c=>ux(Ki(Re,a,c.id),{status:"completed",completedAt:Bi()})));return}catch{const c=(await ot(vn(je(Re,a),Qt("status","==","assigned")))).docs.filter(d=>{const p=d.data().test||{};return String(p.category||"").trim()===n&&String(p.name||"").trim()===s});await Promise.all(c.map(d=>ux(Ki(Re,a,d.id),{assigned:!1,status:"completed",completedAt:Bi()})))}}catch(l){console.warn("Ödevi tamamlarken hata:",l)}}function l9(){const{user:t}=Mc(),{state:e}=Bs(),n=new URLSearchParams(window.location.search),s=Math.max(1,parseInt(n.get("count")||"20",10)),a=n.get("test")||e?.testName||"Adsız Test",l=n.get("id")||e?.testId||null,c=n.get("cat")||e?.testCat||null,d=n.get("grade")?parseInt(n.get("grade"),10):e?.testGrade??null,m=n.get("link")||e?.testLink||null,p=(e?.studentName||n.get("student")||"").trim(),[y,T]=M.useState(p),E=M.useMemo(()=>Array.from({length:s},(V,L)=>L+1),[s]),[C,D]=M.useState({}),[I,j]=M.useState(!1),[U,Y]=M.useState(!1),[K,Z]=M.useState(null),W=M.useMemo(()=>Object.keys(C).length,[C]),[ue,k]=M.useState(null);M.useEffect(()=>{let V=!1;return y?void 0:((async()=>{try{if(!t?.email)return;const B=vn(je(Re,"students"),Qt("email","==",t.email),A0(1)),R=await ot(B);if(V)return;if(R.empty)T(t.email?.split("@")[0]??"Bilinmeyen");else{const fe=R.docs[0].data(),me=fe.firstname||fe.firstName||"",Q=fe.lastname||fe.lastName||"",se=`${me} ${Q}`.trim();T(se||(t.email?.split("@")[0]??"Bilinmeyen"))}}catch{V||T(t?.email?.split("@")[0]??"Bilinmeyen")}})(),()=>{V=!0})},[t,y]);const S=()=>{U||(D({}),Z(null),k(null))},N=async()=>{if(Z(null),!t){Z({type:"err",text:"Giriş yapmadan cevap gönderemezsiniz."});return}let V="";const L=Array.from({length:s},(B,R)=>{const fe=C[R+1]??"-";return V+=fe,fe});j(!0);try{const B=await o9(a,c),R=(e?.nameKey&&typeof e.nameKey=="string"&&e.nameKey?e.nameKey:r9(y)).toLocaleLowerCase("tr-TR");if(!B){const ft=R,Ye={type:"submission",test:{id:l,name:a,category:c??null,grade:d,link:m},user:{uid:t.uid||null,email:t.email||null,name:y||null},count:s,answeredCount:W,answers:V,answersArray:L,answersMap:C,createdAt:Bi(),scoring:{status:"missing-key"}};await Ui(je(Re,ft),Ye),c&&await wg({nameKey:R,category:c,testName:a}),Y(!0),k(null),Z({type:"err",text:"Cevaplar kaydedildi fakat test anahtarı bulunamadı; sonuç hesaplanamadı. (Kategori eşleşmedi)"});return}const{category:fe,data:me}=B,Q=String(me?.answerKey||"").trim().toUpperCase();if(!Q){const ft=R,Ye={type:"submission",test:{id:l,name:a,category:fe,grade:d??me?.grade??null,link:m??me?.link??null},user:{uid:t.uid||null,email:t.email||null,name:y||null},count:s,answeredCount:W,answers:V,answersArray:L,answersMap:C,createdAt:Bi(),scoring:{status:"missing-key"}};await Ui(je(Re,ft),Ye),await wg({nameKey:R,category:fe,testName:a}),Y(!0),k(null),Z({type:"err",text:"Cevaplar kaydedildi fakat bu test için cevap anahtarı bulunamadı; sonuç hesaplanamadı."});return}const{correctCount:se,wrongCount:ce,blankCount:_e,wrongQuestions:P,correctQuestions:te,blankQuestions:oe,compared:le,keyLength:pe}=a9({answersArray:L,answerKey:Q}),we=R,Ee={type:"submission",test:{id:l,name:a,category:fe,grade:d??me?.grade??null,link:m??me?.link??null},user:{uid:t.uid||null,email:t.email||null,name:y||null},count:s,answeredCount:W,answers:V,answersArray:L,answersMap:C,createdAt:Bi(),scoring:{status:"ok",answerKey:Q,keyLength:pe,compared:le,correctCount:se,wrongCount:ce,blankCount:_e,wrongQuestions:P,correctQuestions:te,blankQuestions:oe}};await Ui(je(Re,we),Ee),await wg({nameKey:R,category:fe,testName:a}),Y(!0),k({wrongQuestions:P,correctQuestions:te,blankQuestions:oe}),Z({type:"ok",text:`Cevaplar kaydedildi. Doğru: ${se}, Yanlış: ${ce}, Boş: ${_e}.`})}catch(B){console.error(B),Z({type:"err",text:"Kaydetme sırasında bir hata oluştu."})}finally{j(!1)}};return _.jsx("section",{className:"min-h-screen bg-slate-50 px-5 py-8 text-slate-800 md:px-6",children:_.jsxs("div",{className:"mx-auto max-w-5xl",children:[_.jsxs("div",{className:"mb-6 text-center",children:[_.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:"Optik Cevap Formu"}),_.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-center gap-2",children:[_.jsxs(Tf,{color:"slate",children:["Öğrenci: ",_.jsx("span",{className:"font-semibold",children:y||"—"})]}),_.jsxs(Tf,{color:"indigo",children:["Test: ",_.jsx("span",{className:"font-semibold",children:a})]}),c?_.jsxs(Tf,{color:"rose",children:["Kategori: ",_.jsx("span",{className:"font-semibold",children:c})]}):null,_.jsxs(Tf,{color:"emerald",children:["İşaretlenen: ",_.jsx("span",{className:"font-semibold",children:W})," / ",s]})]})]}),K&&_.jsx("div",{className:`mb-4 rounded-xl px-4 py-3 text-sm ring-1 ${K.type==="ok"?"bg-emerald-50 text-emerald-700 ring-emerald-100":"bg-rose-50 text-rose-700 ring-rose-100"}`,children:K.text}),_.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200",children:[_.jsx("div",{className:"overflow-x-auto rounded-xl",children:_.jsxs("table",{className:"w-full border-separate border-spacing-0 text-center text-sm",children:[_.jsx("thead",{className:"sticky top-0 z-10 bg-indigo-50 text-indigo-800",children:_.jsxs("tr",{children:[_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 text-left text-[13px] font-semibold",children:"Soru"}),Iw.map(V=>_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 text-[13px] font-semibold",children:V},V))]})}),_.jsx("tbody",{className:"text-slate-700",children:E.map(V=>{const L=U&&ue?.wrongQuestions.includes(V),B=U&&ue?.correctQuestions.includes(V),R=V%2?"bg-slate-50":"bg-white",fe=L?"bg-rose-50":B?"bg-emerald-50":R,me=L?"outline outline-1 outline-rose-200":B?"outline outline-1 outline-emerald-200":"";return _.jsxs("tr",{className:`transition-colors hover:bg-indigo-50/40 ${fe} ${me}`,children:[_.jsx("td",{className:"border-b border-slate-200 px-3 py-2.5 text-left font-medium",children:V}),Iw.map(Q=>{const se=`q${V}-${Q}`,ce=C[V]===Q;return _.jsxs("td",{className:"border-b border-slate-200 px-3 py-2.5",children:[_.jsx("input",{id:se,type:"radio",name:`q${V}`,value:Q,className:"sr-only peer",checked:!!ce,onChange:()=>D(_e=>({..._e,[V]:Q})),disabled:U}),_.jsx("label",{htmlFor:se,className:`inline-flex h-5 w-5 items-center justify-center rounded-full ring-1 ring-slate-300 transition
                                         hover:ring-indigo-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400
                                         peer-checked:bg-indigo-600 peer-checked:ring-indigo-300
                                         ${U?"opacity-60 pointer-events-none":""}`,title:Q,children:_.jsx("span",{className:"block h-2.5 w-2.5 rounded-full bg-white opacity-0 transition-opacity peer-checked:opacity-100"})})]},Q)})]},V)})})]})}),_.jsxs("div",{className:"flex flex-col items-center justify-between gap-3 border-t border-slate-200 px-4 py-4 sm:flex-row",children:[_.jsx("div",{className:"h-2 w-full rounded-full bg-slate-100 sm:max-w-xs",children:_.jsx("div",{className:"h-2 rounded-full bg-indigo-300",style:{width:`${W/s*100}%`}})}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",onClick:S,disabled:I||U,className:`rounded-lg px-4 py-2 text-sm font-medium ring-1 transition-colors focus:outline-none
                  ${I||U?"bg-white text-slate-400 ring-slate-200 cursor-not-allowed":"bg-white text-slate-700 ring-slate-300 hover:bg-slate-50 focus-visible:ring-2 focus-visible:ring-indigo-400"}`,children:"Temizle"}),_.jsx("button",{onClick:N,disabled:I||U,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors
                            focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400
                            ${I||U?"cursor-not-allowed bg-indigo-400":"bg-indigo-600 hover:bg-indigo-500"}`,children:U?"Kaydedildi":I?"Kaydediliyor...":"Cevapları Kaydet"})]})]})]}),_.jsxs("p",{className:"mt-4 text-center text-xs text-slate-500",children:["İpucu: Hücrelere tıklayarak işaretleyebilir, ",_.jsx("span",{className:"font-medium",children:"Temizle"})," ile sıfırlayabilirsiniz."]})]})})}const u9=t=>t.toLocaleLowerCase("tr-TR").replace(/ı/g,"i"),c9=t=>u9(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120),Dw=t=>t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"medium",timeStyle:"short"}).format(t):"—",h9=(t,e)=>e>0?Math.round(t/e*100):0,bf=({icon:t,label:e,value:n})=>_.jsxs("div",{className:"rounded-xl bg-neutral-900 p-5 ring-1 ring-neutral-800 shadow",children:[_.jsxs("div",{className:"mb-3 flex items-center gap-2 text-neutral-300",children:[_.jsx(t,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{className:"text-xs font-medium",children:e})]}),_.jsx("div",{className:"text-2xl font-bold text-white",children:n})]}),Sg=({children:t,tone:e="slate"})=>{const n={indigo:"bg-indigo-100/10 text-indigo-300 ring-indigo-500/20",emerald:"bg-emerald-100/10 text-emerald-300 ring-emerald-500/20",rose:"bg-rose-100/10 text-rose-300 ring-rose-500/20",amber:"bg-amber-100/10 text-amber-300 ring-amber-500/20",slate:"bg-slate-100/10 text-slate-300 ring-slate-500/20"};return _.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs ring-1 ${n[e]}`,children:t})},f9=({wrong:t=[]})=>{const[e,n]=M.useState(!1);return t.length?_.jsxs("div",{className:"mt-2",children:[_.jsxs("button",{onClick:()=>n(s=>!s),className:"inline-flex items-center gap-1 text-xs text-neutral-300 hover:text-white",children:[_.jsx(I0,{className:`h-4 w-4 transition-transform ${e?"rotate-180":""}`}),"Yanlış soruları göster"]}),e&&_.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:t.map(s=>_.jsx("span",{className:"rounded-md bg-rose-500/10 px-2 py-0.5 text-[11px] font-medium text-rose-300 ring-1 ring-rose-500/20",children:s},s))})]}):null};function d9(){const[t,e]=M.useState({}),[n,s]=M.useState(""),[a,l]=M.useState(""),[c,d]=M.useState(!1),[m,p]=M.useState([]),[y,T]=M.useState({total:0,totalCorrect:0,totalWrong:0,totalBlank:0,avgScore:0,lastActivity:null});M.useEffect(()=>{(async()=>{try{const I=await kd(Ki(Re,"ogrenciAdlari","_index")),j=(I.exists()?I.data()?.names:{})||{};e(j)}catch(I){console.error("ogrenciAdlari/_index okunamadı:",I),e({})}})()},[]);const E=M.useMemo(()=>Object.keys(t).sort((I,j)=>I.localeCompare(j,"tr")).filter(I=>t[I]),[t]),C=async I=>{if(I){d(!0);try{const j=I.toLowerCase(),U=c9(I),Y=[],K=async S=>{(await ot(vn(je(Re,S),Qt("type","==","submission")))).forEach(V=>{const L=V.data(),B=L.scoring||{},R=L.createdAt?.toDate?.()||null;Y.push({id:V.id,createdAt:R,testName:String(L?.test?.name??"—"),category:L?.test?.category??null,grade:L?.test?.grade??null,link:L?.test?.link??null,count:Number(L?.count??L?.answeredCount??0),answeredCount:Number(L?.answeredCount??0),correctCount:Number(B?.correctCount??0),wrongCount:Number(B?.wrongCount??0),blankCount:Number(B?.blankCount??0),wrongQuestions:B?.wrongQuestions||[]})})};await K(j),U!==j&&await K(U);const Z=new Set,W=Y.filter(S=>{const N=`${S.testName}__${S.createdAt?.getTime?.()??"0"}`;return Z.has(N)?!1:(Z.add(N),!0)});W.sort((S,N)=>(N.createdAt?.getTime?.()??0)-(S.createdAt?.getTime?.()??0));const ue=W.reduce((S,N)=>{const V=N.correctCount+N.wrongCount+N.blankCount;S.total+=1,S.totalCorrect+=N.correctCount,S.totalWrong+=N.wrongCount,S.totalBlank+=N.blankCount,V>0&&(S._scoreSum+=N.correctCount/V*100);const L=N.createdAt?.getTime?.();return L&&(!S._last||L>S._last)&&(S._last=L),S},{total:0,totalCorrect:0,totalWrong:0,totalBlank:0,_scoreSum:0,_last:0}),k=ue.total>0?Math.round(ue._scoreSum/ue.total):0;p(W),T({total:ue.total,totalCorrect:ue.totalCorrect,totalWrong:ue.totalWrong,totalBlank:ue.totalBlank,avgScore:k,lastActivity:ue._last?new Date(ue._last):null})}catch(j){console.error("Öğrenci submission yükleme hatası:",j),p([]),T({total:0,totalCorrect:0,totalWrong:0,totalBlank:0,avgScore:0,lastActivity:null})}finally{d(!1)}}};M.useEffect(()=>{n&&C(n)},[n]);const D=M.useMemo(()=>{const I=a.trim().toLocaleLowerCase("tr-TR");return I?m.filter(j=>j.testName.toLocaleLowerCase("tr-TR").includes(I)):m},[m,a]);return _.jsx("section",{className:"min-h-screen bg-neutral-950 p-8 text-gray-100",children:_.jsxs("div",{className:"mx-auto max-w-7xl",children:[_.jsxs("header",{className:"mb-8 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Öğrenci Raporları"}),_.jsx("p",{className:"mt-1 text-sm text-neutral-400",children:"Öğrencilerin çözdüğü testleri, doğru/yanlış dağılımını ve tarihçeyi görüntüleyin."})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("select",{value:n,onChange:I=>s(I.target.value),className:"rounded-lg bg-neutral-900 px-4 py-2 text-sm ring-1 ring-neutral-800 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[_.jsx("option",{value:"",disabled:!0,children:"Öğrenci seçin"}),E.map(I=>_.jsx("option",{value:I,children:I},I))]}),_.jsx("input",{value:a,onChange:I=>l(I.target.value),placeholder:"Test adı filtrele...",className:"w-56 rounded-lg bg-neutral-900 px-4 py-2 text-sm ring-1 ring-neutral-800 placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),_.jsxs("div",{className:"mb-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[_.jsx(bf,{icon:ey,label:"Toplam Çözüm",value:y.total}),_.jsx(bf,{icon:o3,label:"Ortalama Skor",value:_.jsxs("span",{children:[y.avgScore,"%"]})}),_.jsx(bf,{icon:N0,label:"Doğru / Yanlış / Boş",value:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs(Sg,{tone:"emerald",children:[y.totalCorrect," D"]}),_.jsxs(Sg,{tone:"rose",children:[y.totalWrong," Y"]}),_.jsxs(Sg,{tone:"amber",children:[y.totalBlank," B"]})]})}),_.jsx(bf,{icon:P4,label:"Son Aktivite",value:Dw(y.lastActivity)})]}),_.jsx("div",{className:"overflow-x-auto rounded-xl bg-neutral-900 ring-1 ring-neutral-800 shadow",children:_.jsxs("table",{className:"w-full text-left text-sm",children:[_.jsx("thead",{className:"sticky top-0 bg-neutral-900/90 backdrop-blur",children:_.jsxs("tr",{className:"text-neutral-300",children:[_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Tarih"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Test"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Kategori"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Sınıf"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Doğru"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Yanlış"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Boş"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Skor"}),_.jsx("th",{className:"px-4 py-3"})]})}),_.jsx("tbody",{children:c?_.jsx("tr",{children:_.jsx("td",{colSpan:9,className:"px-4 py-10 text-center text-neutral-400",children:"Yükleniyor…"})}):D.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:9,className:"px-4 py-10 text-center text-neutral-400",children:"Kayıt bulunamadı."})}):D.map(I=>{const j=I.correctCount+I.wrongCount+I.blankCount,U=h9(I.correctCount,j);return _.jsxs("tr",{className:"border-t border-neutral-800",children:[_.jsx("td",{className:"px-4 py-3 text-neutral-300",children:Dw(I.createdAt)}),_.jsx("td",{className:"px-4 py-3",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"truncate",children:I.testName}),I.link?_.jsx("a",{href:I.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-indigo-300 hover:text-indigo-200",title:"Testi aç",children:_.jsx(Od,{className:"h-3.5 w-3.5"})}):null]})}),_.jsx("td",{className:"px-4 py-3",children:I.category?_.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-neutral-300",children:[_.jsx(SA,{className:"h-3.5 w-3.5 text-neutral-400"}),I.category]}):_.jsx("span",{className:"text-xs text-neutral-500",children:"—"})}),_.jsx("td",{className:"px-4 py-3",children:I.grade??"—"}),_.jsx("td",{className:"px-4 py-3",children:_.jsx("span",{className:"font-semibold text-emerald-300",children:I.correctCount})}),_.jsx("td",{className:"px-4 py-3",children:_.jsx("span",{className:"font-semibold text-rose-300",children:I.wrongCount})}),_.jsx("td",{className:"px-4 py-3",children:_.jsx("span",{className:"font-semibold text-amber-300",children:I.blankCount})}),_.jsx("td",{className:"px-4 py-3",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"h-2 w-16 rounded bg-neutral-800",children:_.jsx(mc.div,{className:"h-2 rounded bg-emerald-500",initial:{width:0},animate:{width:`${U}%`},transition:{type:"spring",stiffness:120,damping:15}})}),_.jsxs("span",{className:"text-neutral-300",children:[U,"%"]})]})}),_.jsx("td",{className:"px-4 py-3",children:_.jsx(f9,{wrong:I.wrongQuestions})})]},`${I.id}-${I.createdAt?.getTime?.()??0}`)})})]})}),_.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs text-neutral-400",children:[_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx(Wo,{className:"h-3.5 w-3.5 text-emerald-300"}),"Doğru"]}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx(Wo,{className:"h-3.5 w-3.5 text-rose-300"}),"Yanlış"]}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx(Wo,{className:"h-3.5 w-3.5 text-amber-300"}),"Boş"]})]})]})})}const m9=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120).toLowerCase();function p9(){const[t,e]=M.useState(!1),[n,s]=M.useState(!1),[a,l]=M.useState(!1),[c,d]=M.useState({}),m=M.useMemo(()=>Object.keys(c).filter(R=>c[R]).sort((R,fe)=>R.localeCompare(fe,"tr")),[c]),[p,y]=M.useState([]),[T,E]=M.useState(""),[C,D]=M.useState(""),[I,j]=M.useState(new Set),[U,Y]=M.useState(new Set),K=async()=>{e(!0);try{const R=await kd(Ki(Re,"ogrenciAdlari","_index")),fe=(R.exists()?R.data()?.names:{})||{};d(fe)}catch(R){console.error("ogrenciAdlari/_index okunamadı:",R),d({})}finally{e(!1)}},Z=async R=>{s(!0);try{const[fe,me]=await Promise.all([ot(je(Re,"kategoriAdlari")),ot(je(Re,"ozelKategoriler"))]),Q=fe.docs.map(P=>String(P.data()?.name??"").trim()).filter(Boolean),se=me.docs.map(P=>String(P.data()?.name??"").trim()).filter(Boolean),ce=[],_e=async(P,te)=>{const oe=je(Re,P);(R?await ot(vn(oe,Qt("grade","==",R))):await ot(oe)).forEach(pe=>{const we=pe.data();ce.push({uid:`${P}__${pe.id}`,id:pe.id,name:String(we?.name??"—"),category:P,grade:we?.grade??null,link:we?.link??null,questionCount:we?.questionCount??we?.count??null,isSpecial:te})})};for(const P of Q)await _e(P,!1);for(const P of se)await _e(P,!0);ce.sort((P,te)=>P.name.localeCompare(te.name,"tr")),y(ce)}catch(fe){console.error("Test listesi getirilemedi:",fe),y([])}finally{s(!1)}};M.useEffect(()=>{K(),Z(null)},[]),M.useEffect(()=>{const R=T?parseInt(T,10):null;Z(R)},[T]);const W=M.useMemo(()=>{const R=C.trim().toLocaleLowerCase("tr-TR");return R?p.filter(fe=>fe.name.toLocaleLowerCase("tr-TR").includes(R)||fe.category.toLocaleLowerCase("tr-TR").includes(R)):p},[p,C]),ue=R=>j(fe=>{const me=new Set(fe);return me.has(R)?me.delete(R):me.add(R),me}),k=()=>j(new Set(m)),S=()=>j(new Set),N=R=>Y(fe=>{const me=new Set(fe);return me.has(R)?me.delete(R):me.add(R),me}),V=()=>Y(R=>{const fe=new Set(R);return W.forEach(me=>fe.add(me.uid)),fe}),L=()=>Y(new Set),B=async()=>{if(!a){if(I.size===0||U.size===0){alert("Lütfen en az bir öğrenci ve en az bir test seçin.");return}l(!0);try{const R=p.filter(Q=>U.has(Q.uid)),fe=Array.from(I);let me=0;for(const Q of fe){const ce=`${m9(Q)}_odevler`;for(const _e of R){const P={type:"assignment",status:"assigned",assignedAt:Bi(),test:{id:_e.id,name:_e.name,category:_e.category,grade:_e.grade??null,link:_e.link??null,questionCount:_e.questionCount??null,isSpecial:!!_e.isSpecial}};await Ui(je(Re,ce),P),me+=1}}alert(`Atama tamamlandı. Toplam ${me} ödev belgesi yazıldı.`)}catch(R){console.error("Atama hatası:",R),alert("Atama sırasında bir hata oluştu.")}finally{l(!1)}}};return _.jsx("section",{className:"min-h-screen bg-neutral-950 p-8 text-gray-100",children:_.jsxs("div",{className:"mx-auto max-w-7xl",children:[_.jsxs("div",{className:"mb-8 flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Test Atama"}),_.jsxs("p",{className:"mt-1 text-sm text-neutral-400",children:["Testleri bir veya birden çok öğrenciye ödev olarak atayın. Her öğrenci için ayrı ",_.jsx("span",{className:"font-medium",children:"_ödev koleksiyonu"})," açılır ve testler doküman olarak kaydedilir."]})]}),_.jsx("div",{className:"flex items-center gap-2",children:_.jsxs("button",{onClick:()=>{K();const R=T?parseInt(T,10):null;Z(R)},className:"inline-flex items-center gap-2 rounded-md bg-neutral-800 px-3 py-2 text-sm ring-1 ring-neutral-700 hover:bg-neutral-700",title:"Yenile",children:[_.jsx(Z4,{className:"h-4 w-4"}),"Yenile"]})})]}),_.jsxs("div",{className:"mb-6 grid gap-4 md:grid-cols-3",children:[_.jsxs("div",{className:"rounded-xl bg-neutral-900 p-4 ring-1 ring-neutral-800",children:[_.jsxs("div",{className:"mb-2 flex items-center gap-2 text-neutral-300",children:[_.jsx(G4,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{className:"text-xs font-medium",children:"Sınıfa Göre Filtrele"})]}),_.jsxs("select",{value:T,onChange:R=>E(R.target.value),className:"w-full rounded-md bg-neutral-800 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",children:[_.jsx("option",{value:"",children:"Tümü"}),_.jsx("option",{value:"5",children:"5. Sınıf"}),_.jsx("option",{value:"6",children:"6. Sınıf"}),_.jsx("option",{value:"7",children:"7. Sınıf"}),_.jsx("option",{value:"8",children:"8. Sınıf"})]}),_.jsx("p",{className:"mt-2 text-xs text-neutral-400",children:"Seçilen sınıf only olarak listelenir (atamada sınır yok)."})]}),_.jsxs("div",{className:"rounded-xl bg-neutral-900 p-4 ring-1 ring-neutral-800",children:[_.jsxs("div",{className:"mb-3 flex items-center gap-2 text-neutral-300",children:[_.jsx(fx,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{className:"text-xs font-medium",children:"Özet"})]}),_.jsxs("div",{className:"grid grid-cols-3 text-center text-sm",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:p.length}),_.jsx("div",{className:"mt-1 text-xs text-neutral-400",children:"Toplam Test"})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:U.size}),_.jsx("div",{className:"mt-1 text-xs text-neutral-400",children:"Seçili Test"})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:I.size}),_.jsx("div",{className:"mt-1 text-xs text-neutral-400",children:"Seçili Öğrenci"})]})]})]}),_.jsxs("div",{className:"rounded-xl bg-neutral-900 p-4 ring-1 ring-neutral-800",children:[_.jsxs("div",{className:"mb-3 flex items-center gap-2 text-neutral-300",children:[_.jsx(ey,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{className:"text-xs font-medium",children:"Atama"})]}),_.jsxs("button",{disabled:a||I.size===0||U.size===0,onClick:B,className:`inline-flex w-full items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-medium text-white shadow
                focus:outline-none focus:ring-2 focus:ring-blue-600
                ${a||I.size===0||U.size===0?"cursor-not-allowed bg-blue-500/50":"bg-blue-600 hover:bg-blue-500"}`,children:[_.jsx(AA,{className:"h-4 w-4"}),a?"Atanıyor...":"Seçili Testleri Seçili Öğrencilere Ata"]}),_.jsxs("p",{className:"mt-2 text-xs text-neutral-400",children:["Her öğrenci için ",_.jsx("code",{className:"font-mono",children:"<nameKey>_odevler"})," koleksiyonu oluşturulur/yazılır."]})]})]}),_.jsxs("div",{className:"grid gap-6 lg:grid-cols-12",children:[_.jsxs("div",{className:"lg:col-span-4",children:[_.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[_.jsx(ey,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{children:"Öğrenciler"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:k,disabled:t||m.length===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Tümünü Seç"}),_.jsx("button",{onClick:S,disabled:I.size===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Temizle"})]})]}),_.jsx("div",{className:"h-[480px] overflow-auto rounded-xl bg-neutral-900 ring-1 ring-neutral-800",children:t?_.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Öğrenciler yükleniyor…"}):m.length===0?_.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Öğrenci bulunamadı."}):_.jsx("ul",{className:"divide-y divide-neutral-800",children:m.map(R=>{const fe=I.has(R);return _.jsx("li",{children:_.jsxs("button",{onClick:()=>ue(R),className:`flex w-full items-center justify-between px-3 py-2 text-left text-sm hover:bg-neutral-800 ${fe?"bg-neutral-800/70":""}`,children:[_.jsx("span",{className:"truncate",children:R}),fe?_.jsx(dx,{className:"h-4 w-4 text-emerald-400"}):_.jsx(mx,{className:"h-4 w-4 text-neutral-500"})]})},R)})})})]}),_.jsxs("div",{className:"lg:col-span-8",children:[_.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[_.jsx(fx,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{children:"Testler"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("div",{className:"flex items-center gap-2 rounded-md bg-neutral-900 px-2 py-1 ring-1 ring-neutral-800",children:[_.jsx(e3,{className:"h-4 w-4 text-neutral-500"}),_.jsx("input",{value:C,onChange:R=>D(R.target.value),placeholder:"Test veya kategori ara…",className:"w-56 bg-transparent text-sm placeholder:text-neutral-500 focus:outline-none"})]}),_.jsx("button",{onClick:V,disabled:n||W.length===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Sayfadakileri Seç"}),_.jsx("button",{onClick:L,disabled:U.size===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Temizle"})]})]}),_.jsx("div",{className:"overflow-hidden rounded-xl bg-neutral-900 ring-1 ring-neutral-800",children:n?_.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Testler yükleniyor…"}):W.length===0?_.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Test bulunamadı."}):_.jsxs("table",{className:"w-full text-left text-sm",children:[_.jsx("thead",{className:"bg-neutral-900/90 text-neutral-300",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Seç"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Test Adı"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Kategori"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Sınıf"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Soru"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Tür"})]})}),_.jsx("tbody",{children:W.map(R=>{const fe=U.has(R.uid);return _.jsxs("tr",{className:"border-t border-neutral-800",children:[_.jsx("td",{className:"px-3 py-2",children:_.jsx("button",{onClick:()=>N(R.uid),className:"rounded-md px-2 py-1 ring-1 ring-neutral-700 hover:bg-neutral-800",title:fe?"Kaldır":"Seç",children:fe?_.jsx(dx,{className:"h-4 w-4 text-emerald-400"}):_.jsx(mx,{className:"h-4 w-4 text-neutral-500"})})}),_.jsx("td",{className:"px-3 py-2 text-white",children:R.name}),_.jsx("td",{className:"px-3 py-2 text-neutral-300",children:R.category}),_.jsx("td",{className:"px-3 py-2",children:R.grade??"—"}),_.jsx("td",{className:"px-3 py-2",children:R.questionCount??"—"}),_.jsx("td",{className:"px-3 py-2",children:_.jsx("span",{className:`rounded-full px-2 py-0.5 text-[11px] ring-1 ${R.isSpecial?"bg-rose-500/10 text-rose-300 ring-rose-500/20":"bg-emerald-500/10 text-emerald-300 ring-emerald-500/20"}`,children:R.isSpecial?"Yayın":"Normal"})})]},R.uid)})})]})})]})]})]})})}const Ef=t=>{if(t==null)return"";const e=String(t).trim();return e==="undefined"||e==="null"?"":e},g9=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120).toLowerCase(),y9={submissions:0,compared:0,correct:0,wrong:0,blank:0,accuracy:0};function v9(){const{user:t}=Mc(),e=cl(),[n,s]=M.useState(""),[a,l]=M.useState(""),[c,d]=M.useState(!0),[m,p]=M.useState([]);M.useEffect(()=>{(async()=>{try{if(!t){s(""),l(""),d(!1);return}let T="",E="";try{const I=await kd(Ki(Re,"students",t.uid));if(I.exists()){const j=I.data();T=Ef(j.firstName??j.firstname),E=Ef(j.lastName??j.lastname)}}catch{}if(!T&&t.email)try{const I=vn(je(Re,"students"),Qt("email","==",t.email),A0(1)),j=await ot(I);if(!j.empty){const U=j.docs[0].data();T=Ef(U.firstName??U.firstname),E=Ef(U.lastName??U.lastname)}}catch{}const C=`${T} ${E}`.trim()||(t.email?.split("@")[0]??"bilinmeyen"),D=g9(C);s(C),l(D)}finally{d(!1)}})()},[t]),M.useEffect(()=>{(async()=>{if(a){d(!0);try{const T=vn(je(Re,a),Qt("type","==","submission")),C=(await ot(T)).docs.map(D=>{const I=D.data(),j=I.createdAt?.toDate?.()??null;return{id:D.id,test:{id:I?.test?.id??null,name:I?.test?.name??null,category:I?.test?.category??null,grade:typeof I?.test?.grade=="number"?I.test.grade:null,link:I?.test?.link??null},count:typeof I.count=="number"?I.count:0,answeredCount:typeof I.answeredCount=="number"?I.answeredCount:0,createdAt:j,scoring:I.scoring??{}}});C.sort((D,I)=>{const j=D.createdAt?.getTime?.()??0;return(I.createdAt?.getTime?.()??0)-j}),p(C)}catch(T){console.error("Gönderimler alınamadı:",T),p([])}finally{d(!1)}}})()},[a]);const y=M.useMemo(()=>{if(!m.length)return y9;let T=0,E=0,C=0,D=0;for(const j of m){const U=j.scoring;U?.status==="ok"&&(T+=U.compared||0,E+=U.correctCount||0,C+=U.wrongCount||0,D+=U.blankCount||0)}const I=T;return{submissions:m.length,compared:T,correct:E,wrong:C,blank:D,accuracy:I>0?E/I:0}},[m]);return t?_.jsx("section",{className:"min-h-screen bg-slate-50 px-3 py-6 sm:px-5 sm:py-8 md:px-6 md:py-10",children:_.jsxs("div",{className:"mx-auto max-w-7xl",children:[_.jsxs("div",{className:"mb-6 flex flex-col items-center justify-between gap-2 sm:mb-8 sm:flex-row",children:[_.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold tracking-tight text-slate-900",children:"Çözdüğüm Testler"}),_.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[_.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-700 ring-1 ring-slate-200",children:["Öğrenci: ",_.jsx("span",{className:"font-semibold",children:n||"—"})]}),_.jsxs("span",{className:"rounded-full bg-indigo-50 px-3 py-1 text-xs font-medium text-indigo-700 ring-1 ring-indigo-100",children:["Toplam Test: ",_.jsx("span",{className:"font-semibold",children:y.submissions})]}),_.jsxs("span",{className:"rounded-full bg-emerald-50 px-3 py-1 text-xs font-medium text-emerald-700 ring-1 ring-emerald-100",children:["Doğruluk:"," ",_.jsxs("span",{className:"font-semibold",children:[(y.accuracy*100).toFixed(1),"%"]})]})]})]}),_.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-3 sm:mb-8 sm:grid-cols-4",children:[_.jsxs("div",{className:"rounded-lg bg-emerald-50 p-3 ring-1 ring-emerald-100",children:[_.jsx("div",{className:"text-2xl font-extrabold text-emerald-700",children:y.correct}),_.jsx("div",{className:"mt-1 text-xs font-medium text-emerald-700/80",children:"Doğru"})]}),_.jsxs("div",{className:"rounded-lg bg-rose-50 p-3 ring-1 ring-rose-100",children:[_.jsx("div",{className:"text-2xl font-extrabold text-rose-700",children:y.wrong}),_.jsx("div",{className:"mt-1 text-xs font-medium text-rose-700/80",children:"Yanlış"})]}),_.jsxs("div",{className:"rounded-lg bg-slate-50 p-3 ring-1 ring-slate-200",children:[_.jsx("div",{className:"text-2xl font-extrabold text-slate-700",children:y.blank}),_.jsx("div",{className:"mt-1 text-xs font-medium text-slate-700/80",children:"Boş"})]}),_.jsxs("div",{className:"rounded-lg bg-white p-3 ring-1 ring-slate-200",children:[_.jsx("div",{className:"text-xl font-extrabold text-slate-900",children:y.compared}),_.jsx("div",{className:"mt-1 text-xs font-medium text-slate-600",children:"Çözülen Soru"})]})]}),_.jsx("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full border-separate border-spacing-0 text-left text-sm",children:[_.jsx("thead",{className:"sticky top-0 z-10 bg-slate-100 text-slate-800",children:_.jsxs("tr",{children:[_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold",children:"Tarih"}),_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold",children:"Kategori"}),_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold",children:"Test Adı"}),_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold",children:"Sınıf"}),_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold text-center",children:"Doğru"}),_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold text-center",children:"Yanlış"}),_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold text-center",children:"Boş"}),_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold text-center",children:"Doğruluk"}),_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold text-center",children:"Test"})]})}),_.jsx("tbody",{className:"text-slate-700",children:c?_.jsx("tr",{children:_.jsx("td",{colSpan:9,className:"px-3 py-6 text-center text-slate-500",children:"Yükleniyor…"})}):m.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:9,className:"px-3 py-6 text-center text-slate-500",children:"Henüz gönderim yok."})}):m.map((T,E)=>{const C=T.scoring||{},D=C?.compared??0,I=D>0?(C.correctCount||0)/D:0,j=T.createdAt?T.createdAt.toLocaleString("tr-TR"):"—",U=E%2?"bg-white":"bg-slate-50";return _.jsxs("tr",{className:`${U}`,children:[_.jsx("td",{className:"border-b border-slate-200 px-3 py-2",children:j}),_.jsx("td",{className:"border-b border-slate-200 px-3 py-2",children:T.test.category||"—"}),_.jsx("td",{className:"border-b border-slate-200 px-3 py-2",children:_.jsx("span",{title:T.test.name||"",className:"line-clamp-2",children:T.test.name||"—"})}),_.jsx("td",{className:"border-b border-slate-200 px-3 py-2",children:T.test.grade??"—"}),_.jsx("td",{className:"border-b border-slate-200 px-3 py-2 text-center text-emerald-700 font-semibold",children:C.correctCount??"—"}),_.jsx("td",{className:"border-b border-slate-200 px-3 py-2 text-center text-rose-700 font-semibold",children:C.wrongCount??"—"}),_.jsx("td",{className:"border-b border-slate-200 px-3 py-2 text-center",children:C.blankCount??"—"}),_.jsxs("td",{className:"border-b border-slate-200 px-3 py-2 text-center",children:[(I*100).toFixed(1),"%"]}),_.jsx("td",{className:"border-b border-slate-200 px-3 py-2 text-center",children:T.test.link?_.jsx("a",{href:T.test.link,target:"_blank",rel:"noopener noreferrer",className:"rounded-md bg-white px-2 py-1 text-xs font-medium text-indigo-700 ring-1 ring-indigo-200 hover:bg-indigo-50",children:"Aç"}):_.jsx("span",{className:"text-xs text-slate-500",children:"—"})})]},T.id)})})]})})}),_.jsx("div",{className:"mt-6 text-center",children:_.jsx("button",{onClick:()=>e(-1),className:"rounded-lg bg-white px-4 py-2 text-sm font-medium text-slate-700 ring-1 ring-slate-300 hover:bg-slate-50",children:"Geri"})})]})}):_.jsx("section",{className:"min-h-screen bg-slate-50 grid place-items-center px-4",children:_.jsxs("div",{className:"max-w-md rounded-xl bg-white p-6 shadow-sm ring-1 ring-slate-200 text-center",children:[_.jsx("h1",{className:"mb-2 text-xl font-bold text-slate-900",children:"Çözdüğüm Testler"}),_.jsx("p",{className:"text-sm text-slate-600",children:"Bu sayfayı görmek için giriş yapmalısınız."}),_.jsx("button",{onClick:()=>e("/"),className:"mt-4 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500",children:"Giriş Sayfasına Dön"})]})})}function _9(){return _.jsx(A4,{children:_.jsx(WN,{children:_.jsx("main",{className:"min-h-screen bg-[#0d0d0d]",children:_.jsx(M.Suspense,{fallback:null,children:_.jsxs(CN,{children:[_.jsx(Rs,{path:"/admin/students",element:_.jsx(d9,{})}),_.jsx(Rs,{path:"/admin/assign",element:_.jsx(p9,{})}),_.jsx(Rs,{path:"/",element:_.jsx(p3,{})}),_.jsx(Rs,{path:"/admin",element:_.jsx(Nw,{role:"admin",children:_.jsx(y3,{})})}),_.jsx(Rs,{path:"/dashboard",element:_.jsx(Nw,{role:"user",children:_.jsx(n9,{})})}),_.jsx(Rs,{path:"/cozdugum-testler",element:_.jsx(v9,{})}),_.jsx(Rs,{path:"/optik",element:_.jsx(l9,{})}),_.jsx(Rs,{path:"*",element:_.jsx(xf,{to:"/",replace:!0})})]})})})})})}L2.createRoot(document.getElementById("root")).render(_.jsx(M.StrictMode,{children:_.jsx(_9,{})}));
