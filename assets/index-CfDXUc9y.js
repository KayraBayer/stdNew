(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Lp={exports:{}},Cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function C2(){if(vE)return Cu;vE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Cu.Fragment=e,Cu.jsx=n,Cu.jsxs=n,Cu}var _E;function N2(){return _E||(_E=1,Lp.exports=C2()),Lp.exports}var _=N2(),Up={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function I2(){if(TE)return Pe;TE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,P={};function L(V,ee,ue){this.props=V,this.context=ee,this.refs=P,this.updater=ue||N}L.prototype.isReactComponent={},L.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},L.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function U(){}U.prototype=L.prototype;function Y(V,ee,ue){this.props=V,this.context=ee,this.refs=P,this.updater=ue||N}var K=Y.prototype=new U;K.constructor=Y,j(K,L.prototype),K.isPureReactComponent=!0;var Z=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function M(V,ee,ue,le,ye,be){return ue=be.ref,{$$typeof:t,type:V,key:ee,ref:ue!==void 0?ue:null,props:be}}function S(V,ee){return M(V.type,ee,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function D(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return ee[ue]})}var O=/\/+/g;function B(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):ee.toString(36)}function C(){}function me(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function de(V,ee,ue,le,ye){var be=typeof V;(be==="undefined"||be==="boolean")&&(V=null);var we=!1;if(V===null)we=!0;else switch(be){case"bigint":case"string":case"number":we=!0;break;case"object":switch(V.$$typeof){case t:case e:we=!0;break;case y:return we=V._init,de(we(V._payload),ee,ue,le,ye)}}if(we)return ye=ye(V),we=le===""?"."+B(V,0):le,Z(ye)?(ue="",we!=null&&(ue=we.replace(O,"$&/")+"/"),de(ye,ee,ue,"",function(Te){return Te})):ye!=null&&(R(ye)&&(ye=S(ye,ue+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(O,"$&/")+"/")+we)),ee.push(ye)),1;we=0;var Ct=le===""?".":le+":";if(Z(V))for(var he=0;he<V.length;he++)le=V[he],be=Ct+B(le,he),we+=de(le,ee,ue,be,ye);else if(he=x(V),typeof he=="function")for(V=he.call(V),he=0;!(le=V.next()).done;)le=le.value,be=Ct+B(le,he++),we+=de(le,ee,ue,be,ye);else if(be==="object"){if(typeof V.then=="function")return de(me(V),ee,ue,le,ye);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return we}function Q(V,ee,ue){if(V==null)return V;var le=[],ye=0;return de(V,le,"","",function(be){return ee.call(ue,be,ye++)}),le}function ie(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var ce=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function _e(){}return Pe.Children={map:Q,forEach:function(V,ee,ue){Q(V,function(){ee.apply(this,arguments)},ue)},count:function(V){var ee=0;return Q(V,function(){ee++}),ee},toArray:function(V){return Q(V,function(ee){return ee})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Pe.Component=L,Pe.Fragment=n,Pe.Profiler=a,Pe.PureComponent=Y,Pe.StrictMode=s,Pe.Suspense=m,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return W.H.useMemoCache(V)}},Pe.cache=function(V){return function(){return V.apply(null,arguments)}},Pe.cloneElement=function(V,ee,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=j({},V.props),ye=V.key,be=void 0;if(ee!=null)for(we in ee.ref!==void 0&&(be=void 0),ee.key!==void 0&&(ye=""+ee.key),ee)!oe.call(ee,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ee.ref===void 0||(le[we]=ee[we]);var we=arguments.length-2;if(we===1)le.children=ue;else if(1<we){for(var Ct=Array(we),he=0;he<we;he++)Ct[he]=arguments[he+2];le.children=Ct}return M(V.type,ye,void 0,void 0,be,le)},Pe.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Pe.createElement=function(V,ee,ue){var le,ye={},be=null;if(ee!=null)for(le in ee.key!==void 0&&(be=""+ee.key),ee)oe.call(ee,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=ee[le]);var we=arguments.length-2;if(we===1)ye.children=ue;else if(1<we){for(var Ct=Array(we),he=0;he<we;he++)Ct[he]=arguments[he+2];ye.children=Ct}if(V&&V.defaultProps)for(le in we=V.defaultProps,we)ye[le]===void 0&&(ye[le]=we[le]);return M(V,be,void 0,void 0,null,ye)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(V){return{$$typeof:d,render:V}},Pe.isValidElement=R,Pe.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:ie}},Pe.memo=function(V,ee){return{$$typeof:p,type:V,compare:ee===void 0?null:ee}},Pe.startTransition=function(V){var ee=W.T,ue={};W.T=ue;try{var le=V(),ye=W.S;ye!==null&&ye(ue,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(_e,ce)}catch(be){ce(be)}finally{W.T=ee}},Pe.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Pe.use=function(V){return W.H.use(V)},Pe.useActionState=function(V,ee,ue){return W.H.useActionState(V,ee,ue)},Pe.useCallback=function(V,ee){return W.H.useCallback(V,ee)},Pe.useContext=function(V){return W.H.useContext(V)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(V,ee){return W.H.useDeferredValue(V,ee)},Pe.useEffect=function(V,ee,ue){var le=W.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(V,ee)},Pe.useId=function(){return W.H.useId()},Pe.useImperativeHandle=function(V,ee,ue){return W.H.useImperativeHandle(V,ee,ue)},Pe.useInsertionEffect=function(V,ee){return W.H.useInsertionEffect(V,ee)},Pe.useLayoutEffect=function(V,ee){return W.H.useLayoutEffect(V,ee)},Pe.useMemo=function(V,ee){return W.H.useMemo(V,ee)},Pe.useOptimistic=function(V,ee){return W.H.useOptimistic(V,ee)},Pe.useReducer=function(V,ee,ue){return W.H.useReducer(V,ee,ue)},Pe.useRef=function(V){return W.H.useRef(V)},Pe.useState=function(V){return W.H.useState(V)},Pe.useSyncExternalStore=function(V,ee,ue){return W.H.useSyncExternalStore(V,ee,ue)},Pe.useTransition=function(){return W.H.useTransition()},Pe.version="19.1.1",Pe}var EE;function Ey(){return EE||(EE=1,Up.exports=I2()),Up.exports}var I=Ey(),Bp={exports:{}},Nu={},zp={exports:{}},qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function D2(){return bE||(bE=1,(function(t){function e(Q,ie){var ce=Q.length;Q.push(ie);e:for(;0<ce;){var _e=ce-1>>>1,V=Q[_e];if(0<a(V,ie))Q[_e]=ie,Q[ce]=V,ce=_e;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ie=Q[0],ce=Q.pop();if(ce!==ie){Q[0]=ce;e:for(var _e=0,V=Q.length,ee=V>>>1;_e<ee;){var ue=2*(_e+1)-1,le=Q[ue],ye=ue+1,be=Q[ye];if(0>a(le,ce))ye<V&&0>a(be,le)?(Q[_e]=be,Q[ye]=ce,_e=ye):(Q[_e]=le,Q[ue]=ce,_e=ue);else if(ye<V&&0>a(be,ce))Q[_e]=be,Q[ye]=ce,_e=ye;else break e}}return ie}function a(Q,ie){var ce=Q.sortIndex-ie.sortIndex;return ce!==0?ce:Q.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,T=null,x=3,N=!1,j=!1,P=!1,L=!1,U=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Z(Q){for(var ie=n(p);ie!==null;){if(ie.callback===null)s(p);else if(ie.startTime<=Q)s(p),ie.sortIndex=ie.expirationTime,e(m,ie);else break;ie=n(p)}}function W(Q){if(P=!1,Z(Q),!j)if(n(m)!==null)j=!0,oe||(oe=!0,B());else{var ie=n(p);ie!==null&&de(W,ie.startTime-Q)}}var oe=!1,M=-1,S=5,R=-1;function D(){return L?!0:!(t.unstable_now()-R<S)}function O(){if(L=!1,oe){var Q=t.unstable_now();R=Q;var ie=!0;try{e:{j=!1,P&&(P=!1,Y(M),M=-1),N=!0;var ce=x;try{t:{for(Z(Q),T=n(m);T!==null&&!(T.expirationTime>Q&&D());){var _e=T.callback;if(typeof _e=="function"){T.callback=null,x=T.priorityLevel;var V=_e(T.expirationTime<=Q);if(Q=t.unstable_now(),typeof V=="function"){T.callback=V,Z(Q),ie=!0;break t}T===n(m)&&s(m),Z(Q)}else s(m);T=n(m)}if(T!==null)ie=!0;else{var ee=n(p);ee!==null&&de(W,ee.startTime-Q),ie=!1}}break e}finally{T=null,x=ce,N=!1}ie=void 0}}finally{ie?B():oe=!1}}}var B;if(typeof K=="function")B=function(){K(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,me=C.port2;C.port1.onmessage=O,B=function(){me.postMessage(null)}}else B=function(){U(O,0)};function de(Q,ie){M=U(function(){Q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var ce=x;x=ie;try{return Q()}finally{x=ce}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=x;x=Q;try{return ie()}finally{x=ce}},t.unstable_scheduleCallback=function(Q,ie,ce){var _e=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?_e+ce:_e):ce=_e,Q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ce+V,Q={id:y++,callback:ie,priorityLevel:Q,startTime:ce,expirationTime:V,sortIndex:-1},ce>_e?(Q.sortIndex=ce,e(p,Q),n(m)===null&&Q===n(p)&&(P?(Y(M),M=-1):P=!0,de(W,ce-_e))):(Q.sortIndex=V,e(m,Q),j||N||(j=!0,oe||(oe=!0,B()))),Q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Q){var ie=x;return function(){var ce=x;x=ie;try{return Q.apply(this,arguments)}finally{x=ce}}}})(qp)),qp}var xE;function V2(){return xE||(xE=1,zp.exports=D2()),zp.exports}var Fp={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function M2(){if(wE)return fn;wE=1;var t=Ey();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},fn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},fn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},fn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},fn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:N}):y==="script"&&s.d.X(m,{crossOrigin:T,integrity:x,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},fn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},fn.requestFormReset=function(m){s.d.r(m)},fn.unstable_batchedUpdates=function(m,p){return m(p)},fn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},fn.version="19.1.1",fn}var SE;function P2(){if(SE)return Fp.exports;SE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fp.exports=M2(),Fp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function k2(){if(AE)return Nu;AE=1;var t=V2(),e=Ey(),n=P2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),i;if(g===u)return d(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var b=!1,w=f.child;w;){if(w===o){b=!0,o=f,u=g;break}if(w===u){b=!0,u=f,o=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===o){b=!0,o=g,u=f;break}if(w===u){b=!0,u=g,o=f;break}w=w.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case L:return"Profiler";case P:return"StrictMode";case W:return"Suspense";case oe:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case K:return(i.displayName||"Context")+".Provider";case Y:return(i._context.displayName||"Context")+".Consumer";case Z:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return r=i.displayName||null,r!==null?r:me(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return me(i(r))}catch{}}return null}var de=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},_e=[],V=-1;function ee(i){return{current:i}}function ue(i){0>V||(i.current=_e[V],_e[V]=null,V--)}function le(i,r){V++,_e[V]=i.current,i.current=r}var ye=ee(null),be=ee(null),we=ee(null),Ct=ee(null);function he(i,r){switch(le(we,r),le(be,i),le(ye,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?KT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=KT(r),i=$T(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ue(ye),le(ye,i)}function Te(){ue(ye),ue(be),ue(we)}function Be(i){i.memoizedState!==null&&le(Ct,i);var r=ye.current,o=$T(r,i.type);r!==o&&(le(be,i),le(ye,o))}function Ye(i){be.current===i&&(ue(ye),ue(be)),Ct.current===i&&(ue(Ct),xu._currentValue=ce)}var Bt=Object.prototype.hasOwnProperty,Nt=t.unstable_scheduleCallback,It=t.unstable_cancelCallback,qn=t.unstable_shouldYield,Xi=t.unstable_requestPaint,Fn=t.unstable_now,Ld=t.unstable_getCurrentPriorityLevel,El=t.unstable_ImmediatePriority,za=t.unstable_UserBlockingPriority,jr=t.unstable_NormalPriority,Ud=t.unstable_LowPriority,qa=t.unstable_IdlePriority,bl=t.log,Oc=t.unstable_setDisableYieldValue,_t=null,Je=null;function In(i){if(typeof bl=="function"&&Oc(i),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(_t,i)}catch{}}var cn=Math.clz32?Math.clz32:Lr,jc=Math.log,Bd=Math.LN2;function Lr(i){return i>>>=0,i===0?32:31-(jc(i)/Bd|0)|0}var Ur=256,Br=4194304;function li(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Fa(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?f=li(u):(b&=w,b!==0?f=li(b):o||(o=w&~i,o!==0&&(f=li(o))))):(w=u&~g,w!==0?f=li(w):b!==0?f=li(b):o||(o=u&~i,o!==0&&(f=li(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function zr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function xl(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wl(){var i=Ur;return Ur<<=1,(Ur&4194048)===0&&(Ur=256),i}function Sl(){var i=Br;return Br<<=1,(Br&62914560)===0&&(Br=4194304),i}function Wi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Zi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Al(i,r,o,u,f,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,k=i.expirationTimes,G=i.hiddenUpdates;for(o=b&~o;0<o;){var te=31-cn(o),re=1<<te;w[te]=0,k[te]=-1;var $=G[te];if($!==null)for(G[te]=null,te=0;te<$.length;te++){var X=$[te];X!==null&&(X.lane&=-536870913)}o&=~re}u!==0&&Ti(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function Ti(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-cn(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Rl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-cn(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function ks(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ha(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Os(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:fE(i.type))}function Lc(i,r){var o=ie.p;try{return ie.p=i,r()}finally{ie.p=o}}var ht=Math.random().toString(36).slice(2),zt="__reactFiber$"+ht,Dt="__reactProps$"+ht,Hn="__reactContainer$"+ht,Cl="__reactEvents$"+ht,zd="__reactListeners$"+ht,js="__reactHandles$"+ht,Uc="__reactResources$"+ht,qr="__reactMarker$"+ht;function Ls(i){delete i[zt],delete i[Dt],delete i[Cl],delete i[zd],delete i[js]}function Ji(i){var r=i[zt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Hn]||o[zt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=WT(i);i!==null;){if(o=i[zt])return o;i=WT(i)}return r}i=o,o=i.parentNode}return null}function Ei(i){if(i=i[zt]||i[Hn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function bi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function yn(i){var r=i[Uc];return r||(r=i[Uc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(i){i[qr]=!0}var Nl=new Set,Ga={};function ui(i,r){es(i,r),es(i+"Capture",r)}function es(i,r){for(Ga[i]=r,i=0;i<r.length;i++)Nl.add(r[i])}var Bc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Fr={};function qc(i){return Bt.call(Fr,i)?!0:Bt.call(zc,i)?!1:Bc.test(i)?Fr[i]=!0:(zc[i]=!0,!1)}function Us(i,r,o){if(qc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function xi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function en(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var Hr,Fc;function ts(i){if(Hr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Hr=r&&r[1]||"",Fc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hr+i+Fc}var Ka=!1;function $a(i,r){if(!i||Ka)return"";Ka=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var $=X}Reflect.construct(i,[],re)}else{try{re.call()}catch(X){$=X}i.call(re.prototype)}}else{try{throw Error()}catch(X){$=X}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var k=b.split(`
`),G=w.split(`
`);for(f=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===k.length||f===G.length)for(u=k.length-1,f=G.length-1;1<=u&&0<=f&&k[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(k[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||k[u]!==G[f]){var te=`
`+k[u].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=u&&0<=f);break}}}finally{Ka=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ts(o):""}function Il(i){switch(i.tag){case 26:case 27:case 5:return ts(i.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 15:return $a(i.type,!1);case 11:return $a(i.type.render,!1);case 1:return $a(i.type,!0);case 31:return ts("Activity");default:return""}}function Ya(i){try{var r="";do r+=Il(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function vn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Dl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qd(i){var r=Dl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qa(i){i._valueTracker||(i._valueTracker=qd(i))}function Vl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Dl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Gr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Fd=/[\n"\\]/g;function Vt(i){return i.replace(Fd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Dn(i,r,o,u,f,g,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+vn(r)):i.value!==""+vn(r)&&(i.value=""+vn(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Bs(i,b,vn(r)):o!=null?Bs(i,b,vn(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+vn(w):i.removeAttribute("name")}function Kr(i,r,o,u,f,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+vn(o):"",r=r!=null?""+vn(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Bs(i,r,o){r==="number"&&Gr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ns(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+vn(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function nt(i,r,o){if(r!=null&&(r=""+vn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+vn(o):""}function $r(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(de(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=vn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Gn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Yr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Ml(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Hc(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Hc(i,g,r[g])}function Pl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(i){return Gd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var is=null;function Kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ss=null,rs=null;function kl(i){var r=Ei(i);if(r&&(i=r.stateNode)){var o=i[Dt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Dn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Dt]||null;if(!f)throw Error(s(90));Dn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Vl(u)}break e;case"textarea":nt(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ns(i,!!o.multiple,r,!1)}}}var wi=!1;function Gc(i,r,o){if(wi)return i(r,o);wi=!0;try{var u=i(r);return u}finally{if(wi=!1,(ss!==null||rs!==null)&&(Lh(),ss&&(r=ss,i=rs,rs=ss=null,kl(r),i)))for(r=0;r<i.length;r++)kl(i[r])}}function Qr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Dt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$n=!1;if(ci)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){$n=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{$n=!1}var Si=null,zs=null,as=null;function Ol(){if(as)return as;var i,r=zs,o=r.length,u,f="value"in Si?Si.value:Si.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===f[g-u];u++);return as=f.slice(i,1<u?1-u:void 0)}function Ai(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ri(){return!0}function jl(){return!1}function Yt(i){function r(o,u,f,g,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ri:jl,this.isPropagationStopped=jl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),r}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=Yt(Ze),Wr=y({},Ze,{view:0,detail:0}),Kc=Yt(Wr),Za,Ja,Ci,Zr=y({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(Za=i.screenX-Ci.screenX,Ja=i.screenY-Ci.screenY):Ja=Za=0,Ci=i),Za)},movementY:function(i){return"movementY"in i?i.movementY:Ja}}),Yn=Yt(Zr),$c=y({},Zr,{dataTransfer:0}),Kd=Yt($c),Jr=y({},Wr,{relatedTarget:0}),eo=Yt(Jr),Ll=y({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),to=Yt(Ll),Yc=y({},Ze,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),no=Yt(Yc),$d=y({},Ze,{data:0}),Ul=Yt($d),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Xc[i])?!!r[i]:!1}function ta(){return Bl}var Wc=y({},Wr,{key:function(i){if(i.key){var r=ea[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ai(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(i){return i.type==="keypress"?Ai(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ai(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),io=Yt(Wc),Zc=y({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zl=Yt(Zc),os=y({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Jc=Yt(os),eh=y({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),th=Yt(eh),nh=y({},Zr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),so=Yt(nh),_n=y({},Ze,{newState:0,oldState:0}),ih=Yt(_n),sh=[9,13,27,32],Ni=ci&&"CompositionEvent"in window,h=null;ci&&"documentMode"in document&&(h=document.documentMode);var v=ci&&"TextEvent"in window&&!h,E=ci&&(!Ni||h&&8<h&&11>=h),A=" ",F=!1;function J(i,r){switch(i){case"keyup":return sh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var He=!1;function qt(i,r){switch(i){case"compositionend":return fe(r);case"keypress":return r.which!==32?null:(F=!0,A);case"textInput":return i=r.data,i===A&&F?null:i;default:return null}}function Ge(i,r){if(He)return i==="compositionend"||!Ni&&J(i,r)?(i=Ol(),as=zs=Si=null,He=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ft(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Qt[i.type]:r==="textarea"}function ls(i,r,o,u){ss?rs?rs.push(u):rs=[u]:ss=u,r=Hh(r,"onChange"),0<r.length&&(o=new Wa("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var tn=null,Ii=null;function ql(i){zT(i,0)}function rh(i){var r=bi(i);if(Vl(r))return i}function lv(i,r){if(i==="change")return r}var uv=!1;if(ci){var Yd;if(ci){var Qd="oninput"in document;if(!Qd){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),Qd=typeof cv.oninput=="function"}Yd=Qd}else Yd=!1;uv=Yd&&(!document.documentMode||9<document.documentMode)}function hv(){tn&&(tn.detachEvent("onpropertychange",fv),Ii=tn=null)}function fv(i){if(i.propertyName==="value"&&rh(Ii)){var r=[];ls(r,Ii,i,Kn(i)),Gc(ql,r)}}function sC(i,r,o){i==="focusin"?(hv(),tn=r,Ii=o,tn.attachEvent("onpropertychange",fv)):i==="focusout"&&hv()}function rC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rh(Ii)}function aC(i,r){if(i==="click")return rh(r)}function oC(i,r){if(i==="input"||i==="change")return rh(r)}function lC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Vn=typeof Object.is=="function"?Object.is:lC;function Fl(i,r){if(Vn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Bt.call(r,f)||!Vn(i[f],r[f]))return!1}return!0}function dv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function mv(i,r){var o=dv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=dv(o)}}function pv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?pv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function gv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Gr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Gr(i.document)}return r}function Xd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var uC=ci&&"documentMode"in document&&11>=document.documentMode,ro=null,Wd=null,Hl=null,Zd=!1;function yv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Zd||ro==null||ro!==Gr(u)||(u=ro,"selectionStart"in u&&Xd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hl&&Fl(Hl,u)||(Hl=u,u=Hh(Wd,"onSelect"),0<u.length&&(r=new Wa("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=ro)))}function na(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var ao={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},Jd={},vv={};ci&&(vv=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ia(i){if(Jd[i])return Jd[i];if(!ao[i])return i;var r=ao[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in vv)return Jd[i]=r[o];return i}var _v=ia("animationend"),Tv=ia("animationiteration"),Ev=ia("animationstart"),cC=ia("transitionrun"),hC=ia("transitionstart"),fC=ia("transitioncancel"),bv=ia("transitionend"),xv=new Map,em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");em.push("scrollEnd");function hi(i,r){xv.set(i,r),ui(r,[i])}var wv=new WeakMap;function Qn(i,r){if(typeof i=="object"&&i!==null){var o=wv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Ya(r)},wv.set(i,r),r)}return{value:i,source:r,stack:Ya(r)}}var Xn=[],oo=0,tm=0;function ah(){for(var i=oo,r=tm=oo=0;r<i;){var o=Xn[r];Xn[r++]=null;var u=Xn[r];Xn[r++]=null;var f=Xn[r];Xn[r++]=null;var g=Xn[r];if(Xn[r++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&Sv(o,f,g)}}function oh(i,r,o,u){Xn[oo++]=i,Xn[oo++]=r,Xn[oo++]=o,Xn[oo++]=u,tm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function nm(i,r,o,u){return oh(i,r,o,u),lh(i)}function lo(i,r){return oh(i,null,null,r),lh(i)}function Sv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-cn(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function lh(i){if(50<pu)throw pu=0,lp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var uo={};function dC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,r,o,u){return new dC(i,r,o,u)}function im(i){return i=i.prototype,!(!i||!i.isReactComponent)}function us(i,r){var o=i.alternate;return o===null?(o=Mn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Av(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function uh(i,r,o,u,f,g){var b=0;if(u=i,typeof i=="function")im(i)&&(b=1);else if(typeof i=="string")b=p2(i,o,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Mn(31,o,r,f),i.elementType=R,i.lanes=g,i;case j:return sa(o.children,f,g,r);case P:b=8,f|=24;break;case L:return i=Mn(12,o,r,f|2),i.elementType=L,i.lanes=g,i;case W:return i=Mn(13,o,r,f),i.elementType=W,i.lanes=g,i;case oe:return i=Mn(19,o,r,f),i.elementType=oe,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:case K:b=10;break e;case Y:b=9;break e;case Z:b=11;break e;case M:b=14;break e;case S:b=16,u=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Mn(b,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function sa(i,r,o,u){return i=Mn(7,i,u,r),i.lanes=o,i}function sm(i,r,o){return i=Mn(6,i,null,r),i.lanes=o,i}function rm(i,r,o){return r=Mn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var co=[],ho=0,ch=null,hh=0,Wn=[],Zn=0,ra=null,cs=1,hs="";function aa(i,r){co[ho++]=hh,co[ho++]=ch,ch=i,hh=r}function Rv(i,r,o){Wn[Zn++]=cs,Wn[Zn++]=hs,Wn[Zn++]=ra,ra=i;var u=cs;i=hs;var f=32-cn(u)-1;u&=~(1<<f),o+=1;var g=32-cn(r)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,cs=1<<32-cn(r)+f|o<<f|u,hs=g+i}else cs=1<<g|o<<f|u,hs=i}function am(i){i.return!==null&&(aa(i,1),Rv(i,1,0))}function om(i){for(;i===ch;)ch=co[--ho],co[ho]=null,hh=co[--ho],co[ho]=null;for(;i===ra;)ra=Wn[--Zn],Wn[Zn]=null,hs=Wn[--Zn],Wn[Zn]=null,cs=Wn[--Zn],Wn[Zn]=null}var Tn=null,Tt=null,Xe=!1,oa=null,Di=!1,lm=Error(s(519));function la(i){var r=Error(s(418,""));throw $l(Qn(r,i)),lm}function Cv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[zt]=i,r[Dt]=u,o){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(o=0;o<yu.length;o++)Le(yu[o],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),Kr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Qa(r);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),$r(r,u.value,u.defaultValue,u.children),Qa(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||GT(r.textContent,o)?(u.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),u.onScroll!=null&&Le("scroll",r),u.onScrollEnd!=null&&Le("scrollend",r),u.onClick!=null&&(r.onclick=Gh),r=!0):r=!1,r||la(i)}function Nv(i){for(Tn=i.return;Tn;)switch(Tn.tag){case 5:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:Tn=Tn.return}}function Gl(i){if(i!==Tn)return!1;if(!Xe)return Nv(i),Xe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||wp(i.type,i.memoizedProps)),o=!o),o&&Tt&&la(i),Nv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){Tt=di(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}Tt=null}}else r===27?(r=Tt,ir(i.type)?(i=Cp,Cp=null,Tt=i):Tt=r):Tt=Tn?di(i.stateNode.nextSibling):null;return!0}function Kl(){Tt=Tn=null,Xe=!1}function Iv(){var i=oa;return i!==null&&(wn===null?wn=i:wn.push.apply(wn,i),oa=null),i}function $l(i){oa===null?oa=[i]:oa.push(i)}var um=ee(null),ua=null,fs=null;function qs(i,r,o){le(um,r._currentValue),r._currentValue=o}function ds(i){i._currentValue=um.current,ue(um)}function cm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function hm(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=f;for(var k=0;k<r.length;k++)if(w.context===r[k]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),cm(g.return,o,i),u||(b=null);break e}g=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),cm(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Yl(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=f.type;Vn(f.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(f===Ct.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(xu):i=[xu])}f=f.return}i!==null&&hm(r,i,o,u),r.flags|=262144}function fh(i){for(i=i.firstContext;i!==null;){if(!Vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ca(i){ua=i,fs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function hn(i){return Dv(ua,i)}function dh(i,r){return ua===null&&ca(i),Dv(i,r)}function Dv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},fs===null){if(i===null)throw Error(s(308));fs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else fs=fs.next=r;return o}var mC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},pC=t.unstable_scheduleCallback,gC=t.unstable_NormalPriority,Ht={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fm(){return{controller:new mC,data:new Map,refCount:0}}function Ql(i){i.refCount--,i.refCount===0&&pC(gC,function(){i.controller.abort()})}var Xl=null,dm=0,fo=0,mo=null;function yC(i,r){if(Xl===null){var o=Xl=[];dm=0,fo=pp(),mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return dm++,r.then(Vv,Vv),r}function Vv(){if(--dm===0&&Xl!==null){mo!==null&&(mo.status="fulfilled");var i=Xl;Xl=null,fo=0,mo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function vC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Mv=Q.S;Q.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&yC(i,r),Mv!==null&&Mv(i,r)};var ha=ee(null);function mm(){var i=ha.current;return i!==null?i:ot.pooledCache}function mh(i,r){r===null?le(ha,ha.current):le(ha,r.pool)}function Pv(){var i=mm();return i===null?null:{parent:Ht._currentValue,pool:i}}var Wl=Error(s(460)),kv=Error(s(474)),ph=Error(s(542)),pm={then:function(){}};function Ov(i){return i=i.status,i==="fulfilled"||i==="rejected"}function gh(){}function jv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(gh,gh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Uv(i),i;default:if(typeof r.status=="string")r.then(gh,gh);else{if(i=ot,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Uv(i),i}throw Zl=r,Wl}}var Zl=null;function Lv(){if(Zl===null)throw Error(s(459));var i=Zl;return Zl=null,i}function Uv(i){if(i===Wl||i===ph)throw Error(s(483))}var Fs=!1;function gm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ym(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Hs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Gs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=lh(i),Sv(i,null,o),r}return oh(i,u,r,o),lh(i)}function Jl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Rl(i,o)}}function vm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var _m=!1;function eu(){if(_m){var i=mo;if(i!==null)throw i}}function tu(i,r,o,u){_m=!1;var f=i.updateQueue;Fs=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var k=w,G=k.next;k.next=null,b===null?g=G:b.next=G,b=k;var te=i.alternate;te!==null&&(te=te.updateQueue,w=te.lastBaseUpdate,w!==b&&(w===null?te.firstBaseUpdate=G:w.next=G,te.lastBaseUpdate=k))}if(g!==null){var re=f.baseState;b=0,te=G=k=null,w=g;do{var $=w.lane&-536870913,X=$!==w.lane;if(X?(Ke&$)===$:(u&$)===$){$!==0&&$===fo&&(_m=!0),te!==null&&(te=te.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ne=i,Se=w;$=r;var rt=o;switch(Se.tag){case 1:if(Ne=Se.payload,typeof Ne=="function"){re=Ne.call(rt,re,$);break e}re=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Se.payload,$=typeof Ne=="function"?Ne.call(rt,re,$):Ne,$==null)break e;re=y({},re,$);break e;case 2:Fs=!0}}$=w.callback,$!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},te===null?(G=te=X,k=re):te=te.next=X,b|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;X=w,w=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);te===null&&(k=re),f.baseState=k,f.firstBaseUpdate=G,f.lastBaseUpdate=te,g===null&&(f.shared.lanes=0),Js|=b,i.lanes=b,i.memoizedState=re}}function Bv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function zv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Bv(o[i],r)}var po=ee(null),yh=ee(0);function qv(i,r){i=Ts,le(yh,i),le(po,r),Ts=i|r.baseLanes}function Tm(){le(yh,Ts),le(po,po.current)}function Em(){Ts=yh.current,ue(po),ue(yh)}var Ks=0,ke=null,it=null,Mt=null,vh=!1,go=!1,fa=!1,_h=0,nu=0,yo=null,_C=0;function wt(){throw Error(s(321))}function bm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Vn(i[o],r[o]))return!1;return!0}function xm(i,r,o,u,f,g){return Ks=g,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=i===null||i.memoizedState===null?S_:A_,fa=!1,g=o(u,f),fa=!1,go&&(g=Hv(r,o,u,f)),Fv(i),g}function Fv(i){Q.H=Sh;var r=it!==null&&it.next!==null;if(Ks=0,Mt=it=ke=null,vh=!1,nu=0,yo=null,r)throw Error(s(300));i===null||Xt||(i=i.dependencies,i!==null&&fh(i)&&(Xt=!0))}function Hv(i,r,o,u){ke=i;var f=0;do{if(go&&(yo=null),nu=0,go=!1,25<=f)throw Error(s(301));if(f+=1,Mt=it=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=AC,g=r(o,u)}while(go);return g}function TC(){var i=Q.H,r=i.useState()[0];return r=typeof r.then=="function"?iu(r):r,i=i.useState()[0],(it!==null?it.memoizedState:null)!==i&&(ke.flags|=1024),r}function wm(){var i=_h!==0;return _h=0,i}function Sm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Am(i){if(vh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}vh=!1}Ks=0,Mt=it=ke=null,go=!1,nu=_h=0,yo=null}function bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ke.memoizedState=Mt=i:Mt=Mt.next=i,Mt}function Pt(){if(it===null){var i=ke.alternate;i=i!==null?i.memoizedState:null}else i=it.next;var r=Mt===null?ke.memoizedState:Mt.next;if(r!==null)Mt=r,it=i;else{if(i===null)throw ke.alternate===null?Error(s(467)):Error(s(310));it=i,i={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Mt===null?ke.memoizedState=Mt=i:Mt=Mt.next=i}return Mt}function Rm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(i){var r=nu;return nu+=1,yo===null&&(yo=[]),i=jv(yo,i,r),r=ke,(Mt===null?r.memoizedState:Mt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?S_:A_),i}function Th(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return iu(i);if(i.$$typeof===K)return hn(i)}throw Error(s(438,String(i)))}function Cm(i){var r=null,o=ke.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Rm(),ke.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=D;return r.index++,o}function ms(i,r){return typeof r=="function"?r(i):r}function Eh(i){var r=Pt();return Nm(r,it,i)}function Nm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var w=b=null,k=null,G=r,te=!1;do{var re=G.lane&-536870913;if(re!==G.lane?(Ke&re)===re:(Ks&re)===re){var $=G.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),re===fo&&(te=!0);else if((Ks&$)===$){G=G.next,$===fo&&(te=!0);continue}else re={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(w=k=re,b=g):k=k.next=re,ke.lanes|=$,Js|=$;re=G.action,fa&&o(g,re),g=G.hasEagerState?G.eagerState:o(g,re)}else $={lane:re,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(w=k=$,b=g):k=k.next=$,ke.lanes|=re,Js|=re;G=G.next}while(G!==null&&G!==r);if(k===null?b=g:k.next=w,!Vn(g,i.memoizedState)&&(Xt=!0,te&&(o=mo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=k,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Im(i){var r=Pt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=i(g,b.action),b=b.next;while(b!==f);Vn(g,r.memoizedState)||(Xt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Gv(i,r,o){var u=ke,f=Pt(),g=Xe;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Vn((it||f).memoizedState,o);b&&(f.memoizedState=o,Xt=!0),f=f.queue;var w=Yv.bind(null,u,f,i);if(su(2048,8,w,[i]),f.getSnapshot!==r||b||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,vo(9,bh(),$v.bind(null,u,f,o,r),null),ot===null)throw Error(s(349));g||(Ks&124)!==0||Kv(u,r,o)}return o}function Kv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ke.updateQueue,r===null?(r=Rm(),ke.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function $v(i,r,o,u){r.value=o,r.getSnapshot=u,Qv(r)&&Xv(i)}function Yv(i,r,o){return o(function(){Qv(r)&&Xv(i)})}function Qv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Vn(i,o)}catch{return!0}}function Xv(i){var r=lo(i,2);r!==null&&Ln(r,i,2)}function Dm(i){var r=bn();if(typeof i=="function"){var o=i;if(i=o(),fa){In(!0);try{o()}finally{In(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:i},r}function Wv(i,r,o,u){return i.baseState=o,Nm(i,it,typeof u=="function"?u:ms)}function EC(i,r,o,u,f){if(wh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Q.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Zv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Zv(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=Q.T,b={};Q.T=b;try{var w=o(f,u),k=Q.S;k!==null&&k(b,w),Jv(i,r,w)}catch(G){Vm(i,r,G)}finally{Q.T=g}}else try{g=o(f,u),Jv(i,r,g)}catch(G){Vm(i,r,G)}}function Jv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){e_(i,r,u)},function(u){return Vm(i,r,u)}):e_(i,r,o)}function e_(i,r,o){r.status="fulfilled",r.value=o,t_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Zv(i,o)))}function Vm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,t_(r),r=r.next;while(r!==u)}i.action=null}function t_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function n_(i,r){return r}function i_(i,r){if(Xe){var o=ot.formState;if(o!==null){e:{var u=ke;if(Xe){if(Tt){t:{for(var f=Tt,g=Di;f.nodeType!==8;){if(!g){f=null;break t}if(f=di(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Tt=di(f.nextSibling),u=f.data==="F!";break e}}la(u)}u=!1}u&&(r=o[0])}}return o=bn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n_,lastRenderedState:r},o.queue=u,o=b_.bind(null,ke,u),u.dispatch=o,u=Dm(!1),g=jm.bind(null,ke,!1,u.queue),u=bn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=EC.bind(null,ke,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function s_(i){var r=Pt();return r_(r,it,i)}function r_(i,r,o){if(r=Nm(i,r,n_)[0],i=Eh(ms)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=iu(r)}catch(b){throw b===Wl?ph:b}else u=r;r=Pt();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(ke.flags|=2048,vo(9,bh(),bC.bind(null,f,o),null)),[u,g,i]}function bC(i,r){i.action=r}function a_(i){var r=Pt(),o=it;if(o!==null)return r_(r,o,i);Pt(),r=r.memoizedState,o=Pt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function vo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=ke.updateQueue,r===null&&(r=Rm(),ke.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function bh(){return{destroy:void 0,resource:void 0}}function o_(){return Pt().memoizedState}function xh(i,r,o,u){var f=bn();u=u===void 0?null:u,ke.flags|=i,f.memoizedState=vo(1|r,bh(),o,u)}function su(i,r,o,u){var f=Pt();u=u===void 0?null:u;var g=f.memoizedState.inst;it!==null&&u!==null&&bm(u,it.memoizedState.deps)?f.memoizedState=vo(r,g,o,u):(ke.flags|=i,f.memoizedState=vo(1|r,g,o,u))}function l_(i,r){xh(8390656,8,i,r)}function u_(i,r){su(2048,8,i,r)}function c_(i,r){return su(4,2,i,r)}function h_(i,r){return su(4,4,i,r)}function f_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function d_(i,r,o){o=o!=null?o.concat([i]):null,su(4,4,f_.bind(null,r,i),o)}function Mm(){}function m_(i,r){var o=Pt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&bm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function p_(i,r){var o=Pt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&bm(r,u[1]))return u[0];if(u=i(),fa){In(!0);try{i()}finally{In(!1)}}return o.memoizedState=[u,r],u}function Pm(i,r,o){return o===void 0||(Ks&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=vT(),ke.lanes|=i,Js|=i,o)}function g_(i,r,o,u){return Vn(o,r)?o:po.current!==null?(i=Pm(i,o,u),Vn(i,r)||(Xt=!0),i):(Ks&42)===0?(Xt=!0,i.memoizedState=o):(i=vT(),ke.lanes|=i,Js|=i,r)}function y_(i,r,o,u,f){var g=ie.p;ie.p=g!==0&&8>g?g:8;var b=Q.T,w={};Q.T=w,jm(i,!1,r,o);try{var k=f(),G=Q.S;if(G!==null&&G(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=vC(k,u);ru(i,r,te,jn(i))}else ru(i,r,u,jn(i))}catch(re){ru(i,r,{then:function(){},status:"rejected",reason:re},jn())}finally{ie.p=g,Q.T=b}}function xC(){}function km(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=v_(i).queue;y_(i,f,r,ce,o===null?xC:function(){return __(i),o(u)})}function v_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ce},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function __(i){var r=v_(i).next.queue;ru(i,r,{},jn())}function Om(){return hn(xu)}function T_(){return Pt().memoizedState}function E_(){return Pt().memoizedState}function wC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=jn();i=Hs(o);var u=Gs(r,i,o);u!==null&&(Ln(u,r,o),Jl(u,r,o)),r={cache:fm()},i.payload=r;return}r=r.return}}function SC(i,r,o){var u=jn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},wh(i)?x_(r,o):(o=nm(i,r,o,u),o!==null&&(Ln(o,i,u),w_(o,r,u)))}function b_(i,r,o){var u=jn();ru(i,r,o,u)}function ru(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(wh(i))x_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,w=g(b,o);if(f.hasEagerState=!0,f.eagerState=w,Vn(w,b))return oh(i,r,f,0),ot===null&&ah(),!1}catch{}finally{}if(o=nm(i,r,f,u),o!==null)return Ln(o,i,u),w_(o,r,u),!0}return!1}function jm(i,r,o,u){if(u={lane:2,revertLane:pp(),action:u,hasEagerState:!1,eagerState:null,next:null},wh(i)){if(r)throw Error(s(479))}else r=nm(i,o,u,2),r!==null&&Ln(r,i,2)}function wh(i){var r=i.alternate;return i===ke||r!==null&&r===ke}function x_(i,r){go=vh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function w_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Rl(i,o)}}var Sh={readContext:hn,use:Th,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},S_={readContext:hn,use:Th,useCallback:function(i,r){return bn().memoizedState=[i,r===void 0?null:r],i},useContext:hn,useEffect:l_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,xh(4194308,4,f_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return xh(4194308,4,i,r)},useInsertionEffect:function(i,r){xh(4,2,i,r)},useMemo:function(i,r){var o=bn();r=r===void 0?null:r;var u=i();if(fa){In(!0);try{i()}finally{In(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=bn();if(o!==void 0){var f=o(r);if(fa){In(!0);try{o(r)}finally{In(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=SC.bind(null,ke,i),[u.memoizedState,i]},useRef:function(i){var r=bn();return i={current:i},r.memoizedState=i},useState:function(i){i=Dm(i);var r=i.queue,o=b_.bind(null,ke,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Mm,useDeferredValue:function(i,r){var o=bn();return Pm(o,i,r)},useTransition:function(){var i=Dm(!1);return i=y_.bind(null,ke,i.queue,!0,!1),bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=ke,f=bn();if(Xe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ot===null)throw Error(s(349));(Ke&124)!==0||Kv(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,l_(Yv.bind(null,u,g,i),[i]),u.flags|=2048,vo(9,bh(),$v.bind(null,u,g,o,r),null),o},useId:function(){var i=bn(),r=ot.identifierPrefix;if(Xe){var o=hs,u=cs;o=(u&~(1<<32-cn(u)-1)).toString(32)+o,r=""+r+"R"+o,o=_h++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=_C++,r=""+r+"r"+o.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:Om,useFormState:i_,useActionState:i_,useOptimistic:function(i){var r=bn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=jm.bind(null,ke,!0,o),o.dispatch=r,[i,r]},useMemoCache:Cm,useCacheRefresh:function(){return bn().memoizedState=wC.bind(null,ke)}},A_={readContext:hn,use:Th,useCallback:m_,useContext:hn,useEffect:u_,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:h_,useMemo:p_,useReducer:Eh,useRef:o_,useState:function(){return Eh(ms)},useDebugValue:Mm,useDeferredValue:function(i,r){var o=Pt();return g_(o,it.memoizedState,i,r)},useTransition:function(){var i=Eh(ms)[0],r=Pt().memoizedState;return[typeof i=="boolean"?i:iu(i),r]},useSyncExternalStore:Gv,useId:T_,useHostTransitionStatus:Om,useFormState:s_,useActionState:s_,useOptimistic:function(i,r){var o=Pt();return Wv(o,it,i,r)},useMemoCache:Cm,useCacheRefresh:E_},AC={readContext:hn,use:Th,useCallback:m_,useContext:hn,useEffect:u_,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:h_,useMemo:p_,useReducer:Im,useRef:o_,useState:function(){return Im(ms)},useDebugValue:Mm,useDeferredValue:function(i,r){var o=Pt();return it===null?Pm(o,i,r):g_(o,it.memoizedState,i,r)},useTransition:function(){var i=Im(ms)[0],r=Pt().memoizedState;return[typeof i=="boolean"?i:iu(i),r]},useSyncExternalStore:Gv,useId:T_,useHostTransitionStatus:Om,useFormState:a_,useActionState:a_,useOptimistic:function(i,r){var o=Pt();return it!==null?Wv(o,it,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Cm,useCacheRefresh:E_},_o=null,au=0;function Ah(i){var r=au;return au+=1,_o===null&&(_o=[]),jv(_o,i,r)}function ou(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Rh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function R_(i){var r=i._init;return r(i._payload)}function C_(i){function r(q,z){if(i){var H=q.deletions;H===null?(q.deletions=[z],q.flags|=16):H.push(z)}}function o(q,z){if(!i)return null;for(;z!==null;)r(q,z),z=z.sibling;return null}function u(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function f(q,z){return q=us(q,z),q.index=0,q.sibling=null,q}function g(q,z,H){return q.index=H,i?(H=q.alternate,H!==null?(H=H.index,H<z?(q.flags|=67108866,z):H):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function b(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function w(q,z,H,se){return z===null||z.tag!==6?(z=sm(H,q.mode,se),z.return=q,z):(z=f(z,H),z.return=q,z)}function k(q,z,H,se){var ve=H.type;return ve===j?te(q,z,H.props.children,se,H.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&R_(ve)===z.type)?(z=f(z,H.props),ou(z,H),z.return=q,z):(z=uh(H.type,H.key,H.props,null,q.mode,se),ou(z,H),z.return=q,z)}function G(q,z,H,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=rm(H,q.mode,se),z.return=q,z):(z=f(z,H.children||[]),z.return=q,z)}function te(q,z,H,se,ve){return z===null||z.tag!==7?(z=sa(H,q.mode,se,ve),z.return=q,z):(z=f(z,H),z.return=q,z)}function re(q,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=sm(""+z,q.mode,H),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return H=uh(z.type,z.key,z.props,null,q.mode,H),ou(H,z),H.return=q,H;case N:return z=rm(z,q.mode,H),z.return=q,z;case S:var se=z._init;return z=se(z._payload),re(q,z,H)}if(de(z)||B(z))return z=sa(z,q.mode,H,null),z.return=q,z;if(typeof z.then=="function")return re(q,Ah(z),H);if(z.$$typeof===K)return re(q,dh(q,z),H);Rh(q,z)}return null}function $(q,z,H,se){var ve=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ve!==null?null:w(q,z,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===ve?k(q,z,H,se):null;case N:return H.key===ve?G(q,z,H,se):null;case S:return ve=H._init,H=ve(H._payload),$(q,z,H,se)}if(de(H)||B(H))return ve!==null?null:te(q,z,H,se,null);if(typeof H.then=="function")return $(q,z,Ah(H),se);if(H.$$typeof===K)return $(q,z,dh(q,H),se);Rh(q,H)}return null}function X(q,z,H,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(H)||null,w(z,q,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return q=q.get(se.key===null?H:se.key)||null,k(z,q,se,ve);case N:return q=q.get(se.key===null?H:se.key)||null,G(z,q,se,ve);case S:var Oe=se._init;return se=Oe(se._payload),X(q,z,H,se,ve)}if(de(se)||B(se))return q=q.get(H)||null,te(z,q,se,ve,null);if(typeof se.then=="function")return X(q,z,H,Ah(se),ve);if(se.$$typeof===K)return X(q,z,H,dh(z,se),ve);Rh(z,se)}return null}function Ne(q,z,H,se){for(var ve=null,Oe=null,Ee=z,Ae=z=0,Zt=null;Ee!==null&&Ae<H.length;Ae++){Ee.index>Ae?(Zt=Ee,Ee=null):Zt=Ee.sibling;var Qe=$(q,Ee,H[Ae],se);if(Qe===null){Ee===null&&(Ee=Zt);break}i&&Ee&&Qe.alternate===null&&r(q,Ee),z=g(Qe,z,Ae),Oe===null?ve=Qe:Oe.sibling=Qe,Oe=Qe,Ee=Zt}if(Ae===H.length)return o(q,Ee),Xe&&aa(q,Ae),ve;if(Ee===null){for(;Ae<H.length;Ae++)Ee=re(q,H[Ae],se),Ee!==null&&(z=g(Ee,z,Ae),Oe===null?ve=Ee:Oe.sibling=Ee,Oe=Ee);return Xe&&aa(q,Ae),ve}for(Ee=u(Ee);Ae<H.length;Ae++)Zt=X(Ee,q,Ae,H[Ae],se),Zt!==null&&(i&&Zt.alternate!==null&&Ee.delete(Zt.key===null?Ae:Zt.key),z=g(Zt,z,Ae),Oe===null?ve=Zt:Oe.sibling=Zt,Oe=Zt);return i&&Ee.forEach(function(lr){return r(q,lr)}),Xe&&aa(q,Ae),ve}function Se(q,z,H,se){if(H==null)throw Error(s(151));for(var ve=null,Oe=null,Ee=z,Ae=z=0,Zt=null,Qe=H.next();Ee!==null&&!Qe.done;Ae++,Qe=H.next()){Ee.index>Ae?(Zt=Ee,Ee=null):Zt=Ee.sibling;var lr=$(q,Ee,Qe.value,se);if(lr===null){Ee===null&&(Ee=Zt);break}i&&Ee&&lr.alternate===null&&r(q,Ee),z=g(lr,z,Ae),Oe===null?ve=lr:Oe.sibling=lr,Oe=lr,Ee=Zt}if(Qe.done)return o(q,Ee),Xe&&aa(q,Ae),ve;if(Ee===null){for(;!Qe.done;Ae++,Qe=H.next())Qe=re(q,Qe.value,se),Qe!==null&&(z=g(Qe,z,Ae),Oe===null?ve=Qe:Oe.sibling=Qe,Oe=Qe);return Xe&&aa(q,Ae),ve}for(Ee=u(Ee);!Qe.done;Ae++,Qe=H.next())Qe=X(Ee,q,Ae,Qe.value,se),Qe!==null&&(i&&Qe.alternate!==null&&Ee.delete(Qe.key===null?Ae:Qe.key),z=g(Qe,z,Ae),Oe===null?ve=Qe:Oe.sibling=Qe,Oe=Qe);return i&&Ee.forEach(function(R2){return r(q,R2)}),Xe&&aa(q,Ae),ve}function rt(q,z,H,se){if(typeof H=="object"&&H!==null&&H.type===j&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var ve=H.key;z!==null;){if(z.key===ve){if(ve=H.type,ve===j){if(z.tag===7){o(q,z.sibling),se=f(z,H.props.children),se.return=q,q=se;break e}}else if(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&R_(ve)===z.type){o(q,z.sibling),se=f(z,H.props),ou(se,H),se.return=q,q=se;break e}o(q,z);break}else r(q,z);z=z.sibling}H.type===j?(se=sa(H.props.children,q.mode,se,H.key),se.return=q,q=se):(se=uh(H.type,H.key,H.props,null,q.mode,se),ou(se,H),se.return=q,q=se)}return b(q);case N:e:{for(ve=H.key;z!==null;){if(z.key===ve)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){o(q,z.sibling),se=f(z,H.children||[]),se.return=q,q=se;break e}else{o(q,z);break}else r(q,z);z=z.sibling}se=rm(H,q.mode,se),se.return=q,q=se}return b(q);case S:return ve=H._init,H=ve(H._payload),rt(q,z,H,se)}if(de(H))return Ne(q,z,H,se);if(B(H)){if(ve=B(H),typeof ve!="function")throw Error(s(150));return H=ve.call(H),Se(q,z,H,se)}if(typeof H.then=="function")return rt(q,z,Ah(H),se);if(H.$$typeof===K)return rt(q,z,dh(q,H),se);Rh(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(o(q,z.sibling),se=f(z,H),se.return=q,q=se):(o(q,z),se=sm(H,q.mode,se),se.return=q,q=se),b(q)):o(q,z)}return function(q,z,H,se){try{au=0;var ve=rt(q,z,H,se);return _o=null,ve}catch(Ee){if(Ee===Wl||Ee===ph)throw Ee;var Oe=Mn(29,Ee,null,q.mode);return Oe.lanes=se,Oe.return=q,Oe}finally{}}}var To=C_(!0),N_=C_(!1),Jn=ee(null),Vi=null;function $s(i){var r=i.alternate;le(Gt,Gt.current&1),le(Jn,i),Vi===null&&(r===null||po.current!==null||r.memoizedState!==null)&&(Vi=i)}function I_(i){if(i.tag===22){if(le(Gt,Gt.current),le(Jn,i),Vi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Vi=i)}}else Ys()}function Ys(){le(Gt,Gt.current),le(Jn,Jn.current)}function ps(i){ue(Jn),Vi===i&&(Vi=null),ue(Gt)}var Gt=ee(0);function Ch(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Rp(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Lm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Um={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=jn(),f=Hs(u);f.payload=r,o!=null&&(f.callback=o),r=Gs(i,f,u),r!==null&&(Ln(r,i,u),Jl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=jn(),f=Hs(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Gs(i,f,u),r!==null&&(Ln(r,i,u),Jl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=jn(),u=Hs(o);u.tag=2,r!=null&&(u.callback=r),r=Gs(i,u,o),r!==null&&(Ln(r,i,o),Jl(r,i,o))}};function D_(i,r,o,u,f,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!Fl(o,u)||!Fl(f,g):!0}function V_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Um.enqueueReplaceState(r,r.state,null)}function da(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var Nh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function M_(i){Nh(i)}function P_(i){console.error(i)}function k_(i){Nh(i)}function Ih(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function O_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bm(i,r,o){return o=Hs(o),o.tag=3,o.payload={element:null},o.callback=function(){Ih(i,r)},o}function j_(i){return i=Hs(i),i.tag=3,i}function L_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){O_(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){O_(r,o,u),typeof f!="function"&&(er===null?er=new Set([this]):er.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function RC(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Yl(r,o,f,!0),o=Jn.current,o!==null){switch(o.tag){case 13:return Vi===null?cp():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===pm?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),fp(i,u,f)),!1;case 22:return o.flags|=65536,u===pm?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),fp(i,u,f)),!1}throw Error(s(435,o.tag))}return fp(i,u,f),cp(),!1}if(Xe)return r=Jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==lm&&(i=Error(s(422),{cause:u}),$l(Qn(i,o)))):(u!==lm&&(r=Error(s(423),{cause:u}),$l(Qn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Qn(u,o),f=Bm(i.stateNode,u,f),vm(i,f),Et!==4&&(Et=2)),!1;var g=Error(s(520),{cause:u});if(g=Qn(g,o),mu===null?mu=[g]:mu.push(g),Et!==4&&(Et=2),r===null)return!0;u=Qn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Bm(o.stateNode,u,i),vm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(er===null||!er.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=j_(f),L_(f,i,o,u),vm(o,f),!1}o=o.return}while(o!==null);return!1}var U_=Error(s(461)),Xt=!1;function nn(i,r,o,u){r.child=i===null?N_(r,null,o,u):To(r,i.child,o,u)}function B_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return ca(r),u=xm(i,r,o,b,g,f),w=wm(),i!==null&&!Xt?(Sm(i,r,f),gs(i,r,f)):(Xe&&w&&am(r),r.flags|=1,nn(i,r,u,f),r.child)}function z_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!im(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,q_(i,r,g,u,f)):(i=uh(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Ym(i,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Fl,o(b,u)&&i.ref===r.ref)return gs(i,r,f)}return r.flags|=1,i=us(g,u),i.ref=r.ref,i.return=r,r.child=i}function q_(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(Fl(g,u)&&i.ref===r.ref)if(Xt=!1,r.pendingProps=u=g,Ym(i,f))(i.flags&131072)!==0&&(Xt=!0);else return r.lanes=i.lanes,gs(i,r,f)}return zm(i,r,o,u,f)}function F_(i,r,o){var u=r.pendingProps,f=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(f=r.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return H_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&mh(r,g!==null?g.cachePool:null),g!==null?qv(r,g):Tm(),I_(r);else return r.lanes=r.childLanes=536870912,H_(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(mh(r,g.cachePool),qv(r,g),Ys(),r.memoizedState=null):(i!==null&&mh(r,null),Tm(),Ys());return nn(i,r,f,o),r.child}function H_(i,r,o,u){var f=mm();return f=f===null?null:{parent:Ht._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&mh(r,null),Tm(),I_(r),i!==null&&Yl(i,r,u,!0),null}function Dh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function zm(i,r,o,u,f){return ca(r),o=xm(i,r,o,u,void 0,f),u=wm(),i!==null&&!Xt?(Sm(i,r,f),gs(i,r,f)):(Xe&&u&&am(r),r.flags|=1,nn(i,r,o,f),r.child)}function G_(i,r,o,u,f,g){return ca(r),r.updateQueue=null,o=Hv(r,u,o,f),Fv(i),u=wm(),i!==null&&!Xt?(Sm(i,r,g),gs(i,r,g)):(Xe&&u&&am(r),r.flags|=1,nn(i,r,o,g),r.child)}function K_(i,r,o,u,f){if(ca(r),r.stateNode===null){var g=uo,b=o.contextType;typeof b=="object"&&b!==null&&(g=hn(b)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Um,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},gm(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?hn(b):uo,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Lm(r,o,b,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Um.enqueueReplaceState(g,g.state,null),tu(r,u,g,f),eu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,k=da(o,w);g.props=k;var G=g.context,te=o.contextType;b=uo,typeof te=="object"&&te!==null&&(b=hn(te));var re=o.getDerivedStateFromProps;te=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||G!==b)&&V_(r,g,u,b),Fs=!1;var $=r.memoizedState;g.state=$,tu(r,u,g,f),eu(),G=r.memoizedState,w||$!==G||Fs?(typeof re=="function"&&(Lm(r,o,re,u),G=r.memoizedState),(k=Fs||D_(r,o,k,u,$,G,b))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),g.props=u,g.state=G,g.context=b,u=k):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,ym(i,r),b=r.memoizedProps,te=da(o,b),g.props=te,re=r.pendingProps,$=g.context,G=o.contextType,k=uo,typeof G=="object"&&G!==null&&(k=hn(G)),w=o.getDerivedStateFromProps,(G=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==re||$!==k)&&V_(r,g,u,k),Fs=!1,$=r.memoizedState,g.state=$,tu(r,u,g,f),eu();var X=r.memoizedState;b!==re||$!==X||Fs||i!==null&&i.dependencies!==null&&fh(i.dependencies)?(typeof w=="function"&&(Lm(r,o,w,u),X=r.memoizedState),(te=Fs||D_(r,o,te,u,$,X,k)||i!==null&&i.dependencies!==null&&fh(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,k)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=k,u=te):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Dh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=To(r,i.child,null,f),r.child=To(r,null,o,f)):nn(i,r,o,f),r.memoizedState=g.state,i=r.child):i=gs(i,r,f),i}function $_(i,r,o,u){return Kl(),r.flags|=256,nn(i,r,o,u),r.child}var qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fm(i){return{baseLanes:i,cachePool:Pv()}}function Hm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ei),i}function Y_(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Gt.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Xe){if(f?$s(r):Ys(),Xe){var w=Tt,k;if(k=w){e:{for(k=w,w=Di;k.nodeType!==8;){if(!w){w=null;break e}if(k=di(k.nextSibling),k===null){w=null;break e}}w=k}w!==null?(r.memoizedState={dehydrated:w,treeContext:ra!==null?{id:cs,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},k=Mn(18,null,null,0),k.stateNode=w,k.return=r,r.child=k,Tn=r,Tt=null,k=!0):k=!1}k||la(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Rp(w)?r.lanes=32:r.lanes=536870912,null;ps(r)}return w=u.children,u=u.fallback,f?(Ys(),f=r.mode,w=Vh({mode:"hidden",children:w},f),u=sa(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,f=r.child,f.memoizedState=Fm(o),f.childLanes=Hm(i,b,o),r.memoizedState=qm,u):($s(r),Gm(r,w))}if(k=i.memoizedState,k!==null&&(w=k.dehydrated,w!==null)){if(g)r.flags&256?($s(r),r.flags&=-257,r=Km(i,r,o)):r.memoizedState!==null?(Ys(),r.child=i.child,r.flags|=128,r=null):(Ys(),f=u.fallback,w=r.mode,u=Vh({mode:"visible",children:u.children},w),f=sa(f,w,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,To(r,i.child,null,o),u=r.child,u.memoizedState=Fm(o),u.childLanes=Hm(i,b,o),r.memoizedState=qm,r=f);else if($s(r),Rp(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var G=b.dgst;b=G,u=Error(s(419)),u.stack="",u.digest=b,$l({value:u,source:null,stack:null}),r=Km(i,r,o)}else if(Xt||Yl(i,r,o,!1),b=(o&i.childLanes)!==0,Xt||b){if(b=ot,b!==null&&(u=o&-o,u=(u&42)!==0?1:ks(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==k.retryLane))throw k.retryLane=u,lo(i,u),Ln(b,i,u),U_;w.data==="$?"||cp(),r=Km(i,r,o)}else w.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=k.treeContext,Tt=di(w.nextSibling),Tn=r,Xe=!0,oa=null,Di=!1,i!==null&&(Wn[Zn++]=cs,Wn[Zn++]=hs,Wn[Zn++]=ra,cs=i.id,hs=i.overflow,ra=r),r=Gm(r,u.children),r.flags|=4096);return r}return f?(Ys(),f=u.fallback,w=r.mode,k=i.child,G=k.sibling,u=us(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,G!==null?f=us(G,f):(f=sa(f,w,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,w=i.child.memoizedState,w===null?w=Fm(o):(k=w.cachePool,k!==null?(G=Ht._currentValue,k=k.parent!==G?{parent:G,pool:G}:k):k=Pv(),w={baseLanes:w.baseLanes|o,cachePool:k}),f.memoizedState=w,f.childLanes=Hm(i,b,o),r.memoizedState=qm,u):($s(r),o=i.child,i=o.sibling,o=us(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Gm(i,r){return r=Vh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Vh(i,r){return i=Mn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Km(i,r,o){return To(r,i.child,null,o),i=Gm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Q_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),cm(i.return,r,o)}function $m(i,r,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function X_(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(nn(i,r,u.children,o),u=Gt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Q_(i,o,r);else if(i.tag===19)Q_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(le(Gt,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Ch(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),$m(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Ch(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}$m(r,!0,o,null,g);break;case"together":$m(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function gs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Js|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Yl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=us(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=us(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ym(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&fh(i)))}function CC(i,r,o){switch(r.tag){case 3:he(r,r.stateNode.containerInfo),qs(r,Ht,i.memoizedState.cache),Kl();break;case 27:case 5:Be(r);break;case 4:he(r,r.stateNode.containerInfo);break;case 10:qs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?($s(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Y_(i,r,o):($s(r),i=gs(i,r,o),i!==null?i.sibling:null);$s(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Yl(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return X_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Gt,Gt.current),u)break;return null;case 22:case 23:return r.lanes=0,F_(i,r,o);case 24:qs(r,Ht,i.memoizedState.cache)}return gs(i,r,o)}function W_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Xt=!0;else{if(!Ym(i,o)&&(r.flags&128)===0)return Xt=!1,CC(i,r,o);Xt=(i.flags&131072)!==0}else Xt=!1,Xe&&(r.flags&1048576)!==0&&Rv(r,hh,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")im(u)?(i=da(u,i),r.tag=1,r=K_(null,r,u,i,o)):(r.tag=0,r=zm(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===Z){r.tag=11,r=B_(null,r,u,i,o);break e}else if(f===M){r.tag=14,r=z_(null,r,u,i,o);break e}}throw r=me(u)||u,Error(s(306,r,""))}}return r;case 0:return zm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=da(u,r.pendingProps),K_(i,r,u,f,o);case 3:e:{if(he(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,ym(i,r),tu(r,u,null,o);var b=r.memoizedState;if(u=b.cache,qs(r,Ht,u),u!==g.cache&&hm(r,[Ht],o,!0),eu(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=$_(i,r,u,o);break e}else if(u!==f){f=Qn(Error(s(424)),r),$l(f),r=$_(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Tt=di(i.firstChild),Tn=r,Xe=!0,oa=null,Di=!0,o=N_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Kl(),u===f){r=gs(i,r,o);break e}nn(i,r,u,o)}r=r.child}return r;case 26:return Dh(i,r),i===null?(o=tE(r.type,null,r.pendingProps,null))?r.memoizedState=o:Xe||(o=r.type,i=r.pendingProps,u=Kh(we.current).createElement(o),u[zt]=r,u[Dt]=i,rn(u,o,i),xt(u),r.stateNode=u):r.memoizedState=tE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Be(r),i===null&&Xe&&(u=r.stateNode=ZT(r.type,r.pendingProps,we.current),Tn=r,Di=!0,f=Tt,ir(r.type)?(Cp=f,Tt=di(u.firstChild)):Tt=f),nn(i,r,r.pendingProps.children,o),Dh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Xe&&((f=u=Tt)&&(u=n2(u,r.type,r.pendingProps,Di),u!==null?(r.stateNode=u,Tn=r,Tt=di(u.firstChild),Di=!1,f=!0):f=!1),f||la(r)),Be(r),f=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,wp(f,g)?u=null:b!==null&&wp(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=xm(i,r,TC,null,null,o),xu._currentValue=f),Dh(i,r),nn(i,r,u,o),r.child;case 6:return i===null&&Xe&&((i=o=Tt)&&(o=i2(o,r.pendingProps,Di),o!==null?(r.stateNode=o,Tn=r,Tt=null,i=!0):i=!1),i||la(r)),null;case 13:return Y_(i,r,o);case 4:return he(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=To(r,null,u,o):nn(i,r,u,o),r.child;case 11:return B_(i,r,r.type,r.pendingProps,o);case 7:return nn(i,r,r.pendingProps,o),r.child;case 8:return nn(i,r,r.pendingProps.children,o),r.child;case 12:return nn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,qs(r,r.type,u.value),nn(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ca(r),f=hn(f),u=u(f),r.flags|=1,nn(i,r,u,o),r.child;case 14:return z_(i,r,r.type,r.pendingProps,o);case 15:return q_(i,r,r.type,r.pendingProps,o);case 19:return X_(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=Vh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=us(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return F_(i,r,o);case 24:return ca(r),u=hn(Ht),i===null?(f=mm(),f===null&&(f=ot,g=fm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},gm(r),qs(r,Ht,f)):((i.lanes&o)!==0&&(ym(i,r),tu(r,null,null,o),eu()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),qs(r,Ht,u)):(u=g.cache,qs(r,Ht,u),u!==f.cache&&hm(r,[Ht],o,!0))),nn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ys(i){i.flags|=4}function Z_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!aE(r)){if(r=Jn.current,r!==null&&((Ke&4194048)===Ke?Vi!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||r!==Vi))throw Zl=pm,kv;i.flags|=8192}}function Mh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Sl():536870912,i.lanes|=r,wo|=r)}function lu(i,r){if(!Xe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function pt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function NC(i,r,o){var u=r.pendingProps;switch(om(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return pt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ds(Ht),Te(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Gl(r)?ys(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Iv())),pt(r),null;case 26:return o=r.memoizedState,i===null?(ys(r),o!==null?(pt(r),Z_(r,o)):(pt(r),r.flags&=-16777217)):o?o!==i.memoizedState?(ys(r),pt(r),Z_(r,o)):(pt(r),r.flags&=-16777217):(i.memoizedProps!==u&&ys(r),pt(r),r.flags&=-16777217),null;case 27:Ye(r),o=we.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ys(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return pt(r),null}i=ye.current,Gl(r)?Cv(r):(i=ZT(f,u,o),r.stateNode=i,ys(r))}return pt(r),null;case 5:if(Ye(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ys(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return pt(r),null}if(i=ye.current,Gl(r))Cv(r);else{switch(f=Kh(we.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[zt]=r,i[Dt]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;e:switch(rn(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ys(r)}}return pt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ys(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=we.current,Gl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Tn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[zt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||GT(i.nodeValue,o)),i||la(r)}else i=Kh(i).createTextNode(u),i[zt]=r,r.stateNode=i}return pt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Gl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[zt]=r}else Kl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),f=!1}else f=Iv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ps(r),r):(ps(r),null)}if(ps(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Mh(r,r.updateQueue),pt(r),null;case 4:return Te(),i===null&&_p(r.stateNode.containerInfo),pt(r),null;case 10:return ds(r.type),pt(r),null;case 19:if(ue(Gt),f=r.memoizedState,f===null)return pt(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)lu(f,!1);else{if(Et!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ch(i),g!==null){for(r.flags|=128,lu(f,!1),i=g.updateQueue,r.updateQueue=i,Mh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Av(o,i),o=o.sibling;return le(Gt,Gt.current&1|2),r.child}i=i.sibling}f.tail!==null&&Fn()>Oh&&(r.flags|=128,u=!0,lu(f,!1),r.lanes=4194304)}else{if(!u)if(i=Ch(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,Mh(r,i),lu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Xe)return pt(r),null}else 2*Fn()-f.renderingStartTime>Oh&&o!==536870912&&(r.flags|=128,u=!0,lu(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(i=f.last,i!==null?i.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Fn(),r.sibling=null,i=Gt.current,le(Gt,u?i&1|2:i&1),r):(pt(r),null);case 22:case 23:return ps(r),Em(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),o=r.updateQueue,o!==null&&Mh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ue(ha),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ds(Ht),pt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function IC(i,r){switch(om(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ds(Ht),Te(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ye(r),null;case 13:if(ps(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Kl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ue(Gt),null;case 4:return Te(),null;case 10:return ds(r.type),null;case 22:case 23:return ps(r),Em(),i!==null&&ue(ha),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ds(Ht),null;case 25:return null;default:return null}}function J_(i,r){switch(om(r),r.tag){case 3:ds(Ht),Te();break;case 26:case 27:case 5:Ye(r);break;case 4:Te();break;case 13:ps(r);break;case 19:ue(Gt);break;case 10:ds(r.type);break;case 22:case 23:ps(r),Em(),i!==null&&ue(ha);break;case 24:ds(Ht)}}function uu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==f)}}catch(w){at(r,r.return,w)}}function Qs(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=r;var k=o,G=w;try{G()}catch(te){at(f,k,te)}}}u=u.next}while(u!==g)}}catch(te){at(r,r.return,te)}}function eT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{zv(r,o)}catch(u){at(i,i.return,u)}}}function tT(i,r,o){o.props=da(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){at(i,r,u)}}function cu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){at(i,r,f)}}function Mi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){at(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){at(i,r,f)}else o.current=null}function nT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){at(i,i.return,f)}}function Qm(i,r,o){try{var u=i.stateNode;WC(u,i.type,o,r),u[Dt]=r}catch(f){at(i,i.return,f)}}function iT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ir(i.type)||i.tag===4}function Xm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||iT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ir(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Gh));else if(u!==4&&(u===27&&ir(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Wm(i,r,o),i=i.sibling;i!==null;)Wm(i,r,o),i=i.sibling}function Ph(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&ir(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ph(i,r,o),i=i.sibling;i!==null;)Ph(i,r,o),i=i.sibling}function sT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);rn(r,u,o),r[zt]=i,r[Dt]=o}catch(g){at(i,i.return,g)}}var vs=!1,St=!1,Zm=!1,rT=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function DC(i,r){if(i=i.containerInfo,bp=Zh,i=gv(i),Xd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,w=-1,k=-1,G=0,te=0,re=i,$=null;t:for(;;){for(var X;re!==o||f!==0&&re.nodeType!==3||(w=b+f),re!==g||u!==0&&re.nodeType!==3||(k=b+u),re.nodeType===3&&(b+=re.nodeValue.length),(X=re.firstChild)!==null;)$=re,re=X;for(;;){if(re===i)break t;if($===o&&++G===f&&(w=b),$===g&&++te===u&&(k=b),(X=re.nextSibling)!==null)break;re=$,$=re.parentNode}re=X}o=w===-1||k===-1?null:{start:w,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(xp={focusedElem:i,selectionRange:o},Zh=!1,Wt=r;Wt!==null;)if(r=Wt,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Wt=i;else for(;Wt!==null;){switch(r=Wt,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ne=da(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Ne,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Se){at(o,o.return,Se)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Ap(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ap(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Wt=i;break}Wt=r.return}}function aT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Xs(i,o),u&4&&uu(5,o);break;case 1:if(Xs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){at(o,o.return,b)}else{var f=da(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){at(o,o.return,b)}}u&64&&eT(o),u&512&&cu(o,o.return);break;case 3:if(Xs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{zv(i,r)}catch(b){at(o,o.return,b)}}break;case 27:r===null&&u&4&&sT(o);case 26:case 5:Xs(i,o),r===null&&u&4&&nT(o),u&512&&cu(o,o.return);break;case 12:Xs(i,o);break;case 13:Xs(i,o),u&4&&uT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=BC.bind(null,o),s2(i,o))));break;case 22:if(u=o.memoizedState!==null||vs,!u){r=r!==null&&r.memoizedState!==null||St,f=vs;var g=St;vs=u,(St=r)&&!g?Ws(i,o,(o.subtreeFlags&8772)!==0):Xs(i,o),vs=f,St=g}break;case 30:break;default:Xs(i,o)}}function oT(i){var r=i.alternate;r!==null&&(i.alternate=null,oT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ls(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,xn=!1;function _s(i,r,o){for(o=o.child;o!==null;)lT(i,r,o),o=o.sibling}function lT(i,r,o){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(_t,o)}catch{}switch(o.tag){case 26:St||Mi(o,r),_s(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:St||Mi(o,r);var u=ft,f=xn;ir(o.type)&&(ft=o.stateNode,xn=!1),_s(i,r,o),_u(o.stateNode),ft=u,xn=f;break;case 5:St||Mi(o,r);case 6:if(u=ft,f=xn,ft=null,_s(i,r,o),ft=u,xn=f,ft!==null)if(xn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){at(o,r,g)}else try{ft.removeChild(o.stateNode)}catch(g){at(o,r,g)}break;case 18:ft!==null&&(xn?(i=ft,XT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ru(i)):XT(ft,o.stateNode));break;case 4:u=ft,f=xn,ft=o.stateNode.containerInfo,xn=!0,_s(i,r,o),ft=u,xn=f;break;case 0:case 11:case 14:case 15:St||Qs(2,o,r),St||Qs(4,o,r),_s(i,r,o);break;case 1:St||(Mi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&tT(o,r,u)),_s(i,r,o);break;case 21:_s(i,r,o);break;case 22:St=(u=St)||o.memoizedState!==null,_s(i,r,o),St=u;break;default:_s(i,r,o)}}function uT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ru(i)}catch(o){at(r,r.return,o)}}function VC(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new rT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new rT),r;default:throw Error(s(435,i.tag))}}function Jm(i,r){var o=VC(i);r.forEach(function(u){var f=zC.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function Pn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,b=r,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(ir(w.type)){ft=w.stateNode,xn=!1;break e}break;case 5:ft=w.stateNode,xn=!1;break e;case 3:case 4:ft=w.stateNode.containerInfo,xn=!0;break e}w=w.return}if(ft===null)throw Error(s(160));lT(g,b,f),ft=null,xn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)cT(r,i),r=r.sibling}var fi=null;function cT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pn(r,i),kn(i),u&4&&(Qs(3,i,i.return),uu(3,i),Qs(5,i,i.return));break;case 1:Pn(r,i),kn(i),u&512&&(St||o===null||Mi(o,o.return)),u&64&&vs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=fi;if(Pn(r,i),kn(i),u&512&&(St||o===null||Mi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[qr]||g[zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),rn(g,u,o),g[zt]=i,xt(g),u=g;break e;case"link":var b=sE("link","href",f).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break t}}g=f.createElement(u),rn(g,u,o),f.head.appendChild(g);break;case"meta":if(b=sE("meta","content",f).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break t}}g=f.createElement(u),rn(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[zt]=i,xt(g),u=g}i.stateNode=u}else rE(f,i.type,i.stateNode);else i.stateNode=iE(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?rE(f,i.type,i.stateNode):iE(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Qm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Pn(r,i),kn(i),u&512&&(St||o===null||Mi(o,o.return)),o!==null&&u&4&&Qm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Pn(r,i),kn(i),u&512&&(St||o===null||Mi(o,o.return)),i.flags&32){f=i.stateNode;try{Gn(f,"")}catch(X){at(i,i.return,X)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Qm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Zm=!0);break;case 6:if(Pn(r,i),kn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(X){at(i,i.return,X)}}break;case 3:if(Qh=null,f=fi,fi=$h(r.containerInfo),Pn(r,i),fi=f,kn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ru(r.containerInfo)}catch(X){at(i,i.return,X)}Zm&&(Zm=!1,hT(i));break;case 4:u=fi,fi=$h(i.stateNode.containerInfo),Pn(r,i),kn(i),fi=u;break;case 12:Pn(r,i),kn(i);break;case 13:Pn(r,i),kn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(rp=Fn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Jm(i,u)));break;case 22:f=i.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,G=vs,te=St;if(vs=G||f,St=te||k,Pn(r,i),St=te,vs=G,kn(i),u&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||k||vs||St||ma(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){k=o=r;try{if(g=k.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=k.stateNode;var re=k.memoizedProps.style,$=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(X){at(k,k.return,X)}}}else if(r.tag===6){if(o===null){k=r;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(X){at(k,k.return,X)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Jm(i,o))));break;case 19:Pn(r,i),kn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Jm(i,u)));break;case 30:break;case 21:break;default:Pn(r,i),kn(i)}}function kn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(iT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Xm(i);Ph(i,g,f);break;case 5:var b=o.stateNode;o.flags&32&&(Gn(b,""),o.flags&=-33);var w=Xm(i);Ph(i,w,b);break;case 3:case 4:var k=o.stateNode.containerInfo,G=Xm(i);Wm(i,G,k);break;default:throw Error(s(161))}}catch(te){at(i,i.return,te)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function hT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;hT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Xs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)aT(i,r.alternate,r),r=r.sibling}function ma(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Qs(4,r,r.return),ma(r);break;case 1:Mi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&tT(r,r.return,o),ma(r);break;case 27:_u(r.stateNode);case 26:case 5:Mi(r,r.return),ma(r);break;case 22:r.memoizedState===null&&ma(r);break;case 30:ma(r);break;default:ma(r)}i=i.sibling}}function Ws(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:Ws(f,g,o),uu(4,g);break;case 1:if(Ws(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){at(u,u.return,G)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)Bv(k[f],w)}catch(G){at(u,u.return,G)}}o&&b&64&&eT(g),cu(g,g.return);break;case 27:sT(g);case 26:case 5:Ws(f,g,o),o&&u===null&&b&4&&nT(g),cu(g,g.return);break;case 12:Ws(f,g,o);break;case 13:Ws(f,g,o),o&&b&4&&uT(f,g);break;case 22:g.memoizedState===null&&Ws(f,g,o),cu(g,g.return);break;case 30:break;default:Ws(f,g,o)}r=r.sibling}}function ep(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ql(o))}function tp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ql(i))}function Pi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)fT(i,r,o,u),r=r.sibling}function fT(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(i,r,o,u),f&2048&&uu(9,r);break;case 1:Pi(i,r,o,u);break;case 3:Pi(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ql(i)));break;case 12:if(f&2048){Pi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){at(r,r.return,k)}}else Pi(i,r,o,u);break;case 13:Pi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Pi(i,r,o,u):hu(i,r):g._visibility&2?Pi(i,r,o,u):(g._visibility|=2,Eo(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&ep(b,r);break;case 24:Pi(i,r,o,u),f&2048&&tp(r.alternate,r);break;default:Pi(i,r,o,u)}}function Eo(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,b=r,w=o,k=u,G=b.flags;switch(b.tag){case 0:case 11:case 15:Eo(g,b,w,k,f),uu(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?Eo(g,b,w,k,f):hu(g,b):(te._visibility|=2,Eo(g,b,w,k,f)),f&&G&2048&&ep(b.alternate,b);break;case 24:Eo(g,b,w,k,f),f&&G&2048&&tp(b.alternate,b);break;default:Eo(g,b,w,k,f)}r=r.sibling}}function hu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:hu(o,u),f&2048&&ep(u.alternate,u);break;case 24:hu(o,u),f&2048&&tp(u.alternate,u);break;default:hu(o,u)}r=r.sibling}}var fu=8192;function bo(i){if(i.subtreeFlags&fu)for(i=i.child;i!==null;)dT(i),i=i.sibling}function dT(i){switch(i.tag){case 26:bo(i),i.flags&fu&&i.memoizedState!==null&&y2(fi,i.memoizedState,i.memoizedProps);break;case 5:bo(i);break;case 3:case 4:var r=fi;fi=$h(i.stateNode.containerInfo),bo(i),fi=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=fu,fu=16777216,bo(i),fu=r):bo(i));break;default:bo(i)}}function mT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function du(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Wt=u,gT(u,i)}mT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pT(i),i=i.sibling}function pT(i){switch(i.tag){case 0:case 11:case 15:du(i),i.flags&2048&&Qs(9,i,i.return);break;case 3:du(i);break;case 12:du(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,kh(i)):du(i);break;default:du(i)}}function kh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Wt=u,gT(u,i)}mT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Qs(8,r,r.return),kh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,kh(r));break;default:kh(r)}i=i.sibling}}function gT(i,r){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:Qs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ql(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Wt=u;else e:for(o=i;Wt!==null;){u=Wt;var f=u.sibling,g=u.return;if(oT(u),u===o){Wt=null;break e}if(f!==null){f.return=g,Wt=f;break e}Wt=g}}}var MC={getCacheForType:function(i){var r=hn(Ht),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},PC=typeof WeakMap=="function"?WeakMap:Map,et=0,ot=null,je=null,Ke=0,tt=0,On=null,Zs=!1,xo=!1,np=!1,Ts=0,Et=0,Js=0,pa=0,ip=0,ei=0,wo=0,mu=null,wn=null,sp=!1,rp=0,Oh=1/0,jh=null,er=null,sn=0,tr=null,So=null,Ao=0,ap=0,op=null,yT=null,pu=0,lp=null;function jn(){if((et&2)!==0&&Ke!==0)return Ke&-Ke;if(Q.T!==null){var i=fo;return i!==0?i:pp()}return Os()}function vT(){ei===0&&(ei=(Ke&536870912)===0||Xe?wl():536870912);var i=Jn.current;return i!==null&&(i.flags|=32),ei}function Ln(i,r,o){(i===ot&&(tt===2||tt===9)||i.cancelPendingCommit!==null)&&(Ro(i,0),nr(i,Ke,ei,!1)),Zi(i,o),((et&2)===0||i!==ot)&&(i===ot&&((et&2)===0&&(pa|=o),Et===4&&nr(i,Ke,ei,!1)),ki(i))}function _T(i,r,o){if((et&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||zr(i,r),f=u?jC(i,r):hp(i,r,!0),g=u;do{if(f===0){xo&&!u&&nr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!kC(o)){f=hp(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var w=i;f=mu;var k=w.current.memoizedState.isDehydrated;if(k&&(Ro(w,b).flags|=256),b=hp(w,b,!1),b!==2){if(np&&!k){w.errorRecoveryDisabledLanes|=g,pa|=g,f=4;break e}g=wn,wn=f,g!==null&&(wn===null?wn=g:wn.push.apply(wn,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){Ro(i,0),nr(i,r,0,!0);break}e:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:nr(u,r,ei,!Zs);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=rp+300-Fn(),10<f)){if(nr(u,r,ei,!Zs),Fa(u,0,!0)!==0)break e;u.timeoutHandle=YT(TT.bind(null,u,o,wn,jh,sp,r,ei,pa,wo,Zs,g,2,-0,0),f);break e}TT(u,o,wn,jh,sp,r,ei,pa,wo,Zs,g,0,-0,0)}}break}while(!0);ki(i)}function TT(i,r,o,u,f,g,b,w,k,G,te,re,$,X){if(i.timeoutHandle=-1,re=r.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(bu={stylesheets:null,count:0,unsuspend:g2},dT(r),re=v2(),re!==null)){i.cancelPendingCommit=re(RT.bind(null,i,r,g,o,u,f,b,w,k,te,1,$,X)),nr(i,g,b,!G);return}RT(i,r,g,o,u,f,b,w,k)}function kC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Vn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function nr(i,r,o,u){r&=~ip,r&=~pa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-cn(f),b=1<<g;u[g]=-1,f&=~b}o!==0&&Ti(i,o,r)}function Lh(){return(et&6)===0?(gu(0),!1):!0}function up(){if(je!==null){if(tt===0)var i=je.return;else i=je,fs=ua=null,Am(i),_o=null,au=0,i=je;for(;i!==null;)J_(i.alternate,i),i=i.return;je=null}}function Ro(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,JC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),up(),ot=i,je=o=us(i.current,null),Ke=r,tt=0,On=null,Zs=!1,xo=zr(i,r),np=!1,wo=ei=ip=pa=Js=Et=0,wn=mu=null,sp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-cn(u),g=1<<f;r|=i[f],u&=~g}return Ts=r,ah(),o}function ET(i,r){ke=null,Q.H=Sh,r===Wl||r===ph?(r=Lv(),tt=3):r===kv?(r=Lv(),tt=4):tt=r===U_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,je===null&&(Et=1,Ih(i,Qn(r,i.current)))}function bT(){var i=Q.H;return Q.H=Sh,i===null?Sh:i}function xT(){var i=Q.A;return Q.A=MC,i}function cp(){Et=4,Zs||(Ke&4194048)!==Ke&&Jn.current!==null||(xo=!0),(Js&134217727)===0&&(pa&134217727)===0||ot===null||nr(ot,Ke,ei,!1)}function hp(i,r,o){var u=et;et|=2;var f=bT(),g=xT();(ot!==i||Ke!==r)&&(jh=null,Ro(i,r)),r=!1;var b=Et;e:do try{if(tt!==0&&je!==null){var w=je,k=On;switch(tt){case 8:up(),b=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(r=!0);var G=tt;if(tt=0,On=null,Co(i,w,k,G),o&&xo){b=0;break e}break;default:G=tt,tt=0,On=null,Co(i,w,k,G)}}OC(),b=Et;break}catch(te){ET(i,te)}while(!0);return r&&i.shellSuspendCounter++,fs=ua=null,et=u,Q.H=f,Q.A=g,je===null&&(ot=null,Ke=0,ah()),b}function OC(){for(;je!==null;)wT(je)}function jC(i,r){var o=et;et|=2;var u=bT(),f=xT();ot!==i||Ke!==r?(jh=null,Oh=Fn()+500,Ro(i,r)):xo=zr(i,r);e:do try{if(tt!==0&&je!==null){r=je;var g=On;t:switch(tt){case 1:tt=0,On=null,Co(i,r,g,1);break;case 2:case 9:if(Ov(g)){tt=0,On=null,ST(r);break}r=function(){tt!==2&&tt!==9||ot!==i||(tt=7),ki(i)},g.then(r,r);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Ov(g)?(tt=0,On=null,ST(r)):(tt=0,On=null,Co(i,r,g,7));break;case 5:var b=null;switch(je.tag){case 26:b=je.memoizedState;case 5:case 27:var w=je;if(!b||aE(b)){tt=0,On=null;var k=w.sibling;if(k!==null)je=k;else{var G=w.return;G!==null?(je=G,Uh(G)):je=null}break t}}tt=0,On=null,Co(i,r,g,5);break;case 6:tt=0,On=null,Co(i,r,g,6);break;case 8:up(),Et=6;break e;default:throw Error(s(462))}}LC();break}catch(te){ET(i,te)}while(!0);return fs=ua=null,Q.H=u,Q.A=f,et=o,je!==null?0:(ot=null,Ke=0,ah(),Et)}function LC(){for(;je!==null&&!qn();)wT(je)}function wT(i){var r=W_(i.alternate,i,Ts);i.memoizedProps=i.pendingProps,r===null?Uh(i):je=r}function ST(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=G_(o,r,r.pendingProps,r.type,void 0,Ke);break;case 11:r=G_(o,r,r.pendingProps,r.type.render,r.ref,Ke);break;case 5:Am(r);default:J_(o,r),r=je=Av(r,Ts),r=W_(o,r,Ts)}i.memoizedProps=i.pendingProps,r===null?Uh(i):je=r}function Co(i,r,o,u){fs=ua=null,Am(r),_o=null,au=0;var f=r.return;try{if(RC(i,f,r,o,Ke)){Et=1,Ih(i,Qn(o,i.current)),je=null;return}}catch(g){if(f!==null)throw je=f,g;Et=1,Ih(i,Qn(o,i.current)),je=null;return}r.flags&32768?(Xe||u===1?i=!0:xo||(Ke&536870912)!==0?i=!1:(Zs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),AT(r,i)):Uh(r)}function Uh(i){var r=i;do{if((r.flags&32768)!==0){AT(r,Zs);return}i=r.return;var o=NC(r.alternate,r,Ts);if(o!==null){je=o;return}if(r=r.sibling,r!==null){je=r;return}je=r=i}while(r!==null);Et===0&&(Et=5)}function AT(i,r){do{var o=IC(i.alternate,i);if(o!==null){o.flags&=32767,je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){je=i;return}je=i=o}while(i!==null);Et=6,je=null}function RT(i,r,o,u,f,g,b,w,k){i.cancelPendingCommit=null;do Bh();while(sn!==0);if((et&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=tm,Al(i,o,g,b,w,k),i===ot&&(je=ot=null,Ke=0),So=r,tr=i,Ao=o,ap=g,op=f,yT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,qC(jr,function(){return VT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,f=ie.p,ie.p=2,b=et,et|=4;try{DC(i,r,o)}finally{et=b,ie.p=f,Q.T=u}}sn=1,CT(),NT(),IT()}}function CT(){if(sn===1){sn=0;var i=tr,r=So,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=ie.p;ie.p=2;var f=et;et|=4;try{cT(r,i);var g=xp,b=gv(i.containerInfo),w=g.focusedElem,k=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&pv(w.ownerDocument.documentElement,w)){if(k!==null&&Xd(w)){var G=k.start,te=k.end;if(te===void 0&&(te=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(te,w.value.length);else{var re=w.ownerDocument||document,$=re&&re.defaultView||window;if($.getSelection){var X=$.getSelection(),Ne=w.textContent.length,Se=Math.min(k.start,Ne),rt=k.end===void 0?Se:Math.min(k.end,Ne);!X.extend&&Se>rt&&(b=rt,rt=Se,Se=b);var q=mv(w,Se),z=mv(w,rt);if(q&&z&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var H=re.createRange();H.setStart(q.node,q.offset),X.removeAllRanges(),Se>rt?(X.addRange(H),X.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),X.addRange(H))}}}}for(re=[],X=w;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var se=re[w];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Zh=!!bp,xp=bp=null}finally{et=f,ie.p=u,Q.T=o}}i.current=r,sn=2}}function NT(){if(sn===2){sn=0;var i=tr,r=So,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=ie.p;ie.p=2;var f=et;et|=4;try{aT(i,r.alternate,r)}finally{et=f,ie.p=u,Q.T=o}}sn=3}}function IT(){if(sn===4||sn===3){sn=0,Xi();var i=tr,r=So,o=Ao,u=yT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?sn=5:(sn=0,So=tr=null,DT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(er=null),Ha(o),r=r.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(_t,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Q.T,f=ie.p,ie.p=2,Q.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var w=u[b];g(w.value,{componentStack:w.stack})}}finally{Q.T=r,ie.p=f}}(Ao&3)!==0&&Bh(),ki(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===lp?pu++:(pu=0,lp=i):pu=0,gu(0)}}function DT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ql(r)))}function Bh(i){return CT(),NT(),IT(),VT()}function VT(){if(sn!==5)return!1;var i=tr,r=ap;ap=0;var o=Ha(Ao),u=Q.T,f=ie.p;try{ie.p=32>o?32:o,Q.T=null,o=op,op=null;var g=tr,b=Ao;if(sn=0,So=tr=null,Ao=0,(et&6)!==0)throw Error(s(331));var w=et;if(et|=4,pT(g.current),fT(g,g.current,b,o),et=w,gu(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(_t,g)}catch{}return!0}finally{ie.p=f,Q.T=u,DT(i,r)}}function MT(i,r,o){r=Qn(o,r),r=Bm(i.stateNode,r,2),i=Gs(i,r,2),i!==null&&(Zi(i,2),ki(i))}function at(i,r,o){if(i.tag===3)MT(i,i,o);else for(;r!==null;){if(r.tag===3){MT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(er===null||!er.has(u))){i=Qn(o,i),o=j_(2),u=Gs(r,o,2),u!==null&&(L_(o,u,r,i),Zi(u,2),ki(u));break}}r=r.return}}function fp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new PC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(np=!0,f.add(o),i=UC.bind(null,i,r,o),r.then(i,i))}function UC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ot===i&&(Ke&o)===o&&(Et===4||Et===3&&(Ke&62914560)===Ke&&300>Fn()-rp?(et&2)===0&&Ro(i,0):ip|=o,wo===Ke&&(wo=0)),ki(i)}function PT(i,r){r===0&&(r=Sl()),i=lo(i,r),i!==null&&(Zi(i,r),ki(i))}function BC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),PT(i,o)}function zC(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),PT(i,o)}function qC(i,r){return Nt(i,r)}var zh=null,No=null,dp=!1,qh=!1,mp=!1,ga=0;function ki(i){i!==No&&i.next===null&&(No===null?zh=No=i:No=No.next=i),qh=!0,dp||(dp=!0,HC())}function gu(i,r){if(!mp&&qh){mp=!0;do for(var o=!1,u=zh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-cn(42|i)+1)-1,g&=f&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,LT(u,g))}else g=Ke,g=Fa(u,u===ot?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||zr(u,g)||(o=!0,LT(u,g));u=u.next}while(o);mp=!1}}function FC(){kT()}function kT(){qh=dp=!1;var i=0;ga!==0&&(ZC()&&(i=ga),ga=0);for(var r=Fn(),o=null,u=zh;u!==null;){var f=u.next,g=OT(u,r);g===0?(u.next=null,o===null?zh=f:o.next=f,f===null&&(No=o)):(o=u,(i!==0||(g&3)!==0)&&(qh=!0)),u=f}gu(i)}function OT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-cn(g),w=1<<b,k=f[b];k===-1?((w&o)===0||(w&u)!==0)&&(f[b]=xl(w,r)):k<=r&&(i.expiredLanes|=w),g&=~w}if(r=ot,o=Ke,o=Fa(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(tt===2||tt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&It(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||zr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&It(u),Ha(o)){case 2:case 8:o=za;break;case 32:o=jr;break;case 268435456:o=qa;break;default:o=jr}return u=jT.bind(null,i),o=Nt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&It(u),i.callbackPriority=2,i.callbackNode=null,2}function jT(i,r){if(sn!==0&&sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Bh()&&i.callbackNode!==o)return null;var u=Ke;return u=Fa(i,i===ot?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(_T(i,u,r),OT(i,Fn()),i.callbackNode!=null&&i.callbackNode===o?jT.bind(null,i):null)}function LT(i,r){if(Bh())return null;_T(i,r,!0)}function HC(){e2(function(){(et&6)!==0?Nt(El,FC):kT()})}function pp(){return ga===0&&(ga=wl()),ga}function UT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xa(""+i)}function BT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function GC(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=UT((f[Dt]||null).action),b=u.submitter;b&&(r=(r=b[Dt]||null)?UT(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var w=new Wa("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ga!==0){var k=b?BT(f,b):new FormData(f);km(o,{pending:!0,data:k,method:f.method,action:g},null,k)}}else typeof g=="function"&&(w.preventDefault(),k=b?BT(f,b):new FormData(f),km(o,{pending:!0,data:k,method:f.method,action:g},g,k))},currentTarget:f}]})}}for(var gp=0;gp<em.length;gp++){var yp=em[gp],KC=yp.toLowerCase(),$C=yp[0].toUpperCase()+yp.slice(1);hi(KC,"on"+$C)}hi(_v,"onAnimationEnd"),hi(Tv,"onAnimationIteration"),hi(Ev,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(cC,"onTransitionRun"),hi(hC,"onTransitionStart"),hi(fC,"onTransitionCancel"),hi(bv,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yu));function zT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var w=u[b],k=w.instance,G=w.currentTarget;if(w=w.listener,k!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=G;try{g(f)}catch(te){Nh(te)}f.currentTarget=null,g=k}else for(b=0;b<u.length;b++){if(w=u[b],k=w.instance,G=w.currentTarget,w=w.listener,k!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=G;try{g(f)}catch(te){Nh(te)}f.currentTarget=null,g=k}}}}function Le(i,r){var o=r[Cl];o===void 0&&(o=r[Cl]=new Set);var u=i+"__bubble";o.has(u)||(qT(r,i,2,!1),o.add(u))}function vp(i,r,o){var u=0;r&&(u|=4),qT(o,i,u,r)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function _p(i){if(!i[Fh]){i[Fh]=!0,Nl.forEach(function(o){o!=="selectionchange"&&(YC.has(o)||vp(o,!1,i),vp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Fh]||(r[Fh]=!0,vp("selectionchange",!1,r))}}function qT(i,r,o,u){switch(fE(r)){case 2:var f=E2;break;case 8:f=b2;break;default:f=Mp}o=f.bind(null,r,o,i),f=void 0,!$n||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Tp(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=u.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=Ji(w),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){u=g=b;continue e}w=w.parentNode}}u=u.return}Gc(function(){var G=g,te=Kn(o),re=[];e:{var $=xv.get(i);if($!==void 0){var X=Wa,Ne=i;switch(i){case"keypress":if(Ai(o)===0)break e;case"keydown":case"keyup":X=io;break;case"focusin":Ne="focus",X=eo;break;case"focusout":Ne="blur",X=eo;break;case"beforeblur":case"afterblur":X=eo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Jc;break;case _v:case Tv:case Ev:X=to;break;case bv:X=th;break;case"scroll":case"scrollend":X=Kc;break;case"wheel":X=so;break;case"copy":case"cut":case"paste":X=no;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=zl;break;case"toggle":case"beforetoggle":X=ih}var Se=(r&4)!==0,rt=!Se&&(i==="scroll"||i==="scrollend"),q=Se?$!==null?$+"Capture":null:$;Se=[];for(var z=G,H;z!==null;){var se=z;if(H=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||H===null||q===null||(se=Qr(z,q),se!=null&&Se.push(vu(z,se,H))),rt)break;z=z.return}0<Se.length&&($=new X($,Ne,null,o,te),re.push({event:$,listeners:Se}))}}if((r&7)===0){e:{if($=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",$&&o!==is&&(Ne=o.relatedTarget||o.fromElement)&&(Ji(Ne)||Ne[Hn]))break e;if((X||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,X?(Ne=o.relatedTarget||o.toElement,X=G,Ne=Ne?Ji(Ne):null,Ne!==null&&(rt=l(Ne),Se=Ne.tag,Ne!==rt||Se!==5&&Se!==27&&Se!==6)&&(Ne=null)):(X=null,Ne=G),X!==Ne)){if(Se=Yn,se="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Se=zl,se="onPointerLeave",q="onPointerEnter",z="pointer"),rt=X==null?$:bi(X),H=Ne==null?$:bi(Ne),$=new Se(se,z+"leave",X,o,te),$.target=rt,$.relatedTarget=H,se=null,Ji(te)===G&&(Se=new Se(q,z+"enter",Ne,o,te),Se.target=H,Se.relatedTarget=rt,se=Se),rt=se,X&&Ne)t:{for(Se=X,q=Ne,z=0,H=Se;H;H=Io(H))z++;for(H=0,se=q;se;se=Io(se))H++;for(;0<z-H;)Se=Io(Se),z--;for(;0<H-z;)q=Io(q),H--;for(;z--;){if(Se===q||q!==null&&Se===q.alternate)break t;Se=Io(Se),q=Io(q)}Se=null}else Se=null;X!==null&&FT(re,$,X,Se,!1),Ne!==null&&rt!==null&&FT(re,rt,Ne,Se,!0)}}e:{if($=G?bi(G):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var ve=lv;else if(Ft($))if(uv)ve=oC;else{ve=rC;var Oe=sC}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&Pl(G.elementType)&&(ve=lv):ve=aC;if(ve&&(ve=ve(i,G))){ls(re,ve,o,te);break e}Oe&&Oe(i,$,G),i==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Bs($,"number",$.value)}switch(Oe=G?bi(G):window,i){case"focusin":(Ft(Oe)||Oe.contentEditable==="true")&&(ro=Oe,Wd=G,Hl=null);break;case"focusout":Hl=Wd=ro=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,yv(re,o,te);break;case"selectionchange":if(uC)break;case"keydown":case"keyup":yv(re,o,te)}var Ee;if(Ni)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else He?J(i,o)&&(Ae="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(E&&o.locale!=="ko"&&(He||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&He&&(Ee=Ol()):(Si=te,zs="value"in Si?Si.value:Si.textContent,He=!0)),Oe=Hh(G,Ae),0<Oe.length&&(Ae=new Ul(Ae,i,null,o,te),re.push({event:Ae,listeners:Oe}),Ee?Ae.data=Ee:(Ee=fe(o),Ee!==null&&(Ae.data=Ee)))),(Ee=v?qt(i,o):Ge(i,o))&&(Ae=Hh(G,"onBeforeInput"),0<Ae.length&&(Oe=new Ul("onBeforeInput","beforeinput",null,o,te),re.push({event:Oe,listeners:Ae}),Oe.data=Ee)),GC(re,i,G,o,te)}zT(re,r)})}function vu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Hh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Qr(i,o),f!=null&&u.unshift(vu(i,f,g)),f=Qr(i,r),f!=null&&u.push(vu(i,f,g))),i.tag===3)return u;i=i.return}return[]}function Io(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function FT(i,r,o,u,f){for(var g=r._reactName,b=[];o!==null&&o!==u;){var w=o,k=w.alternate,G=w.stateNode;if(w=w.tag,k!==null&&k===u)break;w!==5&&w!==26&&w!==27||G===null||(k=G,f?(G=Qr(o,g),G!=null&&b.unshift(vu(o,G,k))):f||(G=Qr(o,g),G!=null&&b.push(vu(o,G,k)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var QC=/\r\n?/g,XC=/\u0000|\uFFFD/g;function HT(i){return(typeof i=="string"?i:""+i).replace(QC,`
`).replace(XC,"")}function GT(i,r){return r=HT(r),HT(i)===r}function Gh(){}function st(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Gn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Gn(i,""+u);break;case"className":xi(i,"class",u);break;case"tabIndex":xi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(i,o,u);break;case"style":Ml(i,u,g);break;case"data":if(r!=="object"){xi(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Xa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&st(i,r,"name",f.name,f,null),st(i,r,"formEncType",f.formEncType,f,null),st(i,r,"formMethod",f.formMethod,f,null),st(i,r,"formTarget",f.formTarget,f,null)):(st(i,r,"encType",f.encType,f,null),st(i,r,"method",f.method,f,null),st(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Xa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Gh);break;case"onScroll":u!=null&&Le("scroll",i);break;case"onScrollEnd":u!=null&&Le("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Xa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Le("beforetoggle",i),Le("toggle",i),Us(i,"popover",u);break;case"xlinkActuate":en(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":en(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":en(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":en(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":en(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":en(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":en(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":en(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":en(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Us(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Hd.get(o)||o,Us(i,o,u))}}function Ep(i,r,o,u,f,g){switch(o){case"style":Ml(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Gn(i,u):(typeof u=="number"||typeof u=="bigint")&&Gn(i,""+u);break;case"onScroll":u!=null&&Le("scroll",i);break;case"onScrollEnd":u!=null&&Le("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Gh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ga.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[Dt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Us(i,o,u)}}}function rn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",i),Le("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(i,r,g,b,o,null)}}f&&st(i,r,"srcSet",o.srcSet,o,null),u&&st(i,r,"src",o.src,o,null);return;case"input":Le("invalid",i);var w=g=b=f=null,k=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":b=te;break;case"checked":k=te;break;case"defaultChecked":G=te;break;case"value":g=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:st(i,r,u,te,o,null)}}Kr(i,g,w,k,G,b,f,!1),Qa(i);return;case"select":Le("invalid",i),u=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:st(i,r,f,w,o,null)}r=g,o=b,i.multiple=!!u,r!=null?ns(i,!!u,r,!1):o!=null&&ns(i,!!u,o,!0);return;case"textarea":Le("invalid",i),g=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:st(i,r,b,w,o,null)}$r(i,u,f,g),Qa(i);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(u=o[k],u!=null))switch(k){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(i,r,k,u,o,null)}return;case"dialog":Le("beforetoggle",i),Le("toggle",i),Le("cancel",i),Le("close",i);break;case"iframe":case"object":Le("load",i);break;case"video":case"audio":for(u=0;u<yu.length;u++)Le(yu[u],i);break;case"image":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"embed":case"source":case"link":Le("error",i),Le("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(i,r,G,u,o,null)}return;default:if(Pl(r)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&Ep(i,r,te,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&st(i,r,w,u,o,null))}function WC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,w=null,k=null,G=null,te=null;for(X in o){var re=o[X];if(o.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=re;default:u.hasOwnProperty(X)||st(i,r,X,null,u,re)}}for(var $ in u){var X=u[$];if(re=o[$],u.hasOwnProperty($)&&(X!=null||re!=null))switch($){case"type":g=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":te=X;break;case"value":b=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==re&&st(i,r,$,X,u,re)}}Dn(i,b,w,k,G,te,g,f);return;case"select":X=b=w=$=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":X=k;default:u.hasOwnProperty(g)||st(i,r,g,null,u,k)}for(f in u)if(g=u[f],k=o[f],u.hasOwnProperty(f)&&(g!=null||k!=null))switch(f){case"value":$=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==k&&st(i,r,f,g,u,k)}r=w,o=b,u=X,$!=null?ns(i,!!o,$,!1):!!u!=!!o&&(r!=null?ns(i,!!o,r,!0):ns(i,!!o,o?[]:"",!1));return;case"textarea":X=$=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:st(i,r,w,null,u,f)}for(b in u)if(f=u[b],g=o[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&st(i,r,b,f,u,g)}nt(i,$,X);return;case"option":for(var Ne in o)if($=o[Ne],o.hasOwnProperty(Ne)&&$!=null&&!u.hasOwnProperty(Ne))switch(Ne){case"selected":i.selected=!1;break;default:st(i,r,Ne,null,u,$)}for(k in u)if($=u[k],X=o[k],u.hasOwnProperty(k)&&$!==X&&($!=null||X!=null))switch(k){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:st(i,r,k,$,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)$=o[Se],o.hasOwnProperty(Se)&&$!=null&&!u.hasOwnProperty(Se)&&st(i,r,Se,null,u,$);for(G in u)if($=u[G],X=o[G],u.hasOwnProperty(G)&&$!==X&&($!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:st(i,r,G,$,u,X)}return;default:if(Pl(r)){for(var rt in o)$=o[rt],o.hasOwnProperty(rt)&&$!==void 0&&!u.hasOwnProperty(rt)&&Ep(i,r,rt,void 0,u,$);for(te in u)$=u[te],X=o[te],!u.hasOwnProperty(te)||$===X||$===void 0&&X===void 0||Ep(i,r,te,$,u,X);return}}for(var q in o)$=o[q],o.hasOwnProperty(q)&&$!=null&&!u.hasOwnProperty(q)&&st(i,r,q,null,u,$);for(re in u)$=u[re],X=o[re],!u.hasOwnProperty(re)||$===X||$==null&&X==null||st(i,r,re,$,u,X)}var bp=null,xp=null;function Kh(i){return i.nodeType===9?i:i.ownerDocument}function KT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $T(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function wp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sp=null;function ZC(){var i=window.event;return i&&i.type==="popstate"?i===Sp?!1:(Sp=i,!0):(Sp=null,!1)}var YT=typeof setTimeout=="function"?setTimeout:void 0,JC=typeof clearTimeout=="function"?clearTimeout:void 0,QT=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof QT<"u"?function(i){return QT.resolve(null).then(i).catch(t2)}:YT;function t2(i){setTimeout(function(){throw i})}function ir(i){return i==="head"}function XT(i,r){var o=r,u=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&_u(b.documentElement),o&2&&_u(b.body),o&4)for(o=b.head,_u(o),b=o.firstChild;b;){var w=b.nextSibling,k=b.nodeName;b[qr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(f===0){i.removeChild(g),Ru(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Ru(r)}function Ap(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ap(o),Ls(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function n2(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[qr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=di(i.nextSibling),i===null)break}return null}function i2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=di(i.nextSibling),i===null))return null;return i}function Rp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function s2(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function di(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Cp=null;function WT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function ZT(i,r,o){switch(r=Kh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function _u(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ls(i)}var ti=new Map,JT=new Set;function $h(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Es=ie.d;ie.d={f:r2,r:a2,D:o2,C:l2,L:u2,m:c2,X:f2,S:h2,M:d2};function r2(){var i=Es.f(),r=Lh();return i||r}function a2(i){var r=Ei(i);r!==null&&r.tag===5&&r.type==="form"?__(r):Es.r(i)}var Do=typeof document>"u"?null:document;function eE(i,r,o){var u=Do;if(u&&typeof r=="string"&&r){var f=Vt(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),JT.has(f)||(JT.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),rn(r,"link",i),xt(r),u.head.appendChild(r)))}}function o2(i){Es.D(i),eE("dns-prefetch",i,null)}function l2(i,r){Es.C(i,r),eE("preconnect",i,r)}function u2(i,r,o){Es.L(i,r,o);var u=Do;if(u&&i&&r){var f='link[rel="preload"][as="'+Vt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Vt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Vt(o.imageSizes)+'"]')):f+='[href="'+Vt(i)+'"]';var g=f;switch(r){case"style":g=Vo(i);break;case"script":g=Mo(i)}ti.has(g)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ti.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(Tu(g))||r==="script"&&u.querySelector(Eu(g))||(r=u.createElement("link"),rn(r,"link",i),xt(r),u.head.appendChild(r)))}}function c2(i,r){Es.m(i,r);var o=Do;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Vt(u)+'"][href="'+Vt(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Mo(i)}if(!ti.has(g)&&(i=y({rel:"modulepreload",href:i},r),ti.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Eu(g)))return}u=o.createElement("link"),rn(u,"link",i),xt(u),o.head.appendChild(u)}}}function h2(i,r,o){Es.S(i,r,o);var u=Do;if(u&&i){var f=yn(u).hoistableStyles,g=Vo(i);r=r||"default";var b=f.get(g);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(Tu(g)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ti.get(g))&&Np(i,o);var k=b=u.createElement("link");xt(k),rn(k,"link",i),k._p=new Promise(function(G,te){k.onload=G,k.onerror=te}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Yh(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(g,b)}}}function f2(i,r){Es.X(i,r);var o=Do;if(o&&i){var u=yn(o).hoistableScripts,f=Mo(i),g=u.get(f);g||(g=o.querySelector(Eu(f)),g||(i=y({src:i,async:!0},r),(r=ti.get(f))&&Ip(i,r),g=o.createElement("script"),xt(g),rn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function d2(i,r){Es.M(i,r);var o=Do;if(o&&i){var u=yn(o).hoistableScripts,f=Mo(i),g=u.get(f);g||(g=o.querySelector(Eu(f)),g||(i=y({src:i,async:!0,type:"module"},r),(r=ti.get(f))&&Ip(i,r),g=o.createElement("script"),xt(g),rn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function tE(i,r,o,u){var f=(f=we.current)?$h(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Vo(o.href),o=yn(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Vo(o.href);var g=yn(f).hoistableStyles,b=g.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=f.querySelector(Tu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),ti.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ti.set(i,o),g||m2(f,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Mo(o),o=yn(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Vo(i){return'href="'+Vt(i)+'"'}function Tu(i){return'link[rel="stylesheet"]['+i+"]"}function nE(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function m2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),rn(r,"link",o),xt(r),i.head.appendChild(r))}function Mo(i){return'[src="'+Vt(i)+'"]'}function Eu(i){return"script[async]"+i}function iE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Vt(o.href)+'"]');if(u)return r.instance=u,xt(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),xt(u),rn(u,"style",f),Yh(u,o.precedence,i),r.instance=u;case"stylesheet":f=Vo(o.href);var g=i.querySelector(Tu(f));if(g)return r.state.loading|=4,r.instance=g,xt(g),g;u=nE(o),(f=ti.get(f))&&Np(u,f),g=(i.ownerDocument||i).createElement("link"),xt(g);var b=g;return b._p=new Promise(function(w,k){b.onload=w,b.onerror=k}),rn(g,"link",u),r.state.loading|=4,Yh(g,o.precedence,i),r.instance=g;case"script":return g=Mo(o.src),(f=i.querySelector(Eu(g)))?(r.instance=f,xt(f),f):(u=o,(f=ti.get(g))&&(u=y({},o),Ip(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),xt(f),rn(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Yh(u,o.precedence,i));return r.instance}function Yh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===r)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Np(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Ip(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Qh=null;function sE(i,r,o){if(Qh===null){var u=new Map,f=Qh=new Map;f.set(o,u)}else f=Qh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[qr]||g[zt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var w=u.get(b);w?w.push(g):u.set(b,[g])}}return u}function rE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function p2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function aE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var bu=null;function g2(){}function y2(i,r,o){if(bu===null)throw Error(s(475));var u=bu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Vo(o.href),g=i.querySelector(Tu(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Xh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,xt(g);return}g=i.ownerDocument||i,o=nE(o),(f=ti.get(f))&&Np(o,f),g=g.createElement("link"),xt(g);var b=g;b._p=new Promise(function(w,k){b.onload=w,b.onerror=k}),rn(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Xh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function v2(){if(bu===null)throw Error(s(475));var i=bu;return i.stylesheets&&i.count===0&&Dp(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Dp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Xh(){if(this.count--,this.count===0){if(this.stylesheets)Dp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wh=null;function Dp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wh=new Map,r.forEach(_2,i),Wh=null,Xh.call(i))}function _2(i,r){if(!(r.state.loading&4)){var o=Wh.get(i);if(o)var u=o.get(null);else{o=new Map,Wh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=r.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,f),o.set(b,f),this.count++,u=Xh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var xu={$$typeof:K,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function T2(i,r,o,u,f,g,b,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function oE(i,r,o,u,f,g,b,w,k,G,te,re){return i=new T2(i,r,o,b,w,k,G,re),r=1,g===!0&&(r|=24),g=Mn(3,null,null,r),i.current=g,g.stateNode=i,r=fm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},gm(g),i}function lE(i){return i?(i=uo,i):uo}function uE(i,r,o,u,f,g){f=lE(f),u.context===null?u.context=f:u.pendingContext=f,u=Hs(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Gs(i,u,r),o!==null&&(Ln(o,i,r),Jl(o,i,r))}function cE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Vp(i,r){cE(i,r),(i=i.alternate)&&cE(i,r)}function hE(i){if(i.tag===13){var r=lo(i,67108864);r!==null&&Ln(r,i,67108864),Vp(i,67108864)}}var Zh=!0;function E2(i,r,o,u){var f=Q.T;Q.T=null;var g=ie.p;try{ie.p=2,Mp(i,r,o,u)}finally{ie.p=g,Q.T=f}}function b2(i,r,o,u){var f=Q.T;Q.T=null;var g=ie.p;try{ie.p=8,Mp(i,r,o,u)}finally{ie.p=g,Q.T=f}}function Mp(i,r,o,u){if(Zh){var f=Pp(u);if(f===null)Tp(i,r,u,Jh,o),dE(i,u);else if(w2(f,i,r,o,u))u.stopPropagation();else if(dE(i,u),r&4&&-1<x2.indexOf(i)){for(;f!==null;){var g=Ei(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=li(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var k=1<<31-cn(b);w.entanglements[1]|=k,b&=~k}ki(g),(et&6)===0&&(Oh=Fn()+500,gu(0))}}break;case 13:w=lo(g,2),w!==null&&Ln(w,g,2),Lh(),Vp(g,2)}if(g=Pp(u),g===null&&Tp(i,r,u,Jh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Tp(i,r,u,null,o)}}function Pp(i){return i=Kn(i),kp(i)}var Jh=null;function kp(i){if(Jh=null,i=Ji(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Jh=i,null}function fE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ld()){case El:return 2;case za:return 8;case jr:case Ud:return 32;case qa:return 268435456;default:return 32}default:return 32}}var Op=!1,sr=null,rr=null,ar=null,wu=new Map,Su=new Map,or=[],x2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dE(i,r){switch(i){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":wu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(r.pointerId)}}function Au(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Ei(r),r!==null&&hE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function w2(i,r,o,u,f){switch(r){case"focusin":return sr=Au(sr,i,r,o,u,f),!0;case"dragenter":return rr=Au(rr,i,r,o,u,f),!0;case"mouseover":return ar=Au(ar,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return wu.set(g,Au(wu.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Su.set(g,Au(Su.get(g)||null,i,r,o,u,f)),!0}return!1}function mE(i){var r=Ji(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Lc(i.priority,function(){if(o.tag===13){var u=jn();u=ks(u);var f=lo(o,u);f!==null&&Ln(f,o,u),Vp(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ef(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Pp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);is=u,o.target.dispatchEvent(u),is=null}else return r=Ei(o),r!==null&&hE(r),i.blockedOn=o,!1;r.shift()}return!0}function pE(i,r,o){ef(i)&&o.delete(r)}function S2(){Op=!1,sr!==null&&ef(sr)&&(sr=null),rr!==null&&ef(rr)&&(rr=null),ar!==null&&ef(ar)&&(ar=null),wu.forEach(pE),Su.forEach(pE)}function tf(i,r){i.blockedOn===r&&(i.blockedOn=null,Op||(Op=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,S2)))}var nf=null;function gE(i){nf!==i&&(nf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nf===i&&(nf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(kp(u||o)===null)continue;break}var g=Ei(o);g!==null&&(i.splice(r,3),r-=3,km(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ru(i){function r(k){return tf(k,i)}sr!==null&&tf(sr,i),rr!==null&&tf(rr,i),ar!==null&&tf(ar,i),wu.forEach(r),Su.forEach(r);for(var o=0;o<or.length;o++){var u=or[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<or.length&&(o=or[0],o.blockedOn===null);)mE(o),o.blockedOn===null&&or.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],b=f[Dt]||null;if(typeof g=="function")b||gE(o);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[Dt]||null)w=b.formAction;else if(kp(f)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),gE(o)}}}function jp(i){this._internalRoot=i}sf.prototype.render=jp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=jn();uE(o,u,i,r,null,null)},sf.prototype.unmount=jp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;uE(i.current,2,null,i,null,null),Lh(),r[Hn]=null}};function sf(i){this._internalRoot=i}sf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Os();i={blockedOn:null,target:i,priority:r};for(var o=0;o<or.length&&r!==0&&r<or[o].priority;o++);or.splice(o,0,i),o===0&&mE(i)}};var yE=e.version;if(yE!=="19.1.1")throw Error(s(527,yE,"19.1.1"));ie.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var A2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{_t=rf.inject(A2),Je=rf}catch{}}return Nu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=M_,g=P_,b=k_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=oE(i,1,!1,null,null,o,u,f,g,b,w,null),i[Hn]=r.current,_p(i),new jp(r)},Nu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=M_,b=P_,w=k_,k=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),r=oE(i,1,!0,r,o??null,u,f,g,b,w,k,G),r.context=lE(null),o=r.current,u=jn(),u=ks(u),f=Hs(u),f.callback=null,Gs(o,f,u),o=u,r.current.lanes=o,Zi(r,o),ki(r),i[Hn]=r.current,_p(i),new sf(r)},Nu.version="19.1.1",Nu}var RE;function O2(){if(RE)return Bp.exports;RE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bp.exports=k2(),Bp.exports}var j2=O2();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CE="popstate";function L2(t={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return xg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Xu(a)}return B2(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U2(){return Math.random().toString(36).substring(2,10)}function NE(t,e){return{usr:t.state,key:t.key,idx:e}}function xg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:n,key:e&&e.key||s||U2()}}function Xu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function B2(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function T(){d="POP";let L=y(),U=L==null?null:L-p;p=L,m&&m({action:d,location:P.location,delta:U})}function x(L,U){d="PUSH";let Y=xg(P.location,L,U);p=y()+1;let K=NE(Y,p),Z=P.createHref(Y);try{c.pushState(K,"",Z)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(Z)}l&&m&&m({action:d,location:P.location,delta:1})}function N(L,U){d="REPLACE";let Y=xg(P.location,L,U);p=y();let K=NE(Y,p),Z=P.createHref(Y);c.replaceState(K,"",Z),l&&m&&m({action:d,location:P.location,delta:0})}function j(L){return z2(L)}let P={get action(){return d},get location(){return t(a,c)},listen(L){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(CE,T),m=L,()=>{a.removeEventListener(CE,T),m=null}},createHref(L){return e(a,L)},createURL:j,encodeLocation(L){let U=j(L);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:x,replace:N,go(L){return c.go(L)}};return P}function z2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Xu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function M1(t,e,n="/"){return q2(t,e,n,!1)}function q2(t,e,n,s){let a=typeof e=="string"?al(e):e,l=As(a.pathname||"/",n);if(l==null)return null;let c=P1(t);F2(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=eN(l);d=Z2(c[m],p,s)}return d}function P1(t,e=[],n=[],s="",a=!1){let l=(c,d,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;mt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let T=ws([s,y.relativePath]),x=n.concat(y);c.children&&c.children.length>0&&(mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),P1(c.children,e,x,T,m)),!(c.path==null&&!c.index)&&e.push({path:T,score:X2(T,c.index),routesMeta:x})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of k1(c.path))l(c,d,!0,m)}),e}function k1(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=k1(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function F2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:W2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var H2=/^:[\w-]+$/,G2=3,K2=2,$2=1,Y2=10,Q2=-2,IE=t=>t==="*";function X2(t,e){let n=t.split("/"),s=n.length;return n.some(IE)&&(s+=Q2),e&&(s+=K2),n.filter(a=>!IE(a)).reduce((a,l)=>a+(H2.test(l)?G2:l===""?$2:Y2),s)}function W2(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function Z2(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",T=Uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),x=m.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=Uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:ws([l,T.pathname]),pathnameBase:sN(ws([l,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(l=ws([l,T.pathnameBase]))}return c}function Uf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=J2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:T},x)=>{if(y==="*"){let j=d[x]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const N=d[x];return T&&!N?p[y]=void 0:p[y]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function J2(t,e=!1,n=!0){gi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function eN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function As(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function tN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?al(t):t;return{pathname:n?n.startsWith("/")?n:nN(n,e):e,search:rN(s),hash:aN(a)}}function nN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Hp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function by(t){let e=iN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function xy(t,e,n,s=!1){let a;typeof t=="string"?a=al(t):(a={...t},mt(!a.pathname||!a.pathname.includes("?"),Hp("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),Hp("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),Hp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),T-=1;a.pathname=x.join("/")}d=T>=0?e[T]:"/"}let m=tN(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var ws=t=>t.join("/").replace(/\/\/+/g,"/"),sN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var O1=["POST","PUT","PATCH","DELETE"];new Set(O1);var lN=["GET",...O1];new Set(lN);var ol=I.createContext(null);ol.displayName="DataRouter";var fd=I.createContext(null);fd.displayName="DataRouterState";I.createContext(!1);var j1=I.createContext({isTransitioning:!1});j1.displayName="ViewTransition";var uN=I.createContext(new Map);uN.displayName="Fetchers";var cN=I.createContext(null);cN.displayName="Await";var _i=I.createContext(null);_i.displayName="Navigation";var pc=I.createContext(null);pc.displayName="Location";var Qi=I.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var wy=I.createContext(null);wy.displayName="RouteError";function hN(t,{relative:e}={}){mt(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(_i),{hash:a,pathname:l,search:c}=yc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ws([n,l])),s.createHref({pathname:d,search:c,hash:a})}function ll(){return I.useContext(pc)!=null}function Ms(){return mt(ll(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(pc).location}var L1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U1(t){I.useContext(_i).static||I.useLayoutEffect(t)}function gc(){let{isDataRoute:t}=I.useContext(Qi);return t?wN():fN()}function fN(){mt(ll(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(ol),{basename:e,navigator:n}=I.useContext(_i),{matches:s}=I.useContext(Qi),{pathname:a}=Ms(),l=JSON.stringify(by(s)),c=I.useRef(!1);return U1(()=>{c.current=!0}),I.useCallback((m,p={})=>{if(gi(c.current,L1),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=xy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ws([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}I.createContext(null);function yc(t,{relative:e}={}){let{matches:n}=I.useContext(Qi),{pathname:s}=Ms(),a=JSON.stringify(by(n));return I.useMemo(()=>xy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function dN(t,e){return B1(t,e)}function B1(t,e,n,s){mt(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=I.useContext(_i),{matches:l}=I.useContext(Qi),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let U=y&&y.path||"";z1(m,!y||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=Ms(),x;if(e){let U=typeof e=="string"?al(e):e;mt(p==="/"||U.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),x=U}else x=T;let N=x.pathname||"/",j=N;if(p!=="/"){let U=p.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(U.length).join("/")}let P=M1(t,{pathname:j});gi(y||P!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),gi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=vN(P&&P.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:ws([p,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:ws([p,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,n,s);return e&&L?I.createElement(pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},L):L}function mN(){let t=xN(),e=oN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,c)}var pN=I.createElement(mN,null),gN=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(Qi.Provider,{value:this.props.routeContext},I.createElement(wy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yN({routeContext:t,match:e,children:n}){let s=I.useContext(ol);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Qi.Provider,{value:t},n)}function vN(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);mt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:T}=n,x=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let T,x=!1,N=null,j=null;n&&(T=l&&p.route.id?l[p.route.id]:void 0,N=p.route.errorElement||pN,c&&(d<0&&y===0?(z1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,j=null):d===y&&(x=!0,j=p.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,y+1)),L=()=>{let U;return T?U=N:x?U=j:p.route.Component?U=I.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=m,I.createElement(yN,{match:p,routeContext:{outlet:m,matches:P,isDataRoute:n!=null},children:U})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?I.createElement(gN,{location:n.location,revalidation:n.revalidation,component:N,error:T,children:L(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):L()},null)}function Sy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _N(t){let e=I.useContext(ol);return mt(e,Sy(t)),e}function TN(t){let e=I.useContext(fd);return mt(e,Sy(t)),e}function EN(t){let e=I.useContext(Qi);return mt(e,Sy(t)),e}function Ay(t){let e=EN(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function bN(){return Ay("useRouteId")}function xN(){let t=I.useContext(wy),e=TN("useRouteError"),n=Ay("useRouteError");return t!==void 0?t:e.errors?.[n]}function wN(){let{router:t}=_N("useNavigate"),e=Ay("useNavigate"),n=I.useRef(!1);return U1(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{gi(n.current,L1),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var DE={};function z1(t,e,n){!e&&!DE[t]&&(DE[t]=!0,gi(!1,n))}I.memo(SN);function SN({routes:t,future:e,state:n}){return B1(t,void 0,n,e)}function Tf({to:t,replace:e,state:n,relative:s}){mt(ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(_i);gi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(Qi),{pathname:c}=Ms(),d=gc(),m=xy(t,by(l),c,s==="path"),p=JSON.stringify(m);return I.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:s})},[d,p,s,e,n]),null}function cr(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){mt(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=al(n));let{pathname:m="/",search:p="",hash:y="",state:T=null,key:x="default"}=n,N=I.useMemo(()=>{let j=As(m,c);return j==null?null:{location:{pathname:j,search:p,hash:y,state:T,key:x},navigationType:s}},[c,m,p,y,T,x,s]);return gi(N!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:I.createElement(_i.Provider,{value:d},I.createElement(pc.Provider,{children:e,value:N}))}function RN({children:t,location:e}){return dN(wg(t),e)}function wg(t,e=[]){let n=[];return I.Children.forEach(t,(s,a)=>{if(!I.isValidElement(s))return;let l=[...e,a];if(s.type===I.Fragment){n.push.apply(n,wg(s.props.children,l));return}mt(s.type===cr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=wg(s.props.children,l)),n.push(c)}),n}var Ef="get",bf="application/x-www-form-urlencoded";function dd(t){return t!=null&&typeof t.tagName=="string"}function CN(t){return dd(t)&&t.tagName.toLowerCase()==="button"}function NN(t){return dd(t)&&t.tagName.toLowerCase()==="form"}function IN(t){return dd(t)&&t.tagName.toLowerCase()==="input"}function DN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VN(t,e){return t.button===0&&(!e||e==="_self")&&!DN(t)}var af=null;function MN(){if(af===null)try{new FormData(document.createElement("form"),0),af=!1}catch{af=!0}return af}var PN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gp(t){return t!=null&&!PN.has(t)?(gi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bf}"`),null):t}function kN(t,e){let n,s,a,l,c;if(NN(t)){let d=t.getAttribute("action");s=d?As(d,e):null,n=t.getAttribute("method")||Ef,a=Gp(t.getAttribute("enctype"))||bf,l=new FormData(t)}else if(CN(t)||IN(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?As(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Ef,a=Gp(t.getAttribute("formenctype"))||Gp(d.getAttribute("enctype"))||bf,l=new FormData(d,t),!MN()){let{name:p,type:y,value:T}=t;if(y==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,T)}}else{if(dd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ef,s=null,a=bf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ry(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ON(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&As(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function jN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function UN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await jN(l,n);return c.links?c.links():[]}return[]}));return FN(s.flat(1).filter(LN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function VE(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function BN(t,e,{includeHydrateFallback:n}={}){return zN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function zN(t){return[...new Set(t)]}function qN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function FN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(qN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function q1(){let t=I.useContext(ol);return Ry(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function HN(){let t=I.useContext(fd);return Ry(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cy=I.createContext(void 0);Cy.displayName="FrameworkContext";function F1(){let t=I.useContext(Cy);return Ry(t,"You must render this element inside a <HydratedRouter> element"),t}function GN(t,e){let n=I.useContext(Cy),[s,a]=I.useState(!1),[l,c]=I.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:T}=e,x=I.useRef(null);I.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=U=>{U.forEach(Y=>{c(Y.isIntersecting)})},L=new IntersectionObserver(P,{threshold:.5});return x.current&&L.observe(x.current),()=>{L.disconnect()}}},[t]),I.useEffect(()=>{if(s){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[s]);let N=()=>{a(!0)},j=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Iu(d,N),onBlur:Iu(m,j),onMouseEnter:Iu(p,N),onMouseLeave:Iu(y,j),onTouchStart:Iu(T,N)}]:[!1,x,{}]}function Iu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function KN({page:t,...e}){let{router:n}=q1(),s=I.useMemo(()=>M1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?I.createElement(YN,{page:t,matches:s,...e}):null}function $N(t){let{manifest:e,routeModules:n}=F1(),[s,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return UN(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function YN({page:t,matches:e,...n}){let s=Ms(),{manifest:a,routeModules:l}=F1(),{basename:c}=q1(),{loaderData:d,matches:m}=HN(),p=I.useMemo(()=>VE(t,e,m,a,s,"data"),[t,e,m,a,s]),y=I.useMemo(()=>VE(t,e,m,a,s,"assets"),[t,e,m,a,s]),T=I.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,P=!1;if(e.forEach(U=>{let Y=a.routes[U.route.id];!Y||!Y.hasLoader||(!p.some(K=>K.route.id===U.route.id)&&U.route.id in d&&l[U.route.id]?.shouldRevalidate||Y.hasClientLoader?P=!0:j.add(U.route.id))}),j.size===0)return[];let L=ON(t,c,"data");return P&&j.size>0&&L.searchParams.set("_routes",e.filter(U=>j.has(U.route.id)).map(U=>U.route.id).join(",")),[L.pathname+L.search]},[c,d,s,a,p,e,t,l]),x=I.useMemo(()=>BN(y,a),[y,a]),N=$N(y);return I.createElement(I.Fragment,null,T.map(j=>I.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),x.map(j=>I.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),N.map(({key:j,link:P})=>I.createElement("link",{key:j,nonce:n.nonce,...P})))}function QN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var H1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H1&&(window.__reactRouterVersion="7.8.1")}catch{}function XN({basename:t,children:e,window:n}){let s=I.useRef();s.current==null&&(s.current=L2({window:n,v5Compat:!0}));let a=s.current,[l,c]=I.useState({action:a.action,location:a.location}),d=I.useCallback(m=>{I.startTransition(()=>c(m))},[c]);return I.useLayoutEffect(()=>a.listen(d),[a,d]),I.createElement(AN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var G1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bf=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:T,...x},N){let{basename:j}=I.useContext(_i),P=typeof p=="string"&&G1.test(p),L,U=!1;if(typeof p=="string"&&P&&(L=p,H1))try{let R=new URL(window.location.href),D=p.startsWith("//")?new URL(R.protocol+p):new URL(p),O=As(D.pathname,j);D.origin===R.origin&&O!=null?p=O+D.search+D.hash:U=!0}catch{gi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=hN(p,{relative:a}),[K,Z,W]=GN(s,x),oe=eI(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:T});function M(R){e&&e(R),R.defaultPrevented||oe(R)}let S=I.createElement("a",{...x,...W,href:L||Y,onClick:U||l?e:M,ref:QN(N,Z),target:m,"data-discover":!P&&n==="render"?"true":void 0});return K&&!P?I.createElement(I.Fragment,null,S,I.createElement(KN,{page:Y})):S});Bf.displayName="Link";var WN=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let T=yc(c,{relative:p.relative}),x=Ms(),N=I.useContext(fd),{navigator:j,basename:P}=I.useContext(_i),L=N!=null&&rI(T)&&d===!0,U=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,Y=x.pathname,K=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),K=K?K.toLowerCase():null,U=U.toLowerCase()),K&&P&&(K=As(K,P)||K);const Z=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let W=Y===U||!a&&Y.startsWith(U)&&Y.charAt(Z)==="/",oe=K!=null&&(K===U||!a&&K.startsWith(U)&&K.charAt(U.length)==="/"),M={isActive:W,isPending:oe,isTransitioning:L},S=W?e:void 0,R;typeof s=="function"?R=s(M):R=[s,W?"active":null,oe?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(M):l;return I.createElement(Bf,{...p,"aria-current":S,className:R,ref:y,style:D,to:c,viewTransition:d},typeof m=="function"?m(M):m)});WN.displayName="NavLink";var ZN=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Ef,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:T,...x},N)=>{let j=iI(),P=sI(d,{relative:p}),L=c.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&G1.test(d),Y=K=>{if(m&&m(K),K.defaultPrevented)return;K.preventDefault();let Z=K.nativeEvent.submitter,W=Z?.getAttribute("formmethod")||c;j(Z||K.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:T})};return I.createElement("form",{ref:N,method:L,action:P,onSubmit:s?m:Y,...x,"data-discover":!U&&t==="render"?"true":void 0})});ZN.displayName="Form";function JN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K1(t){let e=I.useContext(ol);return mt(e,JN(t)),e}function eI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=gc(),m=Ms(),p=yc(t,{relative:l});return I.useCallback(y=>{if(VN(y,e)){y.preventDefault();let T=n!==void 0?n:Xu(m)===Xu(p);d(t,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,s,e,t,a,l,c])}var tI=0,nI=()=>`__${String(++tI)}__`;function iI(){let{router:t}=K1("useSubmit"),{basename:e}=I.useContext(_i),n=bN();return I.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=kN(s,e);if(a.navigate===!1){let y=a.fetcherKey||nI();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function sI(t,{relative:e}={}){let{basename:n}=I.useContext(_i),s=I.useContext(Qi);mt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...yc(t||".",{relative:e})},c=Ms();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ws([n,l.pathname])),Xu(l)}function rI(t,{relative:e}={}){let n=I.useContext(j1);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=K1("useViewTransitionState"),a=yc(t,{relative:e});if(!n.isTransitioning)return!1;let l=As(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=As(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uf(a.pathname,c)!=null||Uf(a.pathname,l)!=null}const aI=()=>{};var ME={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},oI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,T=(l&3)<<4|d>>4;let x=(d&15)<<2|p>>6,N=p&63;m||(N=64,c||(x=64)),s.push(n[y],n[T],n[x],n[N])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new lI;const x=l<<2|d>>4;if(s.push(x),p!==64){const N=d<<4&240|p>>2;if(s.push(N),T!==64){const j=p<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uI=function(t){const e=$1(t);return Y1.encodeByteArray(e,!0)},Q1=function(t){return uI(t).replace(/\./g,"")},X1=function(t){try{return Y1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=()=>cI().__FIREBASE_DEFAULTS__,fI=()=>{if(typeof process>"u"||typeof ME>"u")return;const t=ME.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&X1(t[1]);return e&&JSON.parse(e)},md=()=>{try{return aI()||hI()||fI()||dI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mI=t=>md()?.emulatorHosts?.[t],W1=()=>md()?.config,Z1=t=>md()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function J1(t){return(await fetch(t,{credentials:"include"})).ok}const Uu={};function gI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Uu))Uu[e]?t.emulator.push(e):t.prod.push(e);return t}function yI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let PE=!1;function vI(t,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||Uu[t]===e||Uu[t]||PE)return;Uu[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=gI().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{PE=!0,c()},x}function y(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=yI(s),N=n("text"),j=document.getElementById(N)||document.createElement("span"),P=n("learnmore"),L=document.getElementById(P)||document.createElement("a"),U=n("preprendIcon"),Y=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const K=x.element;d(K),y(L,P);const Z=p();m(Y,U),K.append(Y,j,L,Z),document.body.appendChild(K)}l?(j.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function TI(){const t=md()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wI(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SI(){return!TI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AI(){try{return typeof indexedDB=="object"}catch{return!1}}function RI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="FirebaseError";class Ps extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=CI,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?NI(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ps(a,d,s)}}function NI(t,e){return t.replace(II,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const II=/\{\$([^}]+)}/g;function DI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ca(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(kE(l)&&kE(c)){if(!Ca(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function kE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Vu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Mu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VI(t,e){const n=new MI(t,e);return n.subscribe.bind(n)}class MI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");PI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Kp),a.error===void 0&&(a.error=Kp),a.complete===void 0&&(a.complete=Kp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class Na{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new pI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jI(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OI(t){return t===va?void 0:t}function jI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const UI={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},BI=ze.INFO,zI={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},qI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=zI[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ny{constructor(e){this.name=e,this._logLevel=BI,this._logHandler=qI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const FI=(t,e)=>e.some(n=>t instanceof n);let OE,jE;function HI(){return OE||(OE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GI(){return jE||(jE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ew=new WeakMap,Sg=new WeakMap,tw=new WeakMap,$p=new WeakMap,Iy=new WeakMap;function KI(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(_r(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&ew.set(n,t)}).catch(()=>{}),Iy.set(e,t),e}function $I(t){if(Sg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Sg.set(t,e)}let Ag={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YI(t){Ag=t(Ag)}function QI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Yp(this),e,...n);return tw.set(s,e.sort?e.sort():[e]),_r(s)}:GI().includes(t)?function(...e){return t.apply(Yp(this),e),_r(ew.get(this))}:function(...e){return _r(t.apply(Yp(this),e))}}function XI(t){return typeof t=="function"?QI(t):(t instanceof IDBTransaction&&$I(t),FI(t,HI())?new Proxy(t,Ag):t)}function _r(t){if(t instanceof IDBRequest)return KI(t);if($p.has(t))return $p.get(t);const e=XI(t);return e!==t&&($p.set(t,e),Iy.set(e,t)),e}const Yp=t=>Iy.get(t);function WI(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=_r(c);return s&&c.addEventListener("upgradeneeded",m=>{s(_r(c.result),m.oldVersion,m.newVersion,_r(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const ZI=["get","getKey","getAll","getAllKeys","count"],JI=["put","add","delete","clear"],Qp=new Map;function LE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=JI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||ZI.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Qp.set(e,l),l}YI(t=>({...t,get:(e,n,s)=>LE(e,n)||t.get(e,n,s),has:(e,n)=>!!LE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tD(t){return t.getComponent()?.type==="VERSION"}const Rg="@firebase/app",UE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Ny("@firebase/app"),nD="@firebase/app-compat",iD="@firebase/analytics-compat",sD="@firebase/analytics",rD="@firebase/app-check-compat",aD="@firebase/app-check",oD="@firebase/auth",lD="@firebase/auth-compat",uD="@firebase/database",cD="@firebase/data-connect",hD="@firebase/database-compat",fD="@firebase/functions",dD="@firebase/functions-compat",mD="@firebase/installations",pD="@firebase/installations-compat",gD="@firebase/messaging",yD="@firebase/messaging-compat",vD="@firebase/performance",_D="@firebase/performance-compat",TD="@firebase/remote-config",ED="@firebase/remote-config-compat",bD="@firebase/storage",xD="@firebase/storage-compat",wD="@firebase/firestore",SD="@firebase/ai",AD="@firebase/firestore-compat",RD="firebase",CD="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="[DEFAULT]",ND={[Rg]:"fire-core",[nD]:"fire-core-compat",[sD]:"fire-analytics",[iD]:"fire-analytics-compat",[aD]:"fire-app-check",[rD]:"fire-app-check-compat",[oD]:"fire-auth",[lD]:"fire-auth-compat",[uD]:"fire-rtdb",[cD]:"fire-data-connect",[hD]:"fire-rtdb-compat",[fD]:"fire-fn",[dD]:"fire-fn-compat",[mD]:"fire-iid",[pD]:"fire-iid-compat",[gD]:"fire-fcm",[yD]:"fire-fcm-compat",[vD]:"fire-perf",[_D]:"fire-perf-compat",[TD]:"fire-rc",[ED]:"fire-rc-compat",[bD]:"fire-gcs",[xD]:"fire-gcs-compat",[wD]:"fire-fst",[AD]:"fire-fst-compat",[SD]:"fire-vertex","fire-js":"fire-js",[RD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Map,ID=new Map,Ng=new Map;function BE(t,e){try{t.container.addComponent(e)}catch(n){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wo(t){const e=t.name;if(Ng.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;Ng.set(e,t);for(const n of zf.values())BE(n,t);for(const n of ID.values())BE(n,t);return!0}function Dy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new vc("app","Firebase",DD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=CD;function Vy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Cg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Tr.create("bad-app-name",{appName:String(a)});if(n||(n=W1()),!n)throw Tr.create("no-options");const l=zf.get(a);if(l){if(Ca(n,l.options)&&Ca(s,l.config))return l;throw Tr.create("duplicate-app",{appName:a})}const c=new LI(a);for(const m of Ng.values())c.addComponent(m);const d=new VD(n,s,c);return zf.set(a,d),d}function MD(t=Cg){const e=zf.get(t);if(!e&&t===Cg&&W1())return Vy();if(!e)throw Tr.create("no-app",{appName:t});return e}function Er(t,e,n){let s=ND[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(c.join(" "));return}Wo(new Na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="firebase-heartbeat-database",kD=1,Wu="firebase-heartbeat-store";let Xp=null;function nw(){return Xp||(Xp=WI(PD,kD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),Xp}async function OD(t){try{const n=(await nw()).transaction(Wu),s=await n.objectStore(Wu).get(iw(t));return await n.done,s}catch(e){if(e instanceof Ps)Rs.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e?.message});Rs.warn(n.message)}}}async function zE(t,e){try{const s=(await nw()).transaction(Wu,"readwrite");await s.objectStore(Wu).put(e,iw(t)),await s.done}catch(n){if(n instanceof Ps)Rs.warn(n.message);else{const s=Tr.create("idb-set",{originalErrorMessage:n?.message});Rs.warn(s.message)}}}function iw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=1024,LD=30;class UD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>LD){const a=qD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qE(),{heartbeatsToSend:n,unsentEntries:s}=BD(this._heartbeatsCache.heartbeats),a=Q1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Rs.warn(e),""}}}function qE(){return new Date().toISOString().substring(0,10)}function BD(t,e=jD){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),FE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),FE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class zD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AI()?RI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return zE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return zE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function FE(t){return Q1(JSON.stringify({version:2,heartbeats:t})).length}function qD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){Wo(new Na("platform-logger",e=>new eD(e),"PRIVATE")),Wo(new Na("heartbeat",e=>new UD(e),"PRIVATE")),Er(Rg,UE,t),Er(Rg,UE,"esm2020"),Er("fire-js","")}FD("");function sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HD=sw,rw=new vc("auth","Firebase",sw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Ny("@firebase/auth");function GD(t,...e){qf.logLevel<=ze.WARN&&qf.warn(`Auth (${cl}): ${t}`,...e)}function xf(t,...e){qf.logLevel<=ze.ERROR&&qf.error(`Auth (${cl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,...e){throw My(t,...e)}function Li(t,...e){return My(t,...e)}function aw(t,e,n){const s={...HD(),[e]:n};return new vc("auth","Firebase",s).create(e,{appName:t.name})}function Ss(t){return aw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function My(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return rw.create(t,...e)}function Re(t,e,...n){if(!t)throw My(e,...n)}function bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xf(e),new Error(e)}function Cs(t,e){t||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(){return typeof self<"u"&&self.location?.href||""}function KD(){return HE()==="http:"||HE()==="https:"}function HE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KD()||bI()||"connection"in navigator)?navigator.onLine:!0}function YD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cs(n>e,"Short delay should be less than long delay!"),this.isMobile=_I()||xI()}get(){return $D()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e){Cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WD=new Tc(3e4,6e4);function Vr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Mr(t,e,n,s,a={}){return lw(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=_c({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return EI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ul(t.emulatorConfig.host)&&(p.credentials="include"),ow.fetch()(await uw(t,t.config.apiHost,n,d),p)})}async function lw(t,e,n){t._canInitEmulator=!1;const s={...QD,...e};try{const a=new JD(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw of(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw of(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw of(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw of(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw aw(t,y,p);yi(t,y)}}catch(a){if(a instanceof Ps)throw a;yi(t,"network-request-failed",{message:String(a)})}}async function Ec(t,e,n,s,a={}){const l=await Mr(t,e,n,s,a);return"mfaPendingCredential"in l&&yi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function uw(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Py(t.config,a):`${t.config.apiScheme}://${a}`;return XD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function ZD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Li(this.auth,"network-request-failed")),WD.get())})}}function of(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Li(t,e,s);return a.customData._tokenResponse=n,a}function GE(t){return t!==void 0&&t.enterprise!==void 0}class eV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tV(t,e){return Mr(t,"GET","/v2/recaptchaConfig",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(t,e){return Mr(t,"POST","/v1/accounts:delete",e)}async function Ff(t,e){return Mr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cw(t,e=!1){const n=Ut(t),s=await n.getIdToken(e),a=ky(s);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Bu(Wp(a.auth_time)),issuedAtTime:Bu(Wp(a.iat)),expirationTime:Bu(Wp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Wp(t){return Number(t)*1e3}function ky(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return xf("JWT malformed, contained fewer than 3 sections"),null;try{const a=X1(n);return a?JSON.parse(a):(xf("Failed to decode base64 JWT payload"),null)}catch(a){return xf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function KE(t){const e=ky(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ps&&iV(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function iV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(t){const e=t.auth,n=await t.getIdToken(),s=await Zu(t,Ff(e,{idToken:n}));Re(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?hw(a.providerUserInfo):[],c=aV(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Dg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function rV(t){const e=Ut(t);await Hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aV(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function hw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(t,e){const n=await lw(t,{},async()=>{const s=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await uw(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&ul(t.emulatorConfig.host)&&(m.credentials="include"),ow.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lV(t,e){return Mr(t,"POST","/v2/accounts:revokeToken",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=KE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await oV(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Go;return s&&(Re(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new sV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cw(this,e)}reload(){return rV(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Hf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Zu(this,nV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:x,isAnonymous:N,providerData:j,stsTokenManager:P}=n;Re(T&&P,e,"internal-error");const L=Go.fromJSON(this.name,P);Re(typeof T=="string",e,"internal-error"),ur(s,e.name),ur(a,e.name),Re(typeof x=="boolean",e,"internal-error"),Re(typeof N=="boolean",e,"internal-error"),ur(l,e.name),ur(c,e.name),ur(d,e.name),ur(m,e.name),ur(p,e.name),ur(y,e.name);const U=new pi({uid:T,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:N,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:p,lastLoginAt:y});return j&&Array.isArray(j)&&(U.providerData=j.map(Y=>({...Y}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,s=!1){const a=new Go;a.updateFromServerResponse(n);const l=new pi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Hf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?hw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Go;d.updateFromIdToken(s);const m=new pi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Dg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;function xs(t){Cs(t instanceof Function,"Expected a class definition");let e=$E.get(t);return e?(Cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$E.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fw.type="NONE";const YE=fw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ko{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=wf(this.userKey,a.apiKey,l),this.fullPersistenceKey=wf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ff(this.auth,{idToken:e}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ko(xs(YE),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||xs(YE);const c=wf(s,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let T;if(typeof y=="string"){const x=await Ff(e,{idToken:y}).catch(()=>{});if(!x)break;T=await pi._fromGetAccountInfoResponse(e,x,y)}else T=pi._fromJSON(e,y);p!==l&&(d=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ko(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Ko(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vw(e))return"Blackberry";if(_w(e))return"Webos";if(mw(e))return"Safari";if((e.includes("chrome/")||pw(e))&&!e.includes("edge/"))return"Chrome";if(yw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function dw(t=gn()){return/firefox\//i.test(t)}function mw(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pw(t=gn()){return/crios\//i.test(t)}function gw(t=gn()){return/iemobile/i.test(t)}function yw(t=gn()){return/android/i.test(t)}function vw(t=gn()){return/blackberry/i.test(t)}function _w(t=gn()){return/webos/i.test(t)}function Oy(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uV(t=gn()){return Oy(t)&&!!window.navigator?.standalone}function cV(){return wI()&&document.documentMode===10}function Tw(t=gn()){return Oy(t)||yw(t)||_w(t)||vw(t)||/windows phone/i.test(t)||gw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t,e=[]){let n;switch(t){case"Browser":n=QE(gn());break;case"Worker":n=`${QE(gn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(t,e={}){return Mr(t,"GET","/v2/passwordPolicy",Vr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=6;class mV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XE(this),this.idTokenSubscription=new XE(this),this.beforeStateQueue=new hV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ff(this,{idToken:e}),s=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Ss(this));const n=e?Ut(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fV(this),n=new mV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await lV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xs(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ew(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ja(t){return Ut(t)}class XE{constructor(e){this.auth=e,this.observer=null,this.addObserver=VI(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gV(t){pd=t}function bw(t){return pd.loadJS(t)}function yV(){return pd.recaptchaEnterpriseScript}function vV(){return pd.gapiScript}function _V(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class TV{constructor(){this.enterprise=new EV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class EV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bV="recaptcha-enterprise",xw="NO_RECAPTCHA";class xV{constructor(e){this.type=bV,this.auth=ja(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{tV(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new eV(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;GE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(xw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&GE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=yV();m.length!==0&&(m+=d),bw(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function WE(t,e,n,s=!1,a=!1){const l=new xV(t);let c;if(a)c=xw;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Vg(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await WE(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await WE(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t,e){const n=Dy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ca(l,e??{}))return a;yi(a,"already-initialized")}return n.initialize({options:e})}function SV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(xs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function AV(t,e,n){const s=ja(t);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=ww(e),{host:c,port:d}=RV(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(Ca(p,s.config.emulator)&&Ca(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,ul(c)?(J1(`${l}//${c}${m}`),vI("Auth",!0)):CV()}function ww(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RV(t){const e=ww(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:ZE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:ZE(c)}}}function ZE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,n){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function NV(t,e){return Mr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e){return Ec(t,"POST","/v1/accounts:signInWithPassword",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}async function VV(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends jy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ju(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ju(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vg(e,n,"signInWithPassword",IV);case"emailLink":return DV(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vg(e,s,"signUpPassword",NV);case"emailLink":return VV(e,{idToken:n,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t,e){return Ec(t,"POST","/v1/accounts:signInWithIdp",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="http://localhost";class Ia extends jy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ia(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return $o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,$o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$o(e,n)}buildRequest(){const e={requestUri:MV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kV(t){const e=Vu(Mu(t)).link,n=e?Vu(Mu(e)).deep_link_id:null,s=Vu(Mu(t)).deep_link_id;return(s?Vu(Mu(s)).link:null)||s||n||e||t}class Ly{constructor(e){const n=Vu(Mu(e)),s=n.apiKey??null,a=n.oobCode??null,l=PV(n.mode??null);Re(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=kV(e);try{return new Ly(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.providerId=hl.PROVIDER_ID}static credential(e,n){return Ju._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ly.parseLink(n);return Re(s,"argument-error"),Ju._fromEmailAndCode(e,s.code,s.tenantId)}}hl.PROVIDER_ID="password";hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Sw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends bc{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return dr.credential(n,s)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends bc{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends bc{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return pr.credential(n,s)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t,e){return Ec(t,"POST","/v1/accounts:signUp",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await pi._fromIdTokenResponse(e,s,a),c=JE(s);return new Da({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=JE(s);return new Da({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function JE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends Ps{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Gf(e,n,s,a)}}function Aw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(t,l,e,s):l})}async function jV(t,e,n=!1){const s=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Da._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t,e,n=!1){const{auth:s}=t;if(si(s.app))return Promise.reject(Ss(s));const a="reauthenticate";try{const l=await Zu(t,Aw(s,a,e,t),n);Re(l.idToken,s,"internal-error");const c=ky(l.idToken);Re(c,s,"internal-error");const{sub:d}=c;return Re(t.uid===d,s,"user-mismatch"),Da._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&yi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(t,e,n=!1){if(si(t.app))return Promise.reject(Ss(t));const s="signIn",a=await Aw(t,s,e),l=await Da._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function UV(t,e){return Rw(ja(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(t){const e=ja(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BV(t,e,n){if(si(t.app))return Promise.reject(Ss(t));const s=ja(t),c=await Vg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OV).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Cw(t),m}),d=await Da._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function zV(t,e,n){return si(t.app)?Promise.reject(Ss(t)):UV(Ut(t),hl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Cw(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t,e){return Ut(t).setPersistence(e)}function FV(t,e,n,s){return Ut(t).onIdTokenChanged(e,n,s)}function HV(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function GV(t,e,n,s){return Ut(t).onAuthStateChanged(e,n,s)}function KV(t){return Ut(t).signOut()}const Kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=1e3,YV=10;class Iw extends Nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);cV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,YV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},$V)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Iw.type="LOCAL";const Dw=Iw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw extends Nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Vw.type="SESSION";const Uy=Vw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new gd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await QV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=By("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const x=T;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function WV(t){Ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function ZV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JV(){return navigator?.serviceWorker?.controller||null}function eM(){return Mw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="firebaseLocalStorageDb",tM=1,$f="firebaseLocalStorage",kw="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yd(t,e){return t.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function nM(){const t=indexedDB.deleteDatabase(Pw);return new xc(t).toPromise()}function Mg(){const t=indexedDB.open(Pw,tM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore($f,{keyPath:kw})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains($f)?e(s):(s.close(),await nM(),e(await Mg()))})})}async function eb(t,e,n){const s=yd(t,!0).put({[kw]:e,value:n});return new xc(s).toPromise()}async function iM(t,e){const n=yd(t,!1).get(e),s=await new xc(n).toPromise();return s===void 0?null:s.value}function tb(t,e){const n=yd(t,!0).delete(e);return new xc(n).toPromise()}const sM=800,rM=3;class Ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>rM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(eM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZV(),!this.activeServiceWorker)return;this.sender=new XV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mg();return await eb(e,Kf,"1"),await tb(e,Kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>eb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>iM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=yd(a,!1).getAll();return new xc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ow.type="LOCAL";const aM=Ow;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t,e){return e?xs(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy extends jy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lM(t){return Rw(t.auth,new zy(t),t.bypassAuthState)}function uM(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),LV(n,new zy(t),t.bypassAuthState)}async function cM(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),jV(n,new zy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lM;case"linkViaPopup":case"linkViaRedirect":return cM;case"reauthViaPopup":case"reauthViaRedirect":return uM;default:yi(this.auth,"internal-error")}}resolve(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new Tc(2e3,1e4);class Uo extends jw{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const e=By();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hM.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="pendingRedirect",Sf=new Map;class dM extends jw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Sf.get(this.auth._key());if(!e){try{const s=await mM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Sf.set(this.auth._key(),e)}return this.bypassAuthState||Sf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mM(t,e){const n=yM(e),s=gM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function pM(t,e){Sf.set(t._key(),e)}function gM(t){return xs(t._redirectPersistence)}function yM(t){return wf(fM,t.config.apiKey,t.name)}async function vM(t,e,n=!1){if(si(t.app))return Promise.reject(Ss(t));const s=ja(t),a=oM(s,e),c=await new dM(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=600*1e3;class TM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Lw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Li(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_M&&this.cachedEventUids.clear(),this.cachedEventUids.has(nb(e))}saveEventToCache(e){this.cachedEventUids.add(nb(e)),this.lastProcessedEventTime=Date.now()}}function nb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Lw({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function EM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e={}){return Mr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wM=/^https?/;async function SM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bM(t);for(const n of e)try{if(AM(n))return}catch{}yi(t,"unauthorized-domain")}function AM(t){const e=Ig(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!wM.test(n))return!1;if(xM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=new Tc(3e4,6e4);function ib(){const t=Ui().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CM(t){return new Promise((e,n)=>{function s(){ib(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ib(),n(Li(t,"network-request-failed"))},timeout:RM.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)s();else{const a=_V("iframefcb");return Ui()[a]=()=>{gapi.load?s():n(Li(t,"network-request-failed"))},bw(`${vV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Af=null,e})}let Af=null;function NM(t){return Af=Af||CM(t),Af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new Tc(5e3,15e3),DM="__/auth/iframe",VM="emulator/auth/iframe",MM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kM(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Py(e,VM):`https://${t.config.authDomain}/${DM}`,s={apiKey:e.apiKey,appName:t.name,v:cl},a=PM.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${_c(s).slice(1)}`}async function OM(t){const e=await NM(t),n=Ui().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:kM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Li(t,"network-request-failed"),d=Ui().setTimeout(()=>{l(c)},IM.get());function m(){Ui().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LM=500,UM=600,BM="_blank",zM="http://localhost";class sb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qM(t,e,n,s=LM,a=UM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...jM,width:s.toString(),height:a.toString(),top:l,left:c},p=gn().toLowerCase();n&&(d=pw(p)?BM:n),dw(p)&&(e=e||zM,m.scrollbars="yes");const y=Object.entries(m).reduce((x,[N,j])=>`${x}${N}=${j},`,"");if(uV(p)&&d!=="_self")return FM(e||"",d),new sb(null);const T=window.open(e||"",d,y);Re(T,t,"popup-blocked");try{T.focus()}catch{}return new sb(T)}function FM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="__/auth/handler",GM="emulator/auth/handler",KM=encodeURIComponent("fac");async function rb(t,e,n,s,a,l){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:cl,eventId:a};if(e instanceof Sw){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",DI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(e instanceof bc){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),p=m?`#${KM}=${encodeURIComponent(m)}`:"";return`${$M(t)}?${_c(d).slice(1)}${p}`}function $M({config:t}){return t.emulator?Py(t,GM):`https://${t.authDomain}/${HM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="webStorageSupport";class YM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uy,this._completeRedirectFn=vM,this._overrideRedirectResult=pM}async _openPopup(e,n,s,a){Cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await rb(e,n,s,Ig(),a);return qM(e,l,By())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await rb(e,n,s,Ig(),a);return WV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Cs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await OM(e),s=new TM(e);return n.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zp,{type:Zp},a=>{const l=a?.[0]?.[Zp];l!==void 0&&n(!!l),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tw()||mw()||Oy()}}const QM=YM;var ab="@firebase/auth",ob="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZM(t){Wo(new Na("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ew(t)},p=new pV(s,a,l,m);return SV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Wo(new Na("auth-internal",e=>{const n=ja(e.getProvider("auth").getImmediate());return(s=>new XM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(ab,ob,WM(t)),Er(ab,ob,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=300,eP=Z1("authIdTokenMaxAge")||JM;let lb=null;const tP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>eP)return;const a=n?.token;lb!==a&&(lb=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Uw(t=MD()){const e=Dy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wV(t,{popupRedirectResolver:QM,persistence:[aM,Dw,Uy]}),s=Z1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=tP(l.toString());HV(n,c,()=>c(n.currentUser)),FV(n,d=>c(d))}}const a=mI("auth");return a&&AV(n,`http://${a}`),n}function nP(){return document.getElementsByTagName("head")?.[0]??document}gV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Li("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",nP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZM("Browser");var iP="firebase",sP="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(iP,sP,"app");var ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var br,Bw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function R(){}R.prototype=S.prototype,M.D=S.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(D,O,B){for(var C=Array(arguments.length-2),me=2;me<arguments.length;me++)C[me-2]=arguments[me];return S.prototype[O].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,S,R){R||(R=0);var D=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)D[O]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(O=0;16>O;++O)D[O]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=M.g[0],R=M.g[1],O=M.g[2];var B=M.g[3],C=S+(B^R&(O^B))+D[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=B+(O^S&(R^O))+D[1]+3905402710&4294967295,B=S+(C<<12&4294967295|C>>>20),C=O+(R^B&(S^R))+D[2]+606105819&4294967295,O=B+(C<<17&4294967295|C>>>15),C=R+(S^O&(B^S))+D[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=S+(B^R&(O^B))+D[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=B+(O^S&(R^O))+D[5]+1200080426&4294967295,B=S+(C<<12&4294967295|C>>>20),C=O+(R^B&(S^R))+D[6]+2821735955&4294967295,O=B+(C<<17&4294967295|C>>>15),C=R+(S^O&(B^S))+D[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=S+(B^R&(O^B))+D[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=B+(O^S&(R^O))+D[9]+2336552879&4294967295,B=S+(C<<12&4294967295|C>>>20),C=O+(R^B&(S^R))+D[10]+4294925233&4294967295,O=B+(C<<17&4294967295|C>>>15),C=R+(S^O&(B^S))+D[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=S+(B^R&(O^B))+D[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=B+(O^S&(R^O))+D[13]+4254626195&4294967295,B=S+(C<<12&4294967295|C>>>20),C=O+(R^B&(S^R))+D[14]+2792965006&4294967295,O=B+(C<<17&4294967295|C>>>15),C=R+(S^O&(B^S))+D[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=S+(O^B&(R^O))+D[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=B+(R^O&(S^R))+D[6]+3225465664&4294967295,B=S+(C<<9&4294967295|C>>>23),C=O+(S^R&(B^S))+D[11]+643717713&4294967295,O=B+(C<<14&4294967295|C>>>18),C=R+(B^S&(O^B))+D[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=S+(O^B&(R^O))+D[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=B+(R^O&(S^R))+D[10]+38016083&4294967295,B=S+(C<<9&4294967295|C>>>23),C=O+(S^R&(B^S))+D[15]+3634488961&4294967295,O=B+(C<<14&4294967295|C>>>18),C=R+(B^S&(O^B))+D[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=S+(O^B&(R^O))+D[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=B+(R^O&(S^R))+D[14]+3275163606&4294967295,B=S+(C<<9&4294967295|C>>>23),C=O+(S^R&(B^S))+D[3]+4107603335&4294967295,O=B+(C<<14&4294967295|C>>>18),C=R+(B^S&(O^B))+D[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=S+(O^B&(R^O))+D[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=B+(R^O&(S^R))+D[2]+4243563512&4294967295,B=S+(C<<9&4294967295|C>>>23),C=O+(S^R&(B^S))+D[7]+1735328473&4294967295,O=B+(C<<14&4294967295|C>>>18),C=R+(B^S&(O^B))+D[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=S+(R^O^B)+D[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=B+(S^R^O)+D[8]+2272392833&4294967295,B=S+(C<<11&4294967295|C>>>21),C=O+(B^S^R)+D[11]+1839030562&4294967295,O=B+(C<<16&4294967295|C>>>16),C=R+(O^B^S)+D[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=S+(R^O^B)+D[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=B+(S^R^O)+D[4]+1272893353&4294967295,B=S+(C<<11&4294967295|C>>>21),C=O+(B^S^R)+D[7]+4139469664&4294967295,O=B+(C<<16&4294967295|C>>>16),C=R+(O^B^S)+D[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=S+(R^O^B)+D[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=B+(S^R^O)+D[0]+3936430074&4294967295,B=S+(C<<11&4294967295|C>>>21),C=O+(B^S^R)+D[3]+3572445317&4294967295,O=B+(C<<16&4294967295|C>>>16),C=R+(O^B^S)+D[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=S+(R^O^B)+D[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=B+(S^R^O)+D[12]+3873151461&4294967295,B=S+(C<<11&4294967295|C>>>21),C=O+(B^S^R)+D[15]+530742520&4294967295,O=B+(C<<16&4294967295|C>>>16),C=R+(O^B^S)+D[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=S+(O^(R|~B))+D[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=B+(R^(S|~O))+D[7]+1126891415&4294967295,B=S+(C<<10&4294967295|C>>>22),C=O+(S^(B|~R))+D[14]+2878612391&4294967295,O=B+(C<<15&4294967295|C>>>17),C=R+(B^(O|~S))+D[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=S+(O^(R|~B))+D[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=B+(R^(S|~O))+D[3]+2399980690&4294967295,B=S+(C<<10&4294967295|C>>>22),C=O+(S^(B|~R))+D[10]+4293915773&4294967295,O=B+(C<<15&4294967295|C>>>17),C=R+(B^(O|~S))+D[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=S+(O^(R|~B))+D[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=B+(R^(S|~O))+D[15]+4264355552&4294967295,B=S+(C<<10&4294967295|C>>>22),C=O+(S^(B|~R))+D[6]+2734768916&4294967295,O=B+(C<<15&4294967295|C>>>17),C=R+(B^(O|~S))+D[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=S+(O^(R|~B))+D[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=B+(R^(S|~O))+D[11]+3174756917&4294967295,B=S+(C<<10&4294967295|C>>>22),C=O+(S^(B|~R))+D[2]+718787259&4294967295,O=B+(C<<15&4294967295|C>>>17),C=R+(B^(O|~S))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+B&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var R=S-this.blockSize,D=this.B,O=this.h,B=0;B<S;){if(O==0)for(;B<=R;)a(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<S;)if(D[O++]=M.charCodeAt(B++),O==this.blockSize){a(this,D),O=0;break}}else for(;B<S;)if(D[O++]=M[B++],O==this.blockSize){a(this,D),O=0;break}}this.h=O,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var R=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=R&255,R/=256;for(this.u(M),M=Array(16),S=R=0;4>S;++S)for(var D=0;32>D;D+=8)M[R++]=this.g[S]>>>D&255;return M};function l(M,S){var R=d;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=S(M)}function c(M,S){this.h=S;for(var R=[],D=!0,O=M.length-1;0<=O;O--){var B=M[O]|0;D&&B==S||(R[O]=B,D=!1)}this.g=R}var d={};function m(M){return-128<=M&&128>M?l(M,function(S){return new c([S|0],0>S?-1:0)}):new c([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return L(p(-M));for(var S=[],R=1,D=0;M>=R;D++)S[D]=M/R|0,R*=4294967296;return new c(S,0)}function y(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return L(y(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(S,8)),D=T,O=0;O<M.length;O+=8){var B=Math.min(8,M.length-O),C=parseInt(M.substring(O,O+B),S);8>B?(B=p(Math.pow(S,B)),D=D.j(B).add(p(C))):(D=D.j(R),D=D.add(p(C)))}return D}var T=m(0),x=m(1),N=m(16777216);t=c.prototype,t.m=function(){if(P(this))return-L(this).m();for(var M=0,S=1,R=0;R<this.g.length;R++){var D=this.i(R);M+=(0<=D?D:4294967296+D)*S,S*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(j(this))return"0";if(P(this))return"-"+L(this).toString(M);for(var S=p(Math.pow(M,6)),R=this,D="";;){var O=Z(R,S).g;R=U(R,O.j(S));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=O,j(R))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function j(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function P(M){return M.h==-1}t.l=function(M){return M=U(this,M),P(M)?-1:j(M)?0:1};function L(M){for(var S=M.g.length,R=[],D=0;D<S;D++)R[D]=~M.g[D];return new c(R,~M.h).add(x)}t.abs=function(){return P(this)?L(this):this},t.add=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],D=0,O=0;O<=S;O++){var B=D+(this.i(O)&65535)+(M.i(O)&65535),C=(B>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);D=C>>>16,B&=65535,C&=65535,R[O]=C<<16|B}return new c(R,R[R.length-1]&-2147483648?-1:0)};function U(M,S){return M.add(L(S))}t.j=function(M){if(j(this)||j(M))return T;if(P(this))return P(M)?L(this).j(L(M)):L(L(this).j(M));if(P(M))return L(this.j(L(M)));if(0>this.l(N)&&0>M.l(N))return p(this.m()*M.m());for(var S=this.g.length+M.g.length,R=[],D=0;D<2*S;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<M.g.length;O++){var B=this.i(D)>>>16,C=this.i(D)&65535,me=M.i(O)>>>16,de=M.i(O)&65535;R[2*D+2*O]+=C*de,Y(R,2*D+2*O),R[2*D+2*O+1]+=B*de,Y(R,2*D+2*O+1),R[2*D+2*O+1]+=C*me,Y(R,2*D+2*O+1),R[2*D+2*O+2]+=B*me,Y(R,2*D+2*O+2)}for(D=0;D<S;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=S;D<2*S;D++)R[D]=0;return new c(R,0)};function Y(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function K(M,S){this.g=M,this.h=S}function Z(M,S){if(j(S))throw Error("division by zero");if(j(M))return new K(T,T);if(P(M))return S=Z(L(M),S),new K(L(S.g),L(S.h));if(P(S))return S=Z(M,L(S)),new K(L(S.g),S.h);if(30<M.g.length){if(P(M)||P(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,D=S;0>=D.l(M);)R=W(R),D=W(D);var O=oe(R,1),B=oe(D,1);for(D=oe(D,2),R=oe(R,2);!j(D);){var C=B.add(D);0>=C.l(M)&&(O=O.add(R),B=C),D=oe(D,1),R=oe(R,1)}return S=U(M,O.j(S)),new K(O,S)}for(O=T;0<=M.l(S);){for(R=Math.max(1,Math.floor(M.m()/S.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=p(R),C=B.j(S);P(C)||0<C.l(M);)R-=D,B=p(R),C=B.j(S);j(B)&&(B=x),O=O.add(B),M=U(M,C)}return new K(O,M)}t.A=function(M){return Z(this,M).h},t.and=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)&M.i(D);return new c(R,this.h&M.h)},t.or=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)|M.i(D);return new c(R,this.h|M.h)},t.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)^M.i(D);return new c(R,this.h^M.h)};function W(M){for(var S=M.g.length+1,R=[],D=0;D<S;D++)R[D]=M.i(D)<<1|M.i(D-1)>>>31;return new c(R,M.h)}function oe(M,S){var R=S>>5;S%=32;for(var D=M.g.length-R,O=[],B=0;B<D;B++)O[B]=0<S?M.i(B+R)>>>S|M.i(B+R+1)<<32-S:M.i(B+R);return new c(O,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Bw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,br=c}).apply(typeof ub<"u"?ub:typeof self<"u"?self:typeof window<"u"?window:{});var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zw,Pu,qw,Rf,Pg,Fw,Hw,Gw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof lf=="object"&&lf];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in E))break e;E=E[F]}h=h[h.length-1],A=E[h],v=v(A),v!=A&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var E=0,A=!1,F={next:function(){if(!A&&E<h.length){var J=E++;return{value:v(J,h[J]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,E){return h.call.apply(h.bind,arguments)}function T(h,v,E){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),h.apply(v,F)}}return function(){return h.apply(v,arguments)}}function x(h,v,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,x.apply(null,arguments)}function N(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function j(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(A,F,J){for(var fe=Array(arguments.length-2),He=2;He<arguments.length;He++)fe[He-2]=arguments[He];return v.prototype[F].apply(A,fe)}}function P(h){const v=h.length;if(0<v){const E=Array(v);for(let A=0;A<v;A++)E[A]=h[A];return E}return[]}function L(h,v){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(m(A)){const F=h.length||0,J=A.length||0;h.length=F+J;for(let fe=0;fe<J;fe++)h[F+fe]=A[fe]}else h.push(A)}}class U{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(h){return/^[\s\xa0]*$/.test(h)}function K(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function Z(h){return Z[" "](h),h}Z[" "]=function(){};var W=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function oe(h,v,E){for(const A in h)v.call(E,h[A],A,h)}function M(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function S(h){const v={};for(const E in h)v[E]=h[E];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,v){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)h[E]=A[E];for(let J=0;J<R.length;J++)E=R[J],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function O(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function B(h){d.setTimeout(()=>{throw h},0)}function C(){var h=_e;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class me{constructor(){this.h=this.g=null}add(v,E){const A=de.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var de=new U(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ce=!1,_e=new me,V=()=>{const h=d.Promise.resolve(void 0);ie=()=>{h.then(ee)}};var ee=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(E){B(E)}var v=de;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ce=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ye=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h})();function be(h,v){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(W){e:{try{Z(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:we[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&be.aa.h.call(this)}}j(be,le);var we={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),he=0;function Te(h,v,E,A,F){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=F,this.key=++he,this.da=this.fa=!1}function Be(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ye(h){this.src=h,this.g={},this.h=0}Ye.prototype.add=function(h,v,E,A,F){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var fe=Nt(h,v,A,F);return-1<fe?(v=h[fe],E||(v.fa=!1)):(v=new Te(v,this.src,J,!!A,F),v.fa=E,h.push(v)),v};function Bt(h,v){var E=v.type;if(E in h.g){var A=h.g[E],F=Array.prototype.indexOf.call(A,v,void 0),J;(J=0<=F)&&Array.prototype.splice.call(A,F,1),J&&(Be(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Nt(h,v,E,A){for(var F=0;F<h.length;++F){var J=h[F];if(!J.da&&J.listener==v&&J.capture==!!E&&J.ha==A)return F}return-1}var It="closure_lm_"+(1e6*Math.random()|0),qn={};function Xi(h,v,E,A,F){if(Array.isArray(v)){for(var J=0;J<v.length;J++)Xi(h,v[J],E,A,F);return null}return E=Oc(E),h&&h[Ct]?h.K(v,E,p(A)?!!A.capture:!1,F):Fn(h,v,E,!1,A,F)}function Fn(h,v,E,A,F,J){if(!v)throw Error("Invalid event type");var fe=p(F)?!!F.capture:!!F,He=qa(h);if(He||(h[It]=He=new Ye(h)),E=He.add(v,E,A,fe,J),E.proxy)return E;if(A=Ld(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)ye||(F=fe),F===void 0&&(F=!1),h.addEventListener(v.toString(),A,F);else if(h.attachEvent)h.attachEvent(jr(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ld(){function h(E){return v.call(h.src,h.listener,E)}const v=Ud;return h}function El(h,v,E,A,F){if(Array.isArray(v))for(var J=0;J<v.length;J++)El(h,v[J],E,A,F);else A=p(A)?!!A.capture:!!A,E=Oc(E),h&&h[Ct]?(h=h.i,v=String(v).toString(),v in h.g&&(J=h.g[v],E=Nt(J,E,A,F),-1<E&&(Be(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete h.g[v],h.h--)))):h&&(h=qa(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Nt(v,E,A,F)),(E=-1<h?v[h]:null)&&za(E))}function za(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ct])Bt(v.i,h);else{var E=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(E,A,h.capture):v.detachEvent?v.detachEvent(jr(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=qa(v))?(Bt(E,h),E.h==0&&(E.src=null,v[It]=null)):Be(h)}}}function jr(h){return h in qn?qn[h]:qn[h]="on"+h}function Ud(h,v){if(h.da)h=!0;else{v=new be(v,this);var E=h.listener,A=h.ha||h.src;h.fa&&za(h),h=E.call(A,v)}return h}function qa(h){return h=h[It],h instanceof Ye?h:null}var bl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oc(h){return typeof h=="function"?h:(h[bl]||(h[bl]=function(v){return h.handleEvent(v)}),h[bl])}function _t(){ue.call(this),this.i=new Ye(this),this.M=this,this.F=null}j(_t,ue),_t.prototype[Ct]=!0,_t.prototype.removeEventListener=function(h,v,E,A){El(this,h,v,E,A)};function Je(h,v){var E,A=h.F;if(A)for(E=[];A;A=A.F)E.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new le(v,h);else if(v instanceof le)v.target=v.target||h;else{var F=v;v=new le(A,h),D(v,F)}if(F=!0,E)for(var J=E.length-1;0<=J;J--){var fe=v.g=E[J];F=In(fe,A,!0,v)&&F}if(fe=v.g=h,F=In(fe,A,!0,v)&&F,F=In(fe,A,!1,v)&&F,E)for(J=0;J<E.length;J++)fe=v.g=E[J],F=In(fe,A,!1,v)&&F}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],A=0;A<E.length;A++)Be(E[A]);delete h.g[v],h.h--}}this.F=null},_t.prototype.K=function(h,v,E,A){return this.i.add(String(h),v,!1,E,A)},_t.prototype.L=function(h,v,E,A){return this.i.add(String(h),v,!0,E,A)};function In(h,v,E,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,J=0;J<v.length;++J){var fe=v[J];if(fe&&!fe.da&&fe.capture==E){var He=fe.listener,qt=fe.ha||fe.src;fe.fa&&Bt(h.i,fe),F=He.call(qt,A)!==!1&&F}}return F&&!A.defaultPrevented}function cn(h,v,E){if(typeof h=="function")E&&(h=x(h,E));else if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function jc(h){h.g=cn(()=>{h.g=null,h.i&&(h.i=!1,jc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Bd extends ue{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:jc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(h){ue.call(this),this.h=h,this.g={}}j(Lr,ue);var Ur=[];function Br(h){oe(h.g,function(v,E){this.g.hasOwnProperty(E)&&za(v)},h),h.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),Br(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var li=d.JSON.stringify,Fa=d.JSON.parse,zr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function xl(){}xl.prototype.h=null;function wl(h){return h.h||(h.h=h.i())}function Sl(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){le.call(this,"d")}j(Zi,le);function Al(){le.call(this,"c")}j(Al,le);var Ti={},Rl=null;function ks(){return Rl=Rl||new _t}Ti.La="serverreachability";function Ha(h){le.call(this,Ti.La,h)}j(Ha,le);function Os(h){const v=ks();Je(v,new Ha(v))}Ti.STAT_EVENT="statevent";function Lc(h,v){le.call(this,Ti.STAT_EVENT,h),this.stat=v}j(Lc,le);function ht(h){const v=ks();Je(v,new Lc(v,h))}Ti.Ma="timingevent";function zt(h,v){le.call(this,Ti.Ma,h),this.size=v}j(zt,le);function Dt(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function Cl(h,v,E,A,F,J){h.info(function(){if(h.g)if(J)for(var fe="",He=J.split("&"),qt=0;qt<He.length;qt++){var Ge=He[qt].split("=");if(1<Ge.length){var Qt=Ge[0];Ge=Ge[1];var Ft=Qt.split("_");fe=2<=Ft.length&&Ft[1]=="type"?fe+(Qt+"="+Ge+"&"):fe+(Qt+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+v+`
`+E+`
`+fe})}function zd(h,v,E,A,F,J,fe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+v+`
`+E+`
`+J+" "+fe})}function js(h,v,E,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+qr(h,E)+(A?" "+A:"")})}function Uc(h,v){h.info(function(){return"TIMEOUT: "+v})}Hn.prototype.info=function(){};function qr(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var A=E[h];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var J=F[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<F.length;fe++)F[fe]=""}}}}return li(E)}catch{return v}}var Ls={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ei;function bi(){}j(bi,xl),bi.prototype.g=function(){return new XMLHttpRequest},bi.prototype.i=function(){return{}},Ei=new bi;function yn(h,v,E,A){this.j=h,this.i=v,this.l=E,this.R=A||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var Nl={},Ga={};function ui(h,v,E){h.L=1,h.v=$r(Dn(v)),h.m=E,h.P=!0,es(h,null)}function es(h,v){h.F=Date.now(),Fr(h),h.A=Dn(h.v);var E=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),kl(E.i,"t",A),h.C=0,E=h.j.J,h.h=new xt,h.g=th(h.j,E?v:null,!h.m),0<h.O&&(h.M=new Bd(x(h.Y,h,h.g),h.O)),v=h.U,E=h.g,A=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ur[0]=F.toString()),F=Ur);for(var J=0;J<F.length;J++){var fe=Xi(E,F[J],A||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Os(),Cl(h.i,h.u,h.A,h.l,h.R,h.m)}yn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Yn(h)==3?v.j():this.Y(h)},yn.prototype.Y=function(h){try{if(h==this.g)e:{const Ft=Yn(this.g);var v=this.g.Ba();const ls=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||$c(this.g)))){this.J||Ft!=4||v==7||(v==8||0>=ls?Os(3):Os(2)),Us(this);var E=this.g.Z();this.X=E;t:if(Bc(this)){var A=$c(this.g);h="";var F=A.length,J=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),xi(this);var fe="";break t}this.h.i=new d.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(J&&v==F-1)});A.length=0,this.h.g+=h,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=E==200,zd(this.i,this.u,this.A,this.l,this.R,Ft,E),this.o){if(this.T&&!this.K){t:{if(this.g){var He,qt=this.g;if((He=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(He)){var Ge=He;break t}}Ge=null}if(E=Ge)js(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hr(this,E);else{this.o=!1,this.s=3,ht(12),en(this),xi(this);break e}}if(this.P){E=!0;let tn;for(;!this.J&&this.C<fe.length;)if(tn=zc(this,fe),tn==Ga){Ft==4&&(this.s=4,ht(14),E=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Nl){this.s=4,ht(15),js(this.i,this.l,fe,"[Invalid Chunk]"),E=!1;break}else js(this.i,this.l,tn,null),Hr(this,tn);if(Bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||fe.length!=0||this.h.h||(this.s=1,ht(16),E=!1),this.o=this.o&&E,!E)js(this.i,this.l,fe,"[Invalid Chunked Response]"),en(this),xi(this);else if(0<fe.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),ta(Qt),Qt.M=!0,ht(11))}}else js(this.i,this.l,fe,null),Hr(this,fe);Ft==4&&en(this),this.o&&!this.J&&(Ft==4?Zc(this.j,this):(this.o=!1,Fr(this)))}else Kd(this.g),E==400&&0<fe.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),en(this),xi(this)}}}catch{}finally{}};function Bc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function zc(h,v){var E=h.C,A=v.indexOf(`
`,E);return A==-1?Ga:(E=Number(v.substring(E,A)),isNaN(E)?Nl:(A+=1,A+E>v.length?Ga:(v=v.slice(A,A+E),h.C=A+E,v)))}yn.prototype.cancel=function(){this.J=!0,en(this)};function Fr(h){h.S=Date.now()+h.I,qc(h,h.I)}function qc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Dt(x(h.ba,h),v)}function Us(h){h.B&&(d.clearTimeout(h.B),h.B=null)}yn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Uc(this.i,this.A),this.L!=2&&(Os(),ht(17)),en(this),this.s=2,xi(this)):qc(this,this.S-h)};function xi(h){h.j.G==0||h.J||Zc(h.j,h)}function en(h){Us(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Br(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Hr(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||Il(E.h,h))){if(!h.K&&Il(E.h,h)&&E.G==3){try{var A=E.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)io(E),to(E);else break e;Bl(E),ht(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=Dt(x(E.Za,E),6e3));if(1>=$a(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else os(E,11)}else if((h.K||E.g==h)&&io(E),!Y(v))for(F=E.Da.g.parse(v),v=0;v<F.length;v++){let Ge=F[v];if(E.T=Ge[0],Ge=Ge[1],E.G==2)if(Ge[0]=="c"){E.K=Ge[1],E.ia=Ge[2];const Qt=Ge[3];Qt!=null&&(E.la=Qt,E.j.info("VER="+E.la));const Ft=Ge[4];Ft!=null&&(E.Aa=Ft,E.j.info("SVER="+E.Aa));const ls=Ge[5];ls!=null&&typeof ls=="number"&&0<ls&&(A=1.5*ls,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const tn=h.g;if(tn){const Ii=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var J=A.h;J.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ya(J,J.h),J.h=null))}if(A.D){const ql=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(A.ya=ql,nt(A.I,A.D,ql))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var fe=h;if(A.qa=eh(A,A.J?A.ia:null,A.W),fe.K){vn(A.h,fe);var He=fe,qt=A.L;qt&&(He.I=qt),He.B&&(Us(He),Fr(He)),A.g=fe}else Xc(A);0<E.i.length&&no(E)}else Ge[0]!="stop"&&Ge[0]!="close"||os(E,7);else E.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?os(E,7):Ll(E):Ge[0]!="noop"&&E.l&&E.l.ta(Ge),E.v=0)}}Os(4)}catch{}}var Fc=class{constructor(h,v){this.g=h,this.map=v}};function ts(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ka(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $a(h){return h.h?1:h.g?h.g.size:0}function Il(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ya(h,v){h.g?h.g.add(v):h.h=v}function vn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}ts.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Dl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return P(h.i)}function qd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],E=h.length,A=0;A<E;A++)v.push(h[A]);return v}v=[],E=0;for(A in h)v[E++]=h[A];return v}function Qa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const A in h)v[E++]=A;return v}}}function Vl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Qa(h),A=qd(h),F=A.length,J=0;J<F;J++)v.call(void 0,A[J],E&&E[J],h)}var Gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fd(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var A=h[E].indexOf("="),F=null;if(0<=A){var J=h[E].substring(0,A);F=h[E].substring(A+1)}else J=h[E];v(J,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Vt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Vt){this.h=h.h,Kr(this,h.j),this.o=h.o,this.g=h.g,Bs(this,h.s),this.l=h.l;var v=h.i,E=new is;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),ns(this,E),this.m=h.m}else h&&(v=String(h).match(Gr))?(this.h=!1,Kr(this,v[1]||"",!0),this.o=Gn(v[2]||""),this.g=Gn(v[3]||"",!0),Bs(this,v[4]),this.l=Gn(v[5]||"",!0),ns(this,v[6]||"",!0),this.m=Gn(v[7]||"")):(this.h=!1,this.i=new is(null,this.h))}Vt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Yr(v,Ml,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Yr(v,Ml,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Yr(E,E.charAt(0)=="/"?Hd:Pl,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Yr(E,Xa)),h.join("")};function Dn(h){return new Vt(h)}function Kr(h,v,E){h.j=E?Gn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Bs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ns(h,v,E){v instanceof is?(h.i=v,Gc(h.i,h.h)):(E||(v=Yr(v,Gd)),h.i=new is(v,h.h))}function nt(h,v,E){h.i.set(v,E)}function $r(h){return nt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Gn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,Hc),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Hc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ml=/[#\/\?@]/g,Pl=/[#\?:]/g,Hd=/[#\?]/g,Gd=/[#\?@]/g,Xa=/#/g;function is(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Kn(h){h.g||(h.g=new Map,h.h=0,h.i&&Fd(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=is.prototype,t.add=function(h,v){Kn(this),this.i=null,h=wi(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function ss(h,v){Kn(h),v=wi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function rs(h,v){return Kn(h),v=wi(h,v),h.g.has(v)}t.forEach=function(h,v){Kn(this),this.g.forEach(function(E,A){E.forEach(function(F){h.call(v,F,A,this)},this)},this)},t.na=function(){Kn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let A=0;A<v.length;A++){const F=h[A];for(let J=0;J<F.length;J++)E.push(v[A])}return E},t.V=function(h){Kn(this);let v=[];if(typeof h=="string")rs(this,h)&&(v=v.concat(this.g.get(wi(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},t.set=function(h,v){return Kn(this),this.i=null,h=wi(this,h),rs(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function kl(h,v,E){ss(h,v),0<E.length&&(h.i=null,h.g.set(wi(h,v),P(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var A=v[E];const J=encodeURIComponent(String(A)),fe=this.V(A);for(A=0;A<fe.length;A++){var F=J;fe[A]!==""&&(F+="="+encodeURIComponent(String(fe[A]))),h.push(F)}}return this.i=h.join("&")};function wi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Gc(h,v){v&&!h.j&&(Kn(h),h.i=null,h.g.forEach(function(E,A){var F=A.toLowerCase();A!=F&&(ss(this,A),kl(this,F,E))},h)),h.j=v}function Qr(h,v){const E=new Hn;if(d.Image){const A=new Image;A.onload=N($n,E,"TestLoadImage: loaded",!0,v,A),A.onerror=N($n,E,"TestLoadImage: error",!1,v,A),A.onabort=N($n,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=N($n,E,"TestLoadImage: timeout",!1,v,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function ci(h,v){const E=new Hn,A=new AbortController,F=setTimeout(()=>{A.abort(),$n(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(J=>{clearTimeout(F),J.ok?$n(E,"TestPingServer: ok",!0,v):$n(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),$n(E,"TestPingServer: error",!1,v)})}function $n(h,v,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function Xr(){this.g=new zr}function Si(h,v,E){const A=E||"";try{Vl(h,function(F,J){let fe=F;p(F)&&(fe=li(F)),v.push(A+J+"="+encodeURIComponent(fe))})}catch(F){throw v.push(A+"type="+encodeURIComponent("_badmap")),F}}function zs(h){this.l=h.Ub||null,this.j=h.eb||!1}j(zs,xl),zs.prototype.g=function(){return new as(this.l,this.j)},zs.prototype.i=(function(h){return function(){return h}})({});function as(h,v){_t.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(as,_t),t=as.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ri(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ai(this):Ri(this),this.readyState==3&&Ol(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ai(this))},t.Qa=function(h){this.g&&(this.response=h,Ai(this))},t.ga=function(){this.g&&Ai(this)};function Ai(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ri(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function Ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jl(h){let v="";return oe(h,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function Yt(h,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=jl(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):nt(h,v,E))}function Ze(h){_t.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ze,_t);var Wa=/^https?$/i,Wr=["POST","PUT"];t=Ze.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ei.g(),this.v=this.o?wl(this.o):wl(Ei),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(J){Kc(this,J);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())E.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),F=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Wr,v,void 0))||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of E)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zr(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){Kc(this,J)}};function Kc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Za(h),Ci(h)}function Za(h){h.A||(h.A=!0,Je(h,"complete"),Je(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Je(this,"complete"),Je(this,"abort"),Ci(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},t.bb=function(){Ja(this)};function Ja(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Yn(h)!=4||h.Z()!=2)){if(h.u&&Yn(h)==4)cn(h.Ea,0,h);else if(Je(h,"readystatechange"),Yn(h)==4){h.h=!1;try{const fe=h.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=fe===0){var F=String(h.D).match(Gr)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),A=!Wa.test(F?F.toLowerCase():"")}E=A}if(E)Je(h,"complete"),Je(h,"success");else{h.m=6;try{var J=2<Yn(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",Za(h)}}finally{Ci(h)}}}}function Ci(h,v){if(h.g){Zr(h);const E=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Je(h,"ready");try{E.onreadystatechange=A}catch{}}}function Zr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Yn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Fa(v)}};function $c(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Kd(h){const v={};h=(h.g&&2<=Yn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(Y(h[A]))continue;var E=O(h[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=v[F]||[];v[F]=J,J.push(E)}M(v,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function eo(h){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jr("baseRetryDelayMs",5e3,h),this.cb=Jr("retryDelaySeedMs",1e4,h),this.Wa=Jr("forwardChannelMaxRetries",2,h),this.wa=Jr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ts(h&&h.concurrentRequestLimit),this.Da=new Xr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eo.prototype,t.la=8,t.G=1,t.connect=function(h,v,E,A){ht(0),this.W=h,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=eh(this,null,this.W),no(this)};function Ll(h){if(Yc(h),h.G==3){var v=h.U++,E=Dn(h.I);if(nt(E,"SID",h.K),nt(E,"RID",v),nt(E,"TYPE","terminate"),ea(h,E),v=new yn(h,h.j,v),v.L=2,v.v=$r(Dn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=th(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Fr(v)}Jc(h)}function to(h){h.g&&(ta(h),h.g.cancel(),h.g=null)}function Yc(h){to(h),h.u&&(d.clearTimeout(h.u),h.u=null),io(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function no(h){if(!Ka(h.h)&&!h.s){h.s=!0;var v=h.Ga;ie||V(),ce||(ie(),ce=!0),_e.add(v,h),h.B=0}}function $d(h,v){return $a(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Dt(x(h.Ga,h,v),zl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new yn(this,this.j,h);let J=this.o;if(this.S&&(J?(J=S(J),D(J,this.S)):J=this.S),this.m!==null||this.O||(F.H=J,J=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Qc(this,F,v),E=Dn(this.I),nt(E,"RID",h),nt(E,"CVER",22),this.D&&nt(E,"X-HTTP-Session-Id",this.D),ea(this,E),J&&(this.O?v="headers="+encodeURIComponent(String(jl(J)))+"&"+v:this.m&&Yt(E,this.m,J)),Ya(this.h,F),this.Ua&&nt(E,"TYPE","init"),this.P?(nt(E,"$req",v),nt(E,"SID","null"),F.T=!0,ui(F,E,null)):ui(F,E,v),this.G=2}}else this.G==3&&(h?Ul(this,h):this.i.length==0||Ka(this.h)||Ul(this))};function Ul(h,v){var E;v?E=v.l:E=h.U++;const A=Dn(h.I);nt(A,"SID",h.K),nt(A,"RID",E),nt(A,"AID",h.T),ea(h,A),h.m&&h.o&&Yt(A,h.m,h.o),E=new yn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Qc(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ya(h.h,E),ui(E,A,v)}function ea(h,v){h.H&&oe(h.H,function(E,A){nt(v,A,E)}),h.l&&Vl({},function(E,A){nt(v,A,E)})}function Qc(h,v,E){E=Math.min(h.i.length,E);var A=h.l?x(h.l.Na,h.l,h):null;e:{var F=h.i;let J=-1;for(;;){const fe=["count="+E];J==-1?0<E?(J=F[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let He=!0;for(let qt=0;qt<E;qt++){let Ge=F[qt].g;const Qt=F[qt].map;if(Ge-=J,0>Ge)J=Math.max(0,F[qt].g-100),He=!1;else try{Si(Qt,fe,"req"+Ge+"_")}catch{A&&A(Qt)}}if(He){A=fe.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,A}function Xc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ie||V(),ce||(ie(),ce=!0),_e.add(v,h),h.v=0}}function Bl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Dt(x(h.Fa,h),zl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Dt(x(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),to(this),Wc(this))};function ta(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Wc(h){h.g=new yn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Dn(h.qa);nt(v,"RID","rpc"),nt(v,"SID",h.K),nt(v,"AID",h.T),nt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&nt(v,"TO",h.ja),nt(v,"TYPE","xmlhttp"),ea(h,v),h.m&&h.o&&Yt(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=$r(Dn(v)),E.m=null,E.P=!0,es(E,h)}t.Za=function(){this.C!=null&&(this.C=null,to(this),Bl(this),ht(19))};function io(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Zc(h,v){var E=null;if(h.g==v){io(h),ta(h),h.g=null;var A=2}else if(Il(h.h,v))E=v.D,vn(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var F=h.B;A=ks(),Je(A,new zt(A,E)),no(h)}else Xc(h);else if(F=v.s,F==3||F==0&&0<v.X||!(A==1&&$d(h,v)||A==2&&Bl(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),F){case 1:os(h,5);break;case 4:os(h,10);break;case 3:os(h,6);break;default:os(h,2)}}}function zl(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function os(h,v){if(h.j.info("Error code "+v),v==2){var E=x(h.fb,h),A=h.Xa;const F=!A;A=new Vt(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Kr(A,"https"),$r(A),F?Qr(A.toString(),E):ci(A.toString(),E)}else ht(2);h.G=0,h.l&&h.l.sa(v),Jc(h),Yc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Jc(h){if(h.G=0,h.ka=[],h.l){const v=Dl(h.h);(v.length!=0||h.i.length!=0)&&(L(h.ka,v),L(h.ka,h.i),h.h.i.length=0,P(h.i),h.i.length=0),h.l.ra()}}function eh(h,v,E){var A=E instanceof Vt?Dn(E):new Vt(E);if(A.g!="")v&&(A.g=v+"."+A.g),Bs(A,A.s);else{var F=d.location;A=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var J=new Vt(null);A&&Kr(J,A),v&&(J.g=v),F&&Bs(J,F),E&&(J.l=E),A=J}return E=h.D,v=h.ya,E&&v&&nt(A,E,v),nt(A,"VER",h.la),ea(h,A),A}function th(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Ze(new zs({eb:E})):new Ze(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nh(){}t=nh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function so(){}so.prototype.g=function(h,v){return new _n(h,v)};function _n(h,v){_t.call(this),this.g=new eo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Y(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ni(this)}j(_n,_t),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Ll(this.g)},_n.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=li(h),h=E);v.i.push(new Fc(v.Ya++,h)),v.G==3&&no(v)},_n.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,_n.aa.N.call(this)};function ih(h){Zi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}j(ih,Zi);function sh(){Al.call(this),this.status=1}j(sh,Al);function Ni(h){this.g=h}j(Ni,nh),Ni.prototype.ua=function(){Je(this.g,"a")},Ni.prototype.ta=function(h){Je(this.g,new ih(h))},Ni.prototype.sa=function(h){Je(this.g,new sh)},Ni.prototype.ra=function(){Je(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,Gw=function(){return new so},Hw=function(){return ks()},Fw=Ti,Pg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,Rf=Ls,Ji.COMPLETE="complete",qw=Ji,Sl.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Pu=Sl,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,zw=Ze}).apply(typeof lf<"u"?lf:typeof self<"u"?self:typeof window<"u"?window:{});const cb="@firebase/firestore",hb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new Ny("@firebase/firestore");function Oo(){return Va.logLevel}function ge(t,...e){if(Va.logLevel<=ze.DEBUG){const n=e.map(qy);Va.debug(`Firestore (${fl}): ${t}`,...n)}}function Ns(t,...e){if(Va.logLevel<=ze.ERROR){const n=e.map(qy);Va.error(`Firestore (${fl}): ${t}`,...n)}}function ec(t,...e){if(Va.logLevel<=ze.WARN){const n=e.map(qy);Va.warn(`Firestore (${fl}): ${t}`,...n)}}function qy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Kw(t,s,n)}function Kw(t,e,n){let s=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ns(s),new Error(s)}function We(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Kw(e,a,s)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Sn.UNAUTHENTICATED)))}shutdown(){}}class oP{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Bi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Bi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new rP(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class lP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new lP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const s=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=hP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function qe(t,e){return t<e?-1:t>e?1:0}function kg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Jp(a)===Jp(l)?qe(a,l):Jp(a)?1:-1}return qe(t.length,e.length)}const fP=55296,dP=57343;function Jp(t){const e=t.charCodeAt(0);return e>=fP&&e<=dP}function Zo(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ce(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Oi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),a=Oi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):kg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}}class ut extends Oi{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const mP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Oi{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return mP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===db}static keyField(){return new ln([db])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ut.fromString(e))}static fromName(e){return new xe(ut.fromString(e).popFirst(5))}static empty(){return new xe(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t,e,n){if(!n)throw new pe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pP(t,e,n,s){if(e===!0&&s===!0)throw new pe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mb(t){if(!xe.isDocumentKey(t))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pb(t){if(xe.isDocumentKey(t))throw new pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Ma(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vd(t);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function wc(t,e){if(!Yw(t))throw new pe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new pe(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=-62135596800,yb=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*yb);return new ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gb)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yb}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wc(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Lt("string",ct._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new ct(0,0))}static max(){return new Ve(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=-1;function gP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(s===1e9?new ct(n+1,0):new ct(n,s));return new wr(a,xe.empty(),e)}function yP(t){return new wr(t.readTime,t.key,tc)}class wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new wr(Ve.min(),xe.empty(),tc)}static max(){return new wr(Ve.max(),xe.empty(),tc)}}function vP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==_P)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,s)=>{n(e)}))}static reject(e){return new ae(((n,s)=>{s(e)}))}static waitFor(e){return new ae(((n,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next((a=>a?ae.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ae(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{c[p]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new ae(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function EP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_d.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=-1;function Td(t){return t==null}function Yf(t){return t===0&&1/t==-1/0}function bP(t){return typeof t=="number"&&Number.isInteger(t)&&!Yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="";function xP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vb(e)),e=wP(t.get(n),e);return vb(e)}function wP(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Qw:n+="";break;default:n+=l}}return n}function vb(t){return t+Qw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SP(t,e){const n=[];for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.push(e(t[s],s,t));return n}function Xw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new on(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tb(this.data.getIterator())}getIteratorFrom(e){return new Tb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class Tb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new zn([])}unionWith(e){let n=new $t(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ww("Invalid base64 string: "+l):l}})(e);return new un(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const AP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=AP.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ar(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="server_timestamp",Jw="__type__",eS="__previous_value__",tS="__local_write_time__";function Gy(t){return(t?.mapValue?.fields||{})[Jw]?.stringValue===Zw}function Ed(t){const e=t.mapValue.fields[eS];return Gy(e)?Ed(e):e}function nc(t){const e=Sr(t.mapValue.fields[tS].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n,s,a,l,c,d,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Qf="(default)";class ic{constructor(e,n){this.projectId=e,this.database=n||Qf}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database===Qf}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="__type__",CP="__max__",cf={mapValue:{}},iS="__vector__",Xf="value";function Rr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gy(t)?4:IP(t)?9007199254740991:NP(t)?10:11:Ce(28295,{value:t})}function Yi(t,e){if(t===e)return!0;const n=Rr(t);if(n!==Rr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nc(t).isEqual(nc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Sr(a.timestampValue),d=Sr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ar(a.bytesValue).isEqual(Ar(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Rt(a.doubleValue),d=Rt(l.doubleValue);return c===d?Yf(c)===Yf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Zo(t.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(_b(c)!==_b(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Yi(c[m],d[m])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function sc(t,e){return(t.values||[]).find((n=>Yi(n,e)))!==void 0}function Jo(t,e){if(t===e)return 0;const n=Rr(t),s=Rr(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Rt(l.integerValue||l.doubleValue),m=Rt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return Eb(t.timestampValue,e.timestampValue);case 4:return Eb(nc(t),nc(e));case 5:return kg(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Ar(l),m=Ar(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=qe(d[p],m[p]);if(y!==0)return y}return qe(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=qe(Rt(l.latitude),Rt(c.latitude));return d!==0?d:qe(Rt(l.longitude),Rt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return bb(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[Xf]?.arrayValue,y=m[Xf]?.arrayValue,T=qe(p?.values?.length||0,y?.values?.length||0);return T!==0?T:bb(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===cf.mapValue&&c===cf.mapValue)return 0;if(l===cf.mapValue)return 1;if(c===cf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const x=kg(m[T],y[T]);if(x!==0)return x;const N=Jo(d[m[T]],p[y[T]]);if(N!==0)return N}return qe(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function Eb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Sr(t),s=Sr(e),a=qe(n.seconds,s.seconds);return a!==0?a:qe(n.nanos,s.nanos)}function bb(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Jo(n[a],s[a]);if(l)return l}return qe(n.length,s.length)}function el(t){return Og(t)}function Og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Sr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ar(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Og(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Og(n.fields[c])}`;return a+"}"})(t.mapValue):Ce(61005,{value:t})}function Cf(t){switch(Rr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ed(t);return e?16+Cf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ar(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Cf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Pr(s.fields,((l,c)=>{a+=l.length+Cf(c)})),a})(t.mapValue);default:throw Ce(13486,{value:t})}}function xb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jg(t){return!!t&&"integerValue"in t}function Ky(t){return!!t&&"arrayValue"in t}function wb(t){return!!t&&"nullValue"in t}function Sb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nf(t){return!!t&&"mapValue"in t}function NP(t){return(t?.mapValue?.fields||{})[nS]?.stringValue===iS}function zu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Pr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=zu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return{...t}}function IP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=ln.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=zu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Nf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Pr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Cn(zu(this.value))}}function sS(t){const e=[];return Pr(t.fields,((n,s)=>{const a=new ln([n]);if(Nf(s)){const l=sS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new mn(e,0,Ve.min(),Ve.min(),Ve.min(),Cn.empty(),0)}static newFoundDocument(e,n,s,a){return new mn(e,1,n,Ve.min(),s,a,0)}static newNoDocument(e,n){return new mn(e,2,n,Ve.min(),Ve.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Ve.min(),Ve.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n){this.position=e,this.inclusive=n}}function Ab(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=xe.comparator(xe.fromName(c.referenceValue),n.key):s=Jo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Rb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n="asc"){this.field=e,this.dir=n}}function DP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{}class jt extends rS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new MP(e,n,s):n==="array-contains"?new OP(e,s):n==="in"?new jP(e,s):n==="not-in"?new LP(e,s):n==="array-contains-any"?new UP(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new PP(e,s):new kP(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jo(n,this.value)):n!==null&&Rr(this.value)===Rr(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends rS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vi(e,n)}matches(e){return aS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aS(t){return t.op==="and"}function oS(t){return VP(t)&&aS(t)}function VP(t){for(const e of t.filters)if(e instanceof vi)return!1;return!0}function Lg(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+el(t.value);if(oS(t))return t.filters.map((e=>Lg(e))).join(",");{const e=t.filters.map((n=>Lg(n))).join(",");return`${t.op}(${e})`}}function lS(t,e){return t instanceof jt?(function(s,a){return a instanceof jt&&s.op===a.op&&s.field.isEqual(a.field)&&Yi(s.value,a.value)})(t,e):t instanceof vi?(function(s,a){return a instanceof vi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&lS(c,a.filters[d])),!0):!1})(t,e):void Ce(19439)}function uS(t){return t instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`})(t):t instanceof vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(uS).join(" ,")+"}"})(t):"Filter"}class MP extends jt{constructor(e,n,s){super(e,n,s),this.key=xe.fromName(s.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class PP extends jt{constructor(e,n){super(e,"in",n),this.keys=cS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kP extends jt{constructor(e,n){super(e,"not-in",n),this.keys=cS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function cS(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class OP extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ky(n)&&sc(n.arrayValue,this.value)}}class jP extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sc(this.value.arrayValue,n)}}class LP extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sc(this.value.arrayValue,n)}}class UP extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ky(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>sc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function Cb(t,e=null,n=[],s=[],a=null,l=null,c=null){return new BP(t,e,n,s,a,l,c)}function $y(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Lg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Td(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>el(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>el(s))).join(",")),e.Te=n}return e.Te}function Yy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rb(t.startAt,e.startAt)&&Rb(t.endAt,e.endAt)}function Ug(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zP(t,e,n,s,a,l,c,d){return new Sc(t,e,n,s,a,l,c,d)}function Qy(t){return new Sc(t)}function Nb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hS(t){return t.collectionGroup!==null}function qu(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new $t(ln.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Zf(l,s))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new Zf(ln.keyField(),s))}return e.Ie}function zi(t){const e=De(t);return e.Ee||(e.Ee=fS(e,qu(t))),e.Ee}function qP(t){const e=De(t);return e.de||(e.de=fS(e,t.explicitOrderBy)),e.de}function fS(t,e){if(t.limitType==="F")return Cb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Zf(a.field,l)}));const n=t.endAt?new Wf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Wf(t.startAt.position,t.startAt.inclusive):null;return Cb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Bg(t,e){const n=t.filters.concat([e]);return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jf(t,e,n){return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bd(t,e){return Yy(zi(t),zi(e))&&t.limitType===e.limitType}function dS(t){return`${$y(zi(t))}|lt:${t.limitType}`}function jo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>uS(a))).join(", ")}]`),Td(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>el(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>el(a))).join(",")),`Target(${s})`})(zi(t))}; limitType=${t.limitType})`}function xd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):xe.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of qu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const p=Ab(c,d,m);return c.inclusive?p<=0:p<0})(s.startAt,qu(s),a)||s.endAt&&!(function(c,d,m){const p=Ab(c,d,m);return c.inclusive?p>=0:p>0})(s.endAt,qu(s),a))})(t,e)}function FP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mS(t){return(e,n)=>{let s=!1;for(const a of qu(t)){const l=HP(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function HP(t,e,n){const s=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Jo(m,p):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Pr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return Xw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=new yt(xe.comparator);function Is(){return GP}const pS=new yt(xe.comparator);function ku(...t){let e=pS;for(const n of t)e=e.insert(n.key,n);return e}function gS(t){let e=pS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ta(){return Fu()}function yS(){return Fu()}function Fu(){return new La((t=>t.toString()),((t,e)=>t.isEqual(e)))}const KP=new yt(xe.comparator),$P=new $t(xe.comparator);function Fe(...t){let e=$P;for(const n of t)e=e.add(n);return e}const YP=new $t(qe);function QP(){return YP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(e)?"-0":e}}function vS(t){return{integerValue:""+t}}function XP(t,e){return bP(e)?vS(e):Xy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this._=void 0}}function WP(t,e,n){return t instanceof rc?(function(a,l){const c={fields:{[Jw]:{stringValue:Zw},[tS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Gy(l)&&(l=Ed(l)),l&&(c.fields[eS]=l),{mapValue:c}})(n,e):t instanceof ac?TS(t,e):t instanceof oc?ES(t,e):(function(a,l){const c=_S(a,l),d=Ib(c)+Ib(a.Ae);return jg(c)&&jg(a.Ae)?vS(d):Xy(a.serializer,d)})(t,e)}function ZP(t,e,n){return t instanceof ac?TS(t,e):t instanceof oc?ES(t,e):n}function _S(t,e){return t instanceof ed?(function(s){return jg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class rc extends wd{}class ac extends wd{constructor(e){super(),this.elements=e}}function TS(t,e){const n=bS(e);for(const s of t.elements)n.some((a=>Yi(a,s)))||n.push(s);return{arrayValue:{values:n}}}class oc extends wd{constructor(e){super(),this.elements=e}}function ES(t,e){let n=bS(e);for(const s of t.elements)n=n.filter((a=>!Yi(a,s)));return{arrayValue:{values:n}}}class ed extends wd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ib(t){return Rt(t.integerValue||t.doubleValue)}function bS(t){return Ky(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n){this.field=e,this.transform=n}}function ek(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof ac&&a instanceof ac||s instanceof oc&&a instanceof oc?Zo(s.elements,a.elements,Yi):s instanceof ed&&a instanceof ed?Yi(s.Ae,a.Ae):s instanceof rc&&a instanceof rc})(t.transform,e.transform)}class tk{constructor(e,n){this.version=e,this.transformResults=n}}class ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function If(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sd{}function xS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wy(t.key,ai.none()):new Ac(t.key,t.data,ai.none());{const n=t.data,s=Cn.empty();let a=new $t(ln.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new kr(t.key,s,new zn(a.toArray()),ai.none())}}function nk(t,e,n){t instanceof Ac?(function(a,l,c){const d=a.value.clone(),m=Vb(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof kr?(function(a,l,c){if(!If(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Vb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(wS(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Hu(t,e,n,s){return t instanceof Ac?(function(l,c,d,m){if(!If(l.precondition,c))return d;const p=l.value.clone(),y=Mb(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof kr?(function(l,c,d,m){if(!If(l.precondition,c))return d;const p=Mb(l.fieldTransforms,m,c),y=c.data;return y.setAll(wS(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(t,e,n,s):(function(l,c,d){return If(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function ik(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=_S(s.transform,a||null);l!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,l))}return n||null}function Db(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Zo(s,a,((l,c)=>ek(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ac extends Sd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class kr extends Sd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function wS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Vb(t,e,n){const s=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,ZP(c,d,n[a]))}return s}function Mb(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,WP(l,c,e))}return s}class Wy extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sk extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&nk(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Hu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Hu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=yS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=xS(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,((n,s)=>Db(n,s)))&&Zo(this.baseMutations,e.baseMutations,((n,s)=>Db(n,s)))}}class Zy{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return KP})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Zy(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,s){this.alias=e,this.aggregateType=n,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,$e;function uk(t){switch(t){case ne.OK:return Ce(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function SS(t){if(t===void 0)return Ns("GRPC error has no .code"),ne.UNKNOWN;switch(t){case kt.OK:return ne.OK;case kt.CANCELLED:return ne.CANCELLED;case kt.UNKNOWN:return ne.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ne.INTERNAL;case kt.UNAVAILABLE:return ne.UNAVAILABLE;case kt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case kt.NOT_FOUND:return ne.NOT_FOUND;case kt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case kt.ABORTED:return ne.ABORTED;case kt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case kt.DATA_LOSS:return ne.DATA_LOSS;default:return Ce(39323,{code:t})}}($e=kt||(kt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new br([4294967295,4294967295],0);function Pb(t){const e=ck().encode(t),n=new Bw;return n.update(e),new Uint8Array(n.digest())}function kb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new br([n,s],0),new br([a,l],0)]}class Jy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ou(`Invalid padding: ${n}`);if(s<0)throw new Ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=br.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(br.fromNumber(s)));return a.compare(hk)===1&&(a=new br([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Pb(e),[s,a]=kb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Jy(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=Pb(e),[s,a]=kb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ad(Ve.min(),a,new yt(qe),Is(),Fe())}}class Rc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Rc(s,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class AS{constructor(e,n){this.targetId=e,this.Ce=n}}class RS{constructor(e,n,s=un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Ob{constructor(){this.ve=0,this.Fe=jb(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),s=Fe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ce(38017,{changeType:l})}})),new Rc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=jb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=hf(),this.He=hf(),this.Ye=new yt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ug(l))if(s===0){const c=new xe(l.path);this.et(n,c,mn.newNoDocument(c,Ve.min()))}else We(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Ar(s).toUint8Array()}catch(m){if(m instanceof Ww)return ec("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Jy(c,a,l)}catch(m){return ec(m instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Ug(d.target)){const m=new xe(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,mn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Fe();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Ad(e,n,this.Ye,this.je,s);return this.je=Is(),this.Je=hf(),this.He=hf(),this.Ye=new yt(qe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ob,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ob),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hf(){return new yt(xe.comparator)}function jb(){return new yt(xe.comparator)}const dk={asc:"ASCENDING",desc:"DESCENDING"},mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pk={and:"AND",or:"OR"};class gk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zg(t,e){return t.useProto3Json||Td(e)?e:{value:e}}function td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yk(t,e){return td(t,e.toTimestamp())}function qi(t){return We(!!t,49232),Ve.fromTimestamp((function(n){const s=Sr(n);return new ct(s.seconds,s.nanos)})(t))}function e0(t,e){return qg(t,e).canonicalString()}function qg(t,e){const n=(function(a){return new ut(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function NS(t){const e=ut.fromString(t);return We(kS(e),10190,{key:e.toString()}),e}function Fg(t,e){return e0(t.databaseId,e.path)}function eg(t,e){const n=NS(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(DS(n))}function IS(t,e){return e0(t.databaseId,e)}function vk(t){const e=NS(t);return e.length===4?ut.emptyPath():DS(e)}function Hg(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DS(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Lb(t,e,n){return{name:Fg(t,e),fields:n.value.mapValue.fields}}function _k(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(We(y===void 0||typeof y=="string",58123),un.fromBase64String(y||"")):(We(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),un.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?ne.UNKNOWN:SS(p.code);return new pe(y,p.message||"")})(c);n=new RS(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=eg(t,s.document.name),l=qi(s.document.updateTime),c=s.document.createTime?qi(s.document.createTime):Ve.min(),d=new Cn({mapValue:{fields:s.document.fields}}),m=mn.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Df(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=eg(t,s.document),l=s.readTime?qi(s.readTime):Ve.min(),c=mn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Df([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=eg(t,s.document),l=s.removedTargetIds||[];n=new Df([],l,a,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new lk(a,l),d=s.targetId;n=new AS(d,c)}}return n}function Tk(t,e){let n;if(e instanceof Ac)n={update:Lb(t,e.key,e.value)};else if(e instanceof Wy)n={delete:Fg(t,e.key)};else if(e instanceof kr)n={update:Lb(t,e.key,e.data),updateMask:Nk(e.fieldMask)};else{if(!(e instanceof sk))return Ce(16599,{Vt:e.type});n={verify:Fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof rc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ac)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof oc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ed)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ce(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:yk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)})(t,e.precondition)),n}function Ek(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?qi(a.updateTime):qi(l);return c.isEqual(Ve.min())&&(c=qi(l)),new tk(c,a.transformResults||[])})(n,e)))):[]}function bk(t,e){return{documents:[IS(t,e.path)]}}function VS(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=IS(t,a);const l=(function(p){if(p.length!==0)return PS(vi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(x){return{field:gr(x.field),direction:Ak(x.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=zg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function xk(t,e,n,s){const{ft:a,parent:l}=VS(t,e),c={},d=[];let m=0;return n.forEach((p=>{const y="aggregate_"+m++;c[y]=p.alias,p.aggregateType==="count"?d.push({alias:y,count:{}}):p.aggregateType==="avg"?d.push({alias:y,avg:{field:gr(p.fieldPath)}}):p.aggregateType==="sum"&&d.push({alias:y,sum:{field:gr(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:d,structuredQuery:a.structuredQuery},parent:a.parent},gt:c,parent:l}}function wk(t){let e=vk(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){We(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(T){const x=MS(T);return x instanceof vi&&oS(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((x=>(function(j){return new Zf(Lo(j.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let x;return x=typeof T=="object"?T.value:T,Td(x)?null:x})(n.limit));let m=null;n.startAt&&(m=(function(T){const x=!!T.before,N=T.values||[];return new Wf(N,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const x=!T.before,N=T.values||[];return new Wf(N,x)})(n.endAt)),zP(e,a,c,l,d,"F",m,p)}function Sk(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Lo(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(n.unaryFilter.field);return jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(n.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(n.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return jt.create(Lo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return vi.create(n.compositeFilter.filters.map((s=>MS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function Ak(t){return dk[t]}function Rk(t){return mk[t]}function Ck(t){return pk[t]}function gr(t){return{fieldPath:t.canonicalString()}}function Lo(t){return ln.fromServerFormat(t.fieldPath)}function PS(t){return t instanceof jt?(function(n){if(n.op==="=="){if(Sb(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NAN"}};if(wb(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sb(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NOT_NAN"}};if(wb(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gr(n.field),op:Rk(n.op),value:n.value}}})(t):t instanceof vi?(function(n){const s=n.getFilters().map((a=>PS(a)));return s.length===1?s[0]:{compositeFilter:{op:Ck(n.op),filters:s}}})(t):Ce(54877,{filter:t})}function Nk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function kS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,s,a,l=Ve.min(),c=Ve.min(),d=un.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.yt=e}}function Dk(t){const e=wk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.Cn=new Mk}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(wr.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class Mk{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new $t(ut.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new $t(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OS=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(OS,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="LruGarbageCollector",jS=1048576;function zb([t,e],[n,s]){const a=qe(t,n);return a===0?qe(e,s):a}class Pk{constructor(e){this.Ir=e,this.buffer=new $t(zb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();zb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kk{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(Bb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ml(n)?ge(Bb,"Ignoring IndexedDB error during garbage collection: ",n):await dl(n)}await this.Vr(3e5)}))}}class Ok{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(_d.ce);const s=new Pk(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Ub)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ub):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(s=T,d=Date.now(),this.removeTargets(e,s,n)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),Oo()<=ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function jk(t,e){return new Ok(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.changes=new La((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Hu(s.mutation,a,zn.empty(),ct.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Fe()){const a=Ta();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=ku();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ta();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Fe())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,a){let l=Is();const c=Fu(),d=(function(){return Fu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof kr)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Hu(y.mutation,p,y.mutation.getFieldMask(),ct.now())):c.set(p.key,zn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new Uk(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=Fu();let a=new yt(((c,d)=>c-d)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||zn.empty();y=d.applyToLocalView(p,y),s.set(m,y);const T=(a.get(d.batchId)||Fe()).add(m);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,T=yS();y.forEach((x=>{if(!l.has(x)){const N=xS(n.get(x),s.get(x));N!==null&&T.set(x,N),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ae.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ae.resolve(Ta());let d=tc,m=l;return c.next((p=>ae.forEach(p,((y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{m=m.insert(y,x)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Fe()))).next((y=>({batchId:d,changes:gS(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((s=>{let a=ku();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=ku();return this.indexManager.getCollectionParents(e,l).next((d=>ae.forEach(d,(m=>{const p=(function(T,x){return new Sc(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((T,x)=>{c=c.insert(T,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,mn.newInvalidDocument(y)))}));let d=ku();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Hu(y.mutation,p,zn.empty(),ct.now()),xd(n,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:qi(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:Dk(a.bundledQuery),readTime:qi(a.readTime)}})(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.overlays=new yt(xe.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ta();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const a=Ta(),l=n.length+1,c=new xe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new yt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Ta(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Ta(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return ae.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new ak(n,s));let l=this.qr.get(n);l===void 0&&(l=Fe(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.Qr=new $t(Jt.$r),this.Ur=new $t(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new xe(new ut([])),s=new Jt(n,e),a=new Jt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new ut([])),s=new Jt(n,e),a=new Jt(n,e+1);let l=Fe();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Jt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rk(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Jt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Hy:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Jt(n,0),a=new Jt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new $t(qe);return n.forEach((a=>{const l=new Jt(a,0),c=new Jt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;xe.isDocumentKey(l)||(l=l.child(""));const c=new Jt(new xe(l),0);let d=new $t(qe);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),c),ae.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(n.mutations,(a=>{const l=new Jt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Jt(n,0),a=this.Zr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.ri=e,this.docs=(function(){return new yt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let s=Is();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():mn.newInvalidDocument(a))})),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Is();const c=n.path,d=new xe(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||vP(yP(y),s)<=0||(a.has(y.key)||xd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ce(9500)}ii(e,n){return ae.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Kk(this)}getSize(e){return ae.resolve(this.size)}}class Kk extends Lk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.persistence=e,this.si=new La((n=>$y(n)),Yy),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new t0,this.targetCount=0,this.ai=tl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new tl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.ui={},this.overlays={},this.ci=new _d(0),this.li=!1,this.li=!0,this.hi=new Fk,this.referenceDelegate=e(this),this.Pi=new $k(this),this.indexManager=new Vk,this.remoteDocumentCache=(function(a){return new Gk(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Ik(n),this.Ii=new zk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Hk(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const a=new Yk(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ae.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Yk extends TP{constructor(e){super(),this.currentSequenceNumber=e}}class n0{constructor(e){this.persistence=e,this.Ri=new t0,this.Vi=null}static mi(e){return new n0(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(s=>{const a=xe.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nd{constructor(e,n){this.persistence=e,this.pi=new La((s=>xP(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=jk(this,n)}static mi(e,n){return new nd(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,l.removeEntry(c,Ve.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cf(e.data.value)),n}br(e,n,s){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Fe(),a=Fe();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new i0(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SI()?8:EP(gn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Qk;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Oo()<=ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Oo()<=ze.DEBUG&&ge("QueryEngine","Query:",jo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Oo()<=ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):ae.resolve())}ys(e,n){if(Nb(n))return ae.resolve(null);let s=zi(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Jf(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Fe(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,d);return this.Cs(n,p,c,m.readTime)?this.ys(e,Jf(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return Nb(n)||a.isEqual(Ve.min())?ae.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?ae.resolve(null):(Oo()<=ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jo(n)),this.vs(e,c,n,gP(a,tc)).next((d=>d)))}))}Ds(e,n){let s=new $t(mS(e));return n.forEach(((a,l)=>{xd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Oo()<=ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",jo(n)),this.ps.getDocumentsMatchingQuery(e,n,wr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="LocalStore",Wk=3e8;class Zk{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new yt(qe),this.xs=new La((l=>$y(l)),Yy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Jk(t,e,n,s){return new Zk(t,e,n,s)}async function US(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Fe();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function e4(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const T=p.batch,x=T.keys();let N=ae.resolve();return x.forEach((j=>{N=N.next((()=>y.getEntry(m,j))).next((P=>{const L=p.docVersions.get(j);We(L!==null,48541),P.version.compareTo(L)<0&&(T.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Fe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function BS(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function t4(t,e){const n=De(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((y,T)=>{const x=a.get(T);if(!x)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,T))));let N=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(un.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):y.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(y.resumeToken,s)),a=a.insert(T,N),(function(P,L,U){return P.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=Wk?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(x,N,y)&&d.push(n.Pi.updateTargetData(l,N))}));let m=Is(),p=Fe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(n4(l,c,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(Ve.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return ae.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function n4(t,e,n){let s=Fe(),a=Fe();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Is();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ve.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ge(s0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function i4(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Hy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function s4(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ae.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new yr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Gg(t,e,n){const s=De(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ml(c))throw c;ge(s0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function qb(t,e,n){const s=De(t);let a=Ve.min(),l=Fe();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const T=De(m),x=T.xs.get(y);return x!==void 0?ae.resolve(T.Ms.get(x)):T.Pi.getTargetData(p,y)})(s,c,zi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ve.min(),n?l:Fe()))).next((d=>(r4(s,FP(e),d),{documents:d,Qs:l})))))}function r4(t,e,n){let s=t.Os.get(e)||Ve.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class Fb{constructor(){this.activeTargetIds=QP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a4{constructor(){this.Mo=new Fb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Fb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="ConnectivityMonitor";class Gb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(Hb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(Hb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff=null;function Kg(){return ff===null?ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():ff++,"0x"+ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="RestConnection",l4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Qf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=Kg(),d=this.zo(e,n.toUriEncodedString());ge(tg,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),y=ul(p);return this.Jo(e,d,m,s,y).then((T=>(ge(tg,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw ec(tg,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=l4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class h4 extends u4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=Kg();return new Promise(((d,m)=>{const p=new zw;p.setWithCredentials(!0),p.listenOnce(qw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Rf.NO_ERROR:const T=p.getResponseJson();ge(dn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Rf.TIMEOUT:ge(dn,`RPC '${e}' ${c} timed out`),m(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:const x=p.getStatus();if(ge(dn,`RPC '${e}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const j=N?.error;if(j&&j.status&&j.message){const P=(function(U){const Y=U.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Y)>=0?Y:ne.UNKNOWN})(j.status);m(new pe(P,j.message))}else m(new pe(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(dn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);ge(dn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Kg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Gw(),d=Hw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ge(dn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);this.I_(T);let x=!1,N=!1;const j=new c4({Yo:L=>{N?ge(dn,`Not sending because RPC '${e}' stream ${a} is closed:`,L):(x||(ge(dn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),x=!0),ge(dn,`RPC '${e}' stream ${a} sending:`,L),T.send(L))},Zo:()=>T.close()}),P=(L,U,Y)=>{L.listen(U,(K=>{try{Y(K)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return P(T,Pu.EventType.OPEN,(()=>{N||(ge(dn,`RPC '${e}' stream ${a} transport opened.`),j.o_())})),P(T,Pu.EventType.CLOSE,(()=>{N||(N=!0,ge(dn,`RPC '${e}' stream ${a} transport closed`),j.a_(),this.E_(T))})),P(T,Pu.EventType.ERROR,(L=>{N||(N=!0,ec(dn,`RPC '${e}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),j.a_(new pe(ne.UNAVAILABLE,"The operation could not be completed")))})),P(T,Pu.EventType.MESSAGE,(L=>{if(!N){const U=L.data[0];We(!!U,16349);const Y=U,K=Y?.error||Y[0]?.error;if(K){ge(dn,`RPC '${e}' stream ${a} received error:`,K);const Z=K.status;let W=(function(S){const R=kt[S];if(R!==void 0)return SS(R)})(Z),oe=K.message;W===void 0&&(W=ne.INTERNAL,oe="Unknown error status: "+Z+" with message "+K.message),N=!0,j.a_(new pe(W,oe)),T.close()}else ge(dn,`RPC '${e}' stream ${a} received:`,U),j.u_(U)}})),P(d,Fw.STAT_EVENT,(L=>{L.stat===Pg.PROXY?ge(dn,`RPC '${e}' stream ${a} detected buffering proxy`):L.stat===Pg.NOPROXY&&ge(dn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){return new gk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="PersistentStream";class qS{constructor(e,n,s,a,l,c,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new pe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(Kb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(Kb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class f4 extends qS{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_k(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?qi(c.readTime):Ve.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Hg(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Ug(m)?{documents:bk(l,m)}:{query:VS(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=CS(l,c.resumeToken);const p=zg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ve.min())>0){d.readTime=td(l,c.snapshotVersion.toTimestamp());const p=zg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const s=Sk(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Hg(this.serializer),n.removeTarget=e,this.q_(n)}}class d4 extends qS{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Ek(e.writeResults,e.commitTime),s=qi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Hg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Tk(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{}class p4 extends m4{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,qg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(ne.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,qg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class g4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="RemoteStore";class y4{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ua(this)&&(ge(Pa,"Restarting streams for network reachability change."),await(async function(m){const p=De(m);p.Ea.add(4),await Cc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Cd(p)})(this))}))})),this.Ra=new g4(s,a)}}async function Cd(t){if(Ua(t))for(const e of t.da)await e(!0)}async function Cc(t){for(const e of t.da)await e(!1)}function FS(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),l0(n)?o0(n):pl(n).O_()&&a0(n,e))}function r0(t,e){const n=De(t),s=pl(n);n.Ia.delete(e),s.O_()&&HS(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ua(n)&&n.Ra.set("Unknown"))}function a0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(t).Y_(e)}function HS(t,e){t.Va.Ue(e),pl(t).Z_(e)}function o0(t){t.Va=new fk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pl(t).start(),t.Ra.ua()}function l0(t){return Ua(t)&&!pl(t).x_()&&t.Ia.size>0}function Ua(t){return De(t).Ea.size===0}function GS(t){t.Va=void 0}async function v4(t){t.Ra.set("Online")}async function _4(t){t.Ia.forEach(((e,n)=>{a0(t,e)}))}async function T4(t,e){GS(t),l0(t)?(t.Ra.ha(e),o0(t)):t.Ra.set("Unknown")}async function E4(t,e,n){if(t.Ra.set("Online"),e instanceof RS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){ge(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await id(t,s)}else if(e instanceof Df?t.Va.Ze(e):e instanceof AS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const s=await BS(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(un.EMPTY_BYTE_STRING,y.snapshotVersion)),HS(l,m);const T=new yr(y.target,m,p,y.sequenceNumber);a0(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){ge(Pa,"Failed to raise snapshot:",s),await id(t,s)}}async function id(t,e,n){if(!ml(e))throw e;t.Ea.add(1),await Cc(t),t.Ra.set("Offline"),n||(n=()=>BS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(Pa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cd(t)}))}function KS(t,e){return e().catch((n=>id(t,n,e)))}async function Nd(t){const e=De(t),n=Cr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hy;for(;b4(e);)try{const a=await i4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,x4(e,a)}catch(a){await id(e,a)}$S(e)&&YS(e)}function b4(t){return Ua(t)&&t.Ta.length<10}function x4(t,e){t.Ta.push(e);const n=Cr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function $S(t){return Ua(t)&&!Cr(t).x_()&&t.Ta.length>0}function YS(t){Cr(t).start()}async function w4(t){Cr(t).ra()}async function S4(t){const e=Cr(t);for(const n of t.Ta)e.ea(n.mutations)}async function A4(t,e,n){const s=t.Ta.shift(),a=Zy.from(s,e,n);await KS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Nd(t)}async function R4(t,e){e&&Cr(t).X_&&await(async function(s,a){if((function(c){return uk(c)&&c!==ne.ABORTED})(a.code)){const l=s.Ta.shift();Cr(s).B_(),await KS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Nd(s)}})(t,e),$S(t)&&YS(t)}async function $b(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),ge(Pa,"RemoteStore received new credentials");const s=Ua(n);n.Ea.add(3),await Cc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cd(n)}async function C4(t,e){const n=De(t);e?(n.Ea.delete(2),await Cd(n)):e||(n.Ea.add(2),await Cc(n),n.Ra.set("Unknown"))}function pl(t){return t.ma||(t.ma=(function(n,s,a){const l=De(n);return l.sa(),new f4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:v4.bind(null,t),t_:_4.bind(null,t),r_:T4.bind(null,t),H_:E4.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),l0(t)?o0(t):t.Ra.set("Unknown")):(await t.ma.stop(),GS(t))}))),t.ma}function Cr(t){return t.fa||(t.fa=(function(n,s,a){const l=De(n);return l.sa(),new d4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:w4.bind(null,t),r_:R4.bind(null,t),ta:S4.bind(null,t),na:A4.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Nd(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(Pa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new u0(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c0(t,e){if(Ns("AsyncQueue",`${e}: ${t}`),ml(t))return new pe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||xe.comparator(n.key,s.key):(n,s)=>xe.comparator(n.key,s.key),this.keyedMap=ku(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.ga=new yt(xe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class nl{constructor(e,n,s,a,l,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new nl(e,n,Yo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class I4{constructor(){this.queries=Qb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=De(n),l=a.queries;a.queries=Qb(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function Qb(){return new La((t=>dS(t)),bd)}async function QS(t,e){const n=De(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new N4,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=c0(c,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&h0(n)}async function XS(t,e){const n=De(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function D4(t,e){const n=De(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&h0(n)}function V4(t,e,n){const s=De(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function h0(t){t.Ca.forEach((e=>{e.next()}))}var $g,Xb;(Xb=$g||($g={})).Ma="default",Xb.Cache="cache";class WS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new nl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.key=e}}class JS{constructor(e){this.key=e}}class M4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=mS(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Yb,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,T)=>{const x=a.get(y),N=xd(this.query,T)?T:null,j=!!x&&this.mutatedKeys.has(x.key),P=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let L=!1;x&&N?x.data.isEqual(N.data)?j!==P&&(s.track({type:3,doc:N}),L=!0):this.su(x,N)||(s.track({type:2,doc:N}),L=!0,(m&&this.eu(N,m)>0||p&&this.eu(N,p)<0)&&(d=!0)):!x&&N?(s.track({type:0,doc:N}),L=!0):x&&!N&&(s.track({type:1,doc:x}),L=!0,(m||p)&&(d=!0)),L&&(N?(c=c.add(N),l=P?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,T)=>(function(N,j){const P=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:L})}};return P(N)-P(j)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new nl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new JS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new ZS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const f0="SyncEngine";class P4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class k4{constructor(e){this.key=e,this.hu=!1}}class O4{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new La((d=>dS(d)),bd),this.Iu=new Map,this.Eu=new Set,this.du=new yt(xe.comparator),this.Au=new Map,this.Ru=new t0,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function j4(t,e,n=!0){const s=rA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await eA(s,e,n,!0),a}async function L4(t,e){const n=rA(t);await eA(n,e,!0,!1)}async function eA(t,e,n,s){const a=await s4(t.localStore,zi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await U4(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&FS(t.remoteStore,a),d}async function U4(t,e,n,s,a){t.pu=(T,x,N)=>(async function(P,L,U,Y){let K=L.view.ru(U);K.Cs&&(K=await qb(P.localStore,L.query,!1).then((({documents:M})=>L.view.ru(M,K))));const Z=Y&&Y.targetChanges.get(L.targetId),W=Y&&Y.targetMismatches.get(L.targetId)!=null,oe=L.view.applyChanges(K,P.isPrimaryClient,Z,W);return Zb(P,L.targetId,oe.au),oe.snapshot})(t,T,x,N);const l=await qb(t.localStore,e,!0),c=new M4(e,l.Qs),d=c.ru(l.documents),m=Rc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,m);Zb(t,n,p.au);const y=new P4(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function B4(t,e,n){const s=De(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!bd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Gg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&r0(s.remoteStore,a.targetId),Yg(s,a.targetId)})).catch(dl)):(Yg(s,a.targetId),await Gg(s.localStore,a.targetId,!0))}async function z4(t,e){const n=De(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),r0(n.remoteStore,s.targetId))}async function q4(t,e,n){const s=Q4(t);try{const a=await(function(c,d){const m=De(c),p=ct.now(),y=d.reduce(((N,j)=>N.add(j.key)),Fe());let T,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let j=Is(),P=Fe();return m.Ns.getEntries(N,y).next((L=>{j=L,j.forEach(((U,Y)=>{Y.isValidDocument()||(P=P.add(U))}))})).next((()=>m.localDocuments.getOverlayedDocuments(N,j))).next((L=>{T=L;const U=[];for(const Y of d){const K=ik(Y,T.get(Y.key).overlayedDocument);K!=null&&U.push(new kr(Y.key,K,sS(K.value.mapValue),ai.exists(!0)))}return m.mutationQueue.addMutationBatch(N,p,U,d)})).next((L=>{x=L;const U=L.applyToLocalDocumentSet(T,P);return m.documentOverlayCache.saveOverlays(N,L.batchId,U)}))})).then((()=>({batchId:x.batchId,changes:gS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new yt(qe)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Nc(s,a.changes),await Nd(s.remoteStore)}catch(a){const l=c0(a,"Failed to persist write");n.reject(l)}}async function tA(t,e){const n=De(t);try{const s=await t4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?We(c.hu,14607):a.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))})),await Nc(n,s,e)}catch(s){await dl(s)}}function Wb(t,e,n){const s=De(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=De(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,T)=>{for(const x of T.Sa)x.va(d)&&(p=!0)})),p&&h0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function F4(t,e,n){const s=De(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new yt(xe.comparator);c=c.insert(l,mn.newNoDocument(l,Ve.min()));const d=Fe().add(l),m=new Ad(Ve.min(),new Map,new yt(qe),c,d);await tA(s,m),s.du=s.du.remove(l),s.Au.delete(e),d0(s)}else await Gg(s.localStore,e,!1).then((()=>Yg(s,e,n))).catch(dl)}async function H4(t,e){const n=De(t),s=e.batch.batchId;try{const a=await e4(n.localStore,e);iA(n,s,null),nA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nc(n,a)}catch(a){await dl(a)}}async function G4(t,e,n){const s=De(t);try{const a=await(function(c,d){const m=De(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((T=>(We(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(p,T)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);iA(s,e,n),nA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nc(s,a)}catch(a){await dl(a)}}function nA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function iA(t,e,n){const s=De(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Yg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||sA(t,s)}))}function sA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(r0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),d0(t))}function Zb(t,e,n){for(const s of n)s instanceof ZS?(t.Ru.addReference(s.key,e),K4(t,s)):s instanceof JS?(ge(f0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||sA(t,s.key)):Ce(19791,{wu:s})}function K4(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ge(f0,"New document in limbo: "+n),t.Eu.add(s),d0(t))}function d0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(ut.fromString(e)),s=t.fu.next();t.Au.set(s,new k4(n)),t.du=t.du.insert(n,s),FS(t.remoteStore,new yr(zi(Qy(n.path)),s,"TargetPurposeLimboResolution",_d.ce))}}async function Nc(t,e,n){const s=De(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=i0.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const y=De(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ae.forEach(p,(x=>ae.forEach(x.Es,(N=>y.persistence.referenceDelegate.addReference(T,x.targetId,N))).next((()=>ae.forEach(x.ds,(N=>y.persistence.referenceDelegate.removeReference(T,x.targetId,N)))))))))}catch(T){if(!ml(T))throw T;ge(s0,"Failed to update sequence numbers: "+T)}for(const T of p){const x=T.targetId;if(!T.fromCache){const N=y.Ms.get(x),j=N.snapshotVersion,P=N.withLastLimboFreeSnapshotVersion(j);y.Ms=y.Ms.insert(x,P)}}})(s.localStore,l))}async function $4(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){ge(f0,"User change. New user:",e.toKey());const s=await US(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new pe(ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nc(n,s.Ls)}}function Y4(t,e){const n=De(t),s=n.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let a=Fe();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function rA(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F4.bind(null,e),e.Pu.H_=D4.bind(null,e.eventManager),e.Pu.yu=V4.bind(null,e.eventManager),e}function Q4(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G4.bind(null,e),e}class sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Jk(this.persistence,new Xk,e.initialUser,this.serializer)}Cu(e){return new LS(n0.mi,this.serializer)}Du(e){return new a4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sd.provider={build:()=>new sd};class X4 extends sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof nd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new kk(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new LS((s=>nd.mi(s,n)),this.serializer)}}class Qg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$4.bind(null,this.syncEngine),await C4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new I4})()}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),s=(function(l){return new h4(l)})(e.databaseInfo);return(function(l,c,d,m){return new p4(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,d){return new y4(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>Wb(this.syncEngine,n,0)),(function(){return Gb.v()?new Gb:new o4})())}createSyncEngine(e,n){return(function(a,l,c,d,m,p,y){const T=new O4(a,l,c,d,m,p);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=De(n);ge(Pa,"RemoteStore shutting down."),s.Ea.add(5),await Cc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qg.provider={build:()=>new Qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="FirestoreClient";class W4{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Sn.UNAUTHENTICATED,this.clientId=Fy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ge(Nr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ge(Nr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=c0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ig(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Nr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await US(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Jb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z4(t);ge(Nr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>$b(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>$b(e.remoteStore,a))),t._onlineComponents=e}async function Z4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Nr,"Using user provided OfflineComponentProvider");try{await ig(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ec("Error using user provided cache. Falling back to memory cache: "+n),await ig(t,new sd)}}else ge(Nr,"Using default OfflineComponentProvider"),await ig(t,new X4(void 0));return t._offlineComponents}async function m0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Nr,"Using user provided OnlineComponentProvider"),await Jb(t,t._uninitializedComponentsProvider._online)):(ge(Nr,"Using default OnlineComponentProvider"),await Jb(t,new Qg))),t._onlineComponents}function J4(t){return m0(t).then((e=>e.syncEngine))}function eO(t){return m0(t).then((e=>e.datastore))}async function oA(t){const e=await m0(t),n=e.eventManager;return n.onListen=j4.bind(null,e.syncEngine),n.onUnlisten=B4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z4.bind(null,e.syncEngine),n}function tO(t,e,n={}){const s=new Bi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new aA({next:x=>{y.Nu(),c.enqueueAndForget((()=>XS(l,T)));const N=x.docs.has(d);!N&&x.fromCache?p.reject(new pe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&x.fromCache&&m&&m.source==="server"?p.reject(new pe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),T=new WS(Qy(d.path),y,{includeMetadataChanges:!0,qa:!0});return QS(l,T)})(await oA(t),t.asyncQueue,e,n,s))),s.promise}function nO(t,e,n={}){const s=new Bi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new aA({next:x=>{y.Nu(),c.enqueueAndForget((()=>XS(l,T))),x.fromCache&&m.source==="server"?p.reject(new pe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),T=new WS(d,y,{includeMetadataChanges:!0,qa:!0});return QS(l,T)})(await oA(t),t.asyncQueue,e,n,s))),s.promise}function iO(t,e,n){const s=new Bi;return t.asyncQueue.enqueueAndForget((async()=>{try{const a=await eO(t);s.resolve((async function(c,d,m){const p=De(c),{request:y,gt:T,parent:x}=xk(p.serializer,qP(d),m);p.connection.$o||delete y.parent;const N=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,x,y,1)).filter((P=>!!P.result));We(N.length===1,64727);const j=N[0].result?.aggregateFields;return Object.keys(j).reduce(((P,L)=>(P[T[L]]=j[L],P)),{})})(a,e,n))}catch(a){s.reject(a)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="firestore.googleapis.com",tx=!0;class nx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sO,this.ssl=tx}else this.host=e.host,this.ssl=e.ssl??tx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jS)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class p0{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new aP;switch(s.type){case"firstParty":return new uP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=ex.get(n);s&&(ge("ComponentProvider","Removing Datastore"),ex.delete(n),s.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ba(this.firestore,e,this._query)}}class Kt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wc(n,Kt._jsonSchema))return new Kt(e,s||null,new xe(ut.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Lt("string",Kt._jsonSchemaVersion),referencePath:Lt("string")};class xr extends Ba{constructor(e,n,s){super(e,n,Qy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new xe(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function Ue(t,e,...n){if(t=Ut(t),$w("collection","path",e),t instanceof p0){const s=ut.fromString(e,...n);return pb(s),new xr(t,null,s)}{if(!(t instanceof Kt||t instanceof xr))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ut.fromString(e,...n));return pb(s),new xr(t.firestore,null,s)}}function xa(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=Fy.newId()),$w("doc","path",e),t instanceof p0){const s=ut.fromString(e,...n);return mb(s),new Kt(t,null,new xe(s))}{if(!(t instanceof Kt||t instanceof xr))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ut.fromString(e,...n));return mb(s),new Kt(t.firestore,t instanceof xr?t.converter:null,new xe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="AsyncQueue";class sx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zS(this,"async_queue_retry"),this._c=()=>{const s=ng();s&&ge(ix,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ng();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Bi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;ge(ix,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",rx(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=u0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ce(47125,{Pc:rx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class gl extends p0{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new sx,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sx(e),this._firestoreClient=void 0,await e}}}function rO(t,e,n){n||(n=Qf);const s=Dy(t,"firestore");if(s.isInitialized(n)){const a=s.getImmediate({identifier:n}),l=s.getOptions(n);if(Ca(l,e))return a;throw new pe(ne.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new pe(ne.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jS)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&ul(e.host)&&J1(e.host),s.initialize({options:e,instanceIdentifier:n})}function Ic(t){if(t._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aO(t),t._firestoreClient}function aO(t){const e=t._freezeSettings(),n=(function(a,l,c,d){return new RP(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,lA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new W4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class lO{constructor(e,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(un.fromBase64String(e))}catch(n){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ri(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wc(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Lt("string",ri._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(wc(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Lt("string",Fi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wc(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Hi(e.vectorValues);throw new pe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Lt("string",Hi._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=/^__.*__$/;class cO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new kr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}class uA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new kr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class g0{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new g0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(cA(this.Ac)&&uO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Rd(e)}Cc(e,n,s,a=!1){return new g0({Ac:e,methodName:n,Dc:s,path:ln.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function y0(t){const e=t._freezeSettings(),n=Rd(t._databaseId);return new hO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hA(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);_0("Data must be an object, but it was:",c,s);const d=fA(s,c);let m,p;if(l.merge)m=new zn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const x=Xg(e,T,n);if(!c.contains(x))throw new pe(ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);mA(y,x)||y.push(x)}m=new zn(y),p=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,p=c.fieldTransforms;return new cO(new Cn(d),m,p)}class Vd extends Dd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vd}}class v0 extends Dd{_toFieldTransform(e){return new JP(e.path,new rc)}isEqual(e){return e instanceof v0}}function fO(t,e,n,s){const a=t.Cc(1,e,n);_0("Data must be an object, but it was:",a,s);const l=[],c=Cn.empty();Pr(s,((m,p)=>{const y=T0(e,m,n);p=Ut(p);const T=a.yc(y);if(p instanceof Vd)l.push(y);else{const x=Dc(p,T);x!=null&&(l.push(y),c.set(y,x))}}));const d=new zn(l);return new uA(c,d,a.fieldTransforms)}function dO(t,e,n,s,a,l){const c=t.Cc(1,e,n),d=[Xg(e,s,n)],m=[a];if(l.length%2!=0)throw new pe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)d.push(Xg(e,l[x])),m.push(l[x+1]);const p=[],y=Cn.empty();for(let x=d.length-1;x>=0;--x)if(!mA(p,d[x])){const N=d[x];let j=m[x];j=Ut(j);const P=c.yc(N);if(j instanceof Vd)p.push(N);else{const L=Dc(j,P);L!=null&&(p.push(N),y.set(N,L))}}const T=new zn(p);return new uA(y,T,c.fieldTransforms)}function mO(t,e,n,s=!1){return Dc(n,t.Cc(s?4:3,e))}function Dc(t,e){if(dA(t=Ut(t)))return _0("Unsupported field value:",e,t),fA(t,e);if(t instanceof Dd)return(function(s,a){if(!cA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=Dc(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return XP(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ct.fromDate(s);return{timestampValue:td(a.serializer,l)}}if(s instanceof ct){const l=new ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:td(a.serializer,l)}}if(s instanceof Fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ri)return{bytesValue:CS(a.serializer,s._byteString)};if(s instanceof Kt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:e0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Hi)return(function(c,d){return{mapValue:{fields:{[nS]:{stringValue:iS},[Xf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Xy(d.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${vd(s)}`)})(t,e)}function fA(t,e){const n={};return Xw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pr(t,((s,a)=>{const l=Dc(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function dA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof Fi||t instanceof ri||t instanceof Kt||t instanceof Dd||t instanceof Hi)}function _0(t,e,n){if(!dA(n)||!Yw(n)){const s=vd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Xg(t,e,n){if((e=Ut(e))instanceof Id)return e._internalPath;if(typeof e=="string")return T0(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const pO=new RegExp("[~\\*/\\[\\]]");function T0(t,e,n){if(e.search(pO)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Id(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new pe(ne.INVALID_ARGUMENT,d+t+m)}function mA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gO extends pA{data(){return super.data()}}function E0(t,e){return typeof e=="string"?T0(t,e):e instanceof Id?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b0{}class gA extends b0{}function Bn(t,e,...n){let s=[];e instanceof b0&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof x0)).length,d=l.filter((m=>m instanceof Md)).length;if(c>1||c>0&&d>0)throw new pe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Md extends gA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Md(e,n,s)}_apply(e){const n=this._parse(e);return vA(e._query,n),new Ba(e.firestore,e.converter,Bg(e._query,n))}_parse(e){const n=y0(e.firestore);return(function(l,c,d,m,p,y,T){let x;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){ox(T,y);const j=[];for(const P of T)j.push(ax(m,l,P));x={arrayValue:{values:j}}}else x=ax(m,l,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||ox(T,y),x=mO(d,c,T,y==="in"||y==="not-in");return jt.create(p,y,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rn(t,e,n){const s=e,a=E0("where",t);return Md._create(a,s,n)}class x0 extends b0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new x0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)vA(c,m),c=Bg(c,m)})(e._query,n),new Ba(e.firestore,e.converter,Bg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class w0 extends gA{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new w0(e,n,s)}_apply(e){return new Ba(e.firestore,e.converter,Jf(e._query,this._limit,this._limitType))}}function yA(t){return w0._create("limit",t,"F")}function ax(t,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new pe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hS(e)&&n.indexOf("/")!==-1)throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ut.fromString(n));if(!xe.isDocumentKey(s))throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xb(t,new xe(s))}if(n instanceof Kt)return xb(t,n._key);throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(n)}.`)}function ox(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vA(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vO{convertValue(e,n="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Pr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Xf].arrayValue?.values?.map((s=>Rt(s.doubleValue)));return new Hi(n)}convertGeoPoint(e){return new Fi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ed(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const n=Sr(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);We(kS(s),9688,{name:e});const a=new ic(s.get(1),s.get(3)),l=new xe(s.popFirst(5));return a.isEqual(n)||Ns(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}function _O(){return new oO("count")}class ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wa extends pA{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(E0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:Lt("string",wa._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Vf extends wa{data(e={}){return super.data(e)}}class Qo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ju(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Vf(this._firestore,this._userDataWriter,s.key,s,new ju(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ju(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ju(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:TO(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t){t=Ma(t,Kt);const e=Ma(t.firestore,gl);return tO(Ic(e),t._key).then((n=>EO(e,t,n)))}Qo._jsonSchemaVersion="firestore/querySnapshot/1.0",Qo._jsonSchema={type:Lt("string",Qo._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class A0 extends vO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function lt(t){t=Ma(t,Ba);const e=Ma(t.firestore,gl),n=Ic(e),s=new A0(e);return yO(t._query),nO(n,t._query).then((a=>new Qo(e,s,t,a)))}function ji(t,e){const n=Ma(t.firestore,gl),s=xa(t),a=_A(t.converter,e);return TA(n,[hA(y0(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,ai.exists(!1))]).then((()=>s))}function TA(t,e){return(function(s,a){const l=new Bi;return s.asyncQueue.enqueueAndForget((async()=>q4(await J4(s),a,l))),l.promise})(Ic(t),e)}function EO(t,e,n){const s=n.docs.get(e._key),a=new A0(t);return new wa(t,a,e._key,s,new ju(n.hasPendingWrites,n.fromCache),e.converter)}function lx(t){return bO(t,{count:_O()})}function bO(t,e){const n=Ma(t.firestore,gl),s=Ic(n),a=SP(e,((l,c)=>new ok(c,l.aggregateType,l._internalFieldPath)));return iO(s,t._query,a).then((l=>(function(d,m,p){const y=new A0(d);return new lO(m,y,p)})(n,t,l)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=y0(e)}set(e,n,s){this._verifyNotCommitted();const a=sg(e,this._firestore),l=_A(a.converter,n,s),c=hA(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,ai.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=sg(e,this._firestore);let c;return c=typeof(n=Ut(n))=="string"||n instanceof Id?dO(this._dataReader,"WriteBatch.update",l._key,n,s,a):fO(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,ai.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=sg(e,this._firestore);return this._mutations=this._mutations.concat(new Wy(n._key,ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pe(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sg(t,e){if((t=Ut(t)).firestore!==e)throw new pe(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function vr(){return new v0("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){return Ic(t=Ma(t,gl)),new xO(t,(e=>TA(t,e)))}(function(e,n=!0){(function(a){fl=a})(cl),Wo(new Na("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new gl(new oP(s.getProvider("auth-internal")),new cP(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Er(cb,hb,e),Er(cb,hb,"esm2020")})();const EA={apiKey:"AIzaSyDUCyCMuw1WxUsO52rf3K5a01CRbI2Qgrg",authDomain:"stdserver-94bec.firebaseapp.com",projectId:"stdserver-94bec",storageBucket:"stdserver-94bec.firebasestorage.app",messagingSenderId:"104857912312",appId:"1:104857912312:web:0f9468476fec38151acc0d",measurementId:"G-B4RR6XWWDK"},bA=Vy(EA),ad=Uw(bA),SO=Vy(EA,"Secondary"),AO=Uw(SO),Me=rO(bA,{experimentalAutoDetectLongPolling:!0}),xA=I.createContext(void 0);function RO({children:t}){const[e,n]=I.useState(null),[s,a]=I.useState(!0);I.useEffect(()=>{const p=GV(ad,y=>{n(y),a(!1)});return()=>p()},[]);const m={user:e,loading:s,startLoading:()=>a(!0),stopLoading:()=>a(!1),signOut:()=>KV(ad)};return _.jsx(xA.Provider,{value:m,children:s?_.jsx("div",{className:"flex h-screen items-center justify-center bg-[#0d0d0d]",children:_.jsx("p",{className:"text-gray-400",children:"Ykleniyor"})}):t})}function Pd(){const t=I.useContext(xA);if(!t)throw new Error("useAuth, AuthProvider iinde kullanlmaldr.");return t}/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),ux=t=>{const e=NO(t);return e.charAt(0).toUpperCase()+e.slice(1)},wA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),IO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>I.createElement("svg",{ref:m,...DO,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:wA("lucide",a),...!l&&!IO(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>I.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const n=I.forwardRef(({className:s,...a},l)=>I.createElement(VO,{ref:l,iconNode:e,className:wA(`lucide-${CO(ux(t))}`,`lucide-${t}`,s),...a}));return n.displayName=ux(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lc=vt("book-open",MO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],kO=vt("calendar-clock",PO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],R0=vt("chart-column",OO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SA=vt("chevron-down",jO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Sa=vt("clipboard-list",LO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],yl=vt("external-link",UO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],zO=vt("eye-off",BO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FO=vt("eye",qO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],C0=vt("file-text",HO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],KO=vt("funnel",GO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Wg=vt("layers",$O);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],QO=vt("lock",YO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],WO=vt("mail",XO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],JO=vt("presentation",ZO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],t3=vt("refresh-cw",e3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],i3=vt("search",n3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AA=vt("send",s3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cx=vt("square-check-big",r3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 7v10",key:"d5nglc"}],["path",{d:"M11 7v10",key:"pptsnr"}],["path",{d:"m15 7 2 10",key:"1m7qm5"}]],N0=vt("square-library",a3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],hx=vt("square",o3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],u3=vt("target",l3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],h3=vt("user-round",c3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zg=vt("users",f3),d3="/assets/logo-BMvlc10b.png",RA=I.createContext({});function m3(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const I0=typeof window<"u",p3=I0?I.useLayoutEffect:I.useEffect,D0=I.createContext(null);function V0(t,e){t.indexOf(e)===-1&&t.push(e)}function M0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ds=(t,e,n)=>n>e?e:n<t?t:n;let P0=()=>{};const Vs={},CA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function NA(t){return typeof t=="object"&&t!==null}const IA=t=>/^0[^.\s]+$/u.test(t);function k0(t){let e;return()=>(e===void 0&&(e=t()),e)}const oi=t=>t,g3=(t,e)=>n=>e(t(n)),Vc=(...t)=>t.reduce(g3),uc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class O0{constructor(){this.subscriptions=[]}add(e){return V0(this.subscriptions,e),()=>M0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gi=t=>t*1e3,Ki=t=>t/1e3;function DA(t,e){return e?t*(1e3/e):0}const VA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,y3=1e-7,v3=12;function _3(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=VA(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>y3&&++d<v3);return c}function Mc(t,e,n,s){if(t===e&&n===s)return oi;const a=l=>_3(l,0,1,t,n);return l=>l===0||l===1?l:VA(a(l),e,s)}const MA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,PA=t=>e=>1-t(1-e),kA=Mc(.33,1.53,.69,.99),j0=PA(kA),OA=MA(j0),jA=t=>(t*=2)<1?.5*j0(t):.5*(2-Math.pow(2,-10*(t-1))),L0=t=>1-Math.sin(Math.acos(t)),LA=PA(L0),UA=MA(L0),T3=Mc(.42,0,1,1),E3=Mc(0,0,.58,1),BA=Mc(.42,0,.58,1),b3=t=>Array.isArray(t)&&typeof t[0]!="number",zA=t=>Array.isArray(t)&&typeof t[0]=="number",x3={linear:oi,easeIn:T3,easeInOut:BA,easeOut:E3,circIn:L0,circInOut:UA,circOut:LA,backIn:j0,backInOut:OA,backOut:kA,anticipate:jA},w3=t=>typeof t=="string",fx=t=>{if(zA(t)){P0(t.length===4);const[e,n,s,a]=t;return Mc(e,n,s,a)}else if(w3(t))return x3[t];return t},df=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function S3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,T=!1,x=!1)=>{const j=x&&a?n:s;return T&&c.add(y),j.has(y)||j.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const A3=40;function qA(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=df.reduce((K,Z)=>(K[Z]=S3(l),K),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:T,preRender:x,render:N,postRender:j}=c,P=()=>{const K=Vs.useManualTiming?a.timestamp:performance.now();n=!1,Vs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(K-a.timestamp,A3),1)),a.timestamp=K,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),T.process(a),x.process(a),N.process(a),j.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(P))},L=()=>{n=!0,s=!0,a.isProcessing||t(P)};return{schedule:df.reduce((K,Z)=>{const W=c[Z];return K[Z]=(oe,M=!1,S=!1)=>(n||L(),W.schedule(oe,M,S)),K},{}),cancel:K=>{for(let Z=0;Z<df.length;Z++)c[df[Z]].cancel(K)},state:a,steps:c}}const{schedule:dt,cancel:Ir,state:an,steps:rg}=qA(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let Mf;function R3(){Mf=void 0}const Nn={now:()=>(Mf===void 0&&Nn.set(an.isProcessing||Vs.useManualTiming?an.timestamp:performance.now()),Mf),set:t=>{Mf=t,queueMicrotask(R3)}},FA=t=>e=>typeof e=="string"&&e.startsWith(t),U0=FA("--"),C3=FA("var(--"),B0=t=>C3(t)?N3.test(t.split("/*")[0].trim()):!1,N3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cc={...vl,transform:t=>Ds(0,1,t)},mf={...vl,default:1},Gu=t=>Math.round(t*1e5)/1e5,z0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function I3(t){return t==null}const D3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,q0=(t,e)=>n=>!!(typeof n=="string"&&D3.test(n)&&n.startsWith(t)||e&&!I3(n)&&Object.prototype.hasOwnProperty.call(n,e)),HA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(z0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},V3=t=>Ds(0,255,t),ag={...vl,transform:t=>Math.round(V3(t))},Ea={test:q0("rgb","red"),parse:HA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ag.transform(t)+", "+ag.transform(e)+", "+ag.transform(n)+", "+Gu(cc.transform(s))+")"};function M3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Jg={test:q0("#"),parse:M3,transform:Ea.transform},Pc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),hr=Pc("deg"),$i=Pc("%"),Ie=Pc("px"),P3=Pc("vh"),k3=Pc("vw"),dx={...$i,parse:t=>$i.parse(t)/100,transform:t=>$i.transform(t*100)},Bo={test:q0("hsl","hue"),parse:HA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+$i.transform(Gu(e))+", "+$i.transform(Gu(n))+", "+Gu(cc.transform(s))+")"},Ot={test:t=>Ea.test(t)||Jg.test(t)||Bo.test(t),parse:t=>Ea.test(t)?Ea.parse(t):Bo.test(t)?Bo.parse(t):Jg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ea.transform(t):Bo.transform(t),getAnimatableNone:t=>{const e=Ot.parse(t);return e.alpha=0,Ot.transform(e)}},O3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function j3(t){return isNaN(t)&&typeof t=="string"&&(t.match(z0)?.length||0)+(t.match(O3)?.length||0)>0}const GA="number",KA="color",L3="var",U3="var(",mx="${}",B3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(B3,m=>(Ot.test(m)?(s.color.push(l),a.push(KA),n.push(Ot.parse(m))):m.startsWith(U3)?(s.var.push(l),a.push(L3),n.push(m)):(s.number.push(l),a.push(GA),n.push(parseFloat(m))),++l,mx)).split(mx);return{values:n,split:d,indexes:s,types:a}}function $A(t){return hc(t).values}function YA(t){const{split:e,types:n}=hc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===GA?l+=Gu(a[c]):d===KA?l+=Ot.transform(a[c]):l+=a[c]}return l}}const z3=t=>typeof t=="number"?0:Ot.test(t)?Ot.getAnimatableNone(t):t;function q3(t){const e=$A(t);return YA(t)(e.map(z3))}const Dr={test:j3,parse:$A,createTransformer:YA,getAnimatableNone:q3};function og(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function F3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=og(m,d,t+1/3),l=og(m,d,t),c=og(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function od(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,lg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},H3=[Jg,Ea,Bo],G3=t=>H3.find(e=>e.test(t));function px(t){const e=G3(t);if(!e)return!1;let n=e.parse(t);return e===Bo&&(n=F3(n)),n}const gx=(t,e)=>{const n=px(t),s=px(e);if(!n||!s)return od(t,e);const a={...n};return l=>(a.red=lg(n.red,s.red,l),a.green=lg(n.green,s.green,l),a.blue=lg(n.blue,s.blue,l),a.alpha=gt(n.alpha,s.alpha,l),Ea.transform(a))},ey=new Set(["none","hidden"]);function K3(t,e){return ey.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $3(t,e){return n=>gt(t,e,n)}function F0(t){return typeof t=="number"?$3:typeof t=="string"?B0(t)?od:Ot.test(t)?gx:X3:Array.isArray(t)?QA:typeof t=="object"?Ot.test(t)?gx:Y3:od}function QA(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>F0(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function Y3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=F0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function Q3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const X3=(t,e)=>{const n=Dr.createTransformer(e),s=hc(t),a=hc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?ey.has(t)&&!a.values.length||ey.has(e)&&!s.values.length?K3(t,e):Vc(QA(Q3(s,a),a.values),n):od(t,e)};function XA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):F0(t)(t,e)}const W3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Ir(e),now:()=>an.isProcessing?an.timestamp:Nn.now()}},WA=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ld=2e4;function H0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ld;)e+=n,s=t.next(e);return e>=ld?1/0:e}function Z3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(H0(s),ld);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Ki(a)}}const J3=5;function ZA(t,e,n){const s=Math.max(e-J3,0);return DA(n-t(s),e-s)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ug=.001;function ej({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:s=bt.mass}){let a,l,c=1-e;c=Ds(bt.minDamping,bt.maxDamping,c),t=Ds(bt.minDuration,bt.maxDuration,Ki(t)),c<1?(a=p=>{const y=p*c,T=y*t,x=y-n,N=ty(p,c),j=Math.exp(-T);return ug-x/N*j},l=p=>{const T=p*c*t,x=T*n+n,N=Math.pow(c,2)*Math.pow(p,2)*t,j=Math.exp(-T),P=ty(Math.pow(p,2),c);return(-a(p)+ug>0?-1:1)*((x-N)*j)/P}):(a=p=>{const y=Math.exp(-p*t),T=(p-n)*t+1;return-ug+y*T},l=p=>{const y=Math.exp(-p*t),T=(n-p)*(t*t);return y*T});const d=5/t,m=nj(a,l,d);if(t=Gi(t),isNaN(m))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const tj=12;function nj(t,e,n){let s=n;for(let a=1;a<tj;a++)s=s-t(s)/e(s);return s}function ty(t,e){return t*Math.sqrt(1-e*e)}const ij=["duration","bounce"],sj=["stiffness","damping","mass"];function yx(t,e){return e.some(n=>t[n]!==void 0)}function rj(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!yx(t,sj)&&yx(t,ij))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ds(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const n=ej(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function ud(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:T,velocity:x,isResolvedFromDuration:N}=rj({...n,velocity:-Ki(n.velocity||0)}),j=x||0,P=p/(2*Math.sqrt(m*y)),L=c-l,U=Ki(Math.sqrt(m/y)),Y=Math.abs(L)<5;s||(s=Y?bt.restSpeed.granular:bt.restSpeed.default),a||(a=Y?bt.restDelta.granular:bt.restDelta.default);let K;if(P<1){const W=ty(U,P);K=oe=>{const M=Math.exp(-P*U*oe);return c-M*((j+P*U*L)/W*Math.sin(W*oe)+L*Math.cos(W*oe))}}else if(P===1)K=W=>c-Math.exp(-U*W)*(L+(j+U*L)*W);else{const W=U*Math.sqrt(P*P-1);K=oe=>{const M=Math.exp(-P*U*oe),S=Math.min(W*oe,300);return c-M*((j+P*U*L)*Math.sinh(S)+W*L*Math.cosh(S))/W}}const Z={calculatedDuration:N&&T||null,next:W=>{const oe=K(W);if(N)d.done=W>=T;else{let M=W===0?j:0;P<1&&(M=W===0?Gi(j):ZA(K,W,oe));const S=Math.abs(M)<=s,R=Math.abs(c-oe)<=a;d.done=S&&R}return d.value=d.done?c:oe,d},toString:()=>{const W=Math.min(H0(Z),ld),oe=WA(M=>Z.next(W*M).value,W,30);return W+"ms "+oe},toTransition:()=>{}};return Z}ud.applyToOptions=t=>{const e=Z3(t,100,ud);return t.ease=e.ease,t.duration=Gi(e.duration),t.type="keyframes",t};function ny({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const T=t[0],x={done:!1,value:T},N=S=>d!==void 0&&S<d||m!==void 0&&S>m,j=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let P=n*e;const L=T+P,U=c===void 0?L:c(L);U!==L&&(P=U-T);const Y=S=>-P*Math.exp(-S/s),K=S=>U+Y(S),Z=S=>{const R=Y(S),D=K(S);x.done=Math.abs(R)<=p,x.value=x.done?U:D};let W,oe;const M=S=>{N(x.value)&&(W=S,oe=ud({keyframes:[x.value,j(x.value)],velocity:ZA(K,S,x.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return M(0),{calculatedDuration:null,next:S=>{let R=!1;return!oe&&W===void 0&&(R=!0,Z(S),M(S)),W!==void 0&&S>=W?oe.next(S-W):(!R&&Z(S),x)}}}function aj(t,e,n){const s=[],a=n||Vs.mix||XA,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||oi:e;d=Vc(m,d)}s.push(d)}return s}function oj(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(P0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=aj(e,s,a),m=d.length,p=y=>{if(c&&y<t[0])return e[0];let T=0;if(m>1)for(;T<t.length-2&&!(y<t[T+1]);T++);const x=uc(t[T],t[T+1],y);return d[T](x)};return n?y=>p(Ds(t[0],t[l-1],y)):p}function lj(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=uc(0,e,s);t.push(gt(n,1,a))}}function uj(t){const e=[0];return lj(e,t.length-1),e}function cj(t,e){return t.map(n=>n*e)}function hj(t,e){return t.map(()=>e||BA).splice(0,t.length-1)}function Ku({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=b3(s)?s.map(fx):fx(s),l={done:!1,value:e[0]},c=cj(n&&n.length===e.length?n:uj(e),t),d=oj(c,e,{ease:Array.isArray(a)?a:hj(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const fj=t=>t!==null;function G0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(fj),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const dj={decay:ny,inertia:ny,tween:Ku,keyframes:Ku,spring:ud};function JA(t){typeof t.type=="string"&&(t.type=dj[t.type])}class K0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const mj=t=>t/100;class $0 extends K0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;JA(e);const{type:n=Ku,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const m=n||Ku;m!==Ku&&typeof d[0]!="number"&&(this.mixKeyframes=Vc(mj,XA(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=H0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:T,repeatType:x,repeatDelay:N,type:j,onUpdate:P,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,Z=s;if(T){const S=Math.min(this.currentTime,a)/d;let R=Math.floor(S),D=S%1;!D&&S>=1&&(D=1),D===1&&R--,R=Math.min(R,T+1),!!(R%2)&&(x==="reverse"?(D=1-D,N&&(D-=N/d)):x==="mirror"&&(Z=c)),K=Ds(0,1,D)*d}const W=Y?{done:!1,value:y[0]}:Z.next(K);l&&(W.value=l(W.value));let{done:oe}=W;!Y&&m!==null&&(oe=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return M&&j!==ny&&(W.value=G0(y,this.options,L,this.speed)),P&&P(W.value),M&&this.finish(),W}then(e,n){return this.finished.then(e,n)}get duration(){return Ki(this.calculatedDuration)}get time(){return Ki(this.currentTime)}set time(e){e=Gi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ki(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=W3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function pj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ba=t=>t*180/Math.PI,iy=t=>{const e=ba(Math.atan2(t[1],t[0]));return sy(e)},gj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:iy,rotateZ:iy,skewX:t=>ba(Math.atan(t[1])),skewY:t=>ba(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sy=t=>(t=t%360,t<0&&(t+=360),t),vx=iy,_x=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Tx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),yj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_x,scaleY:Tx,scale:t=>(_x(t)+Tx(t))/2,rotateX:t=>sy(ba(Math.atan2(t[6],t[5]))),rotateY:t=>sy(ba(Math.atan2(-t[2],t[0]))),rotateZ:vx,rotate:vx,skewX:t=>ba(Math.atan(t[4])),skewY:t=>ba(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ry(t){return t.includes("scale")?1:0}function ay(t,e){if(!t||t==="none")return ry(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=yj,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=gj,a=d}if(!a)return ry(e);const l=s[e],c=a[1].split(",").map(_j);return typeof l=="function"?l(c):c[l]}const vj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ay(n,e)};function _j(t){return parseFloat(t.trim())}const _l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tl=new Set(_l),Ex=t=>t===vl||t===Ie,Tj=new Set(["x","y","z"]),Ej=_l.filter(t=>!Tj.has(t));function bj(t){const e=[];return Ej.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Aa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ay(e,"x"),y:(t,{transform:e})=>ay(e,"y")};Aa.translateX=Aa.x;Aa.translateY=Aa.y;const Ra=new Set;let oy=!1,ly=!1,uy=!1;function eR(){if(ly){const t=Array.from(Ra).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=bj(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ly=!1,oy=!1,Ra.forEach(t=>t.complete(uy)),Ra.clear()}function tR(){Ra.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ly=!0)})}function xj(){uy=!0,tR(),eR(),uy=!1}class Y0{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ra.add(this),oy||(oy=!0,dt.read(tR),dt.resolveKeyframes(eR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}pj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ra.delete(this)}cancel(){this.state==="scheduled"&&(Ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const wj=t=>t.startsWith("--");function Sj(t,e,n){wj(e)?t.style.setProperty(e,n):t.style[e]=n}const Aj=k0(()=>window.ScrollTimeline!==void 0),Rj={};function Cj(t,e){const n=k0(t);return()=>Rj[e]??n()}const nR=Cj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,bx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lu([0,.65,.55,1]),circOut:Lu([.55,0,1,.45]),backIn:Lu([.31,.01,.66,-.59]),backOut:Lu([.33,1.53,.69,.99])};function iR(t,e){if(t)return typeof t=="function"?nR()?WA(t,e):"ease-out":zA(t)?Lu(t):Array.isArray(t)?t.map(n=>iR(n,e)||bx.easeOut):bx[t]}function Nj(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const T=iR(d,a);Array.isArray(T)&&(y.easing=T);const x={delay:s,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(y,x)}function sR(t){return typeof t=="function"&&"applyToOptions"in t}function Ij({type:t,...e}){return sR(t)&&nR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Dj extends K0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,P0(typeof e.type!="string");const p=Ij(e);this.animation=Nj(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=G0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):Sj(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ki(Number(e))}get time(){return Ki(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Gi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Aj()?(this.animation.timeline=e,oi):n(this)}}const rR={anticipate:jA,backInOut:OA,circInOut:UA};function Vj(t){return t in rR}function Mj(t){typeof t.ease=="string"&&Vj(t.ease)&&(t.ease=rR[t.ease])}const xx=10;class Pj extends Dj{constructor(e){Mj(e),JA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new $0({...c,autoplay:!1}),m=Gi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-xx).value,d.sample(m).value,xx),d.stop()}}const wx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Dr.test(t)||t==="0")&&!t.startsWith("url("));function kj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Oj(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=wx(a,e),d=wx(l,e);return!c||!d?!1:kj(t)||(n==="spring"||sR(n))&&s}function cy(t){t.duration=0,t.type}const jj=new Set(["opacity","clipPath","filter","transform"]),Lj=k0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Uj(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return Lj()&&n&&jj.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const Bj=40;class zj extends K0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Nn.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,...T},N=y?.KeyframeResolver||Y0;this.keyframeResolver=new N(d,(j,P,L)=>this.onKeyframesResolved(j,P,x,!L),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Nn.now(),Oj(e,l,c,d)||((Vs.instantAnimations||!m)&&y?.(G0(e,s,n)),e[0]=e[e.length-1],cy(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Bj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},N=!p&&Uj(x)?new Pj({...x,element:x.motionValue.owner.current}):new $0(x);N.finished.then(()=>this.notifyFinished()).catch(oi),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),xj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const qj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Fj(t){const e=qj.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function aR(t,e,n=1){const[s,a]=Fj(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return CA(c)?parseFloat(c):c}return B0(a)?aR(a,e,n+1):a}function Q0(t,e){return t?.[e]??t?.default??t}const oR=new Set(["width","height","top","left","right","bottom",..._l]),Hj={test:t=>t==="auto",parse:t=>t},lR=t=>e=>e.test(t),uR=[vl,Ie,$i,hr,k3,P3,Hj],Sx=t=>uR.find(lR(t));function Gj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||IA(t):!0}const Kj=new Set(["brightness","contrast","saturate","opacity"]);function $j(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(z0)||[];if(!s)return t;const a=n.replace(s,"");let l=Kj.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const Yj=/\b([a-z-]*)\(.*?\)/gu,hy={...Dr,getAnimatableNone:t=>{const e=t.match(Yj);return e?e.map($j).join(" "):t}},Ax={...vl,transform:Math.round},Qj={rotate:hr,rotateX:hr,rotateY:hr,rotateZ:hr,scale:mf,scaleX:mf,scaleY:mf,scaleZ:mf,skew:hr,skewX:hr,skewY:hr,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:cc,originX:dx,originY:dx,originZ:Ie},X0={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...Qj,zIndex:Ax,fillOpacity:cc,strokeOpacity:cc,numOctaves:Ax},Xj={...X0,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:hy,WebkitFilter:hy},cR=t=>Xj[t];function hR(t,e){let n=cR(t);return n!==hy&&(n=Dr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Wj=new Set(["auto","none","0"]);function Zj(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!Wj.has(l)&&hc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=hR(n,a)}class Jj extends Y0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),B0(p))){const y=aR(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!oR.has(s)||e.length!==2)return;const[a,l]=e,c=Sx(a),d=Sx(l);if(c!==d)if(Ex(c)&&Ex(d))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Aa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||Gj(e[a]))&&s.push(a);s.length&&Zj(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Aa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Aa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function eL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const fR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function tL(t){return NA(t)&&"offsetHeight"in t}const Rx=30,nL=t=>!isNaN(parseFloat(t));class iL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Nn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new O0);const s=this.events[e].add(n);return e==="change"?()=>{s(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Rx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Rx);return DA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function il(t,e){return new iL(t,e)}const{schedule:W0}=qA(queueMicrotask,!1),mi={x:!1,y:!1};function dR(){return mi.x||mi.y}function sL(t){return t==="x"||t==="y"?mi[t]?null:(mi[t]=!0,()=>{mi[t]=!1}):mi.x||mi.y?null:(mi.x=mi.y=!0,()=>{mi.x=mi.y=!1})}function mR(t,e){const n=eL(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Cx(t){return!(t.pointerType==="touch"||dR())}function rL(t,e,n={}){const[s,a,l]=mR(t,n),c=d=>{if(!Cx(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const y=T=>{Cx(T)&&(p(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const pR=(t,e)=>e?t===e?!0:pR(t,e.parentElement):!1,Z0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,aL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oL(t){return aL.has(t.tagName)||t.tabIndex!==-1}const Pf=new WeakSet;function Nx(t){return e=>{e.key==="Enter"&&t(e)}}function cg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Nx(()=>{if(Pf.has(n))return;cg(n,"down");const a=Nx(()=>{cg(n,"up")}),l=()=>cg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Ix(t){return Z0(t)&&!dR()}function uL(t,e,n={}){const[s,a,l]=mR(t,n),c=d=>{const m=d.currentTarget;if(!Ix(d))return;Pf.add(m);const p=e(m,d),y=(N,j)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",x),Pf.has(m)&&Pf.delete(m),Ix(N)&&typeof p=="function"&&p(N,{success:j})},T=N=>{y(N,m===window||m===document||n.useGlobalTarget||pR(m,N.target))},x=N=>{y(N,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",x,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),tL(d)&&(d.addEventListener("focus",p=>lL(p,a)),!oL(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function gR(t){return NA(t)&&"ownerSVGElement"in t}function cL(t){return gR(t)&&t.tagName==="svg"}const pn=t=>!!(t&&t.getVelocity),hL=[...uR,Ot,Dr],fL=t=>hL.find(lR(t)),yR=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function dL(t=!0){const e=I.useContext(D0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const c=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const vR=I.createContext({strict:!1}),Dx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sl={};for(const t in Dx)sl[t]={isEnabled:e=>Dx[t].some(n=>!!e[n])};function mL(t){for(const e in t)sl[e]={...sl[e],...t[e]}}const pL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pL.has(t)}let _R=t=>!cd(t);function gL(t){typeof t=="function"&&(_R=e=>e.startsWith("on")?!cd(e):t(e))}try{gL(require("@emotion/is-prop-valid").default)}catch{}function yL(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(_R(a)||n===!0&&cd(a)||!e&&!cd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const kd=I.createContext({});function Od(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function fc(t){return typeof t=="string"||Array.isArray(t)}const J0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ev=["initial",...J0];function jd(t){return Od(t.animate)||ev.some(e=>fc(t[e]))}function TR(t){return!!(jd(t)||t.variants)}function vL(t,e){if(jd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||fc(n)?n:void 0,animate:fc(s)?s:void 0}}return t.inherit!==!1?e:{}}function _L(t){const{initial:e,animate:n}=vL(t,I.useContext(kd));return I.useMemo(()=>({initial:e,animate:n}),[Vx(e),Vx(n)])}function Vx(t){return Array.isArray(t)?t.join(" "):t}const dc={};function TL(t){for(const e in t)dc[e]=t[e],U0(e)&&(dc[e].isCSSVariable=!0)}function ER(t,{layout:e,layoutId:n}){return Tl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dc[t]||t==="opacity")}const EL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bL=_l.length;function xL(t,e,n){let s="",a=!0;for(let l=0;l<bL;l++){const c=_l[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=fR(d,X0[c]);if(!m){a=!1;const y=EL[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function tv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const p=e[m];if(Tl.has(m)){c=!0;continue}else if(U0(m)){a[m]=p;continue}else{const y=fR(p,X0[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=xL(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const nv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bR(t,e,n){for(const s in e)!pn(e[s])&&!ER(s,n)&&(t[s]=e[s])}function wL({transformTemplate:t},e){return I.useMemo(()=>{const n=nv();return tv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function SL(t,e){const n=t.style||{},s={};return bR(s,n,t),Object.assign(s,wL(t,e)),s}function AL(t,e){const n={},s=SL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const RL={offset:"stroke-dashoffset",array:"stroke-dasharray"},CL={offset:"strokeDashoffset",array:"strokeDasharray"};function NL(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?RL:CL;t[l.offset]=Ie.transform(-s);const c=Ie.transform(e),d=Ie.transform(n);t[l.array]=`${c} ${d}`}function xR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if(tv(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:x}=t;T.transform&&(x.transform=T.transform,delete T.transform),(x.transform||T.transformOrigin)&&(x.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),s!==void 0&&(T.scale=s),a!==void 0&&NL(T,a,l,c,!1)}const wR=()=>({...nv(),attrs:{}}),SR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function IL(t,e,n,s){const a=I.useMemo(()=>{const l=wR();return xR(l,e,SR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};bR(l,t.style,t),a.style={...l,...a.style}}return a}const DL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iv(t){return typeof t!="string"||t.includes("-")?!1:!!(DL.indexOf(t)>-1||/[A-Z]/u.test(t))}function VL(t,e,n,{latestValues:s},a,l=!1){const d=(iv(t)?IL:AL)(e,s,a,t),m=yL(e,typeof t=="string",l),p=t!==I.Fragment?{...m,...d,ref:n}:{},{children:y}=e,T=I.useMemo(()=>pn(y)?y.get():y,[y]);return I.createElement(t,{...p,children:T})}function Mx(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function sv(t,e,n,s){if(typeof e=="function"){const[a,l]=Mx(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Mx(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function kf(t){return pn(t)?t.get():t}function ML({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:PL(n,s,a,t),renderState:e()}}function PL(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=kf(l[x]);let{initial:c,animate:d}=t;const m=jd(t),p=TR(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?d:c;if(T&&typeof T!="boolean"&&!Od(T)){const x=Array.isArray(T)?T:[T];for(let N=0;N<x.length;N++){const j=sv(t,x[N]);if(j){const{transitionEnd:P,transition:L,...U}=j;for(const Y in U){let K=U[Y];if(Array.isArray(K)){const Z=y?K.length-1:0;K=K[Z]}K!==null&&(a[Y]=K)}for(const Y in P)a[Y]=P[Y]}}}return a}const AR=t=>(e,n)=>{const s=I.useContext(kd),a=I.useContext(D0),l=()=>ML(t,e,s,a);return n?l():m3(l)};function rv(t,e,n){const{style:s}=t,a={};for(const l in s)(pn(s[l])||e.style&&pn(e.style[l])||ER(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const kL=AR({scrapeMotionValuesFromProps:rv,createRenderState:nv});function RR(t,e,n){const s=rv(t,e,n);for(const a in t)if(pn(t[a])||pn(e[a])){const l=_l.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const OL=AR({scrapeMotionValuesFromProps:RR,createRenderState:wR}),jL=Symbol.for("motionComponentSymbol");function zo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function LL(t,e,n){return I.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):zo(n)&&(n.current=s))},[e])}const av=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UL="framerAppearId",CR="data-"+av(UL),NR=I.createContext({});function BL(t,e,n,s,a){const{visualElement:l}=I.useContext(kd),c=I.useContext(vR),d=I.useContext(D0),m=I.useContext(yR).reducedMotion,p=I.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,T=I.useContext(NR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&zL(p.current,n,a,T);const x=I.useRef(!1);I.useInsertionEffect(()=>{y&&x.current&&y.update(n,d)});const N=n[CR],j=I.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return p3(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),j.current&&y.animationState&&y.animationState.animateChanges())}),I.useEffect(()=>{y&&(!j.current&&y.animationState&&y.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),j.current=!1),y.enteringChildren=void 0)}),y}function zL(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:IR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&zo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function IR(t){if(t)return t.options.allowProjection!==!1?t.projection:IR(t.parent)}function hg(t,{forwardMotionProps:e=!1}={},n,s){n&&mL(n);const a=iv(t)?OL:kL;function l(d,m){let p;const y={...I.useContext(yR),...d,layoutId:qL(d)},{isStatic:T}=y,x=_L(d),N=a(d,T);if(!T&&I0){FL();const j=HL(y);p=j.MeasureLayout,x.visualElement=BL(t,N,y,s,j.ProjectionNode)}return _.jsxs(kd.Provider,{value:x,children:[p&&x.visualElement?_.jsx(p,{visualElement:x.visualElement,...y}):null,VL(t,d,LL(N,x.visualElement,m),N,T,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=I.forwardRef(l);return c[jL]=t,c}function qL({layoutId:t}){const e=I.useContext(RA).id;return e&&t!==void 0?e+"-"+t:t}function FL(t,e){I.useContext(vR).strict}function HL(t){const{drag:e,layout:n}=sl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function GL(t,e){if(typeof Proxy>"u")return hg;const n=new Map,s=(l,c)=>hg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,hg(c,void 0,t,e)),n.get(c))})}function DR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function KL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $L(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function fg(t){return t===void 0||t===1}function fy({scale:t,scaleX:e,scaleY:n}){return!fg(t)||!fg(e)||!fg(n)}function _a(t){return fy(t)||VR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function VR(t){return Px(t.x)||Px(t.y)}function Px(t){return t&&t!=="0%"}function hd(t,e,n){const s=t-n,a=e*s;return n+a}function kx(t,e,n,s,a){return a!==void 0&&(t=hd(t,a,s)),hd(t,n,s)+e}function dy(t,e=0,n=1,s,a){t.min=kx(t.min,e,n,s,a),t.max=kx(t.max,e,n,s,a)}function MR(t,{x:e,y:n}){dy(t.x,e.translate,e.scale,e.originPoint),dy(t.y,n.translate,n.scale,n.originPoint)}const Ox=.999999999999,jx=1.0000000000001;function YL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Fo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,MR(t,c)),s&&_a(l.latestValues)&&Fo(t,l.latestValues))}e.x<jx&&e.x>Ox&&(e.x=1),e.y<jx&&e.y>Ox&&(e.y=1)}function qo(t,e){t.min=t.min+e,t.max=t.max+e}function Lx(t,e,n,s,a=.5){const l=gt(t.min,t.max,a);dy(t,e,n,l,s)}function Fo(t,e){Lx(t.x,e.x,e.scaleX,e.scale,e.originX),Lx(t.y,e.y,e.scaleY,e.scale,e.originY)}function PR(t,e){return DR($L(t.getBoundingClientRect(),e))}function QL(t,e,n){const s=PR(t,n),{scroll:a}=e;return a&&(qo(s.x,a.offset.x),qo(s.y,a.offset.y)),s}const Ux=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:Ux(),y:Ux()}),Bx=()=>({min:0,max:0}),At=()=>({x:Bx(),y:Bx()}),my={current:null},kR={current:!1};function XL(){if(kR.current=!0,!!I0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>my.current=t.matches;t.addEventListener("change",e),e()}else my.current=!1}const WL=new WeakMap;function ZL(t,e,n){for(const s in e){const a=e[s],l=n[s];if(pn(a))t.addValue(s,a);else if(pn(l))t.addValue(s,il(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,il(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const zx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class JL{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Y0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Nn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,dt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=jd(n),this.isVariantNode=TR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in T){const N=T[x];m[x]!==void 0&&pn(N)&&N.set(m[x])}}mount(e){this.current=e,WL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),kR.current||XL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:my.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ir(this.notifyUpdate),Ir(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Tl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&dt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sl){const n=sl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<zx.length;s++){const a=zx[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=ZL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=il(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(CA(s)||IA(s))?s=parseFloat(s):!fL(s)&&Dr.test(n)&&(s=hR(e,n)),this.setBaseTarget(e,pn(s)?s.get():s)),pn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=sv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!pn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new O0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){W0.render(this.render)}}class OR extends JL{constructor(){super(...arguments),this.KeyframeResolver=Jj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jR(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function e6(t){return window.getComputedStyle(t)}class t6 extends OR{constructor(){super(...arguments),this.type="html",this.renderInstance=jR}readValueFromInstance(e,n){if(Tl.has(n))return this.projection?.isProjecting?ry(n):vj(e,n);{const s=e6(e),a=(U0(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PR(e,n)}build(e,n,s){tv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return rv(e,n,s)}}const LR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function n6(t,e,n,s){jR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(LR.has(a)?a:av(a),e.attrs[a])}class i6 extends OR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=At}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Tl.has(n)){const s=cR(n);return s&&s.default||0}return n=LR.has(n)?n:av(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return RR(e,n,s)}build(e,n,s){xR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){n6(e,n,s,a)}mount(e){this.isSVGTag=SR(e.tagName),super.mount(e)}}const s6=(t,e)=>iv(t)?new i6(e):new t6(e,{allowProjection:t!==I.Fragment});function Xo(t,e,n){const s=t.getProps();return sv(s,e,n!==void 0?n:s.custom,t)}const py=t=>Array.isArray(t);function r6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,il(n))}function a6(t){return py(t)?t[t.length-1]||0:t}function o6(t,e){const n=Xo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=a6(l[c]);r6(t,c,d)}}function l6(t){return!!(pn(t)&&t.add)}function gy(t,e){const n=t.getValue("willChange");if(l6(n))return n.add(e);if(!n&&Vs.WillChange){const s=new Vs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function UR(t){return t.props[CR]}const u6=t=>t!==null;function c6(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(u6),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const h6={type:"spring",stiffness:500,damping:25,restSpeed:10},f6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),d6={type:"keyframes",duration:.8},m6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p6=(t,{keyframes:e})=>e.length>2?d6:Tl.has(t)?t.startsWith("scale")?f6(e[1]):h6:m6;function g6({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const ov=(t,e,n,s={},a,l)=>c=>{const d=Q0(s,t)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Gi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};g6(d)||Object.assign(y,p6(t,y)),y.duration&&(y.duration=Gi(y.duration)),y.repeatDelay&&(y.repeatDelay=Gi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(cy(y),y.delay===0&&(T=!0)),(Vs.instantAnimations||Vs.skipAnimations)&&(T=!0,cy(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,T&&!l&&e.get()!==void 0){const x=c6(y.keyframes,d);if(x!==void 0){dt.update(()=>{y.onUpdate(x),y.onComplete()});return}}return d.isSync?new $0(y):new zj(y)};function y6({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function BR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const T=t.getValue(y,t.latestValues[y]??null),x=d[y];if(x===void 0||p&&y6(p,y))continue;const N={delay:n,...Q0(l||{},y)},j=T.get();if(j!==void 0&&!T.isAnimating&&!Array.isArray(x)&&x===j&&!N.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const U=UR(t);if(U){const Y=window.MotionHandoffAnimation(U,y,dt);Y!==null&&(N.startTime=Y,P=!0)}}gy(t,y),T.start(ov(y,T,x,t.shouldReduceMotion&&oR.has(y)?{type:!1}:N,t,P));const L=T.animation;L&&m.push(L)}return c&&Promise.all(m).then(()=>{dt.update(()=>{c&&o6(t,c)})}),m}function zR(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function yy(t,e,n={}){const s=Xo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(BR(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:T}=a;return v6(t,e,m,p,y,T,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function v6(t,e,n=0,s=0,a=0,l=1,c){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(yy(m,e,{...c,delay:n+(typeof s=="function"?0:s)+zR(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function _6(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>yy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=yy(t,e,n);else{const a=typeof e=="function"?Xo(t,e,n.custom):e;s=Promise.all(BR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function qR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const T6=ev.length;function FR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?FR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<T6;n++){const s=ev[n],a=t.props[s];(fc(a)||a===!1)&&(e[s]=a)}return e}const E6=[...J0].reverse(),b6=J0.length;function x6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>_6(t,n,s)))}function w6(t){let e=x6(t),n=qx(),s=!0;const a=m=>(p,y)=>{const T=Xo(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:x,transitionEnd:N,...j}=T;p={...p,...j,...N}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=FR(t.parent)||{},T=[],x=new Set;let N={},j=1/0;for(let L=0;L<b6;L++){const U=E6[L],Y=n[U],K=p[U]!==void 0?p[U]:y[U],Z=fc(K),W=U===m?Y.isActive:null;W===!1&&(j=L);let oe=K===y[U]&&K!==p[U]&&Z;if(oe&&s&&t.manuallyAnimateOnMount&&(oe=!1),Y.protectedKeys={...N},!Y.isActive&&W===null||!K&&!Y.prevProp||Od(K)||typeof K=="boolean")continue;const M=S6(Y.prevProp,K);let S=M||U===m&&Y.isActive&&!oe&&Z||L>j&&Z,R=!1;const D=Array.isArray(K)?K:[K];let O=D.reduce(a(U),{});W===!1&&(O={});const{prevResolvedValues:B={}}=Y,C={...B,...O},me=ie=>{S=!0,x.has(ie)&&(R=!0,x.delete(ie)),Y.needsAnimating[ie]=!0;const ce=t.getValue(ie);ce&&(ce.liveStyle=!1)};for(const ie in C){const ce=O[ie],_e=B[ie];if(N.hasOwnProperty(ie))continue;let V=!1;py(ce)&&py(_e)?V=!qR(ce,_e):V=ce!==_e,V?ce!=null?me(ie):x.add(ie):ce!==void 0&&x.has(ie)?me(ie):Y.protectedKeys[ie]=!0}Y.prevProp=K,Y.prevResolvedValues=O,Y.isActive&&(N={...N,...O}),s&&t.blockInitialAnimation&&(S=!1);const de=oe&&M;S&&(!de||R)&&T.push(...D.map(ie=>{const ce={type:U};if(typeof ie=="string"&&s&&!de&&t.manuallyAnimateOnMount&&t.parent){const{parent:_e}=t,V=Xo(_e,ie);if(_e.enteringChildren&&V){const{delayChildren:ee}=V.transition||{};ce.delay=zR(_e.enteringChildren,t,ee)}}return{animation:ie,options:ce}}))}if(x.size){const L={};if(typeof p.initial!="boolean"){const U=Xo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(L.transition=U.transition)}x.forEach(U=>{const Y=t.getBaseTarget(U),K=t.getValue(U);K&&(K.liveStyle=!0),L[U]=Y??null}),T.push({animation:L})}let P=!!T.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),s=!1,P?e(T):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=qx(),s=!0}}}function S6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qR(e,t):!1}function ya(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qx(){return{animate:ya(!0),whileInView:ya(),whileHover:ya(),whileTap:ya(),whileDrag:ya(),whileFocus:ya(),exit:ya()}}class Or{constructor(e){this.isMounted=!1,this.node=e}update(){}}class A6 extends Or{constructor(e){super(e),e.animationState||(e.animationState=w6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Od(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let R6=0;class C6 extends Or{constructor(){super(...arguments),this.id=R6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const N6={animation:{Feature:A6},exit:{Feature:C6}};function mc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function kc(t){return{point:{x:t.pageX,y:t.pageY}}}const I6=t=>e=>Z0(e)&&t(e,kc(e));function $u(t,e,n,s){return mc(t,e,I6(n),s)}const HR=1e-4,D6=1-HR,V6=1+HR,GR=.01,M6=0-GR,P6=0+GR;function En(t){return t.max-t.min}function k6(t,e,n){return Math.abs(t-e)<=n}function Fx(t,e,n,s=.5){t.origin=s,t.originPoint=gt(e.min,e.max,t.origin),t.scale=En(n)/En(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=D6&&t.scale<=V6||isNaN(t.scale))&&(t.scale=1),(t.translate>=M6&&t.translate<=P6||isNaN(t.translate))&&(t.translate=0)}function Yu(t,e,n,s){Fx(t.x,e.x,n.x,s?s.originX:void 0),Fx(t.y,e.y,n.y,s?s.originY:void 0)}function Hx(t,e,n){t.min=n.min+e.min,t.max=t.min+En(e)}function O6(t,e,n){Hx(t.x,e.x,n.x),Hx(t.y,e.y,n.y)}function Gx(t,e,n){t.min=e.min-n.min,t.max=t.min+En(e)}function Qu(t,e,n){Gx(t.x,e.x,n.x),Gx(t.y,e.y,n.y)}function ii(t){return[t("x"),t("y")]}const KR=({current:t})=>t?t.ownerDocument.defaultView:null,Kx=(t,e)=>Math.abs(t-e);function j6(t,e){const n=Kx(t.x,e.x),s=Kx(t.y,e.y);return Math.sqrt(n**2+s**2)}class $R{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=mg(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,j=j6(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!j)return;const{point:P}=x,{timestamp:L}=an;this.history.push({...P,timestamp:L});const{onStart:U,onMove:Y}=this.handlers;N||(U&&U(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,x)},this.handlePointerMove=(x,N)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=dg(N,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(x,N)=>{this.end();const{onEnd:j,onSessionEnd:P,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=mg(x.type==="pointercancel"?this.lastMoveEventInfo:dg(N,this.transformPagePoint),this.history);this.startEvent&&j&&j(x,U),P&&P(x,U)},!Z0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=kc(e),m=dg(d,this.transformPagePoint),{point:p}=m,{timestamp:y}=an;this.history=[{...p,timestamp:y}];const{onSessionStart:T}=n;T&&T(e,mg(m,this.history)),this.removeListeners=Vc($u(this.contextWindow,"pointermove",this.handlePointerMove),$u(this.contextWindow,"pointerup",this.handlePointerUp),$u(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ir(this.updatePoint)}}function dg(t,e){return e?{point:e(t.point)}:t}function $x(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mg({point:t},e){return{point:t,delta:$x(t,YR(e)),offset:$x(t,L6(e)),velocity:U6(e,.1)}}function L6(t){return t[0]}function YR(t){return t[t.length-1]}function U6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=YR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Gi(e)));)n--;if(!s)return{x:0,y:0};const l=Ki(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function B6(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?gt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?gt(n,t,s.max):Math.min(t,n)),t}function Yx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function z6(t,{top:e,left:n,bottom:s,right:a}){return{x:Yx(t.x,n,a),y:Yx(t.y,e,s)}}function Qx(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function q6(t,e){return{x:Qx(t.x,e.x),y:Qx(t.y,e.y)}}function F6(t,e){let n=.5;const s=En(t),a=En(e);return a>s?n=uc(e.min,e.max-s,t.min):s>a&&(n=uc(t.min,t.max-a,e.min)),Ds(0,1,n)}function H6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vy=.35;function G6(t=vy){return t===!1?t=0:t===!0&&(t=vy),{x:Xx(t,"left","right"),y:Xx(t,"top","bottom")}}function Xx(t,e,n){return{min:Wx(t,e),max:Wx(t,n)}}function Wx(t,e){return typeof t=="number"?t:t[e]||0}const K6=new WeakMap;class $6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kc(T).point)},c=(T,x)=>{const{drag:N,dragPropagation:j,onDragStart:P}=this.getProps();if(N&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sL(N),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(U=>{let Y=this.getAxisMotionValue(U).get()||0;if($i.test(Y)){const{projection:K}=this.visualElement;if(K&&K.layout){const Z=K.layout.layoutBox[U];Z&&(Y=En(Z)*(parseFloat(Y)/100))}}this.originPoint[U]=Y}),P&&dt.postRender(()=>P(T,x)),gy(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},d=(T,x)=>{this.latestPointerEvent=T,this.latestPanInfo=x;const{dragPropagation:N,dragDirectionLock:j,onDirectionLock:P,onDrag:L}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:U}=x;if(j&&this.currentDirection===null){this.currentDirection=Y6(U),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",x.point,U),this.updateAxis("y",x.point,U),this.visualElement.render(),L&&L(T,x)},m=(T,x)=>{this.latestPointerEvent=T,this.latestPanInfo=x,this.stop(T,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ii(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new $R(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:KR(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&dt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!pf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=B6(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&zo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=z6(s.layoutBox,e):this.constraints=!1,this.elastic=G6(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ii(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=H6(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=QL(s,a.root,this.visualElement.getTransformPagePoint());let c=q6(a.layout.layoutBox,l);if(n){const d=n(KL(c));this.hasMutatedConstraints=!!d,d&&(c=DR(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=ii(y=>{if(!pf(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const x=a?200:1e6,N=a?40:1e7,j={type:"inertia",velocity:s?e[y]:0,bounceStiffness:x,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,j)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return gy(this.visualElement,e),s.start(ov(e,s,0,n,this.visualElement,!1))}stopAnimation(){ii(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ii(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ii(n=>{const{drag:s}=this.getProps();if(!pf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-gt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!zo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ii(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=F6({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ii(c=>{if(!pf(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(gt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;K6.set(this.visualElement,this);const e=this.visualElement.current,n=$u(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();zo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(s);const c=mc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ii(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=vy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function pf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Y6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Q6 extends Or{constructor(e){super(e),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new $6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zx=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class X6 extends Or{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(e){this.session=new $R(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Zx(e),onStart:Zx(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&dt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=$u(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Of={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Du={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=Jx(t,e.target.x),s=Jx(t,e.target.y);return`${n}% ${s}%`}},W6={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Dr.parse(t);if(a.length>5)return s;const l=Dr.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const p=gt(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let pg=!1;class Z6 extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;TL(J6),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),pg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Of.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,pg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||dt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),W0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;pg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QR(t){const[e,n]=dL(),s=I.useContext(RA);return _.jsx(Z6,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(NR),isPresent:e,safeToRemove:n})}const J6={borderRadius:{...Du,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Du,borderTopRightRadius:Du,borderBottomLeftRadius:Du,borderBottomRightRadius:Du,boxShadow:W6};function e5(t,e,n){const s=pn(t)?t:il(t);return s.start(ov("",s,e,n)),s.animation}const t5=(t,e)=>t.depth-e.depth;class n5{constructor(){this.children=[],this.isDirty=!1}add(e){V0(this.children,e),this.isDirty=!0}remove(e){M0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(t5),this.isDirty=!1,this.children.forEach(e)}}function i5(t,e){const n=Nn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Ir(s),t(l-e))};return dt.setup(s,!0),()=>Ir(s)}const XR=["TopLeft","TopRight","BottomLeft","BottomRight"],s5=XR.length,e1=t=>typeof t=="string"?parseFloat(t):t,t1=t=>typeof t=="number"||Ie.test(t);function r5(t,e,n,s,a,l){a?(t.opacity=gt(0,n.opacity??1,a5(s)),t.opacityExit=gt(e.opacity??1,0,o5(s))):l&&(t.opacity=gt(e.opacity??1,n.opacity??1,s));for(let c=0;c<s5;c++){const d=`border${XR[c]}Radius`;let m=n1(e,d),p=n1(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||t1(m)===t1(p)?(t[d]=Math.max(gt(e1(m),e1(p),s),0),($i.test(p)||$i.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,s))}function n1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const a5=WR(0,.5,LA),o5=WR(.5,.95,oi);function WR(t,e,n){return s=>s<t?0:s>e?1:n(uc(t,e,s))}function i1(t,e){t.min=e.min,t.max=e.max}function ni(t,e){i1(t.x,e.x),i1(t.y,e.y)}function s1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function r1(t,e,n,s,a){return t-=e,t=hd(t,1/n,s),a!==void 0&&(t=hd(t,1/a,s)),t}function l5(t,e=0,n=1,s=.5,a,l=t,c=t){if($i.test(e)&&(e=parseFloat(e),e=gt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=gt(l.min,l.max,s);t===l&&(d-=e),t.min=r1(t.min,e,n,d,a),t.max=r1(t.max,e,n,d,a)}function a1(t,e,[n,s,a],l,c){l5(t,e[n],e[s],e[a],e.scale,l,c)}const u5=["x","scaleX","originX"],c5=["y","scaleY","originY"];function o1(t,e,n,s){a1(t.x,e,u5,n?n.x:void 0,s?s.x:void 0),a1(t.y,e,c5,n?n.y:void 0,s?s.y:void 0)}function l1(t){return t.translate===0&&t.scale===1}function ZR(t){return l1(t.x)&&l1(t.y)}function u1(t,e){return t.min===e.min&&t.max===e.max}function h5(t,e){return u1(t.x,e.x)&&u1(t.y,e.y)}function c1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function JR(t,e){return c1(t.x,e.x)&&c1(t.y,e.y)}function h1(t){return En(t.x)/En(t.y)}function f1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class f5{constructor(){this.members=[]}add(e){V0(this.members,e),e.scheduleRender()}remove(e){if(M0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function d5(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:T,rotateY:x,skewX:N,skewY:j}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),T&&(s+=`rotateX(${T}deg) `),x&&(s+=`rotateY(${x}deg) `),N&&(s+=`skewX(${N}deg) `),j&&(s+=`skewY(${j}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const gg=["","X","Y","Z"],m5=1e3;let p5=0;function yg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function eC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=UR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&eC(s)}function tC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=p5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(v5),this.nodes.forEach(b5),this.nodes.forEach(x5),this.nodes.forEach(_5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new n5)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new O0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=gR(c)&&!cL(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let y,T=0;const x=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{T=window.innerWidth}),t(c,()=>{const N=window.innerWidth;N!==T&&(T=N,this.root.updateBlockedByResize=!0,y&&y(),y=i5(x,250),Of.hasAnimatedSinceResize&&(Of.hasAnimatedSinceResize=!1,this.nodes.forEach(p1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:x,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||C5,{onLayoutAnimationStart:P,onLayoutAnimationComplete:L}=p.getProps(),U=!this.targetLayout||!JR(this.targetLayout,N),Y=!T&&x;if(this.options.layoutRoot||this.resumeFrom||Y||T&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...Q0(j,"layout"),onPlay:P,onComplete:L};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,Y)}else T||p1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(w5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(m1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(E5),this.nodes.forEach(g5),this.nodes.forEach(y5)):this.nodes.forEach(m1),this.clearAllSnapshots();const d=Nn.now();an.delta=Ds(0,1e3/60,d-an.timestamp),an.timestamp=d,an.isProcessing=!0,rg.update.process(an),rg.preRender.process(an),rg.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,W0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T5),this.sharedNodes.forEach(S5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!ZR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||_a(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),N5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return At();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(I5))){const{scroll:p}=this.root;p&&(qo(d.x,p.offset.x),qo(d.y,p.offset.y))}return d}removeElementScroll(c){const d=At();if(ni(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:T}=p;p!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&ni(d,c),qo(d.x,y.offset.x),qo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=At();ni(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Fo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),_a(y.latestValues)&&Fo(m,y.latestValues)}return _a(this.latestValues)&&Fo(m,this.latestValues),m}removeTransform(c){const d=At();ni(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!_a(p.latestValues))continue;fy(p.latestValues)&&p.updateSnapshot();const y=At(),T=p.measurePageBox();ni(y,T),o1(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return _a(this.latestValues)&&o1(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=an.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Qu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),O6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ni(this.target,this.layout.layoutBox),MR(this.target,this.targetDelta)):ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Qu(this.relativeTargetOrigin,this.target,x.target),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fy(this.parent.latestValues)||VR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===an.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ni(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,x=this.treeScale.y;YL(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=At());const{target:N}=c;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s1(this.prevProjectionDelta.x,this.projectionDelta.x),s1(this.prevProjectionDelta.y,this.projectionDelta.y)),Yu(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==x||!f1(this.projectionDelta.x,this.prevProjectionDelta.x)||!f1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},T=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=At(),N=m?m.source:void 0,j=this.layout?this.layout.source:void 0,P=N!==j,L=this.getStack(),U=!L||L.members.length<=1,Y=!!(P&&!U&&this.options.crossfade===!0&&!this.path.some(R5));this.animationProgress=0;let K;this.mixTargetDelta=Z=>{const W=Z/1e3;g1(T.x,c.x,W),g1(T.y,c.y,W),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),A5(this.relativeTarget,this.relativeTargetOrigin,x,W),K&&h5(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=At()),ni(K,this.relativeTarget)),P&&(this.animationValues=y,r5(y,p,this.latestValues,W,Y,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Of.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=il(0)),this.currentAnimation=e5(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(m5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&nC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||At();const T=En(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const x=En(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+x}ni(d,m),Fo(d,y),Yu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new f5),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&yg("z",c,p,this.animationValues);for(let y=0;y<gg.length;y++)yg(`rotate${gg[y]}`,c,p,this.animationValues),yg(`skew${gg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=kf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=kf(d?.pointerEvents)||""),this.hasProjected&&!_a(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=d5(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x,y:N}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${N.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in dc){if(y[j]===void 0)continue;const{correct:P,applyTo:L,isCSSVariable:U}=dc[j],Y=T==="none"?y[j]:P(y[j],p);if(L){const K=L.length;for(let Z=0;Z<K;Z++)c[L[Z]]=Y}else U?this.options.visualElement.renderState.vars[j]=Y:c[j]=Y}this.options.layoutId&&(c.pointerEvents=p===this?kf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(d1),this.root.sharedNodes.clear()}}}function g5(t){t.updateLayout()}function y5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ii(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],x=En(T);T.min=n[y].min,T.max=T.min+x}):nC(a,e.layoutBox,n)&&ii(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],x=En(n[y]);T.max=T.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+x)});const c=Ho();Yu(c,n,e.layoutBox);const d=Ho();l?Yu(d,t.applyTransform(s,!0),e.measuredBox):Yu(d,n,e.layoutBox);const m=!ZR(c);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:x}=y;if(T&&x){const N=At();Qu(N,e.layoutBox,T.layoutBox);const j=At();Qu(j,n,x.layoutBox),JR(N,j)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=N,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function v5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function T5(t){t.clearSnapshot()}function d1(t){t.clearMeasurements()}function m1(t){t.isLayoutDirty=!1}function E5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function p1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function b5(t){t.resolveTargetDelta()}function x5(t){t.calcProjection()}function w5(t){t.resetSkewAndRotation()}function S5(t){t.removeLeadSnapshot()}function g1(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function y1(t,e,n,s){t.min=gt(e.min,n.min,s),t.max=gt(e.max,n.max,s)}function A5(t,e,n,s){y1(t.x,e.x,n.x,s),y1(t.y,e.y,n.y,s)}function R5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const C5={duration:.45,ease:[.4,0,.1,1]},v1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_1=v1("applewebkit/")&&!v1("chrome/")?Math.round:oi;function T1(t){t.min=_1(t.min),t.max=_1(t.max)}function N5(t){T1(t.x),T1(t.y)}function nC(t,e,n){return t==="position"||t==="preserve-aspect"&&!k6(h1(e),h1(n),.2)}function I5(t){return t!==t.root&&t.scroll?.wasRoot}const D5=tC({attachResizeListener:(t,e)=>mc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vg={current:void 0},iC=tC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vg.current){const t=new D5({});t.mount(window),t.setOptions({layoutScroll:!0}),vg.current=t}return vg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),V5={pan:{Feature:X6},drag:{Feature:Q6,ProjectionNode:iC,MeasureLayout:QR}};function E1(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&dt.postRender(()=>l(e,kc(e)))}class M5 extends Or{mount(){const{current:e}=this.node;e&&(this.unmount=rL(e,(n,s)=>(E1(this.node,s,"Start"),a=>E1(this.node,a,"End"))))}unmount(){}}class P5 extends Or{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vc(mc(this.node.current,"focus",()=>this.onFocus()),mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function b1(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&dt.postRender(()=>l(e,kc(e)))}class k5 extends Or{mount(){const{current:e}=this.node;e&&(this.unmount=uL(e,(n,s)=>(b1(this.node,s,"Start"),(a,{success:l})=>b1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _y=new WeakMap,_g=new WeakMap,O5=t=>{const e=_y.get(t.target);e&&e(t)},j5=t=>{t.forEach(O5)};function L5({root:t,...e}){const n=t||document;_g.has(n)||_g.set(n,{});const s=_g.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(j5,{root:t,...e})),s[a]}function U5(t,e,n){const s=L5(e);return _y.set(t,n),s.observe(t),()=>{_y.delete(t),s.unobserve(t)}}const B5={some:0,all:1};class z5 extends Or{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:B5[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),x=p?y:T;x&&x(m)};return U5(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(q5(e,n))&&this.startObserver()}unmount(){}}function q5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const F5={inView:{Feature:z5},tap:{Feature:k5},focus:{Feature:P5},hover:{Feature:M5}},H5={layout:{ProjectionNode:iC,MeasureLayout:QR}},G5={...N6,...F5,...V5,...H5},ka=GL(G5,s6),x1=[5,6,7,8];function K5({active:t,onSelect:e}){const n=Math.max(x1.indexOf(t),0);return _.jsx("nav",{className:"fixed bottom-6 left-1/2 z-50 w-[80%] -translate-x-1/2",children:_.jsxs("div",{className:"relative mx-auto h-16 rounded-3xl bg-neutral-900 shadow-lg px-4",children:[_.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 flex flex-col items-center",children:_.jsx("div",{className:"h-12 w-28 rounded-full bg-neutral-900 flex items-center justify-center",children:_.jsx("span",{className:"text-sm font-medium text-white",children:"Snf Seimi"})})}),_.jsx(ka.div,{layoutId:"notch",className:"absolute -top-3 h-16 w-16 rounded-full bg-neutral-900",style:{left:`calc(${n*25}% + 12.5% - 2rem)`},transition:{type:"spring",stiffness:500,damping:30}}),_.jsx("ul",{className:"relative z-10 grid h-full grid-cols-4",children:x1.map(s=>_.jsx("li",{className:"flex items-center justify-center",children:_.jsx("button",{"aria-label":`${s}. snf`,onClick:()=>e(s),className:"relative flex h-full w-full items-center justify-center text-gray-400",children:t===s?_.jsx(ka.span,{layoutId:"pill",className:"absolute -top-4 flex h-14 w-14 items-center justify-center rounded-full bg-blue-500 text-lg font-semibold text-white shadow-xl",transition:{type:"spring",stiffness:500,damping:30},children:s}):_.jsx("span",{className:"text-lg font-medium",children:s})})},s))})]})})}function Po({size:t=24,label:e,className:n=""}){return _.jsxs("div",{className:`flex items-center gap-2 ${n}`,role:"status","aria-live":"polite",children:[_.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"animate-spin","aria-label":e||"Ykleniyor",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.25"}),_.jsx("path",{d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeLinecap:"round"})]}),e?_.jsx("span",{className:"text-sm",children:e}):null]})}const $5="admin@mail.com",Y5={indigo:"bg-indigo-500/10 text-indigo-300 ring-indigo-400/20",emerald:"bg-emerald-500/10 text-emerald-300 ring-emerald-400/20",rose:"bg-rose-500/10 text-rose-300 ring-rose-400/20",slate:"bg-white/5 text-slate-200 ring-white/10"},Q5={indigo:"text-indigo-300",emerald:"text-emerald-300",rose:"text-rose-300"},rl=({color:t="indigo",children:e,className:n=""})=>_.jsx("span",{className:`inline-flex m-1 h-7 w-7 items-center justify-center rounded-full ring-1 ${Y5[t]} ${n}`,children:e}),w1=({icon:t,color:e="indigo",children:n})=>_.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[_.jsx(rl,{color:e,children:_.jsx(t,{className:"h-4 w-4"})}),_.jsx("h2",{className:`text-base font-semibold ${Q5[e]}`,children:n})]}),jf=({className:t="",children:e})=>_.jsx("div",{className:`rounded-xl border border-white/10 bg-neutral-900 shadow-sm ${t}`,children:e}),S1=({title:t,icon:e,color:n="indigo",children:s})=>{const[a,l]=I.useState(!1),[c,d]=I.useState(0),m=I.useRef(null);return I.useEffect(()=>{const p=m.current;if(!p)return;const y=()=>d(p.scrollHeight);y();const T=new ResizeObserver(y);T.observe(p);const x=setTimeout(y,50);return()=>{T.disconnect(),clearTimeout(x)}},[s,a]),_.jsxs(jf,{children:[_.jsxs("button",{onClick:()=>l(p=>!p),"aria-expanded":a,className:"flex w-full items-center justify-between rounded-xl border-b border-white/10 px-4 py-3 text-left text-[15px] font-semibold text-slate-200 hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[_.jsxs("span",{className:"inline-flex items-center gap-2",children:[_.jsx(rl,{color:n,children:_.jsx(e,{className:"h-4 w-4"})}),t]}),_.jsx(ka.span,{animate:{rotate:a?180:0},transition:{duration:.25},className:"text-slate-400",children:""})]}),_.jsx(ka.div,{initial:!1,animate:a?{maxHeight:c,opacity:1}:{maxHeight:0,opacity:0},transition:{duration:.28,ease:[.22,1,.36,1]},className:"overflow-hidden",children:_.jsx("div",{ref:m,className:"max-h-72 overflow-y-auto px-4 pb-4 pt-3",children:s})})]})},A1=({items:t=[]})=>t.length?_.jsx("div",{className:"space-y-4",children:t.map(e=>_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(rl,{color:"indigo",children:_.jsx(lc,{className:"h-4 w-4"})}),_.jsx("p",{className:"text-sm font-medium text-indigo-300",children:e.category})]}),_.jsx("ul",{className:"space-y-1.5 text-sm leading-6 text-slate-300",children:e.slides.map((n,s)=>_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx(rl,{color:"indigo",className:"h-6 w-6",children:_.jsx(C0,{className:"h-3.5 w-3.5"})}),n.link?_.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline decoration-indigo-700/40 underline-offset-2 hover:text-indigo-300",children:[n.name,_.jsx(yl,{className:"h-3.5 w-3.5"})]}):n.name]},s))})]},e.category))}):_.jsx("p",{className:"text-xs text-slate-400",children:"Bu snf iin slayt yok."}),R1=({items:t=[]})=>t.length?_.jsx("div",{className:"space-y-4",children:t.map(e=>_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(rl,{color:"emerald",children:_.jsx(N0,{className:"h-4 w-4"})}),_.jsx("p",{className:"text-sm font-medium text-emerald-300",children:e.category})]}),_.jsx("ul",{className:"space-y-1.5 text-sm leading-6 text-slate-300",children:e.tests.map((n,s)=>_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx(rl,{color:"emerald",className:"h-6 w-6",children:_.jsx(Sa,{className:"h-3.5 w-3.5"})}),n.link?_.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline decoration-emerald-700/40 underline-offset-2 hover:text-emerald-300",children:[n.name,_.jsx(yl,{className:"h-3.5 w-3.5"})]}):n.name]},s))})]},e.category))}):_.jsx("p",{className:"text-xs text-slate-400",children:"Bu snf iin test yok."});function X5(){const t=gc(),{startLoading:e,stopLoading:n}=Pd(),[s,a]=I.useState({email:"",password:""}),[l,c]=I.useState(!1),[d,m]=I.useState(!1),[p,y]=I.useState(!1),[T,x]=I.useState(""),[N,j]=I.useState([]),[P,L]=I.useState([]),[U,Y]=I.useState(5),[K,Z]=I.useState(!1);I.useEffect(()=>{(async()=>{Z(!0);try{const S=(await lt(Ue(Me,"slaytKategoriAdlari"))).docs.map(de=>de.data().name).filter(Boolean),R=async de=>(await lt(Bn(Ue(Me,de),Rn("grade","==",U)))).docs.map(ie=>{const ce=ie.data();return{name:ce.name??"Adsz",link:ce.link??""}}),D=await Promise.all(S.map(async de=>({category:de,slides:(await R(de)).sort((Q,ie)=>Q.name.localeCompare(ie.name,"tr",{sensitivity:"base"}))})));j(D.filter(de=>de.slides.length).sort((de,Q)=>de.category.localeCompare(Q.category,"tr",{sensitivity:"base"})));const B=(await lt(Ue(Me,"kategoriAdlari"))).docs.map(de=>de.data().name).filter(Boolean),C=async de=>(await lt(Bn(Ue(Me,de),Rn("grade","==",U)))).docs.map(ie=>{const ce=ie.data(),_e=ce.createdAt?.toDate?.()??null,V=_e?new Date(_e.getTime()+(ce.duration??0)*6e4):null;return{name:ce.name??"Adsz",link:ce.link??"",closing:V}}),me=await Promise.all(B.map(async de=>({category:de,tests:(await C(de)).sort((Q,ie)=>Q.name.localeCompare(ie.name,"tr",{sensitivity:"base"}))})));L(me.filter(de=>de.tests.length).sort((de,Q)=>de.category.localeCompare(Q.category,"tr",{sensitivity:"base"})))}catch(M){console.error("Firestore veri ekme hatas:",M)}finally{Z(!1)}})()},[U]);const W=async oe=>{oe.preventDefault(),x(""),y(!0),e();try{await qV(ad,d?Dw:Uy);const{user:M}=await zV(ad,s.email,s.password);t(M.email===$5?"/admin":"/dashboard")}catch(M){const S=M?.message??"Giri baarsz.";x(S)}finally{y(!1),n()}};return _.jsxs("section",{className:"relative min-h-screen bg-neutral-950 px-4 py-6 pb-[calc(88px+env(safe-area-inset-bottom))] text-slate-200",children:[p&&_.jsx("div",{className:"fixed inset-0 z-[60] grid place-items-center bg-black/60 backdrop-blur-sm",children:_.jsx(Po,{size:40,label:"Giri yaplyor..."})}),_.jsx("div",{className:"mx-auto mb-3 flex max-w-6xl items-center justify-center",children:_.jsx("img",{src:d3,alt:"Site Logosu",className:"h-24 w-auto opacity-90 md:h-36"})}),_.jsxs("div",{className:"mx-auto grid w-full max-w-6xl items-stretch gap-6 md:grid-cols-3",children:[_.jsxs(jf,{className:"hidden md:flex md:h-[400px] flex-col p-4",children:[_.jsx(w1,{icon:JO,color:"indigo",children:"Konu Anlatm Slaytlar"}),_.jsx("div",{className:"mt-1 min-h-0 flex-1 overflow-y-auto pr-1",children:K?_.jsx(Po,{label:"Slaytlar ykleniyor..."}):_.jsx(A1,{items:N})})]}),_.jsxs(jf,{className:"relative mx-auto flex w-full max-w-md flex-col p-5 md:h-[400px]",children:[_.jsx("h1",{className:"text-center text-xl font-extrabold tracking-tight text-slate-100",children:"Giri Yap"}),T&&_.jsx("div",{className:"mt-3 rounded-lg bg-rose-500/10 px-3 py-2 text-sm text-rose-300 ring-1 ring-rose-400/20",children:T}),_.jsxs("form",{onSubmit:W,className:"mt-4 flex min-h-0 flex-1 flex-col",children:[_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"relative",children:[_.jsx(WO,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),_.jsx("input",{type:"email",name:"email",placeholder:"e-mail",value:s.email,onChange:oe=>a(M=>({...M,email:oe.target.value})),className:"w-full rounded-md border border-white/10 bg-neutral-900 py-3 pl-10 pr-3 text-sm text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),_.jsxs("div",{className:"relative",children:[_.jsx(QO,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),_.jsx("input",{type:l?"text":"password",name:"password",placeholder:"ifre",value:s.password,onChange:oe=>a(M=>({...M,password:oe.target.value})),className:"w-full rounded-md border border-white/10 bg-neutral-900 py-3 pl-10 pr-10 text-sm text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),_.jsx("button",{type:"button",onClick:()=>c(oe=>!oe),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-200","aria-label":l?"ifreyi gizle":"ifreyi gster",children:l?_.jsx(zO,{className:"h-4 w-4"}):_.jsx(FO,{className:"h-4 w-4"})})]})]}),_.jsxs("div",{className:"mt-auto space-y-3 pt-2",children:[_.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-400",children:[_.jsx("input",{type:"checkbox",checked:d,onChange:()=>m(!d),className:"h-4 w-4 rounded border-white/20 bg-neutral-900 text-indigo-500 focus:ring-indigo-500"}),"Beni Hatrla"]}),_.jsx("button",{type:"submit",disabled:p,className:"w-full rounded-md bg-indigo-600 py-3 text-sm font-semibold text-white shadow-sm ring-1 ring-indigo-700/20 transition-colors hover:bg-indigo-500 disabled:opacity-60",children:p?_.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[_.jsx(Po,{size:18}),"Giri yaplyor..."]}):"Giri"})]})]})]}),_.jsxs(jf,{className:"hidden md:flex md:h-[400px] flex-col p-4",children:[_.jsx(w1,{icon:Wg,color:"emerald",children:"Testler"}),_.jsx("div",{className:"mt-1 min-h-0 flex-1 overflow-y-auto pr-1",children:K?_.jsx(Po,{label:"Testler ykleniyor..."}):_.jsx(R1,{items:P})})]})]}),_.jsxs("div",{className:"mx-auto mt-4 w-full max-w-md space-y-3 md:hidden",children:[_.jsx(S1,{title:"Konu Anlatm Slaytlar",icon:lc,color:"indigo",children:K?_.jsx(Po,{label:"Slaytlar ykleniyor..."}):_.jsx(A1,{items:N})}),_.jsx(S1,{title:"Testler",icon:N0,color:"emerald",children:K?_.jsx(Po,{label:"Testler ykleniyor..."}):_.jsx(R1,{items:P})})]}),_.jsx("div",{className:"mx-auto mt-4 max-w-6xl",children:_.jsx(K5,{active:U,onSelect:Y})})]})}const ko=/^[A-D]+$/i,W5=()=>Array.from({length:6},()=>"0123456789".charAt(Math.floor(Math.random()*10))).join("");function Z5(){const[t,e]=I.useState({students:0,tests:0}),n=async()=>{const he=await lx(Ue(Me,"students")),Te=await lx(Ue(Me,"tests"));e({students:he.data().count,tests:Te.data().count})},[s,a]=I.useState([]),[l,c]=I.useState([]),[d,m]=I.useState([]),p=async()=>{const he=await lt(Ue(Me,"kategoriAdlari"));a(he.docs.map(Te=>({id:Te.id,...Te.data()})))},y=async()=>{const he=await lt(Ue(Me,"slaytKategoriAdlari"));c(he.docs.map(Te=>({id:Te.id,...Te.data()})))},T=async()=>{const he=await lt(Ue(Me,"ozelKategoriler"));m(he.docs.map(Te=>({id:Te.id,...Te.data()})))};I.useEffect(()=>{n(),p(),y(),T()},[]);const[x,N]=I.useState({email:"",firstName:"",lastName:"",password:""}),j=he=>{const{name:Te,value:Be}=he.target;N(Ye=>({...Ye,[Te]:Be}))},P=he=>he.toLocaleLowerCase("tr-TR").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),L=async he=>{he.preventDefault();const{email:Te,firstName:Be,lastName:Ye,password:Bt}=x;if(!(!Te||!Be||!Ye||!Bt))try{const It=(await BV(AO,Te,Bt)).user.uid,qn=P(`${Be} ${Ye}`),Xi=wO(Me);Xi.set(xa(Me,"students",It),{email:String(Te).toLowerCase(),firstName:Be,lastName:Ye,createdAt:vr()}),Xi.set(xa(Me,"ogrenciAdlari",It),{fullname:qn},{merge:!0}),Xi.set(xa(Me,"ogrenciAdlari","_index"),{names:{[qn]:!0}},{merge:!0}),await Xi.commit(),N({email:"",firstName:"",lastName:"",password:""}),await n(),alert("renci eklendi.")}catch(Nt){alert(Nt?.message||"Bir hata olutu.")}},[U,Y]=I.useState({name:""}),K=async he=>{if(he.preventDefault(),!!U.name)try{await ji(Ue(Me,"kategoriAdlari"),U),Y({name:""}),await p(),alert("Test kategorisi eklendi.")}catch(Te){alert(Te?.message??"Hata")}},[Z,W]=I.useState({name:""}),oe=async he=>{if(he.preventDefault(),!!Z.name)try{await ji(Ue(Me,"ozelKategoriler"),Z),W({name:""}),await T(),alert("zel ders kategorisi eklendi.")}catch(Te){alert(Te?.message??"Hata")}},[M,S]=I.useState({name:"",grade:""}),R=async he=>{he.preventDefault();const{name:Te,grade:Be}=M;if(!(!Te||!Be))try{await ji(Ue(Me,"slaytKategoriAdlari"),{name:Te,grade:+Be}),S({name:"",grade:""}),await y(),alert("Slayt kategorisi eklendi.")}catch(Ye){alert(Ye?.message??"Hata")}},[D,O]=I.useState(""),[B,C]=I.useState({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:""}),me=he=>{const{name:Te,value:Be}=he.target;C(Ye=>({...Ye,[Te]:Be})),Te==="answerKey"&&O(Be===""||ko.test(Be)?"":"Sadece A-D harfleri iermeli")},de=()=>{if(!B.answerKey)return;const he=ko.test(B.answerKey);O(he?"":"Sadece A-D harfleri iermeli")},Q=async he=>{he.preventDefault();const{collection:Te,grade:Be,name:Ye,link:Bt,questionCount:Nt,answerKey:It}=B;if(!(!Te||!Be||!Ye||!Bt||!Nt||!It)){if(!ko.test(It)||It.length!==Number(Nt)){O("Anahtar uzunluu soru saysna eit ve yalnz A-D olmal");return}try{await ji(Ue(Me,Te),{grade:+Be,name:Ye,link:Bt,questionCount:+Nt,answerKey:It,createdAt:vr()}),C({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:""}),await n(),alert("Test kaydedildi.")}catch(qn){alert(qn?.message??"Hata")}}},[ie,ce]=I.useState({collection:"",grade:"",name:"",link:""}),_e=he=>{const{name:Te,value:Be}=he.target;ce(Ye=>({...Ye,[Te]:Be}))},V=async he=>{he.preventDefault();const{collection:Te,grade:Be,name:Ye,link:Bt}=ie;if(!(!Te||!Be||!Ye||!Bt))try{await ji(Ue(Me,Te),{grade:+Be,name:Ye,link:Bt,createdAt:vr()}),ce({collection:"",grade:"",name:"",link:""}),alert("Slayt kaydedildi.")}catch(Nt){alert(Nt?.message??"Hata")}},[ee,ue]=I.useState(""),[le,ye]=I.useState({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:""}),be=he=>{const{name:Te,value:Be}=he.target;ye(Ye=>({...Ye,[Te]:Be})),Te==="answerKey"&&ue(Be===""||ko.test(Be)?"":"Sadece A-D harfleri iermeli")},we=()=>{if(!le.answerKey)return;const he=ko.test(le.answerKey);ue(he?"":"Sadece A-D harfleri iermeli")},Ct=async he=>{he.preventDefault();const{collection:Te,grade:Be,name:Ye,link:Bt,questionCount:Nt,answerKey:It}=le;if(!(!Te||!Be||!Ye||!Bt||!Nt||!It)){if(!ko.test(It)||It.length!==Number(Nt)){ue("Anahtar uzunluu soru saysna eit ve yalnz A-D olmal");return}try{await ji(Ue(Me,Te),{grade:+Be,name:Ye,link:Bt,questionCount:+Nt,answerKey:It,createdAt:vr()}),ye({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:""}),await n(),alert("zel ders testi kaydedildi.")}catch(qn){alert(qn?.message??"Hata")}}};return _.jsxs("div",{className:"min-h-screen bg-neutral-950 p-8 text-gray-100",children:[_.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Admin Paneli"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs(Bf,{to:"/admin/students",className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-3 py-2 text-sm font-medium hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-600",title:"renci Raporlarn A",children:[_.jsx(R0,{className:"h-4 w-4"}),"renci Raporlar"]}),_.jsxs(Bf,{to:"/admin/assign",className:"inline-flex items-center gap-2 rounded-md bg-emerald-600 px-3 py-2 text-sm font-medium hover:bg-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-600",title:"Test Atama Sayfasn A",children:[_.jsx(AA,{className:"h-4 w-4"}),"Test Atama"]})]})]}),_.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[_.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"renci Ekle"}),_.jsxs("form",{onSubmit:L,className:"space-y-4",children:[_.jsx("input",{name:"email",type:"email",value:x.email,onChange:j,placeholder:"E-posta",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[_.jsx("input",{name:"firstName",value:x.firstName,onChange:j,placeholder:"Ad",className:"rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("input",{name:"lastName",value:x.lastName,onChange:j,placeholder:"Soyad",className:"rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{name:"password",value:x.password,onChange:j,placeholder:"Geici Parola",className:"flex-1 rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("button",{type:"button",onClick:()=>N(he=>({...he,password:W5()})),className:"rounded-md bg-neutral-700 px-3 text-xs hover:bg-neutral-600",children:"ret"})]}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Ekle"})]})]}),_.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Test Kategorisi Ekle"}),_.jsxs("form",{onSubmit:K,className:"space-y-4",children:[_.jsx("input",{value:U.name,onChange:he=>Y(Te=>({...Te,name:he.target.value})),placeholder:"Kategori ad",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Ekle"})]}),_.jsx("h2",{className:"mt-8 mb-4 text-xl font-semibold",children:"zel Ders Kategorisi Ekle"}),_.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[_.jsx("input",{value:Z.name,onChange:he=>W(Te=>({...Te,name:he.target.value})),placeholder:"zel kategori ad",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-emerald-600 py-2 text-sm font-medium hover:bg-emerald-500",children:"Ekle"})]})]}),_.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Slayt Kategorisi Ekle"}),_.jsxs("form",{onSubmit:R,className:"space-y-4",children:[_.jsxs("select",{value:M.grade,onChange:he=>S(Te=>({...Te,grade:he.target.value})),className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Snf"}),_.jsx("option",{value:"5",children:"5"}),_.jsx("option",{value:"6",children:"6"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"8",children:"8"})]}),_.jsx("input",{value:M.name,onChange:he=>S(Te=>({...Te,name:he.target.value})),placeholder:"Kategori ad",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Ekle"})]})]}),_.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Sistem statistikleri"}),_.jsxs("div",{className:"space-y-2 text-sm",children:[_.jsxs("p",{children:[_.jsx("span",{className:"font-semibold text-blue-400",children:t.students})," renci kaytl"]}),_.jsxs("p",{children:[_.jsx("span",{className:"font-semibold text-blue-400",children:t.tests})," test mevcut"]})]})]}),_.jsx("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800 md:col-span-4",children:_.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Test Ekle"}),_.jsxs("form",{onSubmit:Q,className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-1",children:[_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Kategori"}),_.jsxs("select",{name:"collection",value:B.collection,onChange:me,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seiniz"}),s.map(he=>_.jsx("option",{value:he.name,children:he.name},he.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Snf"}),_.jsxs("select",{name:"grade",value:B.grade,onChange:me,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seiniz"}),_.jsx("option",{value:"5",children:"5"}),_.jsx("option",{value:"6",children:"6"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"8",children:"8"})]})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Ad"}),_.jsx("input",{name:"name",value:B.name,onChange:me,placeholder:"r. 7.Snf Deneme1",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Linki"}),_.jsx("input",{name:"link",value:B.link,onChange:me,placeholder:"https://...",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Soru Says"}),_.jsx("input",{name:"questionCount",type:"number",value:B.questionCount,onChange:me,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Cevap Anahtar"}),_.jsx("textarea",{name:"answerKey",rows:3,value:B.answerKey,onChange:me,onBlur:de,placeholder:"r. ABCDABCD...",className:`w-full resize-y rounded-lg bg-neutral-800 p-4 text-sm font-mono tracking-wider leading-relaxed focus:outline-none focus:ring-2 ${D?"ring-2 ring-red-600 focus:ring-red-600":"focus:ring-blue-600"}`,required:!0}),D&&_.jsx("p",{className:"mt-1 text-xs text-red-500",children:D})]}),_.jsx("div",{className:"sm:col-span-2",children:_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Kaydet"})})]})]}),_.jsxs("div",{children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Slayt Ekle"}),_.jsxs("form",{onSubmit:V,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Kategori"}),_.jsxs("select",{name:"collection",value:ie.collection,onChange:_e,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seiniz"}),l.map(he=>_.jsx("option",{value:he.name,children:he.name},he.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Snf"}),_.jsxs("select",{name:"grade",value:ie.grade,onChange:_e,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seiniz"}),_.jsx("option",{value:"5",children:"5"}),_.jsx("option",{value:"6",children:"6"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"8",children:"8"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Slayt Ad"}),_.jsx("input",{name:"name",value:ie.name,onChange:_e,placeholder:"r. sl Saylar",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Slayt Linki"}),_.jsx("input",{name:"link",value:ie.link,onChange:_e,placeholder:"https://...",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Kaydet"})]})]}),_.jsxs("div",{children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"zel Ders Testi Ekle"}),_.jsxs("form",{onSubmit:Ct,className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-1",children:[_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Kategori (zel)"}),_.jsxs("select",{name:"collection",value:le.collection,onChange:be,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seiniz"}),d.map(he=>_.jsx("option",{value:he.name,children:he.name},he.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Snf"}),_.jsxs("select",{name:"grade",value:le.grade,onChange:be,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seiniz"}),_.jsx("option",{value:"5",children:"5"}),_.jsx("option",{value:"6",children:"6"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"8",children:"8"})]})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Ad"}),_.jsx("input",{name:"name",value:le.name,onChange:be,placeholder:"r. 8.Snf zel Deneme1",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Linki"}),_.jsx("input",{name:"link",value:le.link,onChange:be,placeholder:"https://...",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Soru Says"}),_.jsx("input",{name:"questionCount",type:"number",value:le.questionCount,onChange:be,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Cevap Anahtar"}),_.jsx("textarea",{name:"answerKey",rows:3,value:le.answerKey,onChange:be,onBlur:we,placeholder:"r. ABCDABCD...",className:`w-full resize-y rounded-lg bg-neutral-800 p-4 text-sm font-mono tracking-wider leading-relaxed focus:outline-none focus:ring-2 ${ee?"ring-2 ring-red-600 focus:ring-red-600":"focus:ring-blue-600"}`,required:!0}),ee&&_.jsx("p",{className:"mt-1 text-xs text-red-500",children:ee})]}),_.jsx("div",{className:"sm:col-span-2",children:_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Kaydet"})})]})]})]})})]})]})}const C1=(t="")=>String(t).trim().split(/\s+/).map(e=>e.split("-").map(n=>n?n[0].toLocaleUpperCase("tr-TR")+n.slice(1).toLocaleLowerCase("tr-TR"):"").join("-")).join(" "),Un=t=>{if(t==null)return"";const e=String(t).trim();return e==="undefined"||e==="null"?"":e},J5=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120).toLowerCase(),e9={indigo:"bg-indigo-50 ring-indigo-100 text-indigo-600",emerald:"bg-emerald-50 ring-emerald-100 text-emerald-600",violet:"bg-violet-50 ring-violet-100 text-violet-600",rose:"bg-rose-50 ring-rose-100 text-rose-600",amber:"bg-amber-50 ring-amber-100 text-amber-600"},Lf={indigo:"text-indigo-700",emerald:"text-emerald-700",violet:"text-violet-700",rose:"text-rose-600",amber:"text-amber-700"},Ty={emerald:{badgeColor:"emerald",chip:"bg-emerald-50 text-emerald-700 ring-emerald-100",text:"text-emerald-700",border:"border-emerald-300",btn:"bg-emerald-600",btnHover:"hover:bg-emerald-500",ring:"focus-visible:ring-emerald-400",underline:"decoration-emerald-300"},rose:{badgeColor:"rose",chip:"bg-rose-50 text-rose-700 ring-rose-100",text:"text-rose-700",border:"border-rose-300",btn:"bg-rose-600",btnHover:"hover:bg-rose-500",ring:"focus-visible:ring-rose-400",underline:"decoration-rose-300"}},Oa=({color:t="indigo",children:e,className:n=""})=>_.jsx("span",{className:`inline-flex h-7 w-7 items-center justify-center rounded-full ring-1 ${e9[t]} ${n}`,children:e}),gf=({icon:t,color:e="indigo",children:n})=>_.jsxs("div",{className:"mb-5 flex items-center gap-2",children:[_.jsx(Oa,{color:e,children:_.jsx(t,{className:"h-4 w-4"})}),_.jsx("h2",{className:`text-lg font-semibold ${Lf[e]}`,children:n})]}),yf=({className:t="",children:e})=>_.jsx("div",{className:`rounded-xl border border-slate-300 bg-white shadow-sm ${t}`,children:e}),t9=({title:t,children:e})=>{const[n,s]=I.useState(!1),[a,l]=I.useState(0),c=I.useRef(null);return I.useEffect(()=>{const d=c.current;if(!d)return;const m=()=>l(d.scrollHeight);m();const p=new ResizeObserver(m);p.observe(d);const y=setTimeout(m,50);return()=>{p.disconnect(),clearTimeout(y)}},[e,n]),_.jsxs("div",{className:"mb-5 rounded-xl border border-slate-300 bg-white shadow-sm",children:[_.jsxs("button",{onClick:()=>s(d=>!d),"aria-expanded":n,className:"flex w-full items-center justify-between rounded-xl border-b border-slate-200 px-5 py-3.5 text-left text-[15px] font-semibold text-slate-800 transition-colors hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[t,_.jsx(ka.div,{animate:{rotate:n?180:0},transition:{duration:.25},className:"text-slate-500",children:_.jsx(SA,{className:"h-4 w-4"})})]}),_.jsx(ka.div,{initial:!1,animate:n?{maxHeight:a,opacity:1}:{maxHeight:0,opacity:0},transition:{duration:.28,ease:[.22,1,.36,1]},className:"overflow-hidden",style:{willChange:"max-height, opacity"},children:_.jsx("div",{ref:c,className:"px-6 pb-5 pt-4",children:e})})]})},n9=({cats:t=[]})=>t.length?_.jsx("div",{className:"space-y-5",children:t.map(({cat:e,list:n})=>_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Oa,{color:"indigo",children:_.jsx(lc,{className:"h-4 w-4"})}),_.jsx("p",{className:"text-sm font-medium text-indigo-700",children:e})]}),_.jsx("ul",{className:"space-y-1.5 text-sm leading-6 text-slate-700",children:n.map((s,a)=>_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx(Oa,{color:"indigo",className:"h-6 w-6",children:_.jsx(C0,{className:"h-3.5 w-3.5"})}),s.link?_.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline decoration-indigo-300 underline-offset-2 hover:text-indigo-700",children:[s.name,_.jsx(yl,{className:"h-3.5 w-3.5"})]}):s.name]},`${e}-${a}`))})]},e))}):_.jsx("p",{className:"text-xs text-slate-500",children:"Bu snf iin slayt yok."}),N1=({cats:t=[],studentName:e,solvedSet:n,accent:s="emerald"})=>{const a=gc(),l=Ty[s];return t.length?_.jsx("div",{className:"space-y-5",children:t.map(({cat:c,list:d})=>_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Oa,{color:l.badgeColor,children:_.jsx(N0,{className:"h-4 w-4"})}),_.jsx("p",{className:`text-sm font-medium ${l.text}`,children:c})]}),_.jsx("ul",{className:"space-y-2.5 text-sm leading-6 text-slate-700",children:d.map((m,p)=>{const y=m.questionCount??20,T=!!m.link,x=!!n?.has?.(m.name);return _.jsxs("li",{className:"flex flex-col gap-2 rounded-lg md:flex-row md:items-center md:justify-between",children:[_.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[_.jsx(Oa,{color:l.badgeColor,className:"h-6 w-6 shrink-0",children:_.jsx(Sa,{className:"h-3.5 w-3.5"})}),_.jsx("span",{className:"truncate",children:m.name}),_.jsxs("span",{className:`shrink-0 rounded-full px-2 py-0.5 text-[11px] font-medium ring-1 ${l.chip}`,children:[y," soru"]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[T?_.jsxs("a",{href:m.link,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center rounded-md border bg-white px-3 py-1.5 text-xs font-medium shadow-sm hover:bg-slate-50 focus:outline-none focus-visible:ring-2 ${l.border} ${l.text} ${l.ring}`,children:["Testi Gr",_.jsx(yl,{className:"ml-1 h-3.5 w-3.5"})]}):_.jsx("button",{disabled:!0,className:"inline-flex cursor-not-allowed items-center justify-center rounded-md border border-slate-200 bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-500",title:"Bu test iin balant eklenmemi.",children:"Testi Gr"}),_.jsx("button",{"aria-disabled":x,disabled:x,onClick:()=>{x||a(`/optik?count=${y}&test=${encodeURIComponent(m.name)}&student=${encodeURIComponent(e)}`)},title:x?"Bu test daha nce zld.":"Testi z",className:`inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium shadow-sm transition-colors focus:outline-none focus-visible:ring-2
                        ${x?"cursor-not-allowed bg-slate-200 text-slate-500 ring-1 ring-slate-300":`${l.btn} text-white ring-1 ring-black/5 ${l.btnHover} ${l.ring}`}`,children:x?"zld":"Testi z"})]})]},`${c}-${p}`)})})]},`${s}-${c}`))}):_.jsx("p",{className:"text-xs text-slate-500",children:"Bu snf iin test yok."})};function i9(){const{user:t}=Pd(),e=I.useMemo(()=>[5,6,7,8],[]),[n,s]=I.useState({}),[a,l]=I.useState({}),[c,d]=I.useState({}),[m,p]=I.useState(null),[y,T]=I.useState(new Set),[x,N]=I.useState([]),[j,P]=I.useState({submissions:0,compared:0,correct:0,wrong:0,blank:0,accuracy:0});I.useEffect(()=>{t?.uid&&(async()=>{try{const Z=await S0(xa(Me,"students",t.uid));p(Z.exists()?{id:Z.id,...Z.data()}:{})}catch(Z){console.error("Profil ekilemedi:",Z),p({})}})()},[t]),I.useEffect(()=>{(async()=>{try{const[W,oe,M]=await Promise.all([lt(Ue(Me,"slaytKategoriAdlari")),lt(Ue(Me,"kategoriAdlari")),lt(Ue(Me,"ozelKategoriler"))]),S=W.docs.map(me=>Un(me.data().name)).filter(Boolean),R=oe.docs.map(me=>Un(me.data().name)).filter(Boolean),D=M.docs.map(me=>Un(me.data().name)).filter(Boolean),O={},B={},C={};await Promise.all(e.map(async me=>{const de=[];await Promise.all(S.map(async ce=>{const V=(await lt(Bn(Ue(Me,ce),Rn("grade","==",me)))).docs.map(ee=>{const ue=ee.data();return{name:Un(ue.name),link:Un(ue.link)||void 0}}).filter(ee=>ee.name);V.length&&de.push({cat:ce,list:V})})),O[me]=de;const Q=[];await Promise.all(R.map(async ce=>{const V=(await lt(Bn(Ue(Me,ce),Rn("grade","==",me)))).docs.map(ee=>{const ue=ee.data(),le=ue.createdAt?.toDate?.(),ye=le?new Date(le.getTime()+(ue.duration||0)*6e4):null;return{name:Un(ue.name),link:Un(ue.link)||void 0,closing:ye,questionCount:typeof ue.questionCount=="number"?ue.questionCount:typeof ue.count=="number"?ue.count:20}}).filter(ee=>ee.name);V.length&&Q.push({cat:ce,list:V})})),B[me]=Q;const ie=[];await Promise.all(D.map(async ce=>{const V=(await lt(Bn(Ue(Me,ce),Rn("grade","==",me)))).docs.map(ee=>{const ue=ee.data();return{name:Un(ue.name),link:Un(ue.link)||void 0,questionCount:typeof ue.questionCount=="number"?ue.questionCount:typeof ue.count=="number"?ue.count:20}}).filter(ee=>ee.name);V.length&&ie.push({cat:ce,list:V})})),C[me]=ie})),s(O),l(B),d(C)}catch(W){console.error("Firestore veri ekme hatas:",W)}})()},[e]);const{firstName:L,lastName:U}=I.useMemo(()=>{const Z=Un(m?.firstName),W=Un(m?.lastName);return{firstName:Z?C1(Z):"-",lastName:W?C1(W):"-"}},[m]),Y=I.useMemo(()=>{const Z=`${L&&L!=="-"?L:""} ${U&&U!=="-"?U:""}`.trim()||(t?.email?.split("@")[0]??"bilinmeyen");return J5(Z)},[L,U,t]);I.useEffect(()=>{Y&&(async()=>{try{const Z=Bn(Ue(Me,Y),Rn("type","==","submission")),W=await lt(Z),oe=new Set;W.forEach(M=>{const S=M.data()?.test?.name;S&&oe.add(String(S))}),T(oe)}catch(Z){console.error("zlen testler alnamad:",Z),T(new Set)}})()},[Y]),I.useEffect(()=>{Y&&(async()=>{try{const Z=`${Y}_odevler`;let W;try{W=await lt(Bn(Ue(Me,Z),Rn("type","==","assignment"),Rn("status","==","assigned")))}catch{W=await lt(Bn(Ue(Me,Z),Rn("type","==","assignment")))}const oe=[];W.forEach(M=>{const S=M.data();if(S.status&&S.status!=="assigned")return;const R=S.test||{},D=Un(R.name);D&&oe.push({id:M.id,name:D,category:Un(R.category),grade:R.grade??null,link:R.link||null,questionCount:typeof R.questionCount=="number"?R.questionCount:20,isSpecial:!!R.isSpecial})}),oe.sort((M,S)=>M.name.localeCompare(S.name,"tr")),N(oe)}catch(Z){console.error("Atanan devler getirilemedi:",Z),N([])}})()},[Y]),I.useEffect(()=>{Y&&(async()=>{try{const Z=Bn(Ue(Me,Y),Rn("type","==","submission")),W=await lt(Z);let oe=0,M=0,S=0,R=0,D=0;W.forEach(C=>{const me=C.data();if(me?.type!=="submission")return;oe+=1;const de=me?.scoring;de&&de.status==="ok"&&(M+=de.compared||0,S+=de.correctCount||0,R+=de.wrongCount||0,D+=de.blankCount||0)});const O=S+R,B=O>0?S/O:0;P({submissions:oe,compared:M,correct:S,wrong:R,blank:D,accuracy:B})}catch(Z){console.error("statistikler hesaplanamad:",Z),P({submissions:0,compared:0,correct:0,wrong:0,blank:0,accuracy:0})}})()},[Y]);const K=gc();return _.jsx("section",{className:"min-h-screen bg-slate-50 px-5 py-10 text-slate-800 md:px-6",children:_.jsxs("div",{className:"mx-auto max-w-6xl",children:[_.jsxs("div",{className:"mb-10 flex items-center justify-center gap-2",children:[_.jsx(Oa,{color:"indigo",children:_.jsx(lc,{className:"h-4 w-4"})}),_.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:"renci Paneli"})]}),_.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[_.jsxs(yf,{className:"p-7 md:p-8 lg:col-span-2",children:[_.jsx(gf,{icon:lc,color:"indigo",children:"Slaytlar & Testler"}),[5,6,7,8].map(Z=>_.jsxs(t9,{title:`${Z}. Snf`,children:[_.jsx("h3",{className:`mb-2 text-sm font-semibold ${Lf.indigo}`,children:"Slaytlar"}),_.jsx(n9,{cats:n[Z]||[]}),_.jsx("h3",{className:`mb-2 mt-5 text-sm font-semibold ${Lf.emerald}`,children:"Testler"}),_.jsx(N1,{cats:a[Z]||[],studentName:Y,solvedSet:y,accent:"emerald"}),_.jsx("h3",{className:`mb-2 mt-5 text-sm font-semibold ${Lf.rose}`,children:"Yaynlar"}),_.jsx(N1,{cats:c[Z]||[],studentName:Y,solvedSet:y,accent:"rose"})]},Z))]}),_.jsxs("div",{className:"flex flex-col gap-8",children:[_.jsxs(yf,{className:"p-7 md:p-8",children:[_.jsx(gf,{icon:Sa,color:"rose",children:"Aktif devler"}),x.length===0?_.jsx("p",{className:"text-center text-sm leading-7 text-slate-600",children:"u anda atanm dev bulunmuyor."}):_.jsx("ul",{className:"space-y-2.5 text-sm",children:x.map(Z=>{const W=y.has(Z.name),oe=Z.isSpecial?Ty.rose:Ty.emerald;return _.jsxs("li",{className:"flex flex-col gap-2 rounded-lg md:flex-row md:items-center md:justify-between",children:[_.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[_.jsx(Oa,{color:oe.badgeColor,className:"h-6 w-6 shrink-0",children:_.jsx(Sa,{className:"h-3.5 w-3.5"})}),_.jsx("span",{className:"truncate",children:Z.name}),_.jsxs("span",{className:`shrink-0 rounded-full px-2 py-0.5 text-[11px] font-medium ring-1 ${oe.chip}`,title:Z.isSpecial?"zel test":"Normal test",children:[Z.questionCount," soru"]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[Z.link?_.jsxs("a",{href:Z.link,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center rounded-md border bg-white px-3 py-1.5 text-xs font-medium shadow-sm hover:bg-slate-50 focus:outline-none focus-visible:ring-2 ${oe.border} ${oe.text} ${oe.ring}`,children:["Testi Gr",_.jsx(yl,{className:"ml-1 h-3.5 w-3.5"})]}):_.jsx("button",{disabled:!0,className:"inline-flex cursor-not-allowed items-center justify-center rounded-md border border-slate-200 bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-500",title:"Bu test iin balant eklenmemi.",children:"Testi Gr"}),_.jsx("button",{"aria-disabled":W,disabled:W,onClick:()=>{W||K(`/optik?count=${Z.questionCount}&test=${encodeURIComponent(Z.name)}&student=${encodeURIComponent(Y)}&cat=${encodeURIComponent(Z.category)}&grade=${Z.grade??""}&link=${encodeURIComponent(Z.link||"")}`)},title:W?"Bu test daha nce zld.":"Testi z",className:`inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium shadow-sm transition-colors focus:outline-none focus-visible:ring-2
                              ${W?"cursor-not-allowed bg-slate-200 text-slate-500 ring-1 ring-slate-300":`${oe.btn} text-white ring-1 ring-black/5 ${oe.btnHover} ${oe.ring}`}`,children:W?"zld":"Testi z"})]})]},Z.id)})})]}),_.jsxs(yf,{className:"p-7 md:p-8",children:[_.jsx(gf,{icon:h3,color:"violet",children:"Kiisel Bilgiler"}),_.jsxs("dl",{className:"divide-y divide-slate-200 text-sm",children:[_.jsxs("div",{className:"grid grid-cols-2 gap-y-2 py-3",children:[_.jsx("dt",{className:"font-medium text-slate-600",children:"Ad"}),_.jsx("dd",{className:"text-right",children:L||"-"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-y-2 py-3",children:[_.jsx("dt",{className:"font-medium text-slate-600",children:"Soyad"}),_.jsx("dd",{className:"text-right",children:U||"-"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-y-2 py-3",children:[_.jsx("dt",{className:"font-medium text-slate-600",children:"E-posta"}),_.jsx("dd",{className:"text-right",children:t?.email||"-"})]})]})]}),_.jsxs(yf,{className:"p-7 md:p-8",children:[_.jsx(gf,{icon:R0,color:"amber",children:"statistikler"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center sm:grid-cols-4",children:[_.jsxs("div",{className:"rounded-lg bg-amber-50 p-3 ring-1 ring-amber-100",children:[_.jsx("div",{className:"text-2xl font-extrabold text-amber-700",children:j.submissions}),_.jsx("div",{className:"mt-1 text-xs font-medium text-amber-700/80",children:"Test"})]}),_.jsxs("div",{className:"rounded-lg bg-emerald-50 p-3 ring-1 ring-emerald-100",children:[_.jsx("div",{className:"text-2xl font-extrabold text-emerald-700",children:j.correct}),_.jsx("div",{className:"mt-1 text-xs font-medium text-emerald-700/80",children:"Doru"})]}),_.jsxs("div",{className:"rounded-lg bg-rose-50 p-3 ring-1 ring-rose-100",children:[_.jsx("div",{className:"text-2xl font-extrabold text-rose-700",children:j.wrong}),_.jsx("div",{className:"mt-1 text-xs font-medium text-rose-700/80",children:"Yanl"})]}),_.jsxs("div",{className:"rounded-lg bg-slate-50 p-3 ring-1 ring-slate-200",children:[_.jsx("div",{className:"text-2xl font-extrabold text-slate-700",children:j.blank}),_.jsx("div",{className:"mt-1 text-xs font-medium text-slate-700/80",children:"Bo"})]})]}),_.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"rounded-lg bg-white p-3 ring-1 ring-slate-200",children:[_.jsx("p",{className:"text-center text-[13px] text-slate-600",children:"Karlatrlan soru"}),_.jsx("p",{className:"mt-1 text-center text-xl font-bold text-slate-900",children:j.compared})]}),_.jsxs("div",{className:"rounded-lg bg-white p-3 ring-1 ring-slate-200",children:[_.jsx("p",{className:"text-center text-[13px] text-slate-600",children:"Doruluk"}),_.jsxs("p",{className:"mt-1 text-center text-xl font-bold text-slate-900",children:[(j.accuracy*100).toFixed(1),"%"]})]})]}),j.submissions===0&&_.jsx("p",{className:"mt-4 text-center text-xs text-slate-500",children:"Henz gnderim yok. Test zdke istatistikler burada grnecek."})]})]})]})]})})}const s9="admin@mail.com";function I1({children:t,role:e}){const{user:n,loading:s}=Pd(),[a,l]=I.useState(null);if(I.useEffect(()=>{let p=!0;return(async()=>{if(!n){p&&l(null);return}try{const y=await cw(n,!0);p&&l(y&&y.claims||{})}catch{p&&l({})}})(),()=>{p=!1}},[n]),s||n&&a===null)return null;if(!n)return _.jsx(Tf,{to:"/",replace:!0});const c=(n.email||"").toLowerCase()===s9,m=(typeof a?.admin=="boolean"?a.admin:!1)||c;return e==="admin"&&!m?_.jsx(Tf,{to:"/dashboard",replace:!0}):e==="user"&&m?_.jsx(Tf,{to:"/admin",replace:!0}):_.jsx(_.Fragment,{children:t})}const D1=["A","B","C","D"],Tg=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120),vf=({children:t,color:e="indigo"})=>{const n={indigo:"bg-indigo-50 text-indigo-700 ring-indigo-100",emerald:"bg-emerald-50 text-emerald-700 ring-emerald-100",slate:"bg-slate-50 text-slate-700 ring-slate-200",rose:"bg-rose-50 text-rose-700 ring-rose-100"};return _.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-medium ring-1 ${n[e]}`,children:t})};function r9(t){const{answersArray:e,answerKey:n}=t,s=n.trim().toUpperCase(),a=Math.min(e.length,s.length);let l=0,c=0,d=0;const m=[],p=[],y=[];for(let T=0;T<a;T++){const x=e[T],N=s[T];!x||x==="-"?(d++,y.push(T+1)):N&&x===N?(l++,p.push(T+1)):(c++,m.push(T+1))}return{correctCount:l,wrongCount:c,blankCount:d,wrongQuestions:m,correctQuestions:p,blankQuestions:y,compared:a,keyLength:s.length}}async function Eg(t,e){const n=await lt(Bn(Ue(Me,t),Rn("name","==",e),yA(1)));if(n.empty)return null;const s=n.docs[0],a=s.data();return{category:t,data:a,id:s.id}}async function a9(t,e){if(e){const c=await Eg(e,t);if(c)return{...c,type:"hint"}}const[n,s]=await Promise.all([lt(Ue(Me,"kategoriAdlari")),lt(Ue(Me,"ozelKategoriler"))]),a=n.docs.map(c=>String(c.data()?.name||"").trim()).filter(Boolean),l=s.docs.map(c=>String(c.data()?.name||"").trim()).filter(Boolean);for(const c of a){const d=await Eg(c,t);if(d)return{...d,type:"normal"}}for(const c of l){const d=await Eg(c,t);if(d)return{...d,type:"special"}}return null}function o9(){const{user:t}=Pd(),{state:e}=Ms(),n=new URLSearchParams(window.location.search),s=Math.max(1,parseInt(n.get("count")||"20",10)),a=n.get("test")||e?.testName||"Adsz Test",l=n.get("id")||e?.testId||null,c=n.get("cat")||e?.testCat||null,d=n.get("grade")?parseInt(n.get("grade"),10):e?.testGrade??null,m=n.get("link")||e?.testLink||null,p=(e?.studentName||n.get("student")||"").trim(),[y,T]=I.useState(p),x=I.useMemo(()=>Array.from({length:s},(R,D)=>D+1),[s]),[N,j]=I.useState({}),[P,L]=I.useState(!1),[U,Y]=I.useState(!1),[K,Z]=I.useState(null),W=I.useMemo(()=>Object.keys(N).length,[N]);I.useEffect(()=>{let R=!1;return y?void 0:((async()=>{try{if(!t?.email)return;const O=Bn(Ue(Me,"students"),Rn("email","==",t.email),yA(1)),B=await lt(O);if(R)return;if(B.empty)T(t.email?.split("@")[0]??"Bilinmeyen");else{const C=B.docs[0].data(),me=C.firstname||C.firstName||"",de=C.lastname||C.lastName||"",Q=`${me} ${de}`.trim();T(Q||(t.email?.split("@")[0]??"Bilinmeyen"))}}catch{R||T(t?.email?.split("@")[0]??"Bilinmeyen")}})(),()=>{R=!0})},[t,y]);const oe=(R,D)=>j(O=>({...O,[R]:D})),M=()=>{U||(j({}),Z(null))},S=async()=>{if(Z(null),!t){Z({type:"err",text:"Giri yapmadan cevap gnderemezsiniz."});return}let R="";const D=Array.from({length:s},(O,B)=>{const C=N[B+1]??"-";return R+=C,C});L(!0);try{const O=await a9(a,c);if(!O){const be=e?.nameKey&&typeof e.nameKey=="string"&&e.nameKey?e.nameKey.toLocaleLowerCase("tr-TR"):Tg(y).toLocaleLowerCase("tr-TR"),we={type:"submission",test:{id:l,name:a,category:c??null,grade:d,link:m},user:{uid:t.uid||null,email:t.email||null,name:y||null},count:s,answeredCount:W,answers:R,answersArray:D,answersMap:N,createdAt:vr(),scoring:{status:"missing-key"}};await ji(Ue(Me,be),we),Y(!0),Z({type:"err",text:"Cevaplar kaydedildi fakat test anahtar bulunamad; sonu hesaplanamad. (Kategori elemedi)"});return}const{category:B,data:C}=O,me=String(C?.answerKey||"").trim().toUpperCase();if(!me){const be=e?.nameKey&&typeof e.nameKey=="string"&&e.nameKey?e.nameKey.toLocaleLowerCase("tr-TR"):Tg(y).toLocaleLowerCase("tr-TR"),we={type:"submission",test:{id:l,name:a,category:B,grade:d??C?.grade??null,link:m??C?.link??null},user:{uid:t.uid||null,email:t.email||null,name:y||null},count:s,answeredCount:W,answers:R,answersArray:D,answersMap:N,createdAt:vr(),scoring:{status:"missing-key"}};await ji(Ue(Me,be),we),Y(!0),Z({type:"err",text:"Cevaplar kaydedildi fakat bu test iin cevap anahtar bulunamad; sonu hesaplanamad."});return}const{correctCount:de,wrongCount:Q,blankCount:ie,wrongQuestions:ce,correctQuestions:_e,blankQuestions:V,compared:ee,keyLength:ue}=r9({answersArray:D,answerKey:me}),le=e?.nameKey&&typeof e.nameKey=="string"&&e.nameKey?e.nameKey.toLocaleLowerCase("tr-TR"):Tg(y).toLocaleLowerCase("tr-TR"),ye={type:"submission",test:{id:l,name:a,category:B,grade:d??C?.grade??null,link:m??C?.link??null},user:{uid:t.uid||null,email:t.email||null,name:y||null},count:s,answeredCount:W,answers:R,answersArray:D,answersMap:N,createdAt:vr(),scoring:{status:"ok",answerKey:me,keyLength:ue,compared:ee,correctCount:de,wrongCount:Q,blankCount:ie,wrongQuestions:ce,correctQuestions:_e,blankQuestions:V}};await ji(Ue(Me,le),ye),Y(!0),Z({type:"ok",text:`Cevaplar kaydedildi. Doru: ${de}, Yanl: ${Q}, Bo: ${ie}.`})}catch(O){console.error(O),Z({type:"err",text:"Kaydetme srasnda bir hata olutu."})}finally{L(!1)}};return _.jsx("section",{className:"min-h-screen bg-slate-50 px-5 py-8 text-slate-800 md:px-6",children:_.jsxs("div",{className:"mx-auto max-w-5xl",children:[_.jsxs("div",{className:"mb-6 text-center",children:[_.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:"Optik Cevap Formu"}),_.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-center gap-2",children:[_.jsxs(vf,{color:"slate",children:["renci: ",_.jsx("span",{className:"font-semibold",children:y||""})]}),_.jsxs(vf,{color:"indigo",children:["Test: ",_.jsx("span",{className:"font-semibold",children:a})]}),c?_.jsxs(vf,{color:"rose",children:["Kategori: ",_.jsx("span",{className:"font-semibold",children:c})]}):null,_.jsxs(vf,{color:"emerald",children:["aretlenen: ",_.jsx("span",{className:"font-semibold",children:W})," / ",s]})]})]}),K&&_.jsx("div",{className:`mb-4 rounded-xl px-4 py-3 text-sm ring-1 ${K.type==="ok"?"bg-emerald-50 text-emerald-700 ring-emerald-100":"bg-rose-50 text-rose-700 ring-rose-100"}`,children:K.text}),_.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200",children:[_.jsx("div",{className:"overflow-x-auto rounded-xl",children:_.jsxs("table",{className:"w-full border-separate border-spacing-0 text-center text-sm",children:[_.jsx("thead",{className:"sticky top-0 z-10 bg-indigo-50 text-indigo-800",children:_.jsxs("tr",{children:[_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 text-left text-[13px] font-semibold",children:"Soru"}),D1.map(R=>_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 text-[13px] font-semibold",children:R},R))]})}),_.jsx("tbody",{className:"text-slate-700",children:x.map(R=>_.jsxs("tr",{className:"odd:bg-slate-50 even:bg-white transition-colors hover:bg-indigo-50/40",children:[_.jsx("td",{className:"border-b border-slate-200 px-3 py-2.5 text-left font-medium",children:R}),D1.map(D=>{const O=`q${R}-${D}`,B=N[R]===D;return _.jsxs("td",{className:"border-b border-slate-200 px-3 py-2.5",children:[_.jsx("input",{id:O,type:"radio",name:`q${R}`,value:D,className:"sr-only peer",checked:!!B,onChange:()=>oe(R,D),disabled:U}),_.jsx("label",{htmlFor:O,className:`inline-flex h-5 w-5 items-center justify-center rounded-full ring-1 ring-slate-300 transition
                                       hover:ring-indigo-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400
                                       peer-checked:bg-indigo-600 peer-checked:ring-indigo-300
                                       ${U?"opacity-60 pointer-events-none":""}`,title:D,children:_.jsx("span",{className:"block h-2.5 w-2.5 rounded-full bg-white opacity-0 transition-opacity peer-checked:opacity-100"})})]},D)})]},R))})]})}),_.jsxs("div",{className:"flex flex-col items-center justify-between gap-3 border-t border-slate-200 px-4 py-4 sm:flex-row",children:[_.jsx("div",{className:"h-2 w-full rounded-full bg-slate-100 sm:max-w-xs",children:_.jsx("div",{className:"h-2 rounded-full bg-indigo-300",style:{width:`${W/s*100}%`}})}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",onClick:M,disabled:P||U,className:`rounded-lg px-4 py-2 text-sm font-medium ring-1 transition-colors focus:outline-none
                  ${P||U?"bg-white text-slate-400 ring-slate-200 cursor-not-allowed":"bg-white text-slate-700 ring-slate-300 hover:bg-slate-50 focus-visible:ring-2 focus-visible:ring-indigo-400"}`,children:"Temizle"}),_.jsx("button",{onClick:S,disabled:P||U,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors
                            focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400
                            ${P||U?"cursor-not-allowed bg-indigo-400":"bg-indigo-600 hover:bg-indigo-500"}`,children:U?"Kaydedildi":P?"Kaydediliyor...":"Cevaplar Kaydet"})]})]})]}),_.jsxs("p",{className:"mt-4 text-center text-xs text-slate-500",children:["pucu: Hcrelere tklayarak iaretleyebilir, ",_.jsx("span",{className:"font-medium",children:"Temizle"})," ile sfrlayabilirsiniz."]})]})})}const l9=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120).toLowerCase(),V1=t=>t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"medium",timeStyle:"short"}).format(t):"",u9=(t,e)=>e>0?Math.round(t/e*100):0,_f=({icon:t,label:e,value:n})=>_.jsxs("div",{className:"rounded-xl bg-neutral-900 p-5 ring-1 ring-neutral-800 shadow",children:[_.jsxs("div",{className:"mb-3 flex items-center gap-2 text-neutral-300",children:[_.jsx(t,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{className:"text-xs font-medium",children:e})]}),_.jsx("div",{className:"text-2xl font-bold text-white",children:n})]}),bg=({children:t,tone:e="slate"})=>{const n={indigo:"bg-indigo-100/10 text-indigo-300 ring-indigo-500/20",emerald:"bg-emerald-100/10 text-emerald-300 ring-emerald-500/20",rose:"bg-rose-100/10 text-rose-300 ring-rose-500/20",amber:"bg-amber-100/10 text-amber-300 ring-amber-500/20",slate:"bg-slate-100/10 text-slate-300 ring-slate-500/20"};return _.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs ring-1 ${n[e]}`,children:t})},c9=({wrong:t=[]})=>{const[e,n]=I.useState(!1);return t.length?_.jsxs("div",{className:"mt-2",children:[_.jsxs("button",{onClick:()=>n(s=>!s),className:"inline-flex items-center gap-1 text-xs text-neutral-300 hover:text-white",children:[_.jsx(SA,{className:`h-4 w-4 transition-transform ${e?"rotate-180":""}`}),"Yanl sorular gster"]}),e&&_.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:t.map(s=>_.jsx("span",{className:"rounded-md bg-rose-500/10 px-2 py-0.5 text-[11px] font-medium text-rose-300 ring-1 ring-rose-500/20",children:s},s))})]}):null};function h9(){const[t,e]=I.useState({}),[n,s]=I.useState(""),[a,l]=I.useState(""),[c,d]=I.useState(!1),[m,p]=I.useState([]),[y,T]=I.useState({total:0,totalCorrect:0,totalWrong:0,totalBlank:0,avgScore:0,lastActivity:null});I.useEffect(()=>{(async()=>{try{const P=await S0(xa(Me,"ogrenciAdlari","_index")),L=(P.exists()?P.data()?.names:{})||{};e(L)}catch(P){console.error("ogrenciAdlari/_index okunamad:",P),e({})}})()},[]);const x=I.useMemo(()=>Object.keys(t).sort((P,L)=>P.localeCompare(L,"tr")).filter(P=>t[P]),[t]),N=async P=>{if(P){d(!0);try{const L=P.toLowerCase(),U=l9(P),Y=[],K=async S=>{(await lt(Bn(Ue(Me,S),Rn("type","==","submission")))).forEach(D=>{const O=D.data(),B=O.scoring||{},C=O.createdAt?.toDate?.()||null;Y.push({id:D.id,createdAt:C,testName:String(O?.test?.name??""),category:O?.test?.category??null,grade:O?.test?.grade??null,link:O?.test?.link??null,count:Number(O?.count??O?.answeredCount??0),answeredCount:Number(O?.answeredCount??0),correctCount:Number(B?.correctCount??0),wrongCount:Number(B?.wrongCount??0),blankCount:Number(B?.blankCount??0),wrongQuestions:B?.wrongQuestions||[]})})};await K(L),U!==L&&await K(U);const Z=new Set,W=Y.filter(S=>{const R=`${S.testName}__${S.createdAt?.getTime?.()??"0"}`;return Z.has(R)?!1:(Z.add(R),!0)});W.sort((S,R)=>(R.createdAt?.getTime?.()??0)-(S.createdAt?.getTime?.()??0));const oe=W.reduce((S,R)=>{const D=R.correctCount+R.wrongCount+R.blankCount;S.total+=1,S.totalCorrect+=R.correctCount,S.totalWrong+=R.wrongCount,S.totalBlank+=R.blankCount,D>0&&(S._scoreSum+=R.correctCount/D*100);const O=R.createdAt?.getTime?.();return O&&(!S._last||O>S._last)&&(S._last=O),S},{total:0,totalCorrect:0,totalWrong:0,totalBlank:0,_scoreSum:0,_last:0}),M=oe.total>0?Math.round(oe._scoreSum/oe.total):0;p(W),T({total:oe.total,totalCorrect:oe.totalCorrect,totalWrong:oe.totalWrong,totalBlank:oe.totalBlank,avgScore:M,lastActivity:oe._last?new Date(oe._last):null})}catch(L){console.error("renci submission ykleme hatas:",L),p([]),T({total:0,totalCorrect:0,totalWrong:0,totalBlank:0,avgScore:0,lastActivity:null})}finally{d(!1)}}};I.useEffect(()=>{n&&N(n)},[n]);const j=I.useMemo(()=>{const P=a.trim().toLocaleLowerCase("tr-TR");return P?m.filter(L=>L.testName.toLocaleLowerCase("tr-TR").includes(P)):m},[m,a]);return _.jsx("section",{className:"min-h-screen bg-neutral-950 p-8 text-gray-100",children:_.jsxs("div",{className:"mx-auto max-w-7xl",children:[_.jsxs("header",{className:"mb-8 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold",children:"renci Raporlar"}),_.jsx("p",{className:"mt-1 text-sm text-neutral-400",children:"rencilerin zd testleri, doru/yanl dalmn ve tariheyi grntleyin."})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("select",{value:n,onChange:P=>s(P.target.value),className:"rounded-lg bg-neutral-900 px-4 py-2 text-sm ring-1 ring-neutral-800 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[_.jsx("option",{value:"",disabled:!0,children:"renci sein"}),x.map(P=>_.jsx("option",{value:P,children:P},P))]}),_.jsx("input",{value:a,onChange:P=>l(P.target.value),placeholder:"Test ad filtrele...",className:"w-56 rounded-lg bg-neutral-900 px-4 py-2 text-sm ring-1 ring-neutral-800 placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),_.jsxs("div",{className:"mb-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[_.jsx(_f,{icon:Zg,label:"Toplam zm",value:y.total}),_.jsx(_f,{icon:u3,label:"Ortalama Skor",value:_.jsxs("span",{children:[y.avgScore,"%"]})}),_.jsx(_f,{icon:R0,label:"Doru / Yanl / Bo",value:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs(bg,{tone:"emerald",children:[y.totalCorrect," D"]}),_.jsxs(bg,{tone:"rose",children:[y.totalWrong," Y"]}),_.jsxs(bg,{tone:"amber",children:[y.totalBlank," B"]})]})}),_.jsx(_f,{icon:kO,label:"Son Aktivite",value:V1(y.lastActivity)})]}),_.jsx("div",{className:"overflow-x-auto rounded-xl bg-neutral-900 ring-1 ring-neutral-800 shadow",children:_.jsxs("table",{className:"w-full text-left text-sm",children:[_.jsx("thead",{className:"sticky top-0 bg-neutral-900/90 backdrop-blur",children:_.jsxs("tr",{className:"text-neutral-300",children:[_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Tarih"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Test"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Kategori"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Snf"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Doru"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Yanl"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Bo"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Skor"}),_.jsx("th",{className:"px-4 py-3"})]})}),_.jsx("tbody",{children:c?_.jsx("tr",{children:_.jsx("td",{colSpan:9,className:"px-4 py-10 text-center text-neutral-400",children:"Ykleniyor"})}):j.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:9,className:"px-4 py-10 text-center text-neutral-400",children:"Kayt bulunamad."})}):j.map(P=>{const L=P.correctCount+P.wrongCount+P.blankCount,U=u9(P.correctCount,L);return _.jsxs("tr",{className:"border-t border-neutral-800",children:[_.jsx("td",{className:"px-4 py-3 text-neutral-300",children:V1(P.createdAt)}),_.jsx("td",{className:"px-4 py-3",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"truncate",children:P.testName}),P.link?_.jsx("a",{href:P.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-indigo-300 hover:text-indigo-200",title:"Testi a",children:_.jsx(yl,{className:"h-3.5 w-3.5"})}):null]})}),_.jsx("td",{className:"px-4 py-3",children:P.category?_.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-neutral-300",children:[_.jsx(C0,{className:"h-3.5 w-3.5 text-neutral-400"}),P.category]}):_.jsx("span",{className:"text-xs text-neutral-500",children:""})}),_.jsx("td",{className:"px-4 py-3",children:P.grade??""}),_.jsx("td",{className:"px-4 py-3",children:_.jsx("span",{className:"font-semibold text-emerald-300",children:P.correctCount})}),_.jsx("td",{className:"px-4 py-3",children:_.jsx("span",{className:"font-semibold text-rose-300",children:P.wrongCount})}),_.jsx("td",{className:"px-4 py-3",children:_.jsx("span",{className:"font-semibold text-amber-300",children:P.blankCount})}),_.jsx("td",{className:"px-4 py-3",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"h-2 w-16 rounded bg-neutral-800",children:_.jsx(ka.div,{className:"h-2 rounded bg-emerald-500",initial:{width:0},animate:{width:`${U}%`},transition:{type:"spring",stiffness:120,damping:15}})}),_.jsxs("span",{className:"text-neutral-300",children:[U,"%"]})]})}),_.jsx("td",{className:"px-4 py-3",children:_.jsx(c9,{wrong:P.wrongQuestions})})]},`${P.id}-${P.createdAt?.getTime?.()??0}`)})})]})}),_.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs text-neutral-400",children:[_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx(Sa,{className:"h-3.5 w-3.5 text-emerald-300"}),"Doru"]}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx(Sa,{className:"h-3.5 w-3.5 text-rose-300"}),"Yanl"]}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx(Sa,{className:"h-3.5 w-3.5 text-amber-300"}),"Bo"]})]})]})})}const f9=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120).toLowerCase();function d9(){const[t,e]=I.useState(!1),[n,s]=I.useState(!1),[a,l]=I.useState(!1),[c,d]=I.useState({}),m=I.useMemo(()=>Object.keys(c).filter(C=>c[C]).sort((C,me)=>C.localeCompare(me,"tr")),[c]),[p,y]=I.useState([]),[T,x]=I.useState(""),[N,j]=I.useState(""),[P,L]=I.useState(new Set),[U,Y]=I.useState(new Set),K=async()=>{e(!0);try{const C=await S0(xa(Me,"ogrenciAdlari","_index")),me=(C.exists()?C.data()?.names:{})||{};d(me)}catch(C){console.error("ogrenciAdlari/_index okunamad:",C),d({})}finally{e(!1)}},Z=async C=>{s(!0);try{const[me,de]=await Promise.all([lt(Ue(Me,"kategoriAdlari")),lt(Ue(Me,"ozelKategoriler"))]),Q=me.docs.map(V=>String(V.data()?.name??"").trim()).filter(Boolean),ie=de.docs.map(V=>String(V.data()?.name??"").trim()).filter(Boolean),ce=[],_e=async(V,ee)=>{const ue=Ue(Me,V);(C?await lt(Bn(ue,Rn("grade","==",C))):await lt(ue)).forEach(ye=>{const be=ye.data();ce.push({uid:`${V}__${ye.id}`,id:ye.id,name:String(be?.name??""),category:V,grade:be?.grade??null,link:be?.link??null,questionCount:be?.questionCount??be?.count??null,isSpecial:ee})})};for(const V of Q)await _e(V,!1);for(const V of ie)await _e(V,!0);ce.sort((V,ee)=>V.name.localeCompare(ee.name,"tr")),y(ce)}catch(me){console.error("Test listesi getirilemedi:",me),y([])}finally{s(!1)}};I.useEffect(()=>{K(),Z(null)},[]),I.useEffect(()=>{const C=T?parseInt(T,10):null;Z(C)},[T]);const W=I.useMemo(()=>{const C=N.trim().toLocaleLowerCase("tr-TR");return C?p.filter(me=>me.name.toLocaleLowerCase("tr-TR").includes(C)||me.category.toLocaleLowerCase("tr-TR").includes(C)):p},[p,N]),oe=C=>L(me=>{const de=new Set(me);return de.has(C)?de.delete(C):de.add(C),de}),M=()=>L(new Set(m)),S=()=>L(new Set),R=C=>Y(me=>{const de=new Set(me);return de.has(C)?de.delete(C):de.add(C),de}),D=()=>Y(C=>{const me=new Set(C);return W.forEach(de=>me.add(de.uid)),me}),O=()=>Y(new Set),B=async()=>{if(!a){if(P.size===0||U.size===0){alert("Ltfen en az bir renci ve en az bir test sein.");return}l(!0);try{const C=p.filter(Q=>U.has(Q.uid)),me=Array.from(P);let de=0;for(const Q of me){const ce=`${f9(Q)}_odevler`;for(const _e of C){const V={type:"assignment",status:"assigned",assignedAt:vr(),test:{id:_e.id,name:_e.name,category:_e.category,grade:_e.grade??null,link:_e.link??null,questionCount:_e.questionCount??null,isSpecial:!!_e.isSpecial}};await ji(Ue(Me,ce),V),de+=1}}alert(`Atama tamamland. Toplam ${de} dev belgesi yazld.`)}catch(C){console.error("Atama hatas:",C),alert("Atama srasnda bir hata olutu.")}finally{l(!1)}}};return _.jsx("section",{className:"min-h-screen bg-neutral-950 p-8 text-gray-100",children:_.jsxs("div",{className:"mx-auto max-w-7xl",children:[_.jsxs("div",{className:"mb-8 flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Test Atama"}),_.jsxs("p",{className:"mt-1 text-sm text-neutral-400",children:["Testleri bir veya birden ok renciye dev olarak atayn. Her renci iin ayr ",_.jsx("span",{className:"font-medium",children:"_dev koleksiyonu"})," alr ve testler dokman olarak kaydedilir."]})]}),_.jsx("div",{className:"flex items-center gap-2",children:_.jsxs("button",{onClick:()=>{K();const C=T?parseInt(T,10):null;Z(C)},className:"inline-flex items-center gap-2 rounded-md bg-neutral-800 px-3 py-2 text-sm ring-1 ring-neutral-700 hover:bg-neutral-700",title:"Yenile",children:[_.jsx(t3,{className:"h-4 w-4"}),"Yenile"]})})]}),_.jsxs("div",{className:"mb-6 grid gap-4 md:grid-cols-3",children:[_.jsxs("div",{className:"rounded-xl bg-neutral-900 p-4 ring-1 ring-neutral-800",children:[_.jsxs("div",{className:"mb-2 flex items-center gap-2 text-neutral-300",children:[_.jsx(KO,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{className:"text-xs font-medium",children:"Snfa Gre Filtrele"})]}),_.jsxs("select",{value:T,onChange:C=>x(C.target.value),className:"w-full rounded-md bg-neutral-800 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",children:[_.jsx("option",{value:"",children:"Tm"}),_.jsx("option",{value:"5",children:"5. Snf"}),_.jsx("option",{value:"6",children:"6. Snf"}),_.jsx("option",{value:"7",children:"7. Snf"}),_.jsx("option",{value:"8",children:"8. Snf"})]}),_.jsx("p",{className:"mt-2 text-xs text-neutral-400",children:"Seilen snf only olarak listelenir (atamada snr yok)."})]}),_.jsxs("div",{className:"rounded-xl bg-neutral-900 p-4 ring-1 ring-neutral-800",children:[_.jsxs("div",{className:"mb-3 flex items-center gap-2 text-neutral-300",children:[_.jsx(Wg,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{className:"text-xs font-medium",children:"zet"})]}),_.jsxs("div",{className:"grid grid-cols-3 text-center text-sm",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:p.length}),_.jsx("div",{className:"mt-1 text-xs text-neutral-400",children:"Toplam Test"})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:U.size}),_.jsx("div",{className:"mt-1 text-xs text-neutral-400",children:"Seili Test"})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:P.size}),_.jsx("div",{className:"mt-1 text-xs text-neutral-400",children:"Seili renci"})]})]})]}),_.jsxs("div",{className:"rounded-xl bg-neutral-900 p-4 ring-1 ring-neutral-800",children:[_.jsxs("div",{className:"mb-3 flex items-center gap-2 text-neutral-300",children:[_.jsx(Zg,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{className:"text-xs font-medium",children:"Atama"})]}),_.jsxs("button",{disabled:a||P.size===0||U.size===0,onClick:B,className:`inline-flex w-full items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-medium text-white shadow
                focus:outline-none focus:ring-2 focus:ring-blue-600
                ${a||P.size===0||U.size===0?"cursor-not-allowed bg-blue-500/50":"bg-blue-600 hover:bg-blue-500"}`,children:[_.jsx(AA,{className:"h-4 w-4"}),a?"Atanyor...":"Seili Testleri Seili rencilere Ata"]}),_.jsxs("p",{className:"mt-2 text-xs text-neutral-400",children:["Her renci iin ",_.jsx("code",{className:"font-mono",children:"<nameKey>_odevler"})," koleksiyonu oluturulur/yazlr."]})]})]}),_.jsxs("div",{className:"grid gap-6 lg:grid-cols-12",children:[_.jsxs("div",{className:"lg:col-span-4",children:[_.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[_.jsx(Zg,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{children:"renciler"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:M,disabled:t||m.length===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Tmn Se"}),_.jsx("button",{onClick:S,disabled:P.size===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Temizle"})]})]}),_.jsx("div",{className:"h-[480px] overflow-auto rounded-xl bg-neutral-900 ring-1 ring-neutral-800",children:t?_.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"renciler ykleniyor"}):m.length===0?_.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"renci bulunamad."}):_.jsx("ul",{className:"divide-y divide-neutral-800",children:m.map(C=>{const me=P.has(C);return _.jsx("li",{children:_.jsxs("button",{onClick:()=>oe(C),className:`flex w-full items-center justify-between px-3 py-2 text-left text-sm hover:bg-neutral-800 ${me?"bg-neutral-800/70":""}`,children:[_.jsx("span",{className:"truncate",children:C}),me?_.jsx(cx,{className:"h-4 w-4 text-emerald-400"}):_.jsx(hx,{className:"h-4 w-4 text-neutral-500"})]})},C)})})})]}),_.jsxs("div",{className:"lg:col-span-8",children:[_.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[_.jsx(Wg,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{children:"Testler"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("div",{className:"flex items-center gap-2 rounded-md bg-neutral-900 px-2 py-1 ring-1 ring-neutral-800",children:[_.jsx(i3,{className:"h-4 w-4 text-neutral-500"}),_.jsx("input",{value:N,onChange:C=>j(C.target.value),placeholder:"Test veya kategori ara",className:"w-56 bg-transparent text-sm placeholder:text-neutral-500 focus:outline-none"})]}),_.jsx("button",{onClick:D,disabled:n||W.length===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Sayfadakileri Se"}),_.jsx("button",{onClick:O,disabled:U.size===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Temizle"})]})]}),_.jsx("div",{className:"overflow-hidden rounded-xl bg-neutral-900 ring-1 ring-neutral-800",children:n?_.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Testler ykleniyor"}):W.length===0?_.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Test bulunamad."}):_.jsxs("table",{className:"w-full text-left text-sm",children:[_.jsx("thead",{className:"bg-neutral-900/90 text-neutral-300",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Se"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Test Ad"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Kategori"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Snf"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Soru"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Tr"})]})}),_.jsx("tbody",{children:W.map(C=>{const me=U.has(C.uid);return _.jsxs("tr",{className:"border-t border-neutral-800",children:[_.jsx("td",{className:"px-3 py-2",children:_.jsx("button",{onClick:()=>R(C.uid),className:"rounded-md px-2 py-1 ring-1 ring-neutral-700 hover:bg-neutral-800",title:me?"Kaldr":"Se",children:me?_.jsx(cx,{className:"h-4 w-4 text-emerald-400"}):_.jsx(hx,{className:"h-4 w-4 text-neutral-500"})})}),_.jsx("td",{className:"px-3 py-2 text-white",children:C.name}),_.jsx("td",{className:"px-3 py-2 text-neutral-300",children:C.category}),_.jsx("td",{className:"px-3 py-2",children:C.grade??""}),_.jsx("td",{className:"px-3 py-2",children:C.questionCount??""}),_.jsx("td",{className:"px-3 py-2",children:_.jsx("span",{className:`rounded-full px-2 py-0.5 text-[11px] ring-1 ${C.isSpecial?"bg-rose-500/10 text-rose-300 ring-rose-500/20":"bg-emerald-500/10 text-emerald-300 ring-emerald-500/20"}`,children:C.isSpecial?"Yayn":"Normal"})})]},C.uid)})})]})})]})]})]})})}function m9(){return _.jsx(RO,{children:_.jsx(XN,{children:_.jsx("main",{className:"min-h-screen bg-[#0d0d0d]",children:_.jsx(I.Suspense,{fallback:null,children:_.jsxs(RN,{children:[_.jsx(cr,{path:"/admin/students",element:_.jsx(h9,{})}),_.jsx(cr,{path:"/admin/assign",element:_.jsx(d9,{})}),_.jsx(cr,{path:"/",element:_.jsx(X5,{})}),_.jsx(cr,{path:"/admin",element:_.jsx(I1,{role:"admin",children:_.jsx(Z5,{})})}),_.jsx(cr,{path:"/dashboard",element:_.jsx(I1,{role:"user",children:_.jsx(i9,{})})}),_.jsx(cr,{path:"/optik",element:_.jsx(o9,{})}),_.jsx(cr,{path:"*",element:_.jsx(Tf,{to:"/",replace:!0})})]})})})})})}j2.createRoot(document.getElementById("root")).render(_.jsx(I.StrictMode,{children:_.jsx(m9,{})}));
