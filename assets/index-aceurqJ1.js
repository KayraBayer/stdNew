(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Bp={exports:{}},Nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function P2(){if(xE)return Nu;xE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Nu.Fragment=e,Nu.jsx=n,Nu.jsxs=n,Nu}var wE;function k2(){return wE||(wE=1,Bp.exports=P2()),Bp.exports}var _=k2(),zp={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function O2(){if(SE)return Pe;SE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function x(I){return I===null||typeof I!="object"?null:(I=T&&I[T]||I["@@iterator"],typeof I=="function"?I:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,P={};function j(I,te,le){this.props=I,this.context=te,this.refs=P,this.updater=le||N}j.prototype.isReactComponent={},j.prototype.setState=function(I,te){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,te,"setState")},j.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function U(){}U.prototype=j.prototype;function Y(I,te,le){this.props=I,this.context=te,this.refs=P,this.updater=le||N}var K=Y.prototype=new U;K.constructor=Y,L(K,j.prototype),K.isPureReactComponent=!0;var W=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function V(I,te,le,ae,ye,Ee){return le=Ee.ref,{$$typeof:t,type:I,key:te,ref:le!==void 0?le:null,props:Ee}}function S(I,te){return V(I.type,te,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function M(I){var te={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(le){return te[le]})}var k=/\/+/g;function B(I,te){return typeof I=="object"&&I!==null&&I.key!=null?M(""+I.key):te.toString(36)}function C(){}function de(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(C,C):(I.status="pending",I.then(function(te){I.status==="pending"&&(I.status="fulfilled",I.value=te)},function(te){I.status==="pending"&&(I.status="rejected",I.reason=te)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function _e(I,te,le,ae,ye){var Ee=typeof I;(Ee==="undefined"||Ee==="boolean")&&(I=null);var we=!1;if(I===null)we=!0;else switch(Ee){case"bigint":case"string":case"number":we=!0;break;case"object":switch(I.$$typeof){case t:case e:we=!0;break;case y:return we=I._init,_e(we(I._payload),te,le,ae,ye)}}if(we)return ye=ye(I),we=ae===""?"."+B(I,0):ae,W(ye)?(le="",we!=null&&(le=we.replace(k,"$&/")+"/"),_e(ye,te,le,"",function(Te){return Te})):ye!=null&&(R(ye)&&(ye=S(ye,le+(ye.key==null||I&&I.key===ye.key?"":(""+ye.key).replace(k,"$&/")+"/")+we)),te.push(ye)),1;we=0;var Ct=ae===""?".":ae+":";if(W(I))for(var he=0;he<I.length;he++)ae=I[he],Ee=Ct+B(ae,he),we+=_e(ae,te,le,Ee,ye);else if(he=x(I),typeof he=="function")for(I=he.call(I),he=0;!(ae=I.next()).done;)ae=ae.value,Ee=Ct+B(ae,he++),we+=_e(ae,te,le,Ee,ye);else if(Ee==="object"){if(typeof I.then=="function")return _e(de(I),te,le,ae,ye);throw te=String(I),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return we}function Z(I,te,le){if(I==null)return I;var ae=[],ye=0;return _e(I,ae,"","",function(Ee){return te.call(le,Ee,ye++)}),ae}function J(I){if(I._status===-1){var te=I._result;te=te(),te.then(function(le){(I._status===0||I._status===-1)&&(I._status=1,I._result=le)},function(le){(I._status===0||I._status===-1)&&(I._status=2,I._result=le)}),I._status===-1&&(I._status=0,I._result=te)}if(I._status===1)return I._result.default;throw I._result}var ce=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function pe(){}return Pe.Children={map:Z,forEach:function(I,te,le){Z(I,function(){te.apply(this,arguments)},le)},count:function(I){var te=0;return Z(I,function(){te++}),te},toArray:function(I){return Z(I,function(te){return te})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Pe.Component=j,Pe.Fragment=n,Pe.Profiler=a,Pe.PureComponent=Y,Pe.StrictMode=s,Pe.Suspense=m,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(I){return X.H.useMemoCache(I)}},Pe.cache=function(I){return function(){return I.apply(null,arguments)}},Pe.cloneElement=function(I,te,le){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ae=L({},I.props),ye=I.key,Ee=void 0;if(te!=null)for(we in te.ref!==void 0&&(Ee=void 0),te.key!==void 0&&(ye=""+te.key),te)!ue.call(te,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&te.ref===void 0||(ae[we]=te[we]);var we=arguments.length-2;if(we===1)ae.children=le;else if(1<we){for(var Ct=Array(we),he=0;he<we;he++)Ct[he]=arguments[he+2];ae.children=Ct}return V(I.type,ye,void 0,void 0,Ee,ae)},Pe.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Pe.createElement=function(I,te,le){var ae,ye={},Ee=null;if(te!=null)for(ae in te.key!==void 0&&(Ee=""+te.key),te)ue.call(te,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=te[ae]);var we=arguments.length-2;if(we===1)ye.children=le;else if(1<we){for(var Ct=Array(we),he=0;he<we;he++)Ct[he]=arguments[he+2];ye.children=Ct}if(I&&I.defaultProps)for(ae in we=I.defaultProps,we)ye[ae]===void 0&&(ye[ae]=we[ae]);return V(I,Ee,void 0,void 0,null,ye)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(I){return{$$typeof:d,render:I}},Pe.isValidElement=R,Pe.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:J}},Pe.memo=function(I,te){return{$$typeof:p,type:I,compare:te===void 0?null:te}},Pe.startTransition=function(I){var te=X.T,le={};X.T=le;try{var ae=I(),ye=X.S;ye!==null&&ye(le,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(pe,ce)}catch(Ee){ce(Ee)}finally{X.T=te}},Pe.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Pe.use=function(I){return X.H.use(I)},Pe.useActionState=function(I,te,le){return X.H.useActionState(I,te,le)},Pe.useCallback=function(I,te){return X.H.useCallback(I,te)},Pe.useContext=function(I){return X.H.useContext(I)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(I,te){return X.H.useDeferredValue(I,te)},Pe.useEffect=function(I,te,le){var ae=X.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(I,te)},Pe.useId=function(){return X.H.useId()},Pe.useImperativeHandle=function(I,te,le){return X.H.useImperativeHandle(I,te,le)},Pe.useInsertionEffect=function(I,te){return X.H.useInsertionEffect(I,te)},Pe.useLayoutEffect=function(I,te){return X.H.useLayoutEffect(I,te)},Pe.useMemo=function(I,te){return X.H.useMemo(I,te)},Pe.useOptimistic=function(I,te){return X.H.useOptimistic(I,te)},Pe.useReducer=function(I,te,le){return X.H.useReducer(I,te,le)},Pe.useRef=function(I){return X.H.useRef(I)},Pe.useState=function(I){return X.H.useState(I)},Pe.useSyncExternalStore=function(I,te,le){return X.H.useSyncExternalStore(I,te,le)},Pe.useTransition=function(){return X.H.useTransition()},Pe.version="19.1.1",Pe}var AE;function Ay(){return AE||(AE=1,zp.exports=O2()),zp.exports}var D=Ay(),qp={exports:{}},Iu={},Fp={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function L2(){return RE||(RE=1,(function(t){function e(Z,J){var ce=Z.length;Z.push(J);e:for(;0<ce;){var pe=ce-1>>>1,I=Z[pe];if(0<a(I,J))Z[pe]=J,Z[ce]=I,ce=pe;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var J=Z[0],ce=Z.pop();if(ce!==J){Z[0]=ce;e:for(var pe=0,I=Z.length,te=I>>>1;pe<te;){var le=2*(pe+1)-1,ae=Z[le],ye=le+1,Ee=Z[ye];if(0>a(ae,ce))ye<I&&0>a(Ee,ae)?(Z[pe]=Ee,Z[ye]=ce,pe=ye):(Z[pe]=ae,Z[le]=ce,pe=le);else if(ye<I&&0>a(Ee,ce))Z[pe]=Ee,Z[ye]=ce,pe=ye;else break e}}return J}function a(Z,J){var ce=Z.sortIndex-J.sortIndex;return ce!==0?ce:Z.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,T=null,x=3,N=!1,L=!1,P=!1,j=!1,U=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function W(Z){for(var J=n(p);J!==null;){if(J.callback===null)s(p);else if(J.startTime<=Z)s(p),J.sortIndex=J.expirationTime,e(m,J);else break;J=n(p)}}function X(Z){if(P=!1,W(Z),!L)if(n(m)!==null)L=!0,ue||(ue=!0,B());else{var J=n(p);J!==null&&_e(X,J.startTime-Z)}}var ue=!1,V=-1,S=5,R=-1;function M(){return j?!0:!(t.unstable_now()-R<S)}function k(){if(j=!1,ue){var Z=t.unstable_now();R=Z;var J=!0;try{e:{L=!1,P&&(P=!1,Y(V),V=-1),N=!0;var ce=x;try{t:{for(W(Z),T=n(m);T!==null&&!(T.expirationTime>Z&&M());){var pe=T.callback;if(typeof pe=="function"){T.callback=null,x=T.priorityLevel;var I=pe(T.expirationTime<=Z);if(Z=t.unstable_now(),typeof I=="function"){T.callback=I,W(Z),J=!0;break t}T===n(m)&&s(m),W(Z)}else s(m);T=n(m)}if(T!==null)J=!0;else{var te=n(p);te!==null&&_e(X,te.startTime-Z),J=!1}}break e}finally{T=null,x=ce,N=!1}J=void 0}}finally{J?B():ue=!1}}}var B;if(typeof K=="function")B=function(){K(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,de=C.port2;C.port1.onmessage=k,B=function(){de.postMessage(null)}}else B=function(){U(k,0)};function _e(Z,J){V=U(function(){Z(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var ce=x;x=J;try{return Z()}finally{x=ce}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(Z,J){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ce=x;x=Z;try{return J()}finally{x=ce}},t.unstable_scheduleCallback=function(Z,J,ce){var pe=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?pe+ce:pe):ce=pe,Z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ce+I,Z={id:y++,callback:J,priorityLevel:Z,startTime:ce,expirationTime:I,sortIndex:-1},ce>pe?(Z.sortIndex=ce,e(p,Z),n(m)===null&&Z===n(p)&&(P?(Y(V),V=-1):P=!0,_e(X,ce-pe))):(Z.sortIndex=I,e(m,Z),L||N||(L=!0,ue||(ue=!0,B()))),Z},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Z){var J=x;return function(){var ce=x;x=J;try{return Z.apply(this,arguments)}finally{x=ce}}}})(Hp)),Hp}var CE;function j2(){return CE||(CE=1,Fp.exports=L2()),Fp.exports}var Gp={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function U2(){if(NE)return fn;NE=1;var t=Ay();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},fn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},fn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},fn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},fn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:N}):y==="script"&&s.d.X(m,{crossOrigin:T,integrity:x,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},fn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},fn.requestFormReset=function(m){s.d.r(m)},fn.unstable_batchedUpdates=function(m,p){return m(p)},fn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},fn.version="19.1.1",fn}var IE;function B2(){if(IE)return Gp.exports;IE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gp.exports=U2(),Gp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function z2(){if(DE)return Iu;DE=1;var t=j2(),e=Ay(),n=B2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),i;if(g===u)return d(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var b=!1,w=f.child;w;){if(w===o){b=!0,o=f,u=g;break}if(w===u){b=!0,u=f,o=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===o){b=!0,o=g,u=f;break}if(w===u){b=!0,u=g,o=f;break}w=w.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),K=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case j:return"Profiler";case P:return"StrictMode";case X:return"Suspense";case ue:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case K:return(i.displayName||"Context")+".Provider";case Y:return(i._context.displayName||"Context")+".Consumer";case W:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return r=i.displayName||null,r!==null?r:de(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return de(i(r))}catch{}}return null}var _e=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},pe=[],I=-1;function te(i){return{current:i}}function le(i){0>I||(i.current=pe[I],pe[I]=null,I--)}function ae(i,r){I++,pe[I]=i.current,i.current=r}var ye=te(null),Ee=te(null),we=te(null),Ct=te(null);function he(i,r){switch(ae(we,r),ae(Ee,i),ae(ye,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?WT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=WT(r),i=ZT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}le(ye),ae(ye,i)}function Te(){le(ye),le(Ee),le(we)}function Be(i){i.memoizedState!==null&&ae(Ct,i);var r=ye.current,o=ZT(r,i.type);r!==o&&(ae(Ee,i),ae(ye,o))}function Ye(i){Ee.current===i&&(le(ye),le(Ee)),Ct.current===i&&(le(Ct),wu._currentValue=ce)}var Bt=Object.prototype.hasOwnProperty,Nt=t.unstable_scheduleCallback,It=t.unstable_cancelCallback,qn=t.unstable_shouldYield,Xi=t.unstable_requestPaint,Fn=t.unstable_now,Bd=t.unstable_getCurrentPriorityLevel,bl=t.unstable_ImmediatePriority,Ba=t.unstable_UserBlockingPriority,Lr=t.unstable_NormalPriority,zd=t.unstable_LowPriority,za=t.unstable_IdlePriority,xl=t.log,Oc=t.unstable_setDisableYieldValue,_t=null,Je=null;function In(i){if(typeof xl=="function"&&Oc(i),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(_t,i)}catch{}}var cn=Math.clz32?Math.clz32:jr,Lc=Math.log,qd=Math.LN2;function jr(i){return i>>>=0,i===0?32:31-(Lc(i)/qd|0)|0}var Ur=256,Br=4194304;function li(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qa(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?f=li(u):(b&=w,b!==0?f=li(b):o||(o=w&~i,o!==0&&(f=li(o))))):(w=u&~g,w!==0?f=li(w):b!==0?f=li(b):o||(o=u&~i,o!==0&&(f=li(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function zr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function wl(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sl(){var i=Ur;return Ur<<=1,(Ur&4194048)===0&&(Ur=256),i}function Al(){var i=Br;return Br<<=1,(Br&62914560)===0&&(Br=4194304),i}function Wi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Zi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Rl(i,r,o,u,f,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,O=i.expirationTimes,G=i.hiddenUpdates;for(o=b&~o;0<o;){var ne=31-cn(o),re=1<<ne;w[ne]=0,O[ne]=-1;var $=G[ne];if($!==null)for(G[ne]=null,ne=0;ne<$.length;ne++){var Q=$[ne];Q!==null&&(Q.lane&=-536870913)}o&=~re}u!==0&&Ti(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function Ti(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-cn(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Cl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-cn(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function ks(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Fa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Os(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:yE(i.type))}function jc(i,r){var o=J.p;try{return J.p=i,r()}finally{J.p=o}}var ht=Math.random().toString(36).slice(2),zt="__reactFiber$"+ht,Dt="__reactProps$"+ht,Hn="__reactContainer$"+ht,Nl="__reactEvents$"+ht,Fd="__reactListeners$"+ht,Ls="__reactHandles$"+ht,Uc="__reactResources$"+ht,qr="__reactMarker$"+ht;function js(i){delete i[zt],delete i[Dt],delete i[Nl],delete i[Fd],delete i[Ls]}function Ji(i){var r=i[zt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Hn]||o[zt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=nE(i);i!==null;){if(o=i[zt])return o;i=nE(i)}return r}i=o,o=i.parentNode}return null}function Ei(i){if(i=i[zt]||i[Hn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function bi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function yn(i){var r=i[Uc];return r||(r=i[Uc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(i){i[qr]=!0}var Il=new Set,Ha={};function ui(i,r){es(i,r),es(i+"Capture",r)}function es(i,r){for(Ha[i]=r,i=0;i<r.length;i++)Il.add(r[i])}var Bc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Fr={};function qc(i){return Bt.call(Fr,i)?!0:Bt.call(zc,i)?!1:Bc.test(i)?Fr[i]=!0:(zc[i]=!0,!1)}function Us(i,r,o){if(qc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function xi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function en(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var Hr,Fc;function ts(i){if(Hr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Hr=r&&r[1]||"",Fc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hr+i+Fc}var Ga=!1;function Ka(i,r){if(!i||Ga)return"";Ga=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Q){var $=Q}Reflect.construct(i,[],re)}else{try{re.call()}catch(Q){$=Q}i.call(re.prototype)}}else{try{throw Error()}catch(Q){$=Q}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var O=b.split(`
`),G=w.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===G.length)for(u=O.length-1,f=G.length-1;1<=u&&0<=f&&O[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==G[f]){var ne=`
`+O[u].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=u&&0<=f);break}}}finally{Ga=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ts(o):""}function Dl(i){switch(i.tag){case 26:case 27:case 5:return ts(i.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 15:return Ka(i.type,!1);case 11:return Ka(i.type.render,!1);case 1:return Ka(i.type,!0);case 31:return ts("Activity");default:return""}}function $a(i){try{var r="";do r+=Dl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function vn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ml(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Hd(i){var r=Ml(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ya(i){i._valueTracker||(i._valueTracker=Hd(i))}function Vl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Ml(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Gr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Gd=/[\n"\\]/g;function Mt(i){return i.replace(Gd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Dn(i,r,o,u,f,g,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+vn(r)):i.value!==""+vn(r)&&(i.value=""+vn(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Bs(i,b,vn(r)):o!=null?Bs(i,b,vn(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+vn(w):i.removeAttribute("name")}function Kr(i,r,o,u,f,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+vn(o):"",r=r!=null?""+vn(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Bs(i,r,o){r==="number"&&Gr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ns(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+vn(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function nt(i,r,o){if(r!=null&&(r=""+vn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+vn(o):""}function $r(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(_e(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=vn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Gn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Yr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Pl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Hc(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Hc(i,g,r[g])}function kl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$d=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(i){return $d.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var is=null;function Kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ss=null,rs=null;function Ol(i){var r=Ei(i);if(r&&(i=r.stateNode)){var o=i[Dt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Dn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Mt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Dt]||null;if(!f)throw Error(s(90));Dn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Vl(u)}break e;case"textarea":nt(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ns(i,!!o.multiple,r,!1)}}}var wi=!1;function Gc(i,r,o){if(wi)return i(r,o);wi=!0;try{var u=i(r);return u}finally{if(wi=!1,(ss!==null||rs!==null)&&(jh(),ss&&(r=ss,i=rs,rs=ss=null,Ol(r),i)))for(r=0;r<i.length;r++)Ol(i[r])}}function Qr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Dt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$n=!1;if(ci)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){$n=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{$n=!1}var Si=null,zs=null,as=null;function Ll(){if(as)return as;var i,r=zs,o=r.length,u,f="value"in Si?Si.value:Si.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===f[g-u];u++);return as=f.slice(i,1<u?1-u:void 0)}function Ai(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ri(){return!0}function jl(){return!1}function Yt(i){function r(o,u,f,g,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ri:jl,this.isPropagationStopped=jl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),r}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=Yt(Ze),Wr=y({},Ze,{view:0,detail:0}),Kc=Yt(Wr),Wa,Za,Ci,Zr=y({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(Wa=i.screenX-Ci.screenX,Za=i.screenY-Ci.screenY):Za=Wa=0,Ci=i),Wa)},movementY:function(i){return"movementY"in i?i.movementY:Za}}),Yn=Yt(Zr),$c=y({},Zr,{dataTransfer:0}),Yd=Yt($c),Jr=y({},Wr,{relatedTarget:0}),Ja=Yt(Jr),Ul=y({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),eo=Yt(Ul),Yc=y({},Ze,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),to=Yt(Yc),Qd=y({},Ze,{data:0}),Bl=Yt(Qd),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Xc[i])?!!r[i]:!1}function ta(){return zl}var Wc=y({},Wr,{key:function(i){if(i.key){var r=ea[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ai(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(i){return i.type==="keypress"?Ai(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ai(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),no=Yt(Wc),Zc=y({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=Yt(Zc),os=y({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Jc=Yt(os),eh=y({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),th=Yt(eh),nh=y({},Zr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),io=Yt(nh),_n=y({},Ze,{newState:0,oldState:0}),ih=Yt(_n),sh=[9,13,27,32],Ni=ci&&"CompositionEvent"in window,h=null;ci&&"documentMode"in document&&(h=document.documentMode);var v=ci&&"TextEvent"in window&&!h,E=ci&&(!Ni||h&&8<h&&11>=h),A=" ",F=!1;function ee(i,r){switch(i){case"keyup":return sh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var He=!1;function qt(i,r){switch(i){case"compositionend":return fe(r);case"keypress":return r.which!==32?null:(F=!0,A);case"textInput":return i=r.data,i===A&&F?null:i;default:return null}}function Ge(i,r){if(He)return i==="compositionend"||!Ni&&ee(i,r)?(i=Ll(),as=zs=Si=null,He=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ft(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Qt[i.type]:r==="textarea"}function ls(i,r,o,u){ss?rs?rs.push(u):rs=[u]:ss=u,r=Hh(r,"onChange"),0<r.length&&(o=new Xa("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var tn=null,Ii=null;function Fl(i){KT(i,0)}function rh(i){var r=bi(i);if(Vl(r))return i}function dv(i,r){if(i==="change")return r}var mv=!1;if(ci){var Xd;if(ci){var Wd="oninput"in document;if(!Wd){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),Wd=typeof pv.oninput=="function"}Xd=Wd}else Xd=!1;mv=Xd&&(!document.documentMode||9<document.documentMode)}function gv(){tn&&(tn.detachEvent("onpropertychange",yv),Ii=tn=null)}function yv(i){if(i.propertyName==="value"&&rh(Ii)){var r=[];ls(r,Ii,i,Kn(i)),Gc(Fl,r)}}function cC(i,r,o){i==="focusin"?(gv(),tn=r,Ii=o,tn.attachEvent("onpropertychange",yv)):i==="focusout"&&gv()}function hC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rh(Ii)}function fC(i,r){if(i==="click")return rh(r)}function dC(i,r){if(i==="input"||i==="change")return rh(r)}function mC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Mn=typeof Object.is=="function"?Object.is:mC;function Hl(i,r){if(Mn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Bt.call(r,f)||!Mn(i[f],r[f]))return!1}return!0}function vv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _v(i,r){var o=vv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=vv(o)}}function Tv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Tv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Ev(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Gr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Gr(i.document)}return r}function Zd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var pC=ci&&"documentMode"in document&&11>=document.documentMode,so=null,Jd=null,Gl=null,em=!1;function bv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;em||so==null||so!==Gr(u)||(u=so,"selectionStart"in u&&Zd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Gl&&Hl(Gl,u)||(Gl=u,u=Hh(Jd,"onSelect"),0<u.length&&(r=new Xa("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=so)))}function na(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var ro={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},tm={},xv={};ci&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function ia(i){if(tm[i])return tm[i];if(!ro[i])return i;var r=ro[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in xv)return tm[i]=r[o];return i}var wv=ia("animationend"),Sv=ia("animationiteration"),Av=ia("animationstart"),gC=ia("transitionrun"),yC=ia("transitionstart"),vC=ia("transitioncancel"),Rv=ia("transitionend"),Cv=new Map,nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nm.push("scrollEnd");function hi(i,r){Cv.set(i,r),ui(r,[i])}var Nv=new WeakMap;function Qn(i,r){if(typeof i=="object"&&i!==null){var o=Nv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:$a(r)},Nv.set(i,r),r)}return{value:i,source:r,stack:$a(r)}}var Xn=[],ao=0,im=0;function ah(){for(var i=ao,r=im=ao=0;r<i;){var o=Xn[r];Xn[r++]=null;var u=Xn[r];Xn[r++]=null;var f=Xn[r];Xn[r++]=null;var g=Xn[r];if(Xn[r++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&Iv(o,f,g)}}function oh(i,r,o,u){Xn[ao++]=i,Xn[ao++]=r,Xn[ao++]=o,Xn[ao++]=u,im|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function sm(i,r,o,u){return oh(i,r,o,u),lh(i)}function oo(i,r){return oh(i,null,null,r),lh(i)}function Iv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-cn(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function lh(i){if(50<gu)throw gu=0,cp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var lo={};function _C(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,r,o,u){return new _C(i,r,o,u)}function rm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function us(i,r){var o=i.alternate;return o===null?(o=Vn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Dv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function uh(i,r,o,u,f,g){var b=0;if(u=i,typeof i=="function")rm(i)&&(b=1);else if(typeof i=="string")b=E2(i,o,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Vn(31,o,r,f),i.elementType=R,i.lanes=g,i;case L:return sa(o.children,f,g,r);case P:b=8,f|=24;break;case j:return i=Vn(12,o,r,f|2),i.elementType=j,i.lanes=g,i;case X:return i=Vn(13,o,r,f),i.elementType=X,i.lanes=g,i;case ue:return i=Vn(19,o,r,f),i.elementType=ue,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:case K:b=10;break e;case Y:b=9;break e;case W:b=11;break e;case V:b=14;break e;case S:b=16,u=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Vn(b,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function sa(i,r,o,u){return i=Vn(7,i,u,r),i.lanes=o,i}function am(i,r,o){return i=Vn(6,i,null,r),i.lanes=o,i}function om(i,r,o){return r=Vn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var uo=[],co=0,ch=null,hh=0,Wn=[],Zn=0,ra=null,cs=1,hs="";function aa(i,r){uo[co++]=hh,uo[co++]=ch,ch=i,hh=r}function Mv(i,r,o){Wn[Zn++]=cs,Wn[Zn++]=hs,Wn[Zn++]=ra,ra=i;var u=cs;i=hs;var f=32-cn(u)-1;u&=~(1<<f),o+=1;var g=32-cn(r)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,cs=1<<32-cn(r)+f|o<<f|u,hs=g+i}else cs=1<<g|o<<f|u,hs=i}function lm(i){i.return!==null&&(aa(i,1),Mv(i,1,0))}function um(i){for(;i===ch;)ch=uo[--co],uo[co]=null,hh=uo[--co],uo[co]=null;for(;i===ra;)ra=Wn[--Zn],Wn[Zn]=null,hs=Wn[--Zn],Wn[Zn]=null,cs=Wn[--Zn],Wn[Zn]=null}var Tn=null,Tt=null,Xe=!1,oa=null,Di=!1,cm=Error(s(519));function la(i){var r=Error(s(418,""));throw Yl(Qn(r,i)),cm}function Vv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[zt]=i,r[Dt]=u,o){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(o=0;o<vu.length;o++)je(vu[o],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Kr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ya(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),$r(r,u.value,u.defaultValue,u.children),Ya(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||XT(r.textContent,o)?(u.popover!=null&&(je("beforetoggle",r),je("toggle",r)),u.onScroll!=null&&je("scroll",r),u.onScrollEnd!=null&&je("scrollend",r),u.onClick!=null&&(r.onclick=Gh),r=!0):r=!1,r||la(i)}function Pv(i){for(Tn=i.return;Tn;)switch(Tn.tag){case 5:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:Tn=Tn.return}}function Kl(i){if(i!==Tn)return!1;if(!Xe)return Pv(i),Xe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ap(i.type,i.memoizedProps)),o=!o),o&&Tt&&la(i),Pv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){Tt=di(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}Tt=null}}else r===27?(r=Tt,ir(i.type)?(i=Ip,Ip=null,Tt=i):Tt=r):Tt=Tn?di(i.stateNode.nextSibling):null;return!0}function $l(){Tt=Tn=null,Xe=!1}function kv(){var i=oa;return i!==null&&(wn===null?wn=i:wn.push.apply(wn,i),oa=null),i}function Yl(i){oa===null?oa=[i]:oa.push(i)}var hm=te(null),ua=null,fs=null;function qs(i,r,o){ae(hm,r._currentValue),r._currentValue=o}function ds(i){i._currentValue=hm.current,le(hm)}function fm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function dm(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=f;for(var O=0;O<r.length;O++)if(w.context===r[O]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),fm(g.return,o,i),u||(b=null);break e}g=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),fm(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ql(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=f.type;Mn(f.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(f===Ct.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(wu):i=[wu])}f=f.return}i!==null&&dm(r,i,o,u),r.flags|=262144}function fh(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ca(i){ua=i,fs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function hn(i){return Ov(ua,i)}function dh(i,r){return ua===null&&ca(i),Ov(i,r)}function Ov(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},fs===null){if(i===null)throw Error(s(308));fs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else fs=fs.next=r;return o}var TC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},EC=t.unstable_scheduleCallback,bC=t.unstable_NormalPriority,Ht={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mm(){return{controller:new TC,data:new Map,refCount:0}}function Xl(i){i.refCount--,i.refCount===0&&EC(bC,function(){i.controller.abort()})}var Wl=null,pm=0,ho=0,fo=null;function xC(i,r){if(Wl===null){var o=Wl=[];pm=0,ho=yp(),fo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return pm++,r.then(Lv,Lv),r}function Lv(){if(--pm===0&&Wl!==null){fo!==null&&(fo.status="fulfilled");var i=Wl;Wl=null,ho=0,fo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function wC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var jv=Z.S;Z.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&xC(i,r),jv!==null&&jv(i,r)};var ha=te(null);function gm(){var i=ha.current;return i!==null?i:ot.pooledCache}function mh(i,r){r===null?ae(ha,ha.current):ae(ha,r.pool)}function Uv(){var i=gm();return i===null?null:{parent:Ht._currentValue,pool:i}}var Zl=Error(s(460)),Bv=Error(s(474)),ph=Error(s(542)),ym={then:function(){}};function zv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function gh(){}function qv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(gh,gh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Hv(i),i;default:if(typeof r.status=="string")r.then(gh,gh);else{if(i=ot,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Hv(i),i}throw Jl=r,Zl}}var Jl=null;function Fv(){if(Jl===null)throw Error(s(459));var i=Jl;return Jl=null,i}function Hv(i){if(i===Zl||i===ph)throw Error(s(483))}var Fs=!1;function vm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _m(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Hs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Gs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=lh(i),Iv(i,null,o),r}return oh(i,u,r,o),lh(i)}function eu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Cl(i,o)}}function Tm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Em=!1;function tu(){if(Em){var i=fo;if(i!==null)throw i}}function nu(i,r,o,u){Em=!1;var f=i.updateQueue;Fs=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,G=O.next;O.next=null,b===null?g=G:b.next=G,b=O;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,w=ne.lastBaseUpdate,w!==b&&(w===null?ne.firstBaseUpdate=G:w.next=G,ne.lastBaseUpdate=O))}if(g!==null){var re=f.baseState;b=0,ne=G=O=null,w=g;do{var $=w.lane&-536870913,Q=$!==w.lane;if(Q?(Ke&$)===$:(u&$)===$){$!==0&&$===ho&&(Em=!0),ne!==null&&(ne=ne.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ne=i,Se=w;$=r;var rt=o;switch(Se.tag){case 1:if(Ne=Se.payload,typeof Ne=="function"){re=Ne.call(rt,re,$);break e}re=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Se.payload,$=typeof Ne=="function"?Ne.call(rt,re,$):Ne,$==null)break e;re=y({},re,$);break e;case 2:Fs=!0}}$=w.callback,$!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ne===null?(G=ne=Q,O=re):ne=ne.next=Q,b|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);ne===null&&(O=re),f.baseState=O,f.firstBaseUpdate=G,f.lastBaseUpdate=ne,g===null&&(f.shared.lanes=0),Js|=b,i.lanes=b,i.memoizedState=re}}function Gv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Kv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Gv(o[i],r)}var mo=te(null),yh=te(0);function $v(i,r){i=Ts,ae(yh,i),ae(mo,r),Ts=i|r.baseLanes}function bm(){ae(yh,Ts),ae(mo,mo.current)}function xm(){Ts=yh.current,le(mo),le(yh)}var Ks=0,ke=null,it=null,Vt=null,vh=!1,po=!1,fa=!1,_h=0,iu=0,go=null,SC=0;function wt(){throw Error(s(321))}function wm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Mn(i[o],r[o]))return!1;return!0}function Sm(i,r,o,u,f,g){return Ks=g,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?I_:D_,fa=!1,g=o(u,f),fa=!1,po&&(g=Qv(r,o,u,f)),Yv(i),g}function Yv(i){Z.H=Sh;var r=it!==null&&it.next!==null;if(Ks=0,Vt=it=ke=null,vh=!1,iu=0,go=null,r)throw Error(s(300));i===null||Xt||(i=i.dependencies,i!==null&&fh(i)&&(Xt=!0))}function Qv(i,r,o,u){ke=i;var f=0;do{if(po&&(go=null),iu=0,po=!1,25<=f)throw Error(s(301));if(f+=1,Vt=it=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=MC,g=r(o,u)}while(po);return g}function AC(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?su(r):r,i=i.useState()[0],(it!==null?it.memoizedState:null)!==i&&(ke.flags|=1024),r}function Am(){var i=_h!==0;return _h=0,i}function Rm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Cm(i){if(vh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}vh=!1}Ks=0,Vt=it=ke=null,po=!1,iu=_h=0,go=null}function bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ke.memoizedState=Vt=i:Vt=Vt.next=i,Vt}function Pt(){if(it===null){var i=ke.alternate;i=i!==null?i.memoizedState:null}else i=it.next;var r=Vt===null?ke.memoizedState:Vt.next;if(r!==null)Vt=r,it=i;else{if(i===null)throw ke.alternate===null?Error(s(467)):Error(s(310));it=i,i={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Vt===null?ke.memoizedState=Vt=i:Vt=Vt.next=i}return Vt}function Nm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(i){var r=iu;return iu+=1,go===null&&(go=[]),i=qv(go,i,r),r=ke,(Vt===null?r.memoizedState:Vt.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?I_:D_),i}function Th(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return su(i);if(i.$$typeof===K)return hn(i)}throw Error(s(438,String(i)))}function Im(i){var r=null,o=ke.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Nm(),ke.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=M;return r.index++,o}function ms(i,r){return typeof r=="function"?r(i):r}function Eh(i){var r=Pt();return Dm(r,it,i)}function Dm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var w=b=null,O=null,G=r,ne=!1;do{var re=G.lane&-536870913;if(re!==G.lane?(Ke&re)===re:(Ks&re)===re){var $=G.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),re===ho&&(ne=!0);else if((Ks&$)===$){G=G.next,$===ho&&(ne=!0);continue}else re={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(w=O=re,b=g):O=O.next=re,ke.lanes|=$,Js|=$;re=G.action,fa&&o(g,re),g=G.hasEagerState?G.eagerState:o(g,re)}else $={lane:re,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(w=O=$,b=g):O=O.next=$,ke.lanes|=re,Js|=re;G=G.next}while(G!==null&&G!==r);if(O===null?b=g:O.next=w,!Mn(g,i.memoizedState)&&(Xt=!0,ne&&(o=fo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=O,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Mm(i){var r=Pt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=i(g,b.action),b=b.next;while(b!==f);Mn(g,r.memoizedState)||(Xt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Xv(i,r,o){var u=ke,f=Pt(),g=Xe;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Mn((it||f).memoizedState,o);b&&(f.memoizedState=o,Xt=!0),f=f.queue;var w=Jv.bind(null,u,f,i);if(ru(2048,8,w,[i]),f.getSnapshot!==r||b||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,yo(9,bh(),Zv.bind(null,u,f,o,r),null),ot===null)throw Error(s(349));g||(Ks&124)!==0||Wv(u,r,o)}return o}function Wv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ke.updateQueue,r===null?(r=Nm(),ke.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Zv(i,r,o,u){r.value=o,r.getSnapshot=u,e_(r)&&t_(i)}function Jv(i,r,o){return o(function(){e_(r)&&t_(i)})}function e_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Mn(i,o)}catch{return!0}}function t_(i){var r=oo(i,2);r!==null&&jn(r,i,2)}function Vm(i){var r=bn();if(typeof i=="function"){var o=i;if(i=o(),fa){In(!0);try{o()}finally{In(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:i},r}function n_(i,r,o,u){return i.baseState=o,Dm(i,it,typeof u=="function"?u:ms)}function RC(i,r,o,u,f){if(wh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,i_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function i_(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=Z.T,b={};Z.T=b;try{var w=o(f,u),O=Z.S;O!==null&&O(b,w),s_(i,r,w)}catch(G){Pm(i,r,G)}finally{Z.T=g}}else try{g=o(f,u),s_(i,r,g)}catch(G){Pm(i,r,G)}}function s_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){r_(i,r,u)},function(u){return Pm(i,r,u)}):r_(i,r,o)}function r_(i,r,o){r.status="fulfilled",r.value=o,a_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,i_(i,o)))}function Pm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,a_(r),r=r.next;while(r!==u)}i.action=null}function a_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function o_(i,r){return r}function l_(i,r){if(Xe){var o=ot.formState;if(o!==null){e:{var u=ke;if(Xe){if(Tt){t:{for(var f=Tt,g=Di;f.nodeType!==8;){if(!g){f=null;break t}if(f=di(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Tt=di(f.nextSibling),u=f.data==="F!";break e}}la(u)}u=!1}u&&(r=o[0])}}return o=bn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o_,lastRenderedState:r},o.queue=u,o=R_.bind(null,ke,u),u.dispatch=o,u=Vm(!1),g=Um.bind(null,ke,!1,u.queue),u=bn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=RC.bind(null,ke,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function u_(i){var r=Pt();return c_(r,it,i)}function c_(i,r,o){if(r=Dm(i,r,o_)[0],i=Eh(ms)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=su(r)}catch(b){throw b===Zl?ph:b}else u=r;r=Pt();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(ke.flags|=2048,yo(9,bh(),CC.bind(null,f,o),null)),[u,g,i]}function CC(i,r){i.action=r}function h_(i){var r=Pt(),o=it;if(o!==null)return c_(r,o,i);Pt(),r=r.memoizedState,o=Pt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function yo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=ke.updateQueue,r===null&&(r=Nm(),ke.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function bh(){return{destroy:void 0,resource:void 0}}function f_(){return Pt().memoizedState}function xh(i,r,o,u){var f=bn();u=u===void 0?null:u,ke.flags|=i,f.memoizedState=yo(1|r,bh(),o,u)}function ru(i,r,o,u){var f=Pt();u=u===void 0?null:u;var g=f.memoizedState.inst;it!==null&&u!==null&&wm(u,it.memoizedState.deps)?f.memoizedState=yo(r,g,o,u):(ke.flags|=i,f.memoizedState=yo(1|r,g,o,u))}function d_(i,r){xh(8390656,8,i,r)}function m_(i,r){ru(2048,8,i,r)}function p_(i,r){return ru(4,2,i,r)}function g_(i,r){return ru(4,4,i,r)}function y_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function v_(i,r,o){o=o!=null?o.concat([i]):null,ru(4,4,y_.bind(null,r,i),o)}function km(){}function __(i,r){var o=Pt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&wm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function T_(i,r){var o=Pt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&wm(r,u[1]))return u[0];if(u=i(),fa){In(!0);try{i()}finally{In(!1)}}return o.memoizedState=[u,r],u}function Om(i,r,o){return o===void 0||(Ks&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=xT(),ke.lanes|=i,Js|=i,o)}function E_(i,r,o,u){return Mn(o,r)?o:mo.current!==null?(i=Om(i,o,u),Mn(i,r)||(Xt=!0),i):(Ks&42)===0?(Xt=!0,i.memoizedState=o):(i=xT(),ke.lanes|=i,Js|=i,r)}function b_(i,r,o,u,f){var g=J.p;J.p=g!==0&&8>g?g:8;var b=Z.T,w={};Z.T=w,Um(i,!1,r,o);try{var O=f(),G=Z.S;if(G!==null&&G(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=wC(O,u);au(i,r,ne,Ln(i))}else au(i,r,u,Ln(i))}catch(re){au(i,r,{then:function(){},status:"rejected",reason:re},Ln())}finally{J.p=g,Z.T=b}}function NC(){}function Lm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=x_(i).queue;b_(i,f,r,ce,o===null?NC:function(){return w_(i),o(u)})}function x_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ce},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function w_(i){var r=x_(i).next.queue;au(i,r,{},Ln())}function jm(){return hn(wu)}function S_(){return Pt().memoizedState}function A_(){return Pt().memoizedState}function IC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ln();i=Hs(o);var u=Gs(r,i,o);u!==null&&(jn(u,r,o),eu(u,r,o)),r={cache:mm()},i.payload=r;return}r=r.return}}function DC(i,r,o){var u=Ln();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},wh(i)?C_(r,o):(o=sm(i,r,o,u),o!==null&&(jn(o,i,u),N_(o,r,u)))}function R_(i,r,o){var u=Ln();au(i,r,o,u)}function au(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(wh(i))C_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,w=g(b,o);if(f.hasEagerState=!0,f.eagerState=w,Mn(w,b))return oh(i,r,f,0),ot===null&&ah(),!1}catch{}finally{}if(o=sm(i,r,f,u),o!==null)return jn(o,i,u),N_(o,r,u),!0}return!1}function Um(i,r,o,u){if(u={lane:2,revertLane:yp(),action:u,hasEagerState:!1,eagerState:null,next:null},wh(i)){if(r)throw Error(s(479))}else r=sm(i,o,u,2),r!==null&&jn(r,i,2)}function wh(i){var r=i.alternate;return i===ke||r!==null&&r===ke}function C_(i,r){po=vh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function N_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Cl(i,o)}}var Sh={readContext:hn,use:Th,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},I_={readContext:hn,use:Th,useCallback:function(i,r){return bn().memoizedState=[i,r===void 0?null:r],i},useContext:hn,useEffect:d_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,xh(4194308,4,y_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return xh(4194308,4,i,r)},useInsertionEffect:function(i,r){xh(4,2,i,r)},useMemo:function(i,r){var o=bn();r=r===void 0?null:r;var u=i();if(fa){In(!0);try{i()}finally{In(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=bn();if(o!==void 0){var f=o(r);if(fa){In(!0);try{o(r)}finally{In(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=DC.bind(null,ke,i),[u.memoizedState,i]},useRef:function(i){var r=bn();return i={current:i},r.memoizedState=i},useState:function(i){i=Vm(i);var r=i.queue,o=R_.bind(null,ke,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:km,useDeferredValue:function(i,r){var o=bn();return Om(o,i,r)},useTransition:function(){var i=Vm(!1);return i=b_.bind(null,ke,i.queue,!0,!1),bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=ke,f=bn();if(Xe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ot===null)throw Error(s(349));(Ke&124)!==0||Wv(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,d_(Jv.bind(null,u,g,i),[i]),u.flags|=2048,yo(9,bh(),Zv.bind(null,u,g,o,r),null),o},useId:function(){var i=bn(),r=ot.identifierPrefix;if(Xe){var o=hs,u=cs;o=(u&~(1<<32-cn(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=_h++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=SC++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:jm,useFormState:l_,useActionState:l_,useOptimistic:function(i){var r=bn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Um.bind(null,ke,!0,o),o.dispatch=r,[i,r]},useMemoCache:Im,useCacheRefresh:function(){return bn().memoizedState=IC.bind(null,ke)}},D_={readContext:hn,use:Th,useCallback:__,useContext:hn,useEffect:m_,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:g_,useMemo:T_,useReducer:Eh,useRef:f_,useState:function(){return Eh(ms)},useDebugValue:km,useDeferredValue:function(i,r){var o=Pt();return E_(o,it.memoizedState,i,r)},useTransition:function(){var i=Eh(ms)[0],r=Pt().memoizedState;return[typeof i=="boolean"?i:su(i),r]},useSyncExternalStore:Xv,useId:S_,useHostTransitionStatus:jm,useFormState:u_,useActionState:u_,useOptimistic:function(i,r){var o=Pt();return n_(o,it,i,r)},useMemoCache:Im,useCacheRefresh:A_},MC={readContext:hn,use:Th,useCallback:__,useContext:hn,useEffect:m_,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:g_,useMemo:T_,useReducer:Mm,useRef:f_,useState:function(){return Mm(ms)},useDebugValue:km,useDeferredValue:function(i,r){var o=Pt();return it===null?Om(o,i,r):E_(o,it.memoizedState,i,r)},useTransition:function(){var i=Mm(ms)[0],r=Pt().memoizedState;return[typeof i=="boolean"?i:su(i),r]},useSyncExternalStore:Xv,useId:S_,useHostTransitionStatus:jm,useFormState:h_,useActionState:h_,useOptimistic:function(i,r){var o=Pt();return it!==null?n_(o,it,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Im,useCacheRefresh:A_},vo=null,ou=0;function Ah(i){var r=ou;return ou+=1,vo===null&&(vo=[]),qv(vo,i,r)}function lu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Rh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function M_(i){var r=i._init;return r(i._payload)}function V_(i){function r(q,z){if(i){var H=q.deletions;H===null?(q.deletions=[z],q.flags|=16):H.push(z)}}function o(q,z){if(!i)return null;for(;z!==null;)r(q,z),z=z.sibling;return null}function u(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function f(q,z){return q=us(q,z),q.index=0,q.sibling=null,q}function g(q,z,H){return q.index=H,i?(H=q.alternate,H!==null?(H=H.index,H<z?(q.flags|=67108866,z):H):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function b(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function w(q,z,H,se){return z===null||z.tag!==6?(z=am(H,q.mode,se),z.return=q,z):(z=f(z,H),z.return=q,z)}function O(q,z,H,se){var ve=H.type;return ve===L?ne(q,z,H.props.children,se,H.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&M_(ve)===z.type)?(z=f(z,H.props),lu(z,H),z.return=q,z):(z=uh(H.type,H.key,H.props,null,q.mode,se),lu(z,H),z.return=q,z)}function G(q,z,H,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=om(H,q.mode,se),z.return=q,z):(z=f(z,H.children||[]),z.return=q,z)}function ne(q,z,H,se,ve){return z===null||z.tag!==7?(z=sa(H,q.mode,se,ve),z.return=q,z):(z=f(z,H),z.return=q,z)}function re(q,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=am(""+z,q.mode,H),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return H=uh(z.type,z.key,z.props,null,q.mode,H),lu(H,z),H.return=q,H;case N:return z=om(z,q.mode,H),z.return=q,z;case S:var se=z._init;return z=se(z._payload),re(q,z,H)}if(_e(z)||B(z))return z=sa(z,q.mode,H,null),z.return=q,z;if(typeof z.then=="function")return re(q,Ah(z),H);if(z.$$typeof===K)return re(q,dh(q,z),H);Rh(q,z)}return null}function $(q,z,H,se){var ve=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ve!==null?null:w(q,z,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===ve?O(q,z,H,se):null;case N:return H.key===ve?G(q,z,H,se):null;case S:return ve=H._init,H=ve(H._payload),$(q,z,H,se)}if(_e(H)||B(H))return ve!==null?null:ne(q,z,H,se,null);if(typeof H.then=="function")return $(q,z,Ah(H),se);if(H.$$typeof===K)return $(q,z,dh(q,H),se);Rh(q,H)}return null}function Q(q,z,H,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(H)||null,w(z,q,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return q=q.get(se.key===null?H:se.key)||null,O(z,q,se,ve);case N:return q=q.get(se.key===null?H:se.key)||null,G(z,q,se,ve);case S:var Oe=se._init;return se=Oe(se._payload),Q(q,z,H,se,ve)}if(_e(se)||B(se))return q=q.get(H)||null,ne(z,q,se,ve,null);if(typeof se.then=="function")return Q(q,z,H,Ah(se),ve);if(se.$$typeof===K)return Q(q,z,H,dh(z,se),ve);Rh(z,se)}return null}function Ne(q,z,H,se){for(var ve=null,Oe=null,be=z,Ae=z=0,Zt=null;be!==null&&Ae<H.length;Ae++){be.index>Ae?(Zt=be,be=null):Zt=be.sibling;var Qe=$(q,be,H[Ae],se);if(Qe===null){be===null&&(be=Zt);break}i&&be&&Qe.alternate===null&&r(q,be),z=g(Qe,z,Ae),Oe===null?ve=Qe:Oe.sibling=Qe,Oe=Qe,be=Zt}if(Ae===H.length)return o(q,be),Xe&&aa(q,Ae),ve;if(be===null){for(;Ae<H.length;Ae++)be=re(q,H[Ae],se),be!==null&&(z=g(be,z,Ae),Oe===null?ve=be:Oe.sibling=be,Oe=be);return Xe&&aa(q,Ae),ve}for(be=u(be);Ae<H.length;Ae++)Zt=Q(be,q,Ae,H[Ae],se),Zt!==null&&(i&&Zt.alternate!==null&&be.delete(Zt.key===null?Ae:Zt.key),z=g(Zt,z,Ae),Oe===null?ve=Zt:Oe.sibling=Zt,Oe=Zt);return i&&be.forEach(function(lr){return r(q,lr)}),Xe&&aa(q,Ae),ve}function Se(q,z,H,se){if(H==null)throw Error(s(151));for(var ve=null,Oe=null,be=z,Ae=z=0,Zt=null,Qe=H.next();be!==null&&!Qe.done;Ae++,Qe=H.next()){be.index>Ae?(Zt=be,be=null):Zt=be.sibling;var lr=$(q,be,Qe.value,se);if(lr===null){be===null&&(be=Zt);break}i&&be&&lr.alternate===null&&r(q,be),z=g(lr,z,Ae),Oe===null?ve=lr:Oe.sibling=lr,Oe=lr,be=Zt}if(Qe.done)return o(q,be),Xe&&aa(q,Ae),ve;if(be===null){for(;!Qe.done;Ae++,Qe=H.next())Qe=re(q,Qe.value,se),Qe!==null&&(z=g(Qe,z,Ae),Oe===null?ve=Qe:Oe.sibling=Qe,Oe=Qe);return Xe&&aa(q,Ae),ve}for(be=u(be);!Qe.done;Ae++,Qe=H.next())Qe=Q(be,q,Ae,Qe.value,se),Qe!==null&&(i&&Qe.alternate!==null&&be.delete(Qe.key===null?Ae:Qe.key),z=g(Qe,z,Ae),Oe===null?ve=Qe:Oe.sibling=Qe,Oe=Qe);return i&&be.forEach(function(V2){return r(q,V2)}),Xe&&aa(q,Ae),ve}function rt(q,z,H,se){if(typeof H=="object"&&H!==null&&H.type===L&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var ve=H.key;z!==null;){if(z.key===ve){if(ve=H.type,ve===L){if(z.tag===7){o(q,z.sibling),se=f(z,H.props.children),se.return=q,q=se;break e}}else if(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&M_(ve)===z.type){o(q,z.sibling),se=f(z,H.props),lu(se,H),se.return=q,q=se;break e}o(q,z);break}else r(q,z);z=z.sibling}H.type===L?(se=sa(H.props.children,q.mode,se,H.key),se.return=q,q=se):(se=uh(H.type,H.key,H.props,null,q.mode,se),lu(se,H),se.return=q,q=se)}return b(q);case N:e:{for(ve=H.key;z!==null;){if(z.key===ve)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){o(q,z.sibling),se=f(z,H.children||[]),se.return=q,q=se;break e}else{o(q,z);break}else r(q,z);z=z.sibling}se=om(H,q.mode,se),se.return=q,q=se}return b(q);case S:return ve=H._init,H=ve(H._payload),rt(q,z,H,se)}if(_e(H))return Ne(q,z,H,se);if(B(H)){if(ve=B(H),typeof ve!="function")throw Error(s(150));return H=ve.call(H),Se(q,z,H,se)}if(typeof H.then=="function")return rt(q,z,Ah(H),se);if(H.$$typeof===K)return rt(q,z,dh(q,H),se);Rh(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(o(q,z.sibling),se=f(z,H),se.return=q,q=se):(o(q,z),se=am(H,q.mode,se),se.return=q,q=se),b(q)):o(q,z)}return function(q,z,H,se){try{ou=0;var ve=rt(q,z,H,se);return vo=null,ve}catch(be){if(be===Zl||be===ph)throw be;var Oe=Vn(29,be,null,q.mode);return Oe.lanes=se,Oe.return=q,Oe}finally{}}}var _o=V_(!0),P_=V_(!1),Jn=te(null),Mi=null;function $s(i){var r=i.alternate;ae(Gt,Gt.current&1),ae(Jn,i),Mi===null&&(r===null||mo.current!==null||r.memoizedState!==null)&&(Mi=i)}function k_(i){if(i.tag===22){if(ae(Gt,Gt.current),ae(Jn,i),Mi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Mi=i)}}else Ys()}function Ys(){ae(Gt,Gt.current),ae(Jn,Jn.current)}function ps(i){le(Jn),Mi===i&&(Mi=null),le(Gt)}var Gt=te(0);function Ch(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Np(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Bm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var zm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Ln(),f=Hs(u);f.payload=r,o!=null&&(f.callback=o),r=Gs(i,f,u),r!==null&&(jn(r,i,u),eu(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Ln(),f=Hs(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Gs(i,f,u),r!==null&&(jn(r,i,u),eu(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Ln(),u=Hs(o);u.tag=2,r!=null&&(u.callback=r),r=Gs(i,u,o),r!==null&&(jn(r,i,o),eu(r,i,o))}};function O_(i,r,o,u,f,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!Hl(o,u)||!Hl(f,g):!0}function L_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&zm.enqueueReplaceState(r,r.state,null)}function da(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var Nh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function j_(i){Nh(i)}function U_(i){console.error(i)}function B_(i){Nh(i)}function Ih(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function z_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qm(i,r,o){return o=Hs(o),o.tag=3,o.payload={element:null},o.callback=function(){Ih(i,r)},o}function q_(i){return i=Hs(i),i.tag=3,i}function F_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){z_(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){z_(r,o,u),typeof f!="function"&&(er===null?er=new Set([this]):er.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function VC(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ql(r,o,f,!0),o=Jn.current,o!==null){switch(o.tag){case 13:return Mi===null?fp():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ym?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),mp(i,u,f)),!1;case 22:return o.flags|=65536,u===ym?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),mp(i,u,f)),!1}throw Error(s(435,o.tag))}return mp(i,u,f),fp(),!1}if(Xe)return r=Jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==cm&&(i=Error(s(422),{cause:u}),Yl(Qn(i,o)))):(u!==cm&&(r=Error(s(423),{cause:u}),Yl(Qn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Qn(u,o),f=qm(i.stateNode,u,f),Tm(i,f),Et!==4&&(Et=2)),!1;var g=Error(s(520),{cause:u});if(g=Qn(g,o),pu===null?pu=[g]:pu.push(g),Et!==4&&(Et=2),r===null)return!0;u=Qn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=qm(o.stateNode,u,i),Tm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(er===null||!er.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=q_(f),F_(f,i,o,u),Tm(o,f),!1}o=o.return}while(o!==null);return!1}var H_=Error(s(461)),Xt=!1;function nn(i,r,o,u){r.child=i===null?P_(r,null,o,u):_o(r,i.child,o,u)}function G_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return ca(r),u=Sm(i,r,o,b,g,f),w=Am(),i!==null&&!Xt?(Rm(i,r,f),gs(i,r,f)):(Xe&&w&&lm(r),r.flags|=1,nn(i,r,u,f),r.child)}function K_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!rm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,$_(i,r,g,u,f)):(i=uh(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Xm(i,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Hl,o(b,u)&&i.ref===r.ref)return gs(i,r,f)}return r.flags|=1,i=us(g,u),i.ref=r.ref,i.return=r,r.child=i}function $_(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(Hl(g,u)&&i.ref===r.ref)if(Xt=!1,r.pendingProps=u=g,Xm(i,f))(i.flags&131072)!==0&&(Xt=!0);else return r.lanes=i.lanes,gs(i,r,f)}return Fm(i,r,o,u,f)}function Y_(i,r,o){var u=r.pendingProps,f=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(f=r.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return Q_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&mh(r,g!==null?g.cachePool:null),g!==null?$v(r,g):bm(),k_(r);else return r.lanes=r.childLanes=536870912,Q_(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(mh(r,g.cachePool),$v(r,g),Ys(),r.memoizedState=null):(i!==null&&mh(r,null),bm(),Ys());return nn(i,r,f,o),r.child}function Q_(i,r,o,u){var f=gm();return f=f===null?null:{parent:Ht._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&mh(r,null),bm(),k_(r),i!==null&&Ql(i,r,u,!0),null}function Dh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Fm(i,r,o,u,f){return ca(r),o=Sm(i,r,o,u,void 0,f),u=Am(),i!==null&&!Xt?(Rm(i,r,f),gs(i,r,f)):(Xe&&u&&lm(r),r.flags|=1,nn(i,r,o,f),r.child)}function X_(i,r,o,u,f,g){return ca(r),r.updateQueue=null,o=Qv(r,u,o,f),Yv(i),u=Am(),i!==null&&!Xt?(Rm(i,r,g),gs(i,r,g)):(Xe&&u&&lm(r),r.flags|=1,nn(i,r,o,g),r.child)}function W_(i,r,o,u,f){if(ca(r),r.stateNode===null){var g=lo,b=o.contextType;typeof b=="object"&&b!==null&&(g=hn(b)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=zm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},vm(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?hn(b):lo,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Bm(r,o,b,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&zm.enqueueReplaceState(g,g.state,null),nu(r,u,g,f),tu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,O=da(o,w);g.props=O;var G=g.context,ne=o.contextType;b=lo,typeof ne=="object"&&ne!==null&&(b=hn(ne));var re=o.getDerivedStateFromProps;ne=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||G!==b)&&L_(r,g,u,b),Fs=!1;var $=r.memoizedState;g.state=$,nu(r,u,g,f),tu(),G=r.memoizedState,w||$!==G||Fs?(typeof re=="function"&&(Bm(r,o,re,u),G=r.memoizedState),(O=Fs||O_(r,o,O,u,$,G,b))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),g.props=u,g.state=G,g.context=b,u=O):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,_m(i,r),b=r.memoizedProps,ne=da(o,b),g.props=ne,re=r.pendingProps,$=g.context,G=o.contextType,O=lo,typeof G=="object"&&G!==null&&(O=hn(G)),w=o.getDerivedStateFromProps,(G=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==re||$!==O)&&L_(r,g,u,O),Fs=!1,$=r.memoizedState,g.state=$,nu(r,u,g,f),tu();var Q=r.memoizedState;b!==re||$!==Q||Fs||i!==null&&i.dependencies!==null&&fh(i.dependencies)?(typeof w=="function"&&(Bm(r,o,w,u),Q=r.memoizedState),(ne=Fs||O_(r,o,ne,u,$,Q,O)||i!==null&&i.dependencies!==null&&fh(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,O)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),g.props=u,g.state=Q,g.context=O,u=ne):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Dh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=_o(r,i.child,null,f),r.child=_o(r,null,o,f)):nn(i,r,o,f),r.memoizedState=g.state,i=r.child):i=gs(i,r,f),i}function Z_(i,r,o,u){return $l(),r.flags|=256,nn(i,r,o,u),r.child}var Hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gm(i){return{baseLanes:i,cachePool:Uv()}}function Km(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ei),i}function J_(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Gt.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Xe){if(f?$s(r):Ys(),Xe){var w=Tt,O;if(O=w){e:{for(O=w,w=Di;O.nodeType!==8;){if(!w){w=null;break e}if(O=di(O.nextSibling),O===null){w=null;break e}}w=O}w!==null?(r.memoizedState={dehydrated:w,treeContext:ra!==null?{id:cs,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},O=Vn(18,null,null,0),O.stateNode=w,O.return=r,r.child=O,Tn=r,Tt=null,O=!0):O=!1}O||la(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Np(w)?r.lanes=32:r.lanes=536870912,null;ps(r)}return w=u.children,u=u.fallback,f?(Ys(),f=r.mode,w=Mh({mode:"hidden",children:w},f),u=sa(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,f=r.child,f.memoizedState=Gm(o),f.childLanes=Km(i,b,o),r.memoizedState=Hm,u):($s(r),$m(r,w))}if(O=i.memoizedState,O!==null&&(w=O.dehydrated,w!==null)){if(g)r.flags&256?($s(r),r.flags&=-257,r=Ym(i,r,o)):r.memoizedState!==null?(Ys(),r.child=i.child,r.flags|=128,r=null):(Ys(),f=u.fallback,w=r.mode,u=Mh({mode:"visible",children:u.children},w),f=sa(f,w,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,_o(r,i.child,null,o),u=r.child,u.memoizedState=Gm(o),u.childLanes=Km(i,b,o),r.memoizedState=Hm,r=f);else if($s(r),Np(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var G=b.dgst;b=G,u=Error(s(419)),u.stack="",u.digest=b,Yl({value:u,source:null,stack:null}),r=Ym(i,r,o)}else if(Xt||Ql(i,r,o,!1),b=(o&i.childLanes)!==0,Xt||b){if(b=ot,b!==null&&(u=o&-o,u=(u&42)!==0?1:ks(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,oo(i,u),jn(b,i,u),H_;w.data==="$?"||fp(),r=Ym(i,r,o)}else w.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,Tt=di(w.nextSibling),Tn=r,Xe=!0,oa=null,Di=!1,i!==null&&(Wn[Zn++]=cs,Wn[Zn++]=hs,Wn[Zn++]=ra,cs=i.id,hs=i.overflow,ra=r),r=$m(r,u.children),r.flags|=4096);return r}return f?(Ys(),f=u.fallback,w=r.mode,O=i.child,G=O.sibling,u=us(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,G!==null?f=us(G,f):(f=sa(f,w,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,w=i.child.memoizedState,w===null?w=Gm(o):(O=w.cachePool,O!==null?(G=Ht._currentValue,O=O.parent!==G?{parent:G,pool:G}:O):O=Uv(),w={baseLanes:w.baseLanes|o,cachePool:O}),f.memoizedState=w,f.childLanes=Km(i,b,o),r.memoizedState=Hm,u):($s(r),o=i.child,i=o.sibling,o=us(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function $m(i,r){return r=Mh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Mh(i,r){return i=Vn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Ym(i,r,o){return _o(r,i.child,null,o),i=$m(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function eT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),fm(i.return,r,o)}function Qm(i,r,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function tT(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(nn(i,r,u.children,o),u=Gt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&eT(i,o,r);else if(i.tag===19)eT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ae(Gt,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Ch(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Qm(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Ch(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Qm(r,!0,o,null,g);break;case"together":Qm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function gs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Js|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ql(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=us(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=us(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Xm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&fh(i)))}function PC(i,r,o){switch(r.tag){case 3:he(r,r.stateNode.containerInfo),qs(r,Ht,i.memoizedState.cache),$l();break;case 27:case 5:Be(r);break;case 4:he(r,r.stateNode.containerInfo);break;case 10:qs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?($s(r),r.flags|=128,null):(o&r.child.childLanes)!==0?J_(i,r,o):($s(r),i=gs(i,r,o),i!==null?i.sibling:null);$s(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ql(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return tT(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(Gt,Gt.current),u)break;return null;case 22:case 23:return r.lanes=0,Y_(i,r,o);case 24:qs(r,Ht,i.memoizedState.cache)}return gs(i,r,o)}function nT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Xt=!0;else{if(!Xm(i,o)&&(r.flags&128)===0)return Xt=!1,PC(i,r,o);Xt=(i.flags&131072)!==0}else Xt=!1,Xe&&(r.flags&1048576)!==0&&Mv(r,hh,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")rm(u)?(i=da(u,i),r.tag=1,r=W_(null,r,u,i,o)):(r.tag=0,r=Fm(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===W){r.tag=11,r=G_(null,r,u,i,o);break e}else if(f===V){r.tag=14,r=K_(null,r,u,i,o);break e}}throw r=de(u)||u,Error(s(306,r,""))}}return r;case 0:return Fm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=da(u,r.pendingProps),W_(i,r,u,f,o);case 3:e:{if(he(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,_m(i,r),nu(r,u,null,o);var b=r.memoizedState;if(u=b.cache,qs(r,Ht,u),u!==g.cache&&dm(r,[Ht],o,!0),tu(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Z_(i,r,u,o);break e}else if(u!==f){f=Qn(Error(s(424)),r),Yl(f),r=Z_(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Tt=di(i.firstChild),Tn=r,Xe=!0,oa=null,Di=!0,o=P_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if($l(),u===f){r=gs(i,r,o);break e}nn(i,r,u,o)}r=r.child}return r;case 26:return Dh(i,r),i===null?(o=aE(r.type,null,r.pendingProps,null))?r.memoizedState=o:Xe||(o=r.type,i=r.pendingProps,u=Kh(we.current).createElement(o),u[zt]=r,u[Dt]=i,rn(u,o,i),xt(u),r.stateNode=u):r.memoizedState=aE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Be(r),i===null&&Xe&&(u=r.stateNode=iE(r.type,r.pendingProps,we.current),Tn=r,Di=!0,f=Tt,ir(r.type)?(Ip=f,Tt=di(u.firstChild)):Tt=f),nn(i,r,r.pendingProps.children,o),Dh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Xe&&((f=u=Tt)&&(u=l2(u,r.type,r.pendingProps,Di),u!==null?(r.stateNode=u,Tn=r,Tt=di(u.firstChild),Di=!1,f=!0):f=!1),f||la(r)),Be(r),f=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,Ap(f,g)?u=null:b!==null&&Ap(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=Sm(i,r,AC,null,null,o),wu._currentValue=f),Dh(i,r),nn(i,r,u,o),r.child;case 6:return i===null&&Xe&&((i=o=Tt)&&(o=u2(o,r.pendingProps,Di),o!==null?(r.stateNode=o,Tn=r,Tt=null,i=!0):i=!1),i||la(r)),null;case 13:return J_(i,r,o);case 4:return he(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=_o(r,null,u,o):nn(i,r,u,o),r.child;case 11:return G_(i,r,r.type,r.pendingProps,o);case 7:return nn(i,r,r.pendingProps,o),r.child;case 8:return nn(i,r,r.pendingProps.children,o),r.child;case 12:return nn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,qs(r,r.type,u.value),nn(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ca(r),f=hn(f),u=u(f),r.flags|=1,nn(i,r,u,o),r.child;case 14:return K_(i,r,r.type,r.pendingProps,o);case 15:return $_(i,r,r.type,r.pendingProps,o);case 19:return tT(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=Mh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=us(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return Y_(i,r,o);case 24:return ca(r),u=hn(Ht),i===null?(f=gm(),f===null&&(f=ot,g=mm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},vm(r),qs(r,Ht,f)):((i.lanes&o)!==0&&(_m(i,r),nu(r,null,null,o),tu()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),qs(r,Ht,u)):(u=g.cache,qs(r,Ht,u),u!==f.cache&&dm(r,[Ht],o,!0))),nn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ys(i){i.flags|=4}function iT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!hE(r)){if(r=Jn.current,r!==null&&((Ke&4194048)===Ke?Mi!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||r!==Mi))throw Jl=ym,Bv;i.flags|=8192}}function Vh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Al():536870912,i.lanes|=r,xo|=r)}function uu(i,r){if(!Xe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function pt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function kC(i,r,o){var u=r.pendingProps;switch(um(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return pt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ds(Ht),Te(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Kl(r)?ys(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kv())),pt(r),null;case 26:return o=r.memoizedState,i===null?(ys(r),o!==null?(pt(r),iT(r,o)):(pt(r),r.flags&=-16777217)):o?o!==i.memoizedState?(ys(r),pt(r),iT(r,o)):(pt(r),r.flags&=-16777217):(i.memoizedProps!==u&&ys(r),pt(r),r.flags&=-16777217),null;case 27:Ye(r),o=we.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ys(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return pt(r),null}i=ye.current,Kl(r)?Vv(r):(i=iE(f,u,o),r.stateNode=i,ys(r))}return pt(r),null;case 5:if(Ye(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ys(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return pt(r),null}if(i=ye.current,Kl(r))Vv(r);else{switch(f=Kh(we.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[zt]=r,i[Dt]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;e:switch(rn(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ys(r)}}return pt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ys(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=we.current,Kl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Tn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[zt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||XT(i.nodeValue,o)),i||la(r)}else i=Kh(i).createTextNode(u),i[zt]=r,r.stateNode=i}return pt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Kl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[zt]=r}else $l(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),f=!1}else f=kv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ps(r),r):(ps(r),null)}if(ps(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Vh(r,r.updateQueue),pt(r),null;case 4:return Te(),i===null&&Ep(r.stateNode.containerInfo),pt(r),null;case 10:return ds(r.type),pt(r),null;case 19:if(le(Gt),f=r.memoizedState,f===null)return pt(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)uu(f,!1);else{if(Et!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ch(i),g!==null){for(r.flags|=128,uu(f,!1),i=g.updateQueue,r.updateQueue=i,Vh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Dv(o,i),o=o.sibling;return ae(Gt,Gt.current&1|2),r.child}i=i.sibling}f.tail!==null&&Fn()>Oh&&(r.flags|=128,u=!0,uu(f,!1),r.lanes=4194304)}else{if(!u)if(i=Ch(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,Vh(r,i),uu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Xe)return pt(r),null}else 2*Fn()-f.renderingStartTime>Oh&&o!==536870912&&(r.flags|=128,u=!0,uu(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(i=f.last,i!==null?i.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Fn(),r.sibling=null,i=Gt.current,ae(Gt,u?i&1|2:i&1),r):(pt(r),null);case 22:case 23:return ps(r),xm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),o=r.updateQueue,o!==null&&Vh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&le(ha),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ds(Ht),pt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function OC(i,r){switch(um(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ds(Ht),Te(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ye(r),null;case 13:if(ps(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));$l()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return le(Gt),null;case 4:return Te(),null;case 10:return ds(r.type),null;case 22:case 23:return ps(r),xm(),i!==null&&le(ha),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ds(Ht),null;case 25:return null;default:return null}}function sT(i,r){switch(um(r),r.tag){case 3:ds(Ht),Te();break;case 26:case 27:case 5:Ye(r);break;case 4:Te();break;case 13:ps(r);break;case 19:le(Gt);break;case 10:ds(r.type);break;case 22:case 23:ps(r),xm(),i!==null&&le(ha);break;case 24:ds(Ht)}}function cu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==f)}}catch(w){at(r,r.return,w)}}function Qs(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=r;var O=o,G=w;try{G()}catch(ne){at(f,O,ne)}}}u=u.next}while(u!==g)}}catch(ne){at(r,r.return,ne)}}function rT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Kv(r,o)}catch(u){at(i,i.return,u)}}}function aT(i,r,o){o.props=da(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){at(i,r,u)}}function hu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){at(i,r,f)}}function Vi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){at(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){at(i,r,f)}else o.current=null}function oT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){at(i,i.return,f)}}function Wm(i,r,o){try{var u=i.stateNode;i2(u,i.type,o,r),u[Dt]=r}catch(f){at(i,i.return,f)}}function lT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ir(i.type)||i.tag===4}function Zm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ir(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Jm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Gh));else if(u!==4&&(u===27&&ir(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Jm(i,r,o),i=i.sibling;i!==null;)Jm(i,r,o),i=i.sibling}function Ph(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&ir(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ph(i,r,o),i=i.sibling;i!==null;)Ph(i,r,o),i=i.sibling}function uT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);rn(r,u,o),r[zt]=i,r[Dt]=o}catch(g){at(i,i.return,g)}}var vs=!1,St=!1,ep=!1,cT=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function LC(i,r){if(i=i.containerInfo,wp=Zh,i=Ev(i),Zd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,w=-1,O=-1,G=0,ne=0,re=i,$=null;t:for(;;){for(var Q;re!==o||f!==0&&re.nodeType!==3||(w=b+f),re!==g||u!==0&&re.nodeType!==3||(O=b+u),re.nodeType===3&&(b+=re.nodeValue.length),(Q=re.firstChild)!==null;)$=re,re=Q;for(;;){if(re===i)break t;if($===o&&++G===f&&(w=b),$===g&&++ne===u&&(O=b),(Q=re.nextSibling)!==null)break;re=$,$=re.parentNode}re=Q}o=w===-1||O===-1?null:{start:w,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sp={focusedElem:i,selectionRange:o},Zh=!1,Wt=r;Wt!==null;)if(r=Wt,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Wt=i;else for(;Wt!==null;){switch(r=Wt,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ne=da(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Ne,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Se){at(o,o.return,Se)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Cp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Cp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Wt=i;break}Wt=r.return}}function hT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Xs(i,o),u&4&&cu(5,o);break;case 1:if(Xs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){at(o,o.return,b)}else{var f=da(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){at(o,o.return,b)}}u&64&&rT(o),u&512&&hu(o,o.return);break;case 3:if(Xs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Kv(i,r)}catch(b){at(o,o.return,b)}}break;case 27:r===null&&u&4&&uT(o);case 26:case 5:Xs(i,o),r===null&&u&4&&oT(o),u&512&&hu(o,o.return);break;case 12:Xs(i,o);break;case 13:Xs(i,o),u&4&&mT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=KC.bind(null,o),c2(i,o))));break;case 22:if(u=o.memoizedState!==null||vs,!u){r=r!==null&&r.memoizedState!==null||St,f=vs;var g=St;vs=u,(St=r)&&!g?Ws(i,o,(o.subtreeFlags&8772)!==0):Xs(i,o),vs=f,St=g}break;case 30:break;default:Xs(i,o)}}function fT(i){var r=i.alternate;r!==null&&(i.alternate=null,fT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&js(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,xn=!1;function _s(i,r,o){for(o=o.child;o!==null;)dT(i,r,o),o=o.sibling}function dT(i,r,o){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(_t,o)}catch{}switch(o.tag){case 26:St||Vi(o,r),_s(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:St||Vi(o,r);var u=ft,f=xn;ir(o.type)&&(ft=o.stateNode,xn=!1),_s(i,r,o),Tu(o.stateNode),ft=u,xn=f;break;case 5:St||Vi(o,r);case 6:if(u=ft,f=xn,ft=null,_s(i,r,o),ft=u,xn=f,ft!==null)if(xn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){at(o,r,g)}else try{ft.removeChild(o.stateNode)}catch(g){at(o,r,g)}break;case 18:ft!==null&&(xn?(i=ft,tE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Cu(i)):tE(ft,o.stateNode));break;case 4:u=ft,f=xn,ft=o.stateNode.containerInfo,xn=!0,_s(i,r,o),ft=u,xn=f;break;case 0:case 11:case 14:case 15:St||Qs(2,o,r),St||Qs(4,o,r),_s(i,r,o);break;case 1:St||(Vi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&aT(o,r,u)),_s(i,r,o);break;case 21:_s(i,r,o);break;case 22:St=(u=St)||o.memoizedState!==null,_s(i,r,o),St=u;break;default:_s(i,r,o)}}function mT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Cu(i)}catch(o){at(r,r.return,o)}}function jC(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new cT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new cT),r;default:throw Error(s(435,i.tag))}}function tp(i,r){var o=jC(i);r.forEach(function(u){var f=$C.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function Pn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,b=r,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(ir(w.type)){ft=w.stateNode,xn=!1;break e}break;case 5:ft=w.stateNode,xn=!1;break e;case 3:case 4:ft=w.stateNode.containerInfo,xn=!0;break e}w=w.return}if(ft===null)throw Error(s(160));dT(g,b,f),ft=null,xn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)pT(r,i),r=r.sibling}var fi=null;function pT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pn(r,i),kn(i),u&4&&(Qs(3,i,i.return),cu(3,i),Qs(5,i,i.return));break;case 1:Pn(r,i),kn(i),u&512&&(St||o===null||Vi(o,o.return)),u&64&&vs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=fi;if(Pn(r,i),kn(i),u&512&&(St||o===null||Vi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[qr]||g[zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),rn(g,u,o),g[zt]=i,xt(g),u=g;break e;case"link":var b=uE("link","href",f).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break t}}g=f.createElement(u),rn(g,u,o),f.head.appendChild(g);break;case"meta":if(b=uE("meta","content",f).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break t}}g=f.createElement(u),rn(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[zt]=i,xt(g),u=g}i.stateNode=u}else cE(f,i.type,i.stateNode);else i.stateNode=lE(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?cE(f,i.type,i.stateNode):lE(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Wm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Pn(r,i),kn(i),u&512&&(St||o===null||Vi(o,o.return)),o!==null&&u&4&&Wm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Pn(r,i),kn(i),u&512&&(St||o===null||Vi(o,o.return)),i.flags&32){f=i.stateNode;try{Gn(f,"")}catch(Q){at(i,i.return,Q)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Wm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(ep=!0);break;case 6:if(Pn(r,i),kn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Q){at(i,i.return,Q)}}break;case 3:if(Qh=null,f=fi,fi=$h(r.containerInfo),Pn(r,i),fi=f,kn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Cu(r.containerInfo)}catch(Q){at(i,i.return,Q)}ep&&(ep=!1,gT(i));break;case 4:u=fi,fi=$h(i.stateNode.containerInfo),Pn(r,i),kn(i),fi=u;break;case 12:Pn(r,i),kn(i);break;case 13:Pn(r,i),kn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(op=Fn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,tp(i,u)));break;case 22:f=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,G=vs,ne=St;if(vs=G||f,St=ne||O,Pn(r,i),St=ne,vs=G,kn(i),u&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||vs||St||ma(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(g=O.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=O.stateNode;var re=O.memoizedProps.style,$=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Q){at(O,O.return,Q)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(Q){at(O,O.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,tp(i,o))));break;case 19:Pn(r,i),kn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,tp(i,u)));break;case 30:break;case 21:break;default:Pn(r,i),kn(i)}}function kn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(lT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Zm(i);Ph(i,g,f);break;case 5:var b=o.stateNode;o.flags&32&&(Gn(b,""),o.flags&=-33);var w=Zm(i);Ph(i,w,b);break;case 3:case 4:var O=o.stateNode.containerInfo,G=Zm(i);Jm(i,G,O);break;default:throw Error(s(161))}}catch(ne){at(i,i.return,ne)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function gT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;gT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Xs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)hT(i,r.alternate,r),r=r.sibling}function ma(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Qs(4,r,r.return),ma(r);break;case 1:Vi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&aT(r,r.return,o),ma(r);break;case 27:Tu(r.stateNode);case 26:case 5:Vi(r,r.return),ma(r);break;case 22:r.memoizedState===null&&ma(r);break;case 30:ma(r);break;default:ma(r)}i=i.sibling}}function Ws(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:Ws(f,g,o),cu(4,g);break;case 1:if(Ws(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){at(u,u.return,G)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Gv(O[f],w)}catch(G){at(u,u.return,G)}}o&&b&64&&rT(g),hu(g,g.return);break;case 27:uT(g);case 26:case 5:Ws(f,g,o),o&&u===null&&b&4&&oT(g),hu(g,g.return);break;case 12:Ws(f,g,o);break;case 13:Ws(f,g,o),o&&b&4&&mT(f,g);break;case 22:g.memoizedState===null&&Ws(f,g,o),hu(g,g.return);break;case 30:break;default:Ws(f,g,o)}r=r.sibling}}function np(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Xl(o))}function ip(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Xl(i))}function Pi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)yT(i,r,o,u),r=r.sibling}function yT(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(i,r,o,u),f&2048&&cu(9,r);break;case 1:Pi(i,r,o,u);break;case 3:Pi(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Xl(i)));break;case 12:if(f&2048){Pi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){at(r,r.return,O)}}else Pi(i,r,o,u);break;case 13:Pi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Pi(i,r,o,u):fu(i,r):g._visibility&2?Pi(i,r,o,u):(g._visibility|=2,To(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&np(b,r);break;case 24:Pi(i,r,o,u),f&2048&&ip(r.alternate,r);break;default:Pi(i,r,o,u)}}function To(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,b=r,w=o,O=u,G=b.flags;switch(b.tag){case 0:case 11:case 15:To(g,b,w,O,f),cu(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?To(g,b,w,O,f):fu(g,b):(ne._visibility|=2,To(g,b,w,O,f)),f&&G&2048&&np(b.alternate,b);break;case 24:To(g,b,w,O,f),f&&G&2048&&ip(b.alternate,b);break;default:To(g,b,w,O,f)}r=r.sibling}}function fu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:fu(o,u),f&2048&&np(u.alternate,u);break;case 24:fu(o,u),f&2048&&ip(u.alternate,u);break;default:fu(o,u)}r=r.sibling}}var du=8192;function Eo(i){if(i.subtreeFlags&du)for(i=i.child;i!==null;)vT(i),i=i.sibling}function vT(i){switch(i.tag){case 26:Eo(i),i.flags&du&&i.memoizedState!==null&&x2(fi,i.memoizedState,i.memoizedProps);break;case 5:Eo(i);break;case 3:case 4:var r=fi;fi=$h(i.stateNode.containerInfo),Eo(i),fi=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=du,du=16777216,Eo(i),du=r):Eo(i));break;default:Eo(i)}}function _T(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function mu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Wt=u,ET(u,i)}_T(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)TT(i),i=i.sibling}function TT(i){switch(i.tag){case 0:case 11:case 15:mu(i),i.flags&2048&&Qs(9,i,i.return);break;case 3:mu(i);break;case 12:mu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,kh(i)):mu(i);break;default:mu(i)}}function kh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Wt=u,ET(u,i)}_T(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Qs(8,r,r.return),kh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,kh(r));break;default:kh(r)}i=i.sibling}}function ET(i,r){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:Qs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Xl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Wt=u;else e:for(o=i;Wt!==null;){u=Wt;var f=u.sibling,g=u.return;if(fT(u),u===o){Wt=null;break e}if(f!==null){f.return=g,Wt=f;break e}Wt=g}}}var UC={getCacheForType:function(i){var r=hn(Ht),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},BC=typeof WeakMap=="function"?WeakMap:Map,et=0,ot=null,Le=null,Ke=0,tt=0,On=null,Zs=!1,bo=!1,sp=!1,Ts=0,Et=0,Js=0,pa=0,rp=0,ei=0,xo=0,pu=null,wn=null,ap=!1,op=0,Oh=1/0,Lh=null,er=null,sn=0,tr=null,wo=null,So=0,lp=0,up=null,bT=null,gu=0,cp=null;function Ln(){if((et&2)!==0&&Ke!==0)return Ke&-Ke;if(Z.T!==null){var i=ho;return i!==0?i:yp()}return Os()}function xT(){ei===0&&(ei=(Ke&536870912)===0||Xe?Sl():536870912);var i=Jn.current;return i!==null&&(i.flags|=32),ei}function jn(i,r,o){(i===ot&&(tt===2||tt===9)||i.cancelPendingCommit!==null)&&(Ao(i,0),nr(i,Ke,ei,!1)),Zi(i,o),((et&2)===0||i!==ot)&&(i===ot&&((et&2)===0&&(pa|=o),Et===4&&nr(i,Ke,ei,!1)),ki(i))}function wT(i,r,o){if((et&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||zr(i,r),f=u?FC(i,r):dp(i,r,!0),g=u;do{if(f===0){bo&&!u&&nr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!zC(o)){f=dp(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var w=i;f=pu;var O=w.current.memoizedState.isDehydrated;if(O&&(Ao(w,b).flags|=256),b=dp(w,b,!1),b!==2){if(sp&&!O){w.errorRecoveryDisabledLanes|=g,pa|=g,f=4;break e}g=wn,wn=f,g!==null&&(wn===null?wn=g:wn.push.apply(wn,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){Ao(i,0),nr(i,r,0,!0);break}e:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:nr(u,r,ei,!Zs);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=op+300-Fn(),10<f)){if(nr(u,r,ei,!Zs),qa(u,0,!0)!==0)break e;u.timeoutHandle=JT(ST.bind(null,u,o,wn,Lh,ap,r,ei,pa,xo,Zs,g,2,-0,0),f);break e}ST(u,o,wn,Lh,ap,r,ei,pa,xo,Zs,g,0,-0,0)}}break}while(!0);ki(i)}function ST(i,r,o,u,f,g,b,w,O,G,ne,re,$,Q){if(i.timeoutHandle=-1,re=r.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(xu={stylesheets:null,count:0,unsuspend:b2},vT(r),re=w2(),re!==null)){i.cancelPendingCommit=re(MT.bind(null,i,r,g,o,u,f,b,w,O,ne,1,$,Q)),nr(i,g,b,!G);return}MT(i,r,g,o,u,f,b,w,O)}function zC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Mn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function nr(i,r,o,u){r&=~rp,r&=~pa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-cn(f),b=1<<g;u[g]=-1,f&=~b}o!==0&&Ti(i,o,r)}function jh(){return(et&6)===0?(yu(0),!1):!0}function hp(){if(Le!==null){if(tt===0)var i=Le.return;else i=Le,fs=ua=null,Cm(i),vo=null,ou=0,i=Le;for(;i!==null;)sT(i.alternate,i),i=i.return;Le=null}}function Ao(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,r2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),hp(),ot=i,Le=o=us(i.current,null),Ke=r,tt=0,On=null,Zs=!1,bo=zr(i,r),sp=!1,xo=ei=rp=pa=Js=Et=0,wn=pu=null,ap=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-cn(u),g=1<<f;r|=i[f],u&=~g}return Ts=r,ah(),o}function AT(i,r){ke=null,Z.H=Sh,r===Zl||r===ph?(r=Fv(),tt=3):r===Bv?(r=Fv(),tt=4):tt=r===H_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,Le===null&&(Et=1,Ih(i,Qn(r,i.current)))}function RT(){var i=Z.H;return Z.H=Sh,i===null?Sh:i}function CT(){var i=Z.A;return Z.A=UC,i}function fp(){Et=4,Zs||(Ke&4194048)!==Ke&&Jn.current!==null||(bo=!0),(Js&134217727)===0&&(pa&134217727)===0||ot===null||nr(ot,Ke,ei,!1)}function dp(i,r,o){var u=et;et|=2;var f=RT(),g=CT();(ot!==i||Ke!==r)&&(Lh=null,Ao(i,r)),r=!1;var b=Et;e:do try{if(tt!==0&&Le!==null){var w=Le,O=On;switch(tt){case 8:hp(),b=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(r=!0);var G=tt;if(tt=0,On=null,Ro(i,w,O,G),o&&bo){b=0;break e}break;default:G=tt,tt=0,On=null,Ro(i,w,O,G)}}qC(),b=Et;break}catch(ne){AT(i,ne)}while(!0);return r&&i.shellSuspendCounter++,fs=ua=null,et=u,Z.H=f,Z.A=g,Le===null&&(ot=null,Ke=0,ah()),b}function qC(){for(;Le!==null;)NT(Le)}function FC(i,r){var o=et;et|=2;var u=RT(),f=CT();ot!==i||Ke!==r?(Lh=null,Oh=Fn()+500,Ao(i,r)):bo=zr(i,r);e:do try{if(tt!==0&&Le!==null){r=Le;var g=On;t:switch(tt){case 1:tt=0,On=null,Ro(i,r,g,1);break;case 2:case 9:if(zv(g)){tt=0,On=null,IT(r);break}r=function(){tt!==2&&tt!==9||ot!==i||(tt=7),ki(i)},g.then(r,r);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:zv(g)?(tt=0,On=null,IT(r)):(tt=0,On=null,Ro(i,r,g,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var w=Le;if(!b||hE(b)){tt=0,On=null;var O=w.sibling;if(O!==null)Le=O;else{var G=w.return;G!==null?(Le=G,Uh(G)):Le=null}break t}}tt=0,On=null,Ro(i,r,g,5);break;case 6:tt=0,On=null,Ro(i,r,g,6);break;case 8:hp(),Et=6;break e;default:throw Error(s(462))}}HC();break}catch(ne){AT(i,ne)}while(!0);return fs=ua=null,Z.H=u,Z.A=f,et=o,Le!==null?0:(ot=null,Ke=0,ah(),Et)}function HC(){for(;Le!==null&&!qn();)NT(Le)}function NT(i){var r=nT(i.alternate,i,Ts);i.memoizedProps=i.pendingProps,r===null?Uh(i):Le=r}function IT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=X_(o,r,r.pendingProps,r.type,void 0,Ke);break;case 11:r=X_(o,r,r.pendingProps,r.type.render,r.ref,Ke);break;case 5:Cm(r);default:sT(o,r),r=Le=Dv(r,Ts),r=nT(o,r,Ts)}i.memoizedProps=i.pendingProps,r===null?Uh(i):Le=r}function Ro(i,r,o,u){fs=ua=null,Cm(r),vo=null,ou=0;var f=r.return;try{if(VC(i,f,r,o,Ke)){Et=1,Ih(i,Qn(o,i.current)),Le=null;return}}catch(g){if(f!==null)throw Le=f,g;Et=1,Ih(i,Qn(o,i.current)),Le=null;return}r.flags&32768?(Xe||u===1?i=!0:bo||(Ke&536870912)!==0?i=!1:(Zs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),DT(r,i)):Uh(r)}function Uh(i){var r=i;do{if((r.flags&32768)!==0){DT(r,Zs);return}i=r.return;var o=kC(r.alternate,r,Ts);if(o!==null){Le=o;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=i}while(r!==null);Et===0&&(Et=5)}function DT(i,r){do{var o=OC(i.alternate,i);if(o!==null){o.flags&=32767,Le=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Le=i;return}Le=i=o}while(i!==null);Et=6,Le=null}function MT(i,r,o,u,f,g,b,w,O){i.cancelPendingCommit=null;do Bh();while(sn!==0);if((et&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=im,Rl(i,o,g,b,w,O),i===ot&&(Le=ot=null,Ke=0),wo=r,tr=i,So=o,lp=g,up=f,bT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,YC(Lr,function(){return LT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=J.p,J.p=2,b=et,et|=4;try{LC(i,r,o)}finally{et=b,J.p=f,Z.T=u}}sn=1,VT(),PT(),kT()}}function VT(){if(sn===1){sn=0;var i=tr,r=wo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=J.p;J.p=2;var f=et;et|=4;try{pT(r,i);var g=Sp,b=Ev(i.containerInfo),w=g.focusedElem,O=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&Tv(w.ownerDocument.documentElement,w)){if(O!==null&&Zd(w)){var G=O.start,ne=O.end;if(ne===void 0&&(ne=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(ne,w.value.length);else{var re=w.ownerDocument||document,$=re&&re.defaultView||window;if($.getSelection){var Q=$.getSelection(),Ne=w.textContent.length,Se=Math.min(O.start,Ne),rt=O.end===void 0?Se:Math.min(O.end,Ne);!Q.extend&&Se>rt&&(b=rt,rt=Se,Se=b);var q=_v(w,Se),z=_v(w,rt);if(q&&z&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var H=re.createRange();H.setStart(q.node,q.offset),Q.removeAllRanges(),Se>rt?(Q.addRange(H),Q.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),Q.addRange(H))}}}}for(re=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&re.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var se=re[w];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Zh=!!wp,Sp=wp=null}finally{et=f,J.p=u,Z.T=o}}i.current=r,sn=2}}function PT(){if(sn===2){sn=0;var i=tr,r=wo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=J.p;J.p=2;var f=et;et|=4;try{hT(i,r.alternate,r)}finally{et=f,J.p=u,Z.T=o}}sn=3}}function kT(){if(sn===4||sn===3){sn=0,Xi();var i=tr,r=wo,o=So,u=bT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?sn=5:(sn=0,wo=tr=null,OT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(er=null),Fa(o),r=r.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(_t,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,f=J.p,J.p=2,Z.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var w=u[b];g(w.value,{componentStack:w.stack})}}finally{Z.T=r,J.p=f}}(So&3)!==0&&Bh(),ki(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===cp?gu++:(gu=0,cp=i):gu=0,yu(0)}}function OT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Xl(r)))}function Bh(i){return VT(),PT(),kT(),LT()}function LT(){if(sn!==5)return!1;var i=tr,r=lp;lp=0;var o=Fa(So),u=Z.T,f=J.p;try{J.p=32>o?32:o,Z.T=null,o=up,up=null;var g=tr,b=So;if(sn=0,wo=tr=null,So=0,(et&6)!==0)throw Error(s(331));var w=et;if(et|=4,TT(g.current),yT(g,g.current,b,o),et=w,yu(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(_t,g)}catch{}return!0}finally{J.p=f,Z.T=u,OT(i,r)}}function jT(i,r,o){r=Qn(o,r),r=qm(i.stateNode,r,2),i=Gs(i,r,2),i!==null&&(Zi(i,2),ki(i))}function at(i,r,o){if(i.tag===3)jT(i,i,o);else for(;r!==null;){if(r.tag===3){jT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(er===null||!er.has(u))){i=Qn(o,i),o=q_(2),u=Gs(r,o,2),u!==null&&(F_(o,u,r,i),Zi(u,2),ki(u));break}}r=r.return}}function mp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new BC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(sp=!0,f.add(o),i=GC.bind(null,i,r,o),r.then(i,i))}function GC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ot===i&&(Ke&o)===o&&(Et===4||Et===3&&(Ke&62914560)===Ke&&300>Fn()-op?(et&2)===0&&Ao(i,0):rp|=o,xo===Ke&&(xo=0)),ki(i)}function UT(i,r){r===0&&(r=Al()),i=oo(i,r),i!==null&&(Zi(i,r),ki(i))}function KC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),UT(i,o)}function $C(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),UT(i,o)}function YC(i,r){return Nt(i,r)}var zh=null,Co=null,pp=!1,qh=!1,gp=!1,ga=0;function ki(i){i!==Co&&i.next===null&&(Co===null?zh=Co=i:Co=Co.next=i),qh=!0,pp||(pp=!0,XC())}function yu(i,r){if(!gp&&qh){gp=!0;do for(var o=!1,u=zh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-cn(42|i)+1)-1,g&=f&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,FT(u,g))}else g=Ke,g=qa(u,u===ot?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||zr(u,g)||(o=!0,FT(u,g));u=u.next}while(o);gp=!1}}function QC(){BT()}function BT(){qh=pp=!1;var i=0;ga!==0&&(s2()&&(i=ga),ga=0);for(var r=Fn(),o=null,u=zh;u!==null;){var f=u.next,g=zT(u,r);g===0?(u.next=null,o===null?zh=f:o.next=f,f===null&&(Co=o)):(o=u,(i!==0||(g&3)!==0)&&(qh=!0)),u=f}yu(i)}function zT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-cn(g),w=1<<b,O=f[b];O===-1?((w&o)===0||(w&u)!==0)&&(f[b]=wl(w,r)):O<=r&&(i.expiredLanes|=w),g&=~w}if(r=ot,o=Ke,o=qa(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(tt===2||tt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&It(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||zr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&It(u),Fa(o)){case 2:case 8:o=Ba;break;case 32:o=Lr;break;case 268435456:o=za;break;default:o=Lr}return u=qT.bind(null,i),o=Nt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&It(u),i.callbackPriority=2,i.callbackNode=null,2}function qT(i,r){if(sn!==0&&sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Bh()&&i.callbackNode!==o)return null;var u=Ke;return u=qa(i,i===ot?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(wT(i,u,r),zT(i,Fn()),i.callbackNode!=null&&i.callbackNode===o?qT.bind(null,i):null)}function FT(i,r){if(Bh())return null;wT(i,r,!0)}function XC(){a2(function(){(et&6)!==0?Nt(bl,QC):BT()})}function yp(){return ga===0&&(ga=Sl()),ga}function HT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Qa(""+i)}function GT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function WC(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=HT((f[Dt]||null).action),b=u.submitter;b&&(r=(r=b[Dt]||null)?HT(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var w=new Xa("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ga!==0){var O=b?GT(f,b):new FormData(f);Lm(o,{pending:!0,data:O,method:f.method,action:g},null,O)}}else typeof g=="function"&&(w.preventDefault(),O=b?GT(f,b):new FormData(f),Lm(o,{pending:!0,data:O,method:f.method,action:g},g,O))},currentTarget:f}]})}}for(var vp=0;vp<nm.length;vp++){var _p=nm[vp],ZC=_p.toLowerCase(),JC=_p[0].toUpperCase()+_p.slice(1);hi(ZC,"on"+JC)}hi(wv,"onAnimationEnd"),hi(Sv,"onAnimationIteration"),hi(Av,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(gC,"onTransitionRun"),hi(yC,"onTransitionStart"),hi(vC,"onTransitionCancel"),hi(Rv,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function KT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var w=u[b],O=w.instance,G=w.currentTarget;if(w=w.listener,O!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=G;try{g(f)}catch(ne){Nh(ne)}f.currentTarget=null,g=O}else for(b=0;b<u.length;b++){if(w=u[b],O=w.instance,G=w.currentTarget,w=w.listener,O!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=G;try{g(f)}catch(ne){Nh(ne)}f.currentTarget=null,g=O}}}}function je(i,r){var o=r[Nl];o===void 0&&(o=r[Nl]=new Set);var u=i+"__bubble";o.has(u)||($T(r,i,2,!1),o.add(u))}function Tp(i,r,o){var u=0;r&&(u|=4),$T(o,i,u,r)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function Ep(i){if(!i[Fh]){i[Fh]=!0,Il.forEach(function(o){o!=="selectionchange"&&(e2.has(o)||Tp(o,!1,i),Tp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Fh]||(r[Fh]=!0,Tp("selectionchange",!1,r))}}function $T(i,r,o,u){switch(yE(r)){case 2:var f=R2;break;case 8:f=C2;break;default:f=kp}o=f.bind(null,r,o,i),f=void 0,!$n||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function bp(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=u.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=Ji(w),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){u=g=b;continue e}w=w.parentNode}}u=u.return}Gc(function(){var G=g,ne=Kn(o),re=[];e:{var $=Cv.get(i);if($!==void 0){var Q=Xa,Ne=i;switch(i){case"keypress":if(Ai(o)===0)break e;case"keydown":case"keyup":Q=no;break;case"focusin":Ne="focus",Q=Ja;break;case"focusout":Ne="blur",Q=Ja;break;case"beforeblur":case"afterblur":Q=Ja;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Jc;break;case wv:case Sv:case Av:Q=eo;break;case Rv:Q=th;break;case"scroll":case"scrollend":Q=Kc;break;case"wheel":Q=io;break;case"copy":case"cut":case"paste":Q=to;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ql;break;case"toggle":case"beforetoggle":Q=ih}var Se=(r&4)!==0,rt=!Se&&(i==="scroll"||i==="scrollend"),q=Se?$!==null?$+"Capture":null:$;Se=[];for(var z=G,H;z!==null;){var se=z;if(H=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||H===null||q===null||(se=Qr(z,q),se!=null&&Se.push(_u(z,se,H))),rt)break;z=z.return}0<Se.length&&($=new Q($,Ne,null,o,ne),re.push({event:$,listeners:Se}))}}if((r&7)===0){e:{if($=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",$&&o!==is&&(Ne=o.relatedTarget||o.fromElement)&&(Ji(Ne)||Ne[Hn]))break e;if((Q||$)&&($=ne.window===ne?ne:($=ne.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(Ne=o.relatedTarget||o.toElement,Q=G,Ne=Ne?Ji(Ne):null,Ne!==null&&(rt=l(Ne),Se=Ne.tag,Ne!==rt||Se!==5&&Se!==27&&Se!==6)&&(Ne=null)):(Q=null,Ne=G),Q!==Ne)){if(Se=Yn,se="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Se=ql,se="onPointerLeave",q="onPointerEnter",z="pointer"),rt=Q==null?$:bi(Q),H=Ne==null?$:bi(Ne),$=new Se(se,z+"leave",Q,o,ne),$.target=rt,$.relatedTarget=H,se=null,Ji(ne)===G&&(Se=new Se(q,z+"enter",Ne,o,ne),Se.target=H,Se.relatedTarget=rt,se=Se),rt=se,Q&&Ne)t:{for(Se=Q,q=Ne,z=0,H=Se;H;H=No(H))z++;for(H=0,se=q;se;se=No(se))H++;for(;0<z-H;)Se=No(Se),z--;for(;0<H-z;)q=No(q),H--;for(;z--;){if(Se===q||q!==null&&Se===q.alternate)break t;Se=No(Se),q=No(q)}Se=null}else Se=null;Q!==null&&YT(re,$,Q,Se,!1),Ne!==null&&rt!==null&&YT(re,rt,Ne,Se,!0)}}e:{if($=G?bi(G):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var ve=dv;else if(Ft($))if(mv)ve=dC;else{ve=hC;var Oe=cC}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&kl(G.elementType)&&(ve=dv):ve=fC;if(ve&&(ve=ve(i,G))){ls(re,ve,o,ne);break e}Oe&&Oe(i,$,G),i==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Bs($,"number",$.value)}switch(Oe=G?bi(G):window,i){case"focusin":(Ft(Oe)||Oe.contentEditable==="true")&&(so=Oe,Jd=G,Gl=null);break;case"focusout":Gl=Jd=so=null;break;case"mousedown":em=!0;break;case"contextmenu":case"mouseup":case"dragend":em=!1,bv(re,o,ne);break;case"selectionchange":if(pC)break;case"keydown":case"keyup":bv(re,o,ne)}var be;if(Ni)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else He?ee(i,o)&&(Ae="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(E&&o.locale!=="ko"&&(He||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&He&&(be=Ll()):(Si=ne,zs="value"in Si?Si.value:Si.textContent,He=!0)),Oe=Hh(G,Ae),0<Oe.length&&(Ae=new Bl(Ae,i,null,o,ne),re.push({event:Ae,listeners:Oe}),be?Ae.data=be:(be=fe(o),be!==null&&(Ae.data=be)))),(be=v?qt(i,o):Ge(i,o))&&(Ae=Hh(G,"onBeforeInput"),0<Ae.length&&(Oe=new Bl("onBeforeInput","beforeinput",null,o,ne),re.push({event:Oe,listeners:Ae}),Oe.data=be)),WC(re,i,G,o,ne)}KT(re,r)})}function _u(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Hh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Qr(i,o),f!=null&&u.unshift(_u(i,f,g)),f=Qr(i,r),f!=null&&u.push(_u(i,f,g))),i.tag===3)return u;i=i.return}return[]}function No(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function YT(i,r,o,u,f){for(var g=r._reactName,b=[];o!==null&&o!==u;){var w=o,O=w.alternate,G=w.stateNode;if(w=w.tag,O!==null&&O===u)break;w!==5&&w!==26&&w!==27||G===null||(O=G,f?(G=Qr(o,g),G!=null&&b.unshift(_u(o,G,O))):f||(G=Qr(o,g),G!=null&&b.push(_u(o,G,O)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var t2=/\r\n?/g,n2=/\u0000|\uFFFD/g;function QT(i){return(typeof i=="string"?i:""+i).replace(t2,`
`).replace(n2,"")}function XT(i,r){return r=QT(r),QT(i)===r}function Gh(){}function st(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Gn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Gn(i,""+u);break;case"className":xi(i,"class",u);break;case"tabIndex":xi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(i,o,u);break;case"style":Pl(i,u,g);break;case"data":if(r!=="object"){xi(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Qa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&st(i,r,"name",f.name,f,null),st(i,r,"formEncType",f.formEncType,f,null),st(i,r,"formMethod",f.formMethod,f,null),st(i,r,"formTarget",f.formTarget,f,null)):(st(i,r,"encType",f.encType,f,null),st(i,r,"method",f.method,f,null),st(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Qa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Gh);break;case"onScroll":u!=null&&je("scroll",i);break;case"onScrollEnd":u!=null&&je("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Qa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":je("beforetoggle",i),je("toggle",i),Us(i,"popover",u);break;case"xlinkActuate":en(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":en(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":en(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":en(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":en(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":en(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":en(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":en(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":en(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Us(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Kd.get(o)||o,Us(i,o,u))}}function xp(i,r,o,u,f,g){switch(o){case"style":Pl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Gn(i,u):(typeof u=="number"||typeof u=="bigint")&&Gn(i,""+u);break;case"onScroll":u!=null&&je("scroll",i);break;case"onScrollEnd":u!=null&&je("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Gh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ha.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[Dt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Us(i,o,u)}}}function rn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",i),je("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(i,r,g,b,o,null)}}f&&st(i,r,"srcSet",o.srcSet,o,null),u&&st(i,r,"src",o.src,o,null);return;case"input":je("invalid",i);var w=g=b=f=null,O=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":f=ne;break;case"type":b=ne;break;case"checked":O=ne;break;case"defaultChecked":G=ne;break;case"value":g=ne;break;case"defaultValue":w=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:st(i,r,u,ne,o,null)}}Kr(i,g,w,O,G,b,f,!1),Ya(i);return;case"select":je("invalid",i),u=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:st(i,r,f,w,o,null)}r=g,o=b,i.multiple=!!u,r!=null?ns(i,!!u,r,!1):o!=null&&ns(i,!!u,o,!0);return;case"textarea":je("invalid",i),g=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:st(i,r,b,w,o,null)}$r(i,u,f,g),Ya(i);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(i,r,O,u,o,null)}return;case"dialog":je("beforetoggle",i),je("toggle",i),je("cancel",i),je("close",i);break;case"iframe":case"object":je("load",i);break;case"video":case"audio":for(u=0;u<vu.length;u++)je(vu[u],i);break;case"image":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"embed":case"source":case"link":je("error",i),je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(i,r,G,u,o,null)}return;default:if(kl(r)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&xp(i,r,ne,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&st(i,r,w,u,o,null))}function i2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,w=null,O=null,G=null,ne=null;for(Q in o){var re=o[Q];if(o.hasOwnProperty(Q)&&re!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=re;default:u.hasOwnProperty(Q)||st(i,r,Q,null,u,re)}}for(var $ in u){var Q=u[$];if(re=o[$],u.hasOwnProperty($)&&(Q!=null||re!=null))switch($){case"type":g=Q;break;case"name":f=Q;break;case"checked":G=Q;break;case"defaultChecked":ne=Q;break;case"value":b=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==re&&st(i,r,$,Q,u,re)}}Dn(i,b,w,O,G,ne,g,f);return;case"select":Q=b=w=$=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":Q=O;default:u.hasOwnProperty(g)||st(i,r,g,null,u,O)}for(f in u)if(g=u[f],O=o[f],u.hasOwnProperty(f)&&(g!=null||O!=null))switch(f){case"value":$=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==O&&st(i,r,f,g,u,O)}r=w,o=b,u=Q,$!=null?ns(i,!!o,$,!1):!!u!=!!o&&(r!=null?ns(i,!!o,r,!0):ns(i,!!o,o?[]:"",!1));return;case"textarea":Q=$=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:st(i,r,w,null,u,f)}for(b in u)if(f=u[b],g=o[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&st(i,r,b,f,u,g)}nt(i,$,Q);return;case"option":for(var Ne in o)if($=o[Ne],o.hasOwnProperty(Ne)&&$!=null&&!u.hasOwnProperty(Ne))switch(Ne){case"selected":i.selected=!1;break;default:st(i,r,Ne,null,u,$)}for(O in u)if($=u[O],Q=o[O],u.hasOwnProperty(O)&&$!==Q&&($!=null||Q!=null))switch(O){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:st(i,r,O,$,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)$=o[Se],o.hasOwnProperty(Se)&&$!=null&&!u.hasOwnProperty(Se)&&st(i,r,Se,null,u,$);for(G in u)if($=u[G],Q=o[G],u.hasOwnProperty(G)&&$!==Q&&($!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:st(i,r,G,$,u,Q)}return;default:if(kl(r)){for(var rt in o)$=o[rt],o.hasOwnProperty(rt)&&$!==void 0&&!u.hasOwnProperty(rt)&&xp(i,r,rt,void 0,u,$);for(ne in u)$=u[ne],Q=o[ne],!u.hasOwnProperty(ne)||$===Q||$===void 0&&Q===void 0||xp(i,r,ne,$,u,Q);return}}for(var q in o)$=o[q],o.hasOwnProperty(q)&&$!=null&&!u.hasOwnProperty(q)&&st(i,r,q,null,u,$);for(re in u)$=u[re],Q=o[re],!u.hasOwnProperty(re)||$===Q||$==null&&Q==null||st(i,r,re,$,u,Q)}var wp=null,Sp=null;function Kh(i){return i.nodeType===9?i:i.ownerDocument}function WT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ap(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rp=null;function s2(){var i=window.event;return i&&i.type==="popstate"?i===Rp?!1:(Rp=i,!0):(Rp=null,!1)}var JT=typeof setTimeout=="function"?setTimeout:void 0,r2=typeof clearTimeout=="function"?clearTimeout:void 0,eE=typeof Promise=="function"?Promise:void 0,a2=typeof queueMicrotask=="function"?queueMicrotask:typeof eE<"u"?function(i){return eE.resolve(null).then(i).catch(o2)}:JT;function o2(i){setTimeout(function(){throw i})}function ir(i){return i==="head"}function tE(i,r){var o=r,u=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&Tu(b.documentElement),o&2&&Tu(b.body),o&4)for(o=b.head,Tu(o),b=o.firstChild;b;){var w=b.nextSibling,O=b.nodeName;b[qr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(f===0){i.removeChild(g),Cu(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Cu(r)}function Cp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Cp(o),js(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function l2(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[qr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=di(i.nextSibling),i===null)break}return null}function u2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=di(i.nextSibling),i===null))return null;return i}function Np(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function c2(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function di(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Ip=null;function nE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function iE(i,r,o){switch(r=Kh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Tu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);js(i)}var ti=new Map,sE=new Set;function $h(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Es=J.d;J.d={f:h2,r:f2,D:d2,C:m2,L:p2,m:g2,X:v2,S:y2,M:_2};function h2(){var i=Es.f(),r=jh();return i||r}function f2(i){var r=Ei(i);r!==null&&r.tag===5&&r.type==="form"?w_(r):Es.r(i)}var Io=typeof document>"u"?null:document;function rE(i,r,o){var u=Io;if(u&&typeof r=="string"&&r){var f=Mt(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),sE.has(f)||(sE.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),rn(r,"link",i),xt(r),u.head.appendChild(r)))}}function d2(i){Es.D(i),rE("dns-prefetch",i,null)}function m2(i,r){Es.C(i,r),rE("preconnect",i,r)}function p2(i,r,o){Es.L(i,r,o);var u=Io;if(u&&i&&r){var f='link[rel="preload"][as="'+Mt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Mt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Mt(o.imageSizes)+'"]')):f+='[href="'+Mt(i)+'"]';var g=f;switch(r){case"style":g=Do(i);break;case"script":g=Mo(i)}ti.has(g)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ti.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(Eu(g))||r==="script"&&u.querySelector(bu(g))||(r=u.createElement("link"),rn(r,"link",i),xt(r),u.head.appendChild(r)))}}function g2(i,r){Es.m(i,r);var o=Io;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Mt(u)+'"][href="'+Mt(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Mo(i)}if(!ti.has(g)&&(i=y({rel:"modulepreload",href:i},r),ti.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(bu(g)))return}u=o.createElement("link"),rn(u,"link",i),xt(u),o.head.appendChild(u)}}}function y2(i,r,o){Es.S(i,r,o);var u=Io;if(u&&i){var f=yn(u).hoistableStyles,g=Do(i);r=r||"default";var b=f.get(g);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(Eu(g)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ti.get(g))&&Dp(i,o);var O=b=u.createElement("link");xt(O),rn(O,"link",i),O._p=new Promise(function(G,ne){O.onload=G,O.onerror=ne}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Yh(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(g,b)}}}function v2(i,r){Es.X(i,r);var o=Io;if(o&&i){var u=yn(o).hoistableScripts,f=Mo(i),g=u.get(f);g||(g=o.querySelector(bu(f)),g||(i=y({src:i,async:!0},r),(r=ti.get(f))&&Mp(i,r),g=o.createElement("script"),xt(g),rn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function _2(i,r){Es.M(i,r);var o=Io;if(o&&i){var u=yn(o).hoistableScripts,f=Mo(i),g=u.get(f);g||(g=o.querySelector(bu(f)),g||(i=y({src:i,async:!0,type:"module"},r),(r=ti.get(f))&&Mp(i,r),g=o.createElement("script"),xt(g),rn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function aE(i,r,o,u){var f=(f=we.current)?$h(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Do(o.href),o=yn(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Do(o.href);var g=yn(f).hoistableStyles,b=g.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=f.querySelector(Eu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),ti.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ti.set(i,o),g||T2(f,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Mo(o),o=yn(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Do(i){return'href="'+Mt(i)+'"'}function Eu(i){return'link[rel="stylesheet"]['+i+"]"}function oE(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function T2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),rn(r,"link",o),xt(r),i.head.appendChild(r))}function Mo(i){return'[src="'+Mt(i)+'"]'}function bu(i){return"script[async]"+i}function lE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Mt(o.href)+'"]');if(u)return r.instance=u,xt(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),xt(u),rn(u,"style",f),Yh(u,o.precedence,i),r.instance=u;case"stylesheet":f=Do(o.href);var g=i.querySelector(Eu(f));if(g)return r.state.loading|=4,r.instance=g,xt(g),g;u=oE(o),(f=ti.get(f))&&Dp(u,f),g=(i.ownerDocument||i).createElement("link"),xt(g);var b=g;return b._p=new Promise(function(w,O){b.onload=w,b.onerror=O}),rn(g,"link",u),r.state.loading|=4,Yh(g,o.precedence,i),r.instance=g;case"script":return g=Mo(o.src),(f=i.querySelector(bu(g)))?(r.instance=f,xt(f),f):(u=o,(f=ti.get(g))&&(u=y({},o),Mp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),xt(f),rn(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Yh(u,o.precedence,i));return r.instance}function Yh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===r)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Dp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Mp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Qh=null;function uE(i,r,o){if(Qh===null){var u=new Map,f=Qh=new Map;f.set(o,u)}else f=Qh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[qr]||g[zt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var w=u.get(b);w?w.push(g):u.set(b,[g])}}return u}function cE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function E2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function hE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var xu=null;function b2(){}function x2(i,r,o){if(xu===null)throw Error(s(475));var u=xu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Do(o.href),g=i.querySelector(Eu(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Xh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,xt(g);return}g=i.ownerDocument||i,o=oE(o),(f=ti.get(f))&&Dp(o,f),g=g.createElement("link"),xt(g);var b=g;b._p=new Promise(function(w,O){b.onload=w,b.onerror=O}),rn(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Xh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function w2(){if(xu===null)throw Error(s(475));var i=xu;return i.stylesheets&&i.count===0&&Vp(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Vp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Xh(){if(this.count--,this.count===0){if(this.stylesheets)Vp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wh=null;function Vp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wh=new Map,r.forEach(S2,i),Wh=null,Xh.call(i))}function S2(i,r){if(!(r.state.loading&4)){var o=Wh.get(i);if(o)var u=o.get(null);else{o=new Map,Wh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=r.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,f),o.set(b,f),this.count++,u=Xh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var wu={$$typeof:K,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function A2(i,r,o,u,f,g,b,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function fE(i,r,o,u,f,g,b,w,O,G,ne,re){return i=new A2(i,r,o,b,w,O,G,re),r=1,g===!0&&(r|=24),g=Vn(3,null,null,r),i.current=g,g.stateNode=i,r=mm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},vm(g),i}function dE(i){return i?(i=lo,i):lo}function mE(i,r,o,u,f,g){f=dE(f),u.context===null?u.context=f:u.pendingContext=f,u=Hs(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Gs(i,u,r),o!==null&&(jn(o,i,r),eu(o,i,r))}function pE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Pp(i,r){pE(i,r),(i=i.alternate)&&pE(i,r)}function gE(i){if(i.tag===13){var r=oo(i,67108864);r!==null&&jn(r,i,67108864),Pp(i,67108864)}}var Zh=!0;function R2(i,r,o,u){var f=Z.T;Z.T=null;var g=J.p;try{J.p=2,kp(i,r,o,u)}finally{J.p=g,Z.T=f}}function C2(i,r,o,u){var f=Z.T;Z.T=null;var g=J.p;try{J.p=8,kp(i,r,o,u)}finally{J.p=g,Z.T=f}}function kp(i,r,o,u){if(Zh){var f=Op(u);if(f===null)bp(i,r,u,Jh,o),vE(i,u);else if(I2(f,i,r,o,u))u.stopPropagation();else if(vE(i,u),r&4&&-1<N2.indexOf(i)){for(;f!==null;){var g=Ei(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=li(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var O=1<<31-cn(b);w.entanglements[1]|=O,b&=~O}ki(g),(et&6)===0&&(Oh=Fn()+500,yu(0))}}break;case 13:w=oo(g,2),w!==null&&jn(w,g,2),jh(),Pp(g,2)}if(g=Op(u),g===null&&bp(i,r,u,Jh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else bp(i,r,u,null,o)}}function Op(i){return i=Kn(i),Lp(i)}var Jh=null;function Lp(i){if(Jh=null,i=Ji(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Jh=i,null}function yE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bd()){case bl:return 2;case Ba:return 8;case Lr:case zd:return 32;case za:return 268435456;default:return 32}default:return 32}}var jp=!1,sr=null,rr=null,ar=null,Su=new Map,Au=new Map,or=[],N2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vE(i,r){switch(i){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Su.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(r.pointerId)}}function Ru(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Ei(r),r!==null&&gE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function I2(i,r,o,u,f){switch(r){case"focusin":return sr=Ru(sr,i,r,o,u,f),!0;case"dragenter":return rr=Ru(rr,i,r,o,u,f),!0;case"mouseover":return ar=Ru(ar,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return Su.set(g,Ru(Su.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Au.set(g,Ru(Au.get(g)||null,i,r,o,u,f)),!0}return!1}function _E(i){var r=Ji(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,jc(i.priority,function(){if(o.tag===13){var u=Ln();u=ks(u);var f=oo(o,u);f!==null&&jn(f,o,u),Pp(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ef(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Op(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);is=u,o.target.dispatchEvent(u),is=null}else return r=Ei(o),r!==null&&gE(r),i.blockedOn=o,!1;r.shift()}return!0}function TE(i,r,o){ef(i)&&o.delete(r)}function D2(){jp=!1,sr!==null&&ef(sr)&&(sr=null),rr!==null&&ef(rr)&&(rr=null),ar!==null&&ef(ar)&&(ar=null),Su.forEach(TE),Au.forEach(TE)}function tf(i,r){i.blockedOn===r&&(i.blockedOn=null,jp||(jp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,D2)))}var nf=null;function EE(i){nf!==i&&(nf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nf===i&&(nf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Lp(u||o)===null)continue;break}var g=Ei(o);g!==null&&(i.splice(r,3),r-=3,Lm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Cu(i){function r(O){return tf(O,i)}sr!==null&&tf(sr,i),rr!==null&&tf(rr,i),ar!==null&&tf(ar,i),Su.forEach(r),Au.forEach(r);for(var o=0;o<or.length;o++){var u=or[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<or.length&&(o=or[0],o.blockedOn===null);)_E(o),o.blockedOn===null&&or.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],b=f[Dt]||null;if(typeof g=="function")b||EE(o);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[Dt]||null)w=b.formAction;else if(Lp(f)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),EE(o)}}}function Up(i){this._internalRoot=i}sf.prototype.render=Up.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Ln();mE(o,u,i,r,null,null)},sf.prototype.unmount=Up.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;mE(i.current,2,null,i,null,null),jh(),r[Hn]=null}};function sf(i){this._internalRoot=i}sf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Os();i={blockedOn:null,target:i,priority:r};for(var o=0;o<or.length&&r!==0&&r<or[o].priority;o++);or.splice(o,0,i),o===0&&_E(i)}};var bE=e.version;if(bE!=="19.1.1")throw Error(s(527,bE,"19.1.1"));J.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var M2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{_t=rf.inject(M2),Je=rf}catch{}}return Iu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=j_,g=U_,b=B_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=fE(i,1,!1,null,null,o,u,f,g,b,w,null),i[Hn]=r.current,Ep(i),new Up(r)},Iu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=j_,b=U_,w=B_,O=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),r=fE(i,1,!0,r,o??null,u,f,g,b,w,O,G),r.context=dE(null),o=r.current,u=Ln(),u=ks(u),f=Hs(u),f.callback=null,Gs(o,f,u),o=u,r.current.lanes=o,Zi(r,o),ki(r),i[Hn]=r.current,Ep(i),new sf(r)},Iu.version="19.1.1",Iu}var ME;function q2(){if(ME)return qp.exports;ME=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qp.exports=z2(),qp.exports}var F2=q2();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VE="popstate";function H2(t={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return Cg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Wu(a)}return K2(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G2(){return Math.random().toString(36).substring(2,10)}function PE(t,e){return{usr:t.state,key:t.key,idx:e}}function Cg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ol(e):e,state:n,key:e&&e.key||s||G2()}}function Wu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ol(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function K2(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function T(){d="POP";let j=y(),U=j==null?null:j-p;p=j,m&&m({action:d,location:P.location,delta:U})}function x(j,U){d="PUSH";let Y=Cg(P.location,j,U);p=y()+1;let K=PE(Y,p),W=P.createHref(Y);try{c.pushState(K,"",W)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(W)}l&&m&&m({action:d,location:P.location,delta:1})}function N(j,U){d="REPLACE";let Y=Cg(P.location,j,U);p=y();let K=PE(Y,p),W=P.createHref(Y);c.replaceState(K,"",W),l&&m&&m({action:d,location:P.location,delta:0})}function L(j){return $2(j)}let P={get action(){return d},get location(){return t(a,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(VE,T),m=j,()=>{a.removeEventListener(VE,T),m=null}},createHref(j){return e(a,j)},createURL:L,encodeLocation(j){let U=L(j);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:x,replace:N,go(j){return c.go(j)}};return P}function $2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Wu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function U1(t,e,n="/"){return Y2(t,e,n,!1)}function Y2(t,e,n,s){let a=typeof e=="string"?ol(e):e,l=As(a.pathname||"/",n);if(l==null)return null;let c=B1(t);Q2(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=aN(l);d=sN(c[m],p,s)}return d}function B1(t,e=[],n=[],s="",a=!1){let l=(c,d,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;mt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let T=ws([s,y.relativePath]),x=n.concat(y);c.children&&c.children.length>0&&(mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),B1(c.children,e,x,T,m)),!(c.path==null&&!c.index)&&e.push({path:T,score:nN(T,c.index),routesMeta:x})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of z1(c.path))l(c,d,!0,m)}),e}function z1(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=z1(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function Q2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var X2=/^:[\w-]+$/,W2=3,Z2=2,J2=1,eN=10,tN=-2,kE=t=>t==="*";function nN(t,e){let n=t.split("/"),s=n.length;return n.some(kE)&&(s+=tN),e&&(s+=Z2),n.filter(a=>!kE(a)).reduce((a,l)=>a+(X2.test(l)?W2:l===""?J2:eN),s)}function iN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function sN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",T=Bf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),x=m.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=Bf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:ws([l,T.pathname]),pathnameBase:cN(ws([l,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(l=ws([l,T.pathnameBase]))}return c}function Bf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=rN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:T},x)=>{if(y==="*"){let L=d[x]||"";c=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const N=d[x];return T&&!N?p[y]=void 0:p[y]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function rN(t,e=!1,n=!0){gi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function aN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function As(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function oN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ol(t):t;return{pathname:n?n.startsWith("/")?n:lN(n,e):e,search:hN(s),hash:fN(a)}}function lN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Kp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ry(t){let e=uN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Cy(t,e,n,s=!1){let a;typeof t=="string"?a=ol(t):(a={...t},mt(!a.pathname||!a.pathname.includes("?"),Kp("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),Kp("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),Kp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),T-=1;a.pathname=x.join("/")}d=T>=0?e[T]:"/"}let m=oN(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var ws=t=>t.join("/").replace(/\/\/+/g,"/"),cN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var q1=["POST","PUT","PATCH","DELETE"];new Set(q1);var mN=["GET",...q1];new Set(mN);var ll=D.createContext(null);ll.displayName="DataRouter";var dd=D.createContext(null);dd.displayName="DataRouterState";D.createContext(!1);var F1=D.createContext({isTransitioning:!1});F1.displayName="ViewTransition";var pN=D.createContext(new Map);pN.displayName="Fetchers";var gN=D.createContext(null);gN.displayName="Await";var _i=D.createContext(null);_i.displayName="Navigation";var pc=D.createContext(null);pc.displayName="Location";var Qi=D.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var Ny=D.createContext(null);Ny.displayName="RouteError";function yN(t,{relative:e}={}){mt(ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(_i),{hash:a,pathname:l,search:c}=yc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ws([n,l])),s.createHref({pathname:d,search:c,hash:a})}function ul(){return D.useContext(pc)!=null}function Vs(){return mt(ul(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(pc).location}var H1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G1(t){D.useContext(_i).static||D.useLayoutEffect(t)}function gc(){let{isDataRoute:t}=D.useContext(Qi);return t?IN():vN()}function vN(){mt(ul(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(ll),{basename:e,navigator:n}=D.useContext(_i),{matches:s}=D.useContext(Qi),{pathname:a}=Vs(),l=JSON.stringify(Ry(s)),c=D.useRef(!1);return G1(()=>{c.current=!0}),D.useCallback((m,p={})=>{if(gi(c.current,H1),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Cy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ws([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}D.createContext(null);function yc(t,{relative:e}={}){let{matches:n}=D.useContext(Qi),{pathname:s}=Vs(),a=JSON.stringify(Ry(n));return D.useMemo(()=>Cy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function _N(t,e){return K1(t,e)}function K1(t,e,n,s){mt(ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=D.useContext(_i),{matches:l}=D.useContext(Qi),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let U=y&&y.path||"";$1(m,!y||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=Vs(),x;if(e){let U=typeof e=="string"?ol(e):e;mt(p==="/"||U.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),x=U}else x=T;let N=x.pathname||"/",L=N;if(p!=="/"){let U=p.replace(/^\//,"").split("/");L="/"+N.replace(/^\//,"").split("/").slice(U.length).join("/")}let P=U1(t,{pathname:L});gi(y||P!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),gi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=wN(P&&P.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:ws([p,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:ws([p,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,n,s);return e&&j?D.createElement(pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function TN(){let t=NN(),e=dN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,c)}var EN=D.createElement(TN,null),bN=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?D.createElement(Qi.Provider,{value:this.props.routeContext},D.createElement(Ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xN({routeContext:t,match:e,children:n}){let s=D.useContext(ll);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Qi.Provider,{value:t},n)}function wN(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);mt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:T}=n,x=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let T,x=!1,N=null,L=null;n&&(T=l&&p.route.id?l[p.route.id]:void 0,N=p.route.errorElement||EN,c&&(d<0&&y===0?($1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,L=null):d===y&&(x=!0,L=p.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,y+1)),j=()=>{let U;return T?U=N:x?U=L:p.route.Component?U=D.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=m,D.createElement(xN,{match:p,routeContext:{outlet:m,matches:P,isDataRoute:n!=null},children:U})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?D.createElement(bN,{location:n.location,revalidation:n.revalidation,component:N,error:T,children:j(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):j()},null)}function Iy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SN(t){let e=D.useContext(ll);return mt(e,Iy(t)),e}function AN(t){let e=D.useContext(dd);return mt(e,Iy(t)),e}function RN(t){let e=D.useContext(Qi);return mt(e,Iy(t)),e}function Dy(t){let e=RN(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function CN(){return Dy("useRouteId")}function NN(){let t=D.useContext(Ny),e=AN("useRouteError"),n=Dy("useRouteError");return t!==void 0?t:e.errors?.[n]}function IN(){let{router:t}=SN("useNavigate"),e=Dy("useNavigate"),n=D.useRef(!1);return G1(()=>{n.current=!0}),D.useCallback(async(a,l={})=>{gi(n.current,H1),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var OE={};function $1(t,e,n){!e&&!OE[t]&&(OE[t]=!0,gi(!1,n))}D.memo(DN);function DN({routes:t,future:e,state:n}){return K1(t,void 0,n,e)}function Ef({to:t,replace:e,state:n,relative:s}){mt(ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(_i);gi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(Qi),{pathname:c}=Vs(),d=gc(),m=Cy(t,Ry(l),c,s==="path"),p=JSON.stringify(m);return D.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:s})},[d,p,s,e,n]),null}function cr(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){mt(!ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=ol(n));let{pathname:m="/",search:p="",hash:y="",state:T=null,key:x="default"}=n,N=D.useMemo(()=>{let L=As(m,c);return L==null?null:{location:{pathname:L,search:p,hash:y,state:T,key:x},navigationType:s}},[c,m,p,y,T,x,s]);return gi(N!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:D.createElement(_i.Provider,{value:d},D.createElement(pc.Provider,{children:e,value:N}))}function VN({children:t,location:e}){return _N(Ng(t),e)}function Ng(t,e=[]){let n=[];return D.Children.forEach(t,(s,a)=>{if(!D.isValidElement(s))return;let l=[...e,a];if(s.type===D.Fragment){n.push.apply(n,Ng(s.props.children,l));return}mt(s.type===cr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Ng(s.props.children,l)),n.push(c)}),n}var bf="get",xf="application/x-www-form-urlencoded";function md(t){return t!=null&&typeof t.tagName=="string"}function PN(t){return md(t)&&t.tagName.toLowerCase()==="button"}function kN(t){return md(t)&&t.tagName.toLowerCase()==="form"}function ON(t){return md(t)&&t.tagName.toLowerCase()==="input"}function LN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jN(t,e){return t.button===0&&(!e||e==="_self")&&!LN(t)}var af=null;function UN(){if(af===null)try{new FormData(document.createElement("form"),0),af=!1}catch{af=!0}return af}var BN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $p(t){return t!=null&&!BN.has(t)?(gi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xf}"`),null):t}function zN(t,e){let n,s,a,l,c;if(kN(t)){let d=t.getAttribute("action");s=d?As(d,e):null,n=t.getAttribute("method")||bf,a=$p(t.getAttribute("enctype"))||xf,l=new FormData(t)}else if(PN(t)||ON(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?As(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||bf,a=$p(t.getAttribute("formenctype"))||$p(d.getAttribute("enctype"))||xf,l=new FormData(d,t),!UN()){let{name:p,type:y,value:T}=t;if(y==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,T)}}else{if(md(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bf,s=null,a=xf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function My(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qN(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&As(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function FN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await FN(l,n);return c.links?c.links():[]}return[]}));return QN(s.flat(1).filter(HN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function LE(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function KN(t,e,{includeHydrateFallback:n}={}){return $N(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function $N(t){return[...new Set(t)]}function YN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function QN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(YN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function Y1(){let t=D.useContext(ll);return My(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XN(){let t=D.useContext(dd);return My(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vy=D.createContext(void 0);Vy.displayName="FrameworkContext";function Q1(){let t=D.useContext(Vy);return My(t,"You must render this element inside a <HydratedRouter> element"),t}function WN(t,e){let n=D.useContext(Vy),[s,a]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:T}=e,x=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=U=>{U.forEach(Y=>{c(Y.isIntersecting)})},j=new IntersectionObserver(P,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[t]),D.useEffect(()=>{if(s){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[s]);let N=()=>{a(!0)},L=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Du(d,N),onBlur:Du(m,L),onMouseEnter:Du(p,N),onMouseLeave:Du(y,L),onTouchStart:Du(T,N)}]:[!1,x,{}]}function Du(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ZN({page:t,...e}){let{router:n}=Y1(),s=D.useMemo(()=>U1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?D.createElement(eI,{page:t,matches:s,...e}):null}function JN(t){let{manifest:e,routeModules:n}=Q1(),[s,a]=D.useState([]);return D.useEffect(()=>{let l=!1;return GN(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function eI({page:t,matches:e,...n}){let s=Vs(),{manifest:a,routeModules:l}=Q1(),{basename:c}=Y1(),{loaderData:d,matches:m}=XN(),p=D.useMemo(()=>LE(t,e,m,a,s,"data"),[t,e,m,a,s]),y=D.useMemo(()=>LE(t,e,m,a,s,"assets"),[t,e,m,a,s]),T=D.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let L=new Set,P=!1;if(e.forEach(U=>{let Y=a.routes[U.route.id];!Y||!Y.hasLoader||(!p.some(K=>K.route.id===U.route.id)&&U.route.id in d&&l[U.route.id]?.shouldRevalidate||Y.hasClientLoader?P=!0:L.add(U.route.id))}),L.size===0)return[];let j=qN(t,c,"data");return P&&L.size>0&&j.searchParams.set("_routes",e.filter(U=>L.has(U.route.id)).map(U=>U.route.id).join(",")),[j.pathname+j.search]},[c,d,s,a,p,e,t,l]),x=D.useMemo(()=>KN(y,a),[y,a]),N=JN(y);return D.createElement(D.Fragment,null,T.map(L=>D.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),x.map(L=>D.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),N.map(({key:L,link:P})=>D.createElement("link",{key:L,nonce:n.nonce,...P})))}function tI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var X1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X1&&(window.__reactRouterVersion="7.8.1")}catch{}function nI({basename:t,children:e,window:n}){let s=D.useRef();s.current==null&&(s.current=H2({window:n,v5Compat:!0}));let a=s.current,[l,c]=D.useState({action:a.action,location:a.location}),d=D.useCallback(m=>{D.startTransition(()=>c(m))},[c]);return D.useLayoutEffect(()=>a.listen(d),[a,d]),D.createElement(MN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var W1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zf=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:T,...x},N){let{basename:L}=D.useContext(_i),P=typeof p=="string"&&W1.test(p),j,U=!1;if(typeof p=="string"&&P&&(j=p,X1))try{let R=new URL(window.location.href),M=p.startsWith("//")?new URL(R.protocol+p):new URL(p),k=As(M.pathname,L);M.origin===R.origin&&k!=null?p=k+M.search+M.hash:U=!0}catch{gi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=yN(p,{relative:a}),[K,W,X]=WN(s,x),ue=aI(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:T});function V(R){e&&e(R),R.defaultPrevented||ue(R)}let S=D.createElement("a",{...x,...X,href:j||Y,onClick:U||l?e:V,ref:tI(N,W),target:m,"data-discover":!P&&n==="render"?"true":void 0});return K&&!P?D.createElement(D.Fragment,null,S,D.createElement(ZN,{page:Y})):S});zf.displayName="Link";var iI=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let T=yc(c,{relative:p.relative}),x=Vs(),N=D.useContext(dd),{navigator:L,basename:P}=D.useContext(_i),j=N!=null&&hI(T)&&d===!0,U=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,Y=x.pathname,K=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),K=K?K.toLowerCase():null,U=U.toLowerCase()),K&&P&&(K=As(K,P)||K);const W=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let X=Y===U||!a&&Y.startsWith(U)&&Y.charAt(W)==="/",ue=K!=null&&(K===U||!a&&K.startsWith(U)&&K.charAt(U.length)==="/"),V={isActive:X,isPending:ue,isTransitioning:j},S=X?e:void 0,R;typeof s=="function"?R=s(V):R=[s,X?"active":null,ue?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(V):l;return D.createElement(zf,{...p,"aria-current":S,className:R,ref:y,style:M,to:c,viewTransition:d},typeof m=="function"?m(V):m)});iI.displayName="NavLink";var sI=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=bf,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:T,...x},N)=>{let L=uI(),P=cI(d,{relative:p}),j=c.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&W1.test(d),Y=K=>{if(m&&m(K),K.defaultPrevented)return;K.preventDefault();let W=K.nativeEvent.submitter,X=W?.getAttribute("formmethod")||c;L(W||K.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:T})};return D.createElement("form",{ref:N,method:j,action:P,onSubmit:s?m:Y,...x,"data-discover":!U&&t==="render"?"true":void 0})});sI.displayName="Form";function rI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z1(t){let e=D.useContext(ll);return mt(e,rI(t)),e}function aI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=gc(),m=Vs(),p=yc(t,{relative:l});return D.useCallback(y=>{if(jN(y,e)){y.preventDefault();let T=n!==void 0?n:Wu(m)===Wu(p);d(t,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,s,e,t,a,l,c])}var oI=0,lI=()=>`__${String(++oI)}__`;function uI(){let{router:t}=Z1("useSubmit"),{basename:e}=D.useContext(_i),n=CN();return D.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=zN(s,e);if(a.navigate===!1){let y=a.fetcherKey||lI();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function cI(t,{relative:e}={}){let{basename:n}=D.useContext(_i),s=D.useContext(Qi);mt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...yc(t||".",{relative:e})},c=Vs();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ws([n,l.pathname])),Wu(l)}function hI(t,{relative:e}={}){let n=D.useContext(F1);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Z1("useViewTransitionState"),a=yc(t,{relative:e});if(!n.isTransitioning)return!1;let l=As(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=As(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Bf(a.pathname,c)!=null||Bf(a.pathname,l)!=null}const fI=()=>{};var jE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},dI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},ew={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,T=(l&3)<<4|d>>4;let x=(d&15)<<2|p>>6,N=p&63;m||(N=64,c||(x=64)),s.push(n[y],n[T],n[x],n[N])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(J1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new mI;const x=l<<2|d>>4;if(s.push(x),p!==64){const N=d<<4&240|p>>2;if(s.push(N),T!==64){const L=p<<6&192|T;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pI=function(t){const e=J1(t);return ew.encodeByteArray(e,!0)},tw=function(t){return pI(t).replace(/\./g,"")},nw=function(t){try{return ew.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=()=>gI().__FIREBASE_DEFAULTS__,vI=()=>{if(typeof process>"u"||typeof jE>"u")return;const t=jE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_I=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nw(t[1]);return e&&JSON.parse(e)},pd=()=>{try{return fI()||yI()||vI()||_I()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TI=t=>pd()?.emulatorHosts?.[t],iw=()=>pd()?.config,sw=t=>pd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rw(t){return(await fetch(t,{credentials:"include"})).ok}const Bu={};function bI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bu))Bu[e]?t.emulator.push(e):t.prod.push(e);return t}function xI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let UE=!1;function wI(t,e){if(typeof window>"u"||typeof document>"u"||!cl(window.location.host)||Bu[t]===e||Bu[t]||UE)return;Bu[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=bI().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{UE=!0,c()},x}function y(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=xI(s),N=n("text"),L=document.getElementById(N)||document.createElement("span"),P=n("learnmore"),j=document.getElementById(P)||document.createElement("a"),U=n("preprendIcon"),Y=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const K=x.element;d(K),y(j,P);const W=p();m(Y,U),K.append(Y,L,j,W),document.body.appendChild(K)}l?(L.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function AI(){const t=pd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function II(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DI(){return!AI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MI(){try{return typeof indexedDB=="object"}catch{return!1}}function VI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="FirebaseError";class Ps extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=PI,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?kI(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ps(a,d,s)}}function kI(t,e){return t.replace(OI,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const OI=/\{\$([^}]+)}/g;function LI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ca(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(BE(l)&&BE(c)){if(!Ca(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function BE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Vu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Pu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jI(t,e){const n=new UI(t,e);return n.subscribe.bind(n)}class UI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");BI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Yp),a.error===void 0&&(a.error=Yp),a.complete===void 0&&(a.complete=Yp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class Na{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new EI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FI(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qI(t){return t===va?void 0:t}function FI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const GI={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},KI=ze.INFO,$I={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},YI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=$I[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Py{constructor(e){this.name=e,this._logLevel=KI,this._logHandler=YI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const QI=(t,e)=>e.some(n=>t instanceof n);let zE,qE;function XI(){return zE||(zE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WI(){return qE||(qE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aw=new WeakMap,Ig=new WeakMap,ow=new WeakMap,Qp=new WeakMap,ky=new WeakMap;function ZI(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(_r(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&aw.set(n,t)}).catch(()=>{}),ky.set(e,t),e}function JI(t){if(Ig.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Ig.set(t,e)}let Dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ow.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eD(t){Dg=t(Dg)}function tD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Xp(this),e,...n);return ow.set(s,e.sort?e.sort():[e]),_r(s)}:WI().includes(t)?function(...e){return t.apply(Xp(this),e),_r(aw.get(this))}:function(...e){return _r(t.apply(Xp(this),e))}}function nD(t){return typeof t=="function"?tD(t):(t instanceof IDBTransaction&&JI(t),QI(t,XI())?new Proxy(t,Dg):t)}function _r(t){if(t instanceof IDBRequest)return ZI(t);if(Qp.has(t))return Qp.get(t);const e=nD(t);return e!==t&&(Qp.set(t,e),ky.set(e,t)),e}const Xp=t=>ky.get(t);function iD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=_r(c);return s&&c.addEventListener("upgradeneeded",m=>{s(_r(c.result),m.oldVersion,m.newVersion,_r(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const sD=["get","getKey","getAll","getAllKeys","count"],rD=["put","add","delete","clear"],Wp=new Map;function FE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=rD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||sD.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Wp.set(e,l),l}eD(t=>({...t,get:(e,n,s)=>FE(e,n)||t.get(e,n,s),has:(e,n)=>!!FE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function oD(t){return t.getComponent()?.type==="VERSION"}const Mg="@firebase/app",HE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Py("@firebase/app"),lD="@firebase/app-compat",uD="@firebase/analytics-compat",cD="@firebase/analytics",hD="@firebase/app-check-compat",fD="@firebase/app-check",dD="@firebase/auth",mD="@firebase/auth-compat",pD="@firebase/database",gD="@firebase/data-connect",yD="@firebase/database-compat",vD="@firebase/functions",_D="@firebase/functions-compat",TD="@firebase/installations",ED="@firebase/installations-compat",bD="@firebase/messaging",xD="@firebase/messaging-compat",wD="@firebase/performance",SD="@firebase/performance-compat",AD="@firebase/remote-config",RD="@firebase/remote-config-compat",CD="@firebase/storage",ND="@firebase/storage-compat",ID="@firebase/firestore",DD="@firebase/ai",MD="@firebase/firestore-compat",VD="firebase",PD="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="[DEFAULT]",kD={[Mg]:"fire-core",[lD]:"fire-core-compat",[cD]:"fire-analytics",[uD]:"fire-analytics-compat",[fD]:"fire-app-check",[hD]:"fire-app-check-compat",[dD]:"fire-auth",[mD]:"fire-auth-compat",[pD]:"fire-rtdb",[gD]:"fire-data-connect",[yD]:"fire-rtdb-compat",[vD]:"fire-fn",[_D]:"fire-fn-compat",[TD]:"fire-iid",[ED]:"fire-iid-compat",[bD]:"fire-fcm",[xD]:"fire-fcm-compat",[wD]:"fire-perf",[SD]:"fire-perf-compat",[AD]:"fire-rc",[RD]:"fire-rc-compat",[CD]:"fire-gcs",[ND]:"fire-gcs-compat",[ID]:"fire-fst",[MD]:"fire-fst-compat",[DD]:"fire-vertex","fire-js":"fire-js",[VD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Map,OD=new Map,Pg=new Map;function GE(t,e){try{t.container.addComponent(e)}catch(n){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wo(t){const e=t.name;if(Pg.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(const n of qf.values())GE(n,t);for(const n of OD.values())GE(n,t);return!0}function Oy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new vc("app","Firebase",LD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=PD;function Ly(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Vg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Tr.create("bad-app-name",{appName:String(a)});if(n||(n=iw()),!n)throw Tr.create("no-options");const l=qf.get(a);if(l){if(Ca(n,l.options)&&Ca(s,l.config))return l;throw Tr.create("duplicate-app",{appName:a})}const c=new HI(a);for(const m of Pg.values())c.addComponent(m);const d=new jD(n,s,c);return qf.set(a,d),d}function UD(t=Vg){const e=qf.get(t);if(!e&&t===Vg&&iw())return Ly();if(!e)throw Tr.create("no-app",{appName:t});return e}function Er(t,e,n){let s=kD[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(c.join(" "));return}Wo(new Na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="firebase-heartbeat-database",zD=1,Zu="firebase-heartbeat-store";let Zp=null;function lw(){return Zp||(Zp=iD(BD,zD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),Zp}async function qD(t){try{const n=(await lw()).transaction(Zu),s=await n.objectStore(Zu).get(uw(t));return await n.done,s}catch(e){if(e instanceof Ps)Rs.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e?.message});Rs.warn(n.message)}}}async function KE(t,e){try{const s=(await lw()).transaction(Zu,"readwrite");await s.objectStore(Zu).put(e,uw(t)),await s.done}catch(n){if(n instanceof Ps)Rs.warn(n.message);else{const s=Tr.create("idb-set",{originalErrorMessage:n?.message});Rs.warn(s.message)}}}function uw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1024,HD=30;class GD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $D(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$E();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>HD){const a=YD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$E(),{heartbeatsToSend:n,unsentEntries:s}=KD(this._heartbeatsCache.heartbeats),a=tw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Rs.warn(e),""}}}function $E(){return new Date().toISOString().substring(0,10)}function KD(t,e=FD){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),YE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),YE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $D{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MI()?VI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return KE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return KE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function YE(t){return tw(JSON.stringify({version:2,heartbeats:t})).length}function YD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){Wo(new Na("platform-logger",e=>new aD(e),"PRIVATE")),Wo(new Na("heartbeat",e=>new GD(e),"PRIVATE")),Er(Mg,HE,t),Er(Mg,HE,"esm2020"),Er("fire-js","")}QD("");function cw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XD=cw,hw=new vc("auth","Firebase",cw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=new Py("@firebase/auth");function WD(t,...e){Ff.logLevel<=ze.WARN&&Ff.warn(`Auth (${hl}): ${t}`,...e)}function wf(t,...e){Ff.logLevel<=ze.ERROR&&Ff.error(`Auth (${hl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,...e){throw jy(t,...e)}function ji(t,...e){return jy(t,...e)}function fw(t,e,n){const s={...XD(),[e]:n};return new vc("auth","Firebase",s).create(e,{appName:t.name})}function Ss(t){return fw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return hw.create(t,...e)}function Re(t,e,...n){if(!t)throw jy(e,...n)}function bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wf(e),new Error(e)}function Cs(t,e){t||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(){return typeof self<"u"&&self.location?.href||""}function ZD(){return QE()==="http:"||QE()==="https:"}function QE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZD()||CI()||"connection"in navigator)?navigator.onLine:!0}function eM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cs(n>e,"Short delay should be less than long delay!"),this.isMobile=SI()||NI()}get(){return JD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t,e){Cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iM=new Tc(3e4,6e4);function Mr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Vr(t,e,n,s,a={}){return mw(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=_c({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return RI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&cl(t.emulatorConfig.host)&&(p.credentials="include"),dw.fetch()(await pw(t,t.config.apiHost,n,d),p)})}async function mw(t,e,n){t._canInitEmulator=!1;const s={...tM,...e};try{const a=new rM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw of(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw of(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw of(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw of(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw fw(t,y,p);yi(t,y)}}catch(a){if(a instanceof Ps)throw a;yi(t,"network-request-failed",{message:String(a)})}}async function Ec(t,e,n,s,a={}){const l=await Vr(t,e,n,s,a);return"mfaPendingCredential"in l&&yi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function pw(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Uy(t.config,a):`${t.config.apiScheme}://${a}`;return nM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function sM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ji(this.auth,"network-request-failed")),iM.get())})}}function of(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ji(t,e,s);return a.customData._tokenResponse=n,a}function XE(t){return t!==void 0&&t.enterprise!==void 0}class aM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oM(t,e){return Vr(t,"GET","/v2/recaptchaConfig",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e){return Vr(t,"POST","/v1/accounts:delete",e)}async function Hf(t,e){return Vr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gw(t,e=!1){const n=Ut(t),s=await n.getIdToken(e),a=By(s);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:zu(Jp(a.auth_time)),issuedAtTime:zu(Jp(a.iat)),expirationTime:zu(Jp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Jp(t){return Number(t)*1e3}function By(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return wf("JWT malformed, contained fewer than 3 sections"),null;try{const a=nw(n);return a?JSON.parse(a):(wf("Failed to decode base64 JWT payload"),null)}catch(a){return wf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function WE(t){const e=By(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ps&&uM(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function uM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(t){const e=t.auth,n=await t.getIdToken(),s=await Ju(t,Hf(e,{idToken:n}));Re(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?yw(a.providerUserInfo):[],c=fM(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Og(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function hM(t){const e=Ut(t);await Gf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fM(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function yw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e){const n=await mw(t,{},async()=>{const s=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await pw(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&cl(t.emulatorConfig.host)&&(m.credentials="include"),dw.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mM(t,e){return Vr(t,"POST","/v2/accounts:revokeToken",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=WE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await dM(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Go;return s&&(Re(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new cM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Og(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ju(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gw(this,e)}reload(){return hM(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Gf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Ju(this,lM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:x,isAnonymous:N,providerData:L,stsTokenManager:P}=n;Re(T&&P,e,"internal-error");const j=Go.fromJSON(this.name,P);Re(typeof T=="string",e,"internal-error"),ur(s,e.name),ur(a,e.name),Re(typeof x=="boolean",e,"internal-error"),Re(typeof N=="boolean",e,"internal-error"),ur(l,e.name),ur(c,e.name),ur(d,e.name),ur(m,e.name),ur(p,e.name),ur(y,e.name);const U=new pi({uid:T,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:N,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:p,lastLoginAt:y});return L&&Array.isArray(L)&&(U.providerData=L.map(Y=>({...Y}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,s=!1){const a=new Go;a.updateFromServerResponse(n);const l=new pi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Gf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?yw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Go;d.updateFromIdToken(s);const m=new pi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Og(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;function xs(t){Cs(t instanceof Function,"Expected a class definition");let e=ZE.get(t);return e?(Cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vw.type="NONE";const JE=vw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ko{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Sf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Sf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hf(this.auth,{idToken:e}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ko(xs(JE),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||xs(JE);const c=Sf(s,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let T;if(typeof y=="string"){const x=await Hf(e,{idToken:y}).catch(()=>{});if(!x)break;T=await pi._fromGetAccountInfoResponse(e,x,y)}else T=pi._fromJSON(e,y);p!==l&&(d=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ko(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Ko(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_w(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ww(e))return"Blackberry";if(Sw(e))return"Webos";if(Tw(e))return"Safari";if((e.includes("chrome/")||Ew(e))&&!e.includes("edge/"))return"Chrome";if(xw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function _w(t=gn()){return/firefox\//i.test(t)}function Tw(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ew(t=gn()){return/crios\//i.test(t)}function bw(t=gn()){return/iemobile/i.test(t)}function xw(t=gn()){return/android/i.test(t)}function ww(t=gn()){return/blackberry/i.test(t)}function Sw(t=gn()){return/webos/i.test(t)}function zy(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pM(t=gn()){return zy(t)&&!!window.navigator?.standalone}function gM(){return II()&&document.documentMode===10}function Aw(t=gn()){return zy(t)||xw(t)||Sw(t)||ww(t)||/windows phone/i.test(t)||bw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t,e=[]){let n;switch(t){case"Browser":n=eb(gn());break;case"Worker":n=`${eb(gn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e={}){return Vr(t,"GET","/v2/passwordPolicy",Mr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=6;class TM{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_M,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tb(this),this.idTokenSubscription=new tb(this),this.beforeStateQueue=new yM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hf(this,{idToken:e}),s=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Ss(this));const n=e?Ut(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vM(this),n=new TM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await mM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xs(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&WD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oa(t){return Ut(t)}class tb{constructor(e){this.auth=e,this.observer=null,this.addObserver=jI(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bM(t){gd=t}function Cw(t){return gd.loadJS(t)}function xM(){return gd.recaptchaEnterpriseScript}function wM(){return gd.gapiScript}function SM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class AM{constructor(){this.enterprise=new RM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class RM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const CM="recaptcha-enterprise",Nw="NO_RECAPTCHA";class NM{constructor(e){this.type=CM,this.auth=Oa(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{oM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new aM(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;XE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Nw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&XE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=xM();m.length!==0&&(m+=d),Cw(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function nb(t,e,n,s=!1,a=!1){const l=new NM(t);let c;if(a)c=Nw;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Lg(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await nb(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await nb(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t,e){const n=Oy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ca(l,e??{}))return a;yi(a,"already-initialized")}return n.initialize({options:e})}function DM(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(xs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function MM(t,e,n){const s=Oa(t);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=Iw(e),{host:c,port:d}=VM(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(Ca(p,s.config.emulator)&&Ca(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,cl(c)?(rw(`${l}//${c}${m}`),wI("Auth",!0)):PM()}function Iw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VM(t){const e=Iw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:ib(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:ib(c)}}}function ib(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,n){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function kM(t,e){return Vr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(t,e){return Ec(t,"POST","/v1/accounts:signInWithPassword",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))}async function jM(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends qy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new ec(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ec(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,n,"signInWithPassword",OM);case"emailLink":return LM(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,s,"signUpPassword",kM);case"emailLink":return jM(e,{idToken:n,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t,e){return Ec(t,"POST","/v1/accounts:signInWithIdp",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="http://localhost";class Ia extends qy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ia(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return $o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,$o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$o(e,n)}buildRequest(){const e={requestUri:UM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zM(t){const e=Vu(Pu(t)).link,n=e?Vu(Pu(e)).deep_link_id:null,s=Vu(Pu(t)).deep_link_id;return(s?Vu(Pu(s)).link:null)||s||n||e||t}class Fy{constructor(e){const n=Vu(Pu(e)),s=n.apiKey??null,a=n.oobCode??null,l=BM(n.mode??null);Re(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=zM(e);try{return new Fy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,n){return ec._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Fy.parseLink(n);return Re(s,"argument-error"),ec._fromEmailAndCode(e,s.code,s.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Dw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends bc{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return dr.credential(n,s)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends bc{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends bc{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return pr.credential(n,s)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e){return Ec(t,"POST","/v1/accounts:signUp",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await pi._fromIdTokenResponse(e,s,a),c=sb(s);return new Da({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=sb(s);return new Da({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function sb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends Ps{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Kf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Kf(e,n,s,a)}}function Mw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Kf._fromErrorAndOperation(t,l,e,s):l})}async function FM(t,e,n=!1){const s=await Ju(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Da._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(t,e,n=!1){const{auth:s}=t;if(si(s.app))return Promise.reject(Ss(s));const a="reauthenticate";try{const l=await Ju(t,Mw(s,a,e,t),n);Re(l.idToken,s,"internal-error");const c=By(l.idToken);Re(c,s,"internal-error");const{sub:d}=c;return Re(t.uid===d,s,"user-mismatch"),Da._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&yi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(t,e,n=!1){if(si(t.app))return Promise.reject(Ss(t));const s="signIn",a=await Mw(t,s,e),l=await Da._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function GM(t,e){return Vw(Oa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pw(t){const e=Oa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KM(t,e,n){if(si(t.app))return Promise.reject(Ss(t));const s=Oa(t),c=await Lg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qM).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Pw(t),m}),d=await Da._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function $M(t,e,n){return si(t.app)?Promise.reject(Ss(t)):GM(Ut(t),fl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Pw(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t,e){return Ut(t).setPersistence(e)}function QM(t,e,n,s){return Ut(t).onIdTokenChanged(e,n,s)}function XM(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function WM(t,e,n,s){return Ut(t).onAuthStateChanged(e,n,s)}function ZM(t){return Ut(t).signOut()}const $f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($f,"1"),this.storage.removeItem($f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=1e3,eV=10;class Ow extends kw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Aw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);gM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,eV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},JM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ow.type="LOCAL";const Lw=Ow;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw extends kw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jw.type="SESSION";const Hy=jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new yd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await tV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Gy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const x=T;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function iV(t){Ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function sV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rV(){return navigator?.serviceWorker?.controller||null}function aV(){return Uw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="firebaseLocalStorageDb",oV=1,Yf="firebaseLocalStorage",zw="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vd(t,e){return t.transaction([Yf],e?"readwrite":"readonly").objectStore(Yf)}function lV(){const t=indexedDB.deleteDatabase(Bw);return new xc(t).toPromise()}function jg(){const t=indexedDB.open(Bw,oV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Yf,{keyPath:zw})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Yf)?e(s):(s.close(),await lV(),e(await jg()))})})}async function rb(t,e,n){const s=vd(t,!0).put({[zw]:e,value:n});return new xc(s).toPromise()}async function uV(t,e){const n=vd(t,!1).get(e),s=await new xc(n).toPromise();return s===void 0?null:s.value}function ab(t,e){const n=vd(t,!0).delete(e);return new xc(n).toPromise()}const cV=800,hV=3;class qw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>hV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(aV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sV(),!this.activeServiceWorker)return;this.sender=new nV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await rb(e,$f,"1"),await ab(e,$f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>rb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>uV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ab(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=vd(a,!1).getAll();return new xc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qw.type="LOCAL";const fV=qw;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t,e){return e?xs(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends qy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mV(t){return Vw(t.auth,new Ky(t),t.bypassAuthState)}function pV(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),HM(n,new Ky(t),t.bypassAuthState)}async function gV(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),FM(n,new Ky(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mV;case"linkViaPopup":case"linkViaRedirect":return gV;case"reauthViaPopup":case"reauthViaRedirect":return pV;default:yi(this.auth,"internal-error")}}resolve(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new Tc(2e3,1e4);class jo extends Fw{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const e=Gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yV.get())};e()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="pendingRedirect",Af=new Map;class _V extends Fw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const s=await TV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TV(t,e){const n=xV(e),s=bV(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function EV(t,e){Af.set(t._key(),e)}function bV(t){return xs(t._redirectPersistence)}function xV(t){return Sf(vV,t.config.apiKey,t.name)}async function wV(t,e,n=!1){if(si(t.app))return Promise.reject(Ss(t));const s=Oa(t),a=dV(s,e),c=await new _V(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=600*1e3;class AV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Hw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ji(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SV&&this.cachedEventUids.clear(),this.cachedEventUids.has(ob(e))}saveEventToCache(e){this.cachedEventUids.add(ob(e)),this.lastProcessedEventTime=Date.now()}}function ob(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hw({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function RV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(t,e={}){return Vr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IV=/^https?/;async function DV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CV(t);for(const n of e)try{if(MV(n))return}catch{}yi(t,"unauthorized-domain")}function MV(t){const e=kg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!IV.test(n))return!1;if(NV.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=new Tc(3e4,6e4);function lb(){const t=Ui().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PV(t){return new Promise((e,n)=>{function s(){lb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lb(),n(ji(t,"network-request-failed"))},timeout:VV.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)s();else{const a=SM("iframefcb");return Ui()[a]=()=>{gapi.load?s():n(ji(t,"network-request-failed"))},Cw(`${wM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function kV(t){return Rf=Rf||PV(t),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new Tc(5e3,15e3),LV="__/auth/iframe",jV="emulator/auth/iframe",UV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zV(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Uy(e,jV):`https://${t.config.authDomain}/${LV}`,s={apiKey:e.apiKey,appName:t.name,v:hl},a=BV.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${_c(s).slice(1)}`}async function qV(t){const e=await kV(t),n=Ui().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:zV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UV,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=ji(t,"network-request-failed"),d=Ui().setTimeout(()=>{l(c)},OV.get());function m(){Ui().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HV=500,GV=600,KV="_blank",$V="http://localhost";class ub{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YV(t,e,n,s=HV,a=GV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...FV,width:s.toString(),height:a.toString(),top:l,left:c},p=gn().toLowerCase();n&&(d=Ew(p)?KV:n),_w(p)&&(e=e||$V,m.scrollbars="yes");const y=Object.entries(m).reduce((x,[N,L])=>`${x}${N}=${L},`,"");if(pM(p)&&d!=="_self")return QV(e||"",d),new ub(null);const T=window.open(e||"",d,y);Re(T,t,"popup-blocked");try{T.focus()}catch{}return new ub(T)}function QV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="__/auth/handler",WV="emulator/auth/handler",ZV=encodeURIComponent("fac");async function cb(t,e,n,s,a,l){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:hl,eventId:a};if(e instanceof Dw){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",LI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(e instanceof bc){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),p=m?`#${ZV}=${encodeURIComponent(m)}`:"";return`${JV(t)}?${_c(d).slice(1)}${p}`}function JV({config:t}){return t.emulator?Uy(t,WV):`https://${t.authDomain}/${XV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="webStorageSupport";class eP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hy,this._completeRedirectFn=wV,this._overrideRedirectResult=EV}async _openPopup(e,n,s,a){Cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await cb(e,n,s,kg(),a);return YV(e,l,Gy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await cb(e,n,s,kg(),a);return iV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Cs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await qV(e),s=new AV(e);return n.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(eg,{type:eg},a=>{const l=a?.[0]?.[eg];l!==void 0&&n(!!l),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Aw()||Tw()||zy()}}const tP=eP;var hb="@firebase/auth",fb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sP(t){Wo(new Na("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rw(t)},p=new EM(s,a,l,m);return DM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Wo(new Na("auth-internal",e=>{const n=Oa(e.getProvider("auth").getImmediate());return(s=>new nP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(hb,fb,iP(t)),Er(hb,fb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=300,aP=sw("authIdTokenMaxAge")||rP;let db=null;const oP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>aP)return;const a=n?.token;db!==a&&(db=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Gw(t=UD()){const e=Oy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IM(t,{popupRedirectResolver:tP,persistence:[fV,Lw,Hy]}),s=sw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=oP(l.toString());XM(n,c,()=>c(n.currentUser)),QM(n,d=>c(d))}}const a=TI("auth");return a&&MM(n,`http://${a}`),n}function lP(){return document.getElementsByTagName("head")?.[0]??document}bM({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ji("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",lP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sP("Browser");var uP="firebase",cP="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(uP,cP,"app");var mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var br,Kw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,S){function R(){}R.prototype=S.prototype,V.D=S.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(M,k,B){for(var C=Array(arguments.length-2),de=2;de<arguments.length;de++)C[de-2]=arguments[de];return S.prototype[k].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,S,R){R||(R=0);var M=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)M[k]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(k=0;16>k;++k)M[k]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=V.g[0],R=V.g[1],k=V.g[2];var B=V.g[3],C=S+(B^R&(k^B))+M[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=B+(k^S&(R^k))+M[1]+3905402710&4294967295,B=S+(C<<12&4294967295|C>>>20),C=k+(R^B&(S^R))+M[2]+606105819&4294967295,k=B+(C<<17&4294967295|C>>>15),C=R+(S^k&(B^S))+M[3]+3250441966&4294967295,R=k+(C<<22&4294967295|C>>>10),C=S+(B^R&(k^B))+M[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=B+(k^S&(R^k))+M[5]+1200080426&4294967295,B=S+(C<<12&4294967295|C>>>20),C=k+(R^B&(S^R))+M[6]+2821735955&4294967295,k=B+(C<<17&4294967295|C>>>15),C=R+(S^k&(B^S))+M[7]+4249261313&4294967295,R=k+(C<<22&4294967295|C>>>10),C=S+(B^R&(k^B))+M[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=B+(k^S&(R^k))+M[9]+2336552879&4294967295,B=S+(C<<12&4294967295|C>>>20),C=k+(R^B&(S^R))+M[10]+4294925233&4294967295,k=B+(C<<17&4294967295|C>>>15),C=R+(S^k&(B^S))+M[11]+2304563134&4294967295,R=k+(C<<22&4294967295|C>>>10),C=S+(B^R&(k^B))+M[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=B+(k^S&(R^k))+M[13]+4254626195&4294967295,B=S+(C<<12&4294967295|C>>>20),C=k+(R^B&(S^R))+M[14]+2792965006&4294967295,k=B+(C<<17&4294967295|C>>>15),C=R+(S^k&(B^S))+M[15]+1236535329&4294967295,R=k+(C<<22&4294967295|C>>>10),C=S+(k^B&(R^k))+M[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=B+(R^k&(S^R))+M[6]+3225465664&4294967295,B=S+(C<<9&4294967295|C>>>23),C=k+(S^R&(B^S))+M[11]+643717713&4294967295,k=B+(C<<14&4294967295|C>>>18),C=R+(B^S&(k^B))+M[0]+3921069994&4294967295,R=k+(C<<20&4294967295|C>>>12),C=S+(k^B&(R^k))+M[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=B+(R^k&(S^R))+M[10]+38016083&4294967295,B=S+(C<<9&4294967295|C>>>23),C=k+(S^R&(B^S))+M[15]+3634488961&4294967295,k=B+(C<<14&4294967295|C>>>18),C=R+(B^S&(k^B))+M[4]+3889429448&4294967295,R=k+(C<<20&4294967295|C>>>12),C=S+(k^B&(R^k))+M[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=B+(R^k&(S^R))+M[14]+3275163606&4294967295,B=S+(C<<9&4294967295|C>>>23),C=k+(S^R&(B^S))+M[3]+4107603335&4294967295,k=B+(C<<14&4294967295|C>>>18),C=R+(B^S&(k^B))+M[8]+1163531501&4294967295,R=k+(C<<20&4294967295|C>>>12),C=S+(k^B&(R^k))+M[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=B+(R^k&(S^R))+M[2]+4243563512&4294967295,B=S+(C<<9&4294967295|C>>>23),C=k+(S^R&(B^S))+M[7]+1735328473&4294967295,k=B+(C<<14&4294967295|C>>>18),C=R+(B^S&(k^B))+M[12]+2368359562&4294967295,R=k+(C<<20&4294967295|C>>>12),C=S+(R^k^B)+M[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=B+(S^R^k)+M[8]+2272392833&4294967295,B=S+(C<<11&4294967295|C>>>21),C=k+(B^S^R)+M[11]+1839030562&4294967295,k=B+(C<<16&4294967295|C>>>16),C=R+(k^B^S)+M[14]+4259657740&4294967295,R=k+(C<<23&4294967295|C>>>9),C=S+(R^k^B)+M[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=B+(S^R^k)+M[4]+1272893353&4294967295,B=S+(C<<11&4294967295|C>>>21),C=k+(B^S^R)+M[7]+4139469664&4294967295,k=B+(C<<16&4294967295|C>>>16),C=R+(k^B^S)+M[10]+3200236656&4294967295,R=k+(C<<23&4294967295|C>>>9),C=S+(R^k^B)+M[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=B+(S^R^k)+M[0]+3936430074&4294967295,B=S+(C<<11&4294967295|C>>>21),C=k+(B^S^R)+M[3]+3572445317&4294967295,k=B+(C<<16&4294967295|C>>>16),C=R+(k^B^S)+M[6]+76029189&4294967295,R=k+(C<<23&4294967295|C>>>9),C=S+(R^k^B)+M[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=B+(S^R^k)+M[12]+3873151461&4294967295,B=S+(C<<11&4294967295|C>>>21),C=k+(B^S^R)+M[15]+530742520&4294967295,k=B+(C<<16&4294967295|C>>>16),C=R+(k^B^S)+M[2]+3299628645&4294967295,R=k+(C<<23&4294967295|C>>>9),C=S+(k^(R|~B))+M[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=B+(R^(S|~k))+M[7]+1126891415&4294967295,B=S+(C<<10&4294967295|C>>>22),C=k+(S^(B|~R))+M[14]+2878612391&4294967295,k=B+(C<<15&4294967295|C>>>17),C=R+(B^(k|~S))+M[5]+4237533241&4294967295,R=k+(C<<21&4294967295|C>>>11),C=S+(k^(R|~B))+M[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=B+(R^(S|~k))+M[3]+2399980690&4294967295,B=S+(C<<10&4294967295|C>>>22),C=k+(S^(B|~R))+M[10]+4293915773&4294967295,k=B+(C<<15&4294967295|C>>>17),C=R+(B^(k|~S))+M[1]+2240044497&4294967295,R=k+(C<<21&4294967295|C>>>11),C=S+(k^(R|~B))+M[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=B+(R^(S|~k))+M[15]+4264355552&4294967295,B=S+(C<<10&4294967295|C>>>22),C=k+(S^(B|~R))+M[6]+2734768916&4294967295,k=B+(C<<15&4294967295|C>>>17),C=R+(B^(k|~S))+M[13]+1309151649&4294967295,R=k+(C<<21&4294967295|C>>>11),C=S+(k^(R|~B))+M[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=B+(R^(S|~k))+M[11]+3174756917&4294967295,B=S+(C<<10&4294967295|C>>>22),C=k+(S^(B|~R))+M[2]+718787259&4294967295,k=B+(C<<15&4294967295|C>>>17),C=R+(B^(k|~S))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+k&4294967295,V.g[3]=V.g[3]+B&4294967295}s.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var R=S-this.blockSize,M=this.B,k=this.h,B=0;B<S;){if(k==0)for(;B<=R;)a(this,V,B),B+=this.blockSize;if(typeof V=="string"){for(;B<S;)if(M[k++]=V.charCodeAt(B++),k==this.blockSize){a(this,M),k=0;break}}else for(;B<S;)if(M[k++]=V[B++],k==this.blockSize){a(this,M),k=0;break}}this.h=k,this.o+=S},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var R=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=R&255,R/=256;for(this.u(V),V=Array(16),S=R=0;4>S;++S)for(var M=0;32>M;M+=8)V[R++]=this.g[S]>>>M&255;return V};function l(V,S){var R=d;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=S(V)}function c(V,S){this.h=S;for(var R=[],M=!0,k=V.length-1;0<=k;k--){var B=V[k]|0;M&&B==S||(R[k]=B,M=!1)}this.g=R}var d={};function m(V){return-128<=V&&128>V?l(V,function(S){return new c([S|0],0>S?-1:0)}):new c([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return j(p(-V));for(var S=[],R=1,M=0;V>=R;M++)S[M]=V/R|0,R*=4294967296;return new c(S,0)}function y(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return j(y(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(S,8)),M=T,k=0;k<V.length;k+=8){var B=Math.min(8,V.length-k),C=parseInt(V.substring(k,k+B),S);8>B?(B=p(Math.pow(S,B)),M=M.j(B).add(p(C))):(M=M.j(R),M=M.add(p(C)))}return M}var T=m(0),x=m(1),N=m(16777216);t=c.prototype,t.m=function(){if(P(this))return-j(this).m();for(var V=0,S=1,R=0;R<this.g.length;R++){var M=this.i(R);V+=(0<=M?M:4294967296+M)*S,S*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(L(this))return"0";if(P(this))return"-"+j(this).toString(V);for(var S=p(Math.pow(V,6)),R=this,M="";;){var k=W(R,S).g;R=U(R,k.j(S));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=k,L(R))return B+M;for(;6>B.length;)B="0"+B;M=B+M}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function L(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function P(V){return V.h==-1}t.l=function(V){return V=U(this,V),P(V)?-1:L(V)?0:1};function j(V){for(var S=V.g.length,R=[],M=0;M<S;M++)R[M]=~V.g[M];return new c(R,~V.h).add(x)}t.abs=function(){return P(this)?j(this):this},t.add=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],M=0,k=0;k<=S;k++){var B=M+(this.i(k)&65535)+(V.i(k)&65535),C=(B>>>16)+(this.i(k)>>>16)+(V.i(k)>>>16);M=C>>>16,B&=65535,C&=65535,R[k]=C<<16|B}return new c(R,R[R.length-1]&-2147483648?-1:0)};function U(V,S){return V.add(j(S))}t.j=function(V){if(L(this)||L(V))return T;if(P(this))return P(V)?j(this).j(j(V)):j(j(this).j(V));if(P(V))return j(this.j(j(V)));if(0>this.l(N)&&0>V.l(N))return p(this.m()*V.m());for(var S=this.g.length+V.g.length,R=[],M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<V.g.length;k++){var B=this.i(M)>>>16,C=this.i(M)&65535,de=V.i(k)>>>16,_e=V.i(k)&65535;R[2*M+2*k]+=C*_e,Y(R,2*M+2*k),R[2*M+2*k+1]+=B*_e,Y(R,2*M+2*k+1),R[2*M+2*k+1]+=C*de,Y(R,2*M+2*k+1),R[2*M+2*k+2]+=B*de,Y(R,2*M+2*k+2)}for(M=0;M<S;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=S;M<2*S;M++)R[M]=0;return new c(R,0)};function Y(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function K(V,S){this.g=V,this.h=S}function W(V,S){if(L(S))throw Error("division by zero");if(L(V))return new K(T,T);if(P(V))return S=W(j(V),S),new K(j(S.g),j(S.h));if(P(S))return S=W(V,j(S)),new K(j(S.g),S.h);if(30<V.g.length){if(P(V)||P(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,M=S;0>=M.l(V);)R=X(R),M=X(M);var k=ue(R,1),B=ue(M,1);for(M=ue(M,2),R=ue(R,2);!L(M);){var C=B.add(M);0>=C.l(V)&&(k=k.add(R),B=C),M=ue(M,1),R=ue(R,1)}return S=U(V,k.j(S)),new K(k,S)}for(k=T;0<=V.l(S);){for(R=Math.max(1,Math.floor(V.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),B=p(R),C=B.j(S);P(C)||0<C.l(V);)R-=M,B=p(R),C=B.j(S);L(B)&&(B=x),k=k.add(B),V=U(V,C)}return new K(k,V)}t.A=function(V){return W(this,V).h},t.and=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)&V.i(M);return new c(R,this.h&V.h)},t.or=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)|V.i(M);return new c(R,this.h|V.h)},t.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)^V.i(M);return new c(R,this.h^V.h)};function X(V){for(var S=V.g.length+1,R=[],M=0;M<S;M++)R[M]=V.i(M)<<1|V.i(M-1)>>>31;return new c(R,V.h)}function ue(V,S){var R=S>>5;S%=32;for(var M=V.g.length-R,k=[],B=0;B<M;B++)k[B]=0<S?V.i(B+R)>>>S|V.i(B+R+1)<<32-S:V.i(B+R);return new c(k,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Kw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,br=c}).apply(typeof mb<"u"?mb:typeof self<"u"?self:typeof window<"u"?window:{});var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $w,ku,Yw,Cf,Ug,Qw,Xw,Ww;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof lf=="object"&&lf];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in E))break e;E=E[F]}h=h[h.length-1],A=E[h],v=v(A),v!=A&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var E=0,A=!1,F={next:function(){if(!A&&E<h.length){var ee=E++;return{value:v(ee,h[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,E){return h.call.apply(h.bind,arguments)}function T(h,v,E){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),h.apply(v,F)}}return function(){return h.apply(v,arguments)}}function x(h,v,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,x.apply(null,arguments)}function N(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function L(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(A,F,ee){for(var fe=Array(arguments.length-2),He=2;He<arguments.length;He++)fe[He-2]=arguments[He];return v.prototype[F].apply(A,fe)}}function P(h){const v=h.length;if(0<v){const E=Array(v);for(let A=0;A<v;A++)E[A]=h[A];return E}return[]}function j(h,v){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(m(A)){const F=h.length||0,ee=A.length||0;h.length=F+ee;for(let fe=0;fe<ee;fe++)h[F+fe]=A[fe]}else h.push(A)}}class U{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(h){return/^[\s\xa0]*$/.test(h)}function K(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function W(h){return W[" "](h),h}W[" "]=function(){};var X=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ue(h,v,E){for(const A in h)v.call(E,h[A],A,h)}function V(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function S(h){const v={};for(const E in h)v[E]=h[E];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,v){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)h[E]=A[E];for(let ee=0;ee<R.length;ee++)E=R[ee],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function k(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function B(h){d.setTimeout(()=>{throw h},0)}function C(){var h=pe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class de{constructor(){this.h=this.g=null}add(v,E){const A=_e.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var _e=new U(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ce=!1,pe=new de,I=()=>{const h=d.Promise.resolve(void 0);J=()=>{h.then(te)}};var te=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(E){B(E)}var v=_e;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ce=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ye=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h})();function Ee(h,v){if(ae.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(X){e:{try{W(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:we[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ee.aa.h.call(this)}}L(Ee,ae);var we={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),he=0;function Te(h,v,E,A,F){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=F,this.key=++he,this.da=this.fa=!1}function Be(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ye(h){this.src=h,this.g={},this.h=0}Ye.prototype.add=function(h,v,E,A,F){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var fe=Nt(h,v,A,F);return-1<fe?(v=h[fe],E||(v.fa=!1)):(v=new Te(v,this.src,ee,!!A,F),v.fa=E,h.push(v)),v};function Bt(h,v){var E=v.type;if(E in h.g){var A=h.g[E],F=Array.prototype.indexOf.call(A,v,void 0),ee;(ee=0<=F)&&Array.prototype.splice.call(A,F,1),ee&&(Be(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Nt(h,v,E,A){for(var F=0;F<h.length;++F){var ee=h[F];if(!ee.da&&ee.listener==v&&ee.capture==!!E&&ee.ha==A)return F}return-1}var It="closure_lm_"+(1e6*Math.random()|0),qn={};function Xi(h,v,E,A,F){if(Array.isArray(v)){for(var ee=0;ee<v.length;ee++)Xi(h,v[ee],E,A,F);return null}return E=Oc(E),h&&h[Ct]?h.K(v,E,p(A)?!!A.capture:!1,F):Fn(h,v,E,!1,A,F)}function Fn(h,v,E,A,F,ee){if(!v)throw Error("Invalid event type");var fe=p(F)?!!F.capture:!!F,He=za(h);if(He||(h[It]=He=new Ye(h)),E=He.add(v,E,A,fe,ee),E.proxy)return E;if(A=Bd(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)ye||(F=fe),F===void 0&&(F=!1),h.addEventListener(v.toString(),A,F);else if(h.attachEvent)h.attachEvent(Lr(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Bd(){function h(E){return v.call(h.src,h.listener,E)}const v=zd;return h}function bl(h,v,E,A,F){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)bl(h,v[ee],E,A,F);else A=p(A)?!!A.capture:!!A,E=Oc(E),h&&h[Ct]?(h=h.i,v=String(v).toString(),v in h.g&&(ee=h.g[v],E=Nt(ee,E,A,F),-1<E&&(Be(ee[E]),Array.prototype.splice.call(ee,E,1),ee.length==0&&(delete h.g[v],h.h--)))):h&&(h=za(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Nt(v,E,A,F)),(E=-1<h?v[h]:null)&&Ba(E))}function Ba(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ct])Bt(v.i,h);else{var E=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(E,A,h.capture):v.detachEvent?v.detachEvent(Lr(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=za(v))?(Bt(E,h),E.h==0&&(E.src=null,v[It]=null)):Be(h)}}}function Lr(h){return h in qn?qn[h]:qn[h]="on"+h}function zd(h,v){if(h.da)h=!0;else{v=new Ee(v,this);var E=h.listener,A=h.ha||h.src;h.fa&&Ba(h),h=E.call(A,v)}return h}function za(h){return h=h[It],h instanceof Ye?h:null}var xl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oc(h){return typeof h=="function"?h:(h[xl]||(h[xl]=function(v){return h.handleEvent(v)}),h[xl])}function _t(){le.call(this),this.i=new Ye(this),this.M=this,this.F=null}L(_t,le),_t.prototype[Ct]=!0,_t.prototype.removeEventListener=function(h,v,E,A){bl(this,h,v,E,A)};function Je(h,v){var E,A=h.F;if(A)for(E=[];A;A=A.F)E.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new ae(v,h);else if(v instanceof ae)v.target=v.target||h;else{var F=v;v=new ae(A,h),M(v,F)}if(F=!0,E)for(var ee=E.length-1;0<=ee;ee--){var fe=v.g=E[ee];F=In(fe,A,!0,v)&&F}if(fe=v.g=h,F=In(fe,A,!0,v)&&F,F=In(fe,A,!1,v)&&F,E)for(ee=0;ee<E.length;ee++)fe=v.g=E[ee],F=In(fe,A,!1,v)&&F}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],A=0;A<E.length;A++)Be(E[A]);delete h.g[v],h.h--}}this.F=null},_t.prototype.K=function(h,v,E,A){return this.i.add(String(h),v,!1,E,A)},_t.prototype.L=function(h,v,E,A){return this.i.add(String(h),v,!0,E,A)};function In(h,v,E,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,ee=0;ee<v.length;++ee){var fe=v[ee];if(fe&&!fe.da&&fe.capture==E){var He=fe.listener,qt=fe.ha||fe.src;fe.fa&&Bt(h.i,fe),F=He.call(qt,A)!==!1&&F}}return F&&!A.defaultPrevented}function cn(h,v,E){if(typeof h=="function")E&&(h=x(h,E));else if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function Lc(h){h.g=cn(()=>{h.g=null,h.i&&(h.i=!1,Lc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class qd extends le{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Lc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(h){le.call(this),this.h=h,this.g={}}L(jr,le);var Ur=[];function Br(h){ue(h.g,function(v,E){this.g.hasOwnProperty(E)&&Ba(v)},h),h.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Br(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var li=d.JSON.stringify,qa=d.JSON.parse,zr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function wl(){}wl.prototype.h=null;function Sl(h){return h.h||(h.h=h.i())}function Al(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){ae.call(this,"d")}L(Zi,ae);function Rl(){ae.call(this,"c")}L(Rl,ae);var Ti={},Cl=null;function ks(){return Cl=Cl||new _t}Ti.La="serverreachability";function Fa(h){ae.call(this,Ti.La,h)}L(Fa,ae);function Os(h){const v=ks();Je(v,new Fa(v))}Ti.STAT_EVENT="statevent";function jc(h,v){ae.call(this,Ti.STAT_EVENT,h),this.stat=v}L(jc,ae);function ht(h){const v=ks();Je(v,new jc(v,h))}Ti.Ma="timingevent";function zt(h,v){ae.call(this,Ti.Ma,h),this.size=v}L(zt,ae);function Dt(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function Nl(h,v,E,A,F,ee){h.info(function(){if(h.g)if(ee)for(var fe="",He=ee.split("&"),qt=0;qt<He.length;qt++){var Ge=He[qt].split("=");if(1<Ge.length){var Qt=Ge[0];Ge=Ge[1];var Ft=Qt.split("_");fe=2<=Ft.length&&Ft[1]=="type"?fe+(Qt+"="+Ge+"&"):fe+(Qt+"=redacted&")}}else fe=null;else fe=ee;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+v+`
`+E+`
`+fe})}function Fd(h,v,E,A,F,ee,fe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+v+`
`+E+`
`+ee+" "+fe})}function Ls(h,v,E,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+qr(h,E)+(A?" "+A:"")})}function Uc(h,v){h.info(function(){return"TIMEOUT: "+v})}Hn.prototype.info=function(){};function qr(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var A=E[h];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var ee=F[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var fe=1;fe<F.length;fe++)F[fe]=""}}}}return li(E)}catch{return v}}var js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ei;function bi(){}L(bi,wl),bi.prototype.g=function(){return new XMLHttpRequest},bi.prototype.i=function(){return{}},Ei=new bi;function yn(h,v,E,A){this.j=h,this.i=v,this.l=E,this.R=A||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var Il={},Ha={};function ui(h,v,E){h.L=1,h.v=$r(Dn(v)),h.m=E,h.P=!0,es(h,null)}function es(h,v){h.F=Date.now(),Fr(h),h.A=Dn(h.v);var E=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Ol(E.i,"t",A),h.C=0,E=h.j.J,h.h=new xt,h.g=th(h.j,E?v:null,!h.m),0<h.O&&(h.M=new qd(x(h.Y,h,h.g),h.O)),v=h.U,E=h.g,A=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ur[0]=F.toString()),F=Ur);for(var ee=0;ee<F.length;ee++){var fe=Xi(E,F[ee],A||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Os(),Nl(h.i,h.u,h.A,h.l,h.R,h.m)}yn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Yn(h)==3?v.j():this.Y(h)},yn.prototype.Y=function(h){try{if(h==this.g)e:{const Ft=Yn(this.g);var v=this.g.Ba();const ls=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||$c(this.g)))){this.J||Ft!=4||v==7||(v==8||0>=ls?Os(3):Os(2)),Us(this);var E=this.g.Z();this.X=E;t:if(Bc(this)){var A=$c(this.g);h="";var F=A.length,ee=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),xi(this);var fe="";break t}this.h.i=new d.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(ee&&v==F-1)});A.length=0,this.h.g+=h,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=E==200,Fd(this.i,this.u,this.A,this.l,this.R,Ft,E),this.o){if(this.T&&!this.K){t:{if(this.g){var He,qt=this.g;if((He=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(He)){var Ge=He;break t}}Ge=null}if(E=Ge)Ls(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hr(this,E);else{this.o=!1,this.s=3,ht(12),en(this),xi(this);break e}}if(this.P){E=!0;let tn;for(;!this.J&&this.C<fe.length;)if(tn=zc(this,fe),tn==Ha){Ft==4&&(this.s=4,ht(14),E=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Il){this.s=4,ht(15),Ls(this.i,this.l,fe,"[Invalid Chunk]"),E=!1;break}else Ls(this.i,this.l,tn,null),Hr(this,tn);if(Bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||fe.length!=0||this.h.h||(this.s=1,ht(16),E=!1),this.o=this.o&&E,!E)Ls(this.i,this.l,fe,"[Invalid Chunked Response]"),en(this),xi(this);else if(0<fe.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),ta(Qt),Qt.M=!0,ht(11))}}else Ls(this.i,this.l,fe,null),Hr(this,fe);Ft==4&&en(this),this.o&&!this.J&&(Ft==4?Zc(this.j,this):(this.o=!1,Fr(this)))}else Yd(this.g),E==400&&0<fe.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),en(this),xi(this)}}}catch{}finally{}};function Bc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function zc(h,v){var E=h.C,A=v.indexOf(`
`,E);return A==-1?Ha:(E=Number(v.substring(E,A)),isNaN(E)?Il:(A+=1,A+E>v.length?Ha:(v=v.slice(A,A+E),h.C=A+E,v)))}yn.prototype.cancel=function(){this.J=!0,en(this)};function Fr(h){h.S=Date.now()+h.I,qc(h,h.I)}function qc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Dt(x(h.ba,h),v)}function Us(h){h.B&&(d.clearTimeout(h.B),h.B=null)}yn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Uc(this.i,this.A),this.L!=2&&(Os(),ht(17)),en(this),this.s=2,xi(this)):qc(this,this.S-h)};function xi(h){h.j.G==0||h.J||Zc(h.j,h)}function en(h){Us(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Br(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Hr(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||Dl(E.h,h))){if(!h.K&&Dl(E.h,h)&&E.G==3){try{var A=E.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)no(E),eo(E);else break e;zl(E),ht(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=Dt(x(E.Za,E),6e3));if(1>=Ka(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else os(E,11)}else if((h.K||E.g==h)&&no(E),!Y(v))for(F=E.Da.g.parse(v),v=0;v<F.length;v++){let Ge=F[v];if(E.T=Ge[0],Ge=Ge[1],E.G==2)if(Ge[0]=="c"){E.K=Ge[1],E.ia=Ge[2];const Qt=Ge[3];Qt!=null&&(E.la=Qt,E.j.info("VER="+E.la));const Ft=Ge[4];Ft!=null&&(E.Aa=Ft,E.j.info("SVER="+E.Aa));const ls=Ge[5];ls!=null&&typeof ls=="number"&&0<ls&&(A=1.5*ls,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const tn=h.g;if(tn){const Ii=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var ee=A.h;ee.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&($a(ee,ee.h),ee.h=null))}if(A.D){const Fl=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fl&&(A.ya=Fl,nt(A.I,A.D,Fl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var fe=h;if(A.qa=eh(A,A.J?A.ia:null,A.W),fe.K){vn(A.h,fe);var He=fe,qt=A.L;qt&&(He.I=qt),He.B&&(Us(He),Fr(He)),A.g=fe}else Xc(A);0<E.i.length&&to(E)}else Ge[0]!="stop"&&Ge[0]!="close"||os(E,7);else E.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?os(E,7):Ul(E):Ge[0]!="noop"&&E.l&&E.l.ta(Ge),E.v=0)}}Os(4)}catch{}}var Fc=class{constructor(h,v){this.g=h,this.map=v}};function ts(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ka(h){return h.h?1:h.g?h.g.size:0}function Dl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function $a(h,v){h.g?h.g.add(v):h.h=v}function vn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}ts.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ml(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return P(h.i)}function Hd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],E=h.length,A=0;A<E;A++)v.push(h[A]);return v}v=[],E=0;for(A in h)v[E++]=h[A];return v}function Ya(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const A in h)v[E++]=A;return v}}}function Vl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Ya(h),A=Hd(h),F=A.length,ee=0;ee<F;ee++)v.call(void 0,A[ee],E&&E[ee],h)}var Gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gd(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var A=h[E].indexOf("="),F=null;if(0<=A){var ee=h[E].substring(0,A);F=h[E].substring(A+1)}else ee=h[E];v(ee,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Mt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Mt){this.h=h.h,Kr(this,h.j),this.o=h.o,this.g=h.g,Bs(this,h.s),this.l=h.l;var v=h.i,E=new is;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),ns(this,E),this.m=h.m}else h&&(v=String(h).match(Gr))?(this.h=!1,Kr(this,v[1]||"",!0),this.o=Gn(v[2]||""),this.g=Gn(v[3]||"",!0),Bs(this,v[4]),this.l=Gn(v[5]||"",!0),ns(this,v[6]||"",!0),this.m=Gn(v[7]||"")):(this.h=!1,this.i=new is(null,this.h))}Mt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Yr(v,Pl,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Yr(v,Pl,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Yr(E,E.charAt(0)=="/"?Kd:kl,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Yr(E,Qa)),h.join("")};function Dn(h){return new Mt(h)}function Kr(h,v,E){h.j=E?Gn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Bs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ns(h,v,E){v instanceof is?(h.i=v,Gc(h.i,h.h)):(E||(v=Yr(v,$d)),h.i=new is(v,h.h))}function nt(h,v,E){h.i.set(v,E)}function $r(h){return nt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Gn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,Hc),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Hc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Pl=/[#\/\?@]/g,kl=/[#\?:]/g,Kd=/[#\?]/g,$d=/[#\?@]/g,Qa=/#/g;function is(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Kn(h){h.g||(h.g=new Map,h.h=0,h.i&&Gd(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=is.prototype,t.add=function(h,v){Kn(this),this.i=null,h=wi(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function ss(h,v){Kn(h),v=wi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function rs(h,v){return Kn(h),v=wi(h,v),h.g.has(v)}t.forEach=function(h,v){Kn(this),this.g.forEach(function(E,A){E.forEach(function(F){h.call(v,F,A,this)},this)},this)},t.na=function(){Kn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let A=0;A<v.length;A++){const F=h[A];for(let ee=0;ee<F.length;ee++)E.push(v[A])}return E},t.V=function(h){Kn(this);let v=[];if(typeof h=="string")rs(this,h)&&(v=v.concat(this.g.get(wi(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},t.set=function(h,v){return Kn(this),this.i=null,h=wi(this,h),rs(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Ol(h,v,E){ss(h,v),0<E.length&&(h.i=null,h.g.set(wi(h,v),P(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var A=v[E];const ee=encodeURIComponent(String(A)),fe=this.V(A);for(A=0;A<fe.length;A++){var F=ee;fe[A]!==""&&(F+="="+encodeURIComponent(String(fe[A]))),h.push(F)}}return this.i=h.join("&")};function wi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Gc(h,v){v&&!h.j&&(Kn(h),h.i=null,h.g.forEach(function(E,A){var F=A.toLowerCase();A!=F&&(ss(this,A),Ol(this,F,E))},h)),h.j=v}function Qr(h,v){const E=new Hn;if(d.Image){const A=new Image;A.onload=N($n,E,"TestLoadImage: loaded",!0,v,A),A.onerror=N($n,E,"TestLoadImage: error",!1,v,A),A.onabort=N($n,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=N($n,E,"TestLoadImage: timeout",!1,v,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function ci(h,v){const E=new Hn,A=new AbortController,F=setTimeout(()=>{A.abort(),$n(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(ee=>{clearTimeout(F),ee.ok?$n(E,"TestPingServer: ok",!0,v):$n(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),$n(E,"TestPingServer: error",!1,v)})}function $n(h,v,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function Xr(){this.g=new zr}function Si(h,v,E){const A=E||"";try{Vl(h,function(F,ee){let fe=F;p(F)&&(fe=li(F)),v.push(A+ee+"="+encodeURIComponent(fe))})}catch(F){throw v.push(A+"type="+encodeURIComponent("_badmap")),F}}function zs(h){this.l=h.Ub||null,this.j=h.eb||!1}L(zs,wl),zs.prototype.g=function(){return new as(this.l,this.j)},zs.prototype.i=(function(h){return function(){return h}})({});function as(h,v){_t.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(as,_t),t=as.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ri(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ll(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ll(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ai(this):Ri(this),this.readyState==3&&Ll(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ai(this))},t.Qa=function(h){this.g&&(this.response=h,Ai(this))},t.ga=function(){this.g&&Ai(this)};function Ai(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ri(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function Ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jl(h){let v="";return ue(h,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function Yt(h,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=jl(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):nt(h,v,E))}function Ze(h){_t.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ze,_t);var Xa=/^https?$/i,Wr=["POST","PUT"];t=Ze.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ei.g(),this.v=this.o?Sl(this.o):Sl(Ei),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ee){Kc(this,ee);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())E.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),F=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Wr,v,void 0))||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,fe]of E)this.g.setRequestHeader(ee,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zr(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){Kc(this,ee)}};function Kc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Wa(h),Ci(h)}function Wa(h){h.A||(h.A=!0,Je(h,"complete"),Je(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Je(this,"complete"),Je(this,"abort"),Ci(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},t.bb=function(){Za(this)};function Za(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Yn(h)!=4||h.Z()!=2)){if(h.u&&Yn(h)==4)cn(h.Ea,0,h);else if(Je(h,"readystatechange"),Yn(h)==4){h.h=!1;try{const fe=h.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=fe===0){var F=String(h.D).match(Gr)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),A=!Xa.test(F?F.toLowerCase():"")}E=A}if(E)Je(h,"complete"),Je(h,"success");else{h.m=6;try{var ee=2<Yn(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",Wa(h)}}finally{Ci(h)}}}}function Ci(h,v){if(h.g){Zr(h);const E=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Je(h,"ready");try{E.onreadystatechange=A}catch{}}}function Zr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Yn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),qa(v)}};function $c(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Yd(h){const v={};h=(h.g&&2<=Yn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(Y(h[A]))continue;var E=k(h[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=v[F]||[];v[F]=ee,ee.push(E)}V(v,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Ja(h){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jr("baseRetryDelayMs",5e3,h),this.cb=Jr("retryDelaySeedMs",1e4,h),this.Wa=Jr("forwardChannelMaxRetries",2,h),this.wa=Jr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ts(h&&h.concurrentRequestLimit),this.Da=new Xr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ja.prototype,t.la=8,t.G=1,t.connect=function(h,v,E,A){ht(0),this.W=h,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=eh(this,null,this.W),to(this)};function Ul(h){if(Yc(h),h.G==3){var v=h.U++,E=Dn(h.I);if(nt(E,"SID",h.K),nt(E,"RID",v),nt(E,"TYPE","terminate"),ea(h,E),v=new yn(h,h.j,v),v.L=2,v.v=$r(Dn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=th(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Fr(v)}Jc(h)}function eo(h){h.g&&(ta(h),h.g.cancel(),h.g=null)}function Yc(h){eo(h),h.u&&(d.clearTimeout(h.u),h.u=null),no(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function to(h){if(!Ga(h.h)&&!h.s){h.s=!0;var v=h.Ga;J||I(),ce||(J(),ce=!0),pe.add(v,h),h.B=0}}function Qd(h,v){return Ka(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Dt(x(h.Ga,h,v),ql(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new yn(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=S(ee),M(ee,this.S)):ee=this.S),this.m!==null||this.O||(F.H=ee,ee=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Qc(this,F,v),E=Dn(this.I),nt(E,"RID",h),nt(E,"CVER",22),this.D&&nt(E,"X-HTTP-Session-Id",this.D),ea(this,E),ee&&(this.O?v="headers="+encodeURIComponent(String(jl(ee)))+"&"+v:this.m&&Yt(E,this.m,ee)),$a(this.h,F),this.Ua&&nt(E,"TYPE","init"),this.P?(nt(E,"$req",v),nt(E,"SID","null"),F.T=!0,ui(F,E,null)):ui(F,E,v),this.G=2}}else this.G==3&&(h?Bl(this,h):this.i.length==0||Ga(this.h)||Bl(this))};function Bl(h,v){var E;v?E=v.l:E=h.U++;const A=Dn(h.I);nt(A,"SID",h.K),nt(A,"RID",E),nt(A,"AID",h.T),ea(h,A),h.m&&h.o&&Yt(A,h.m,h.o),E=new yn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Qc(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),$a(h.h,E),ui(E,A,v)}function ea(h,v){h.H&&ue(h.H,function(E,A){nt(v,A,E)}),h.l&&Vl({},function(E,A){nt(v,A,E)})}function Qc(h,v,E){E=Math.min(h.i.length,E);var A=h.l?x(h.l.Na,h.l,h):null;e:{var F=h.i;let ee=-1;for(;;){const fe=["count="+E];ee==-1?0<E?(ee=F[0].g,fe.push("ofs="+ee)):ee=0:fe.push("ofs="+ee);let He=!0;for(let qt=0;qt<E;qt++){let Ge=F[qt].g;const Qt=F[qt].map;if(Ge-=ee,0>Ge)ee=Math.max(0,F[qt].g-100),He=!1;else try{Si(Qt,fe,"req"+Ge+"_")}catch{A&&A(Qt)}}if(He){A=fe.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,A}function Xc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;J||I(),ce||(J(),ce=!0),pe.add(v,h),h.v=0}}function zl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Dt(x(h.Fa,h),ql(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Dt(x(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),eo(this),Wc(this))};function ta(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Wc(h){h.g=new yn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Dn(h.qa);nt(v,"RID","rpc"),nt(v,"SID",h.K),nt(v,"AID",h.T),nt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&nt(v,"TO",h.ja),nt(v,"TYPE","xmlhttp"),ea(h,v),h.m&&h.o&&Yt(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=$r(Dn(v)),E.m=null,E.P=!0,es(E,h)}t.Za=function(){this.C!=null&&(this.C=null,eo(this),zl(this),ht(19))};function no(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Zc(h,v){var E=null;if(h.g==v){no(h),ta(h),h.g=null;var A=2}else if(Dl(h.h,v))E=v.D,vn(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var F=h.B;A=ks(),Je(A,new zt(A,E)),to(h)}else Xc(h);else if(F=v.s,F==3||F==0&&0<v.X||!(A==1&&Qd(h,v)||A==2&&zl(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),F){case 1:os(h,5);break;case 4:os(h,10);break;case 3:os(h,6);break;default:os(h,2)}}}function ql(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function os(h,v){if(h.j.info("Error code "+v),v==2){var E=x(h.fb,h),A=h.Xa;const F=!A;A=new Mt(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Kr(A,"https"),$r(A),F?Qr(A.toString(),E):ci(A.toString(),E)}else ht(2);h.G=0,h.l&&h.l.sa(v),Jc(h),Yc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Jc(h){if(h.G=0,h.ka=[],h.l){const v=Ml(h.h);(v.length!=0||h.i.length!=0)&&(j(h.ka,v),j(h.ka,h.i),h.h.i.length=0,P(h.i),h.i.length=0),h.l.ra()}}function eh(h,v,E){var A=E instanceof Mt?Dn(E):new Mt(E);if(A.g!="")v&&(A.g=v+"."+A.g),Bs(A,A.s);else{var F=d.location;A=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var ee=new Mt(null);A&&Kr(ee,A),v&&(ee.g=v),F&&Bs(ee,F),E&&(ee.l=E),A=ee}return E=h.D,v=h.ya,E&&v&&nt(A,E,v),nt(A,"VER",h.la),ea(h,A),A}function th(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Ze(new zs({eb:E})):new Ze(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nh(){}t=nh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function io(){}io.prototype.g=function(h,v){return new _n(h,v)};function _n(h,v){_t.call(this),this.g=new Ja(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Y(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ni(this)}L(_n,_t),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Ul(this.g)},_n.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=li(h),h=E);v.i.push(new Fc(v.Ya++,h)),v.G==3&&to(v)},_n.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,_n.aa.N.call(this)};function ih(h){Zi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}L(ih,Zi);function sh(){Rl.call(this),this.status=1}L(sh,Rl);function Ni(h){this.g=h}L(Ni,nh),Ni.prototype.ua=function(){Je(this.g,"a")},Ni.prototype.ta=function(h){Je(this.g,new ih(h))},Ni.prototype.sa=function(h){Je(this.g,new sh)},Ni.prototype.ra=function(){Je(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,Ww=function(){return new io},Xw=function(){return ks()},Qw=Ti,Ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,Cf=js,Ji.COMPLETE="complete",Yw=Ji,Al.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",_t.prototype.listen=_t.prototype.K,ku=Al,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,$w=Ze}).apply(typeof lf<"u"?lf:typeof self<"u"?self:typeof window<"u"?window:{});const pb="@firebase/firestore",gb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Py("@firebase/firestore");function ko(){return Ma.logLevel}function ge(t,...e){if(Ma.logLevel<=ze.DEBUG){const n=e.map($y);Ma.debug(`Firestore (${dl}): ${t}`,...n)}}function Ns(t,...e){if(Ma.logLevel<=ze.ERROR){const n=e.map($y);Ma.error(`Firestore (${dl}): ${t}`,...n)}}function tc(t,...e){if(Ma.logLevel<=ze.WARN){const n=e.map($y);Ma.warn(`Firestore (${dl}): ${t}`,...n)}}function $y(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Zw(t,s,n)}function Zw(t,e,n){let s=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ns(s),new Error(s)}function We(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Zw(e,a,s)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Sn.UNAUTHENTICATED)))}shutdown(){}}class dP{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Bi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Bi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new hP(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class mP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new mP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const s=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=yP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function qe(t,e){return t<e?-1:t>e?1:0}function Bg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return tg(a)===tg(l)?qe(a,l):tg(a)?1:-1}return qe(t.length,e.length)}const vP=55296,_P=57343;function tg(t){const e=t.charCodeAt(0);return e>=vP&&e<=_P}function Zo(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ce(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Oi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),a=Oi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):Bg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}}class ut extends Oi{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const TP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Oi{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return TP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vb}static keyField(){return new ln([vb])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ut.fromString(e))}static fromName(e){return new xe(ut.fromString(e).popFirst(5))}static empty(){return new xe(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e,n){if(!n)throw new me(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EP(t,e,n,s){if(e===!0&&s===!0)throw new me(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _b(t){if(!xe.isDocumentKey(t))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tb(t){if(xe.isDocumentKey(t))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _d(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Va(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_d(t);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function wc(t,e){if(!eS(t))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new me(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=-62135596800,bb=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*bb);return new ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Eb)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bb}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wc(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Eb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:jt("string",ct._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new ct(0,0))}static max(){return new Me(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;function bP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(s===1e9?new ct(n+1,0):new ct(n,s));return new wr(a,xe.empty(),e)}function xP(t){return new wr(t.readTime,t.key,nc)}class wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new wr(Me.min(),xe.empty(),nc)}static max(){return new wr(Me.max(),xe.empty(),nc)}}function wP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==SP)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((a=>a?oe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{c[p]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new oe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function RP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Td.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=-1;function Ed(t){return t==null}function Qf(t){return t===0&&1/t==-1/0}function CP(t){return typeof t=="number"&&Number.isInteger(t)&&!Qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="";function NP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xb(e)),e=IP(t.get(n),e);return xb(e)}function IP(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case tS:n+="";break;default:n+=l}}return n}function xb(t){return t+tS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DP(t,e){const n=[];for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.push(e(t[s],s,t));return n}function nS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new on(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sb(this.data.getIterator())}getIteratorFrom(e){return new Sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class Sb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new zn([])}unionWith(e){let n=new $t(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new iS("Invalid base64 string: "+l):l}})(e);return new un(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const MP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=MP.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ar(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="server_timestamp",rS="__type__",aS="__previous_value__",oS="__local_write_time__";function Xy(t){return(t?.mapValue?.fields||{})[rS]?.stringValue===sS}function bd(t){const e=t.mapValue.fields[aS];return Xy(e)?bd(e):e}function ic(t){const e=Sr(t.mapValue.fields[oS].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n,s,a,l,c,d,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Xf="(default)";class sc{constructor(e,n){this.projectId=e,this.database=n||Xf}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="__type__",PP="__max__",cf={mapValue:{}},uS="__vector__",Wf="value";function Rr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xy(t)?4:OP(t)?9007199254740991:kP(t)?10:11:Ce(28295,{value:t})}function Yi(t,e){if(t===e)return!0;const n=Rr(t);if(n!==Rr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ic(t).isEqual(ic(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Sr(a.timestampValue),d=Sr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ar(a.bytesValue).isEqual(Ar(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Rt(a.doubleValue),d=Rt(l.doubleValue);return c===d?Qf(c)===Qf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Zo(t.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(wb(c)!==wb(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Yi(c[m],d[m])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function rc(t,e){return(t.values||[]).find((n=>Yi(n,e)))!==void 0}function Jo(t,e){if(t===e)return 0;const n=Rr(t),s=Rr(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Rt(l.integerValue||l.doubleValue),m=Rt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return Ab(t.timestampValue,e.timestampValue);case 4:return Ab(ic(t),ic(e));case 5:return Bg(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Ar(l),m=Ar(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=qe(d[p],m[p]);if(y!==0)return y}return qe(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=qe(Rt(l.latitude),Rt(c.latitude));return d!==0?d:qe(Rt(l.longitude),Rt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Rb(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[Wf]?.arrayValue,y=m[Wf]?.arrayValue,T=qe(p?.values?.length||0,y?.values?.length||0);return T!==0?T:Rb(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===cf.mapValue&&c===cf.mapValue)return 0;if(l===cf.mapValue)return 1;if(c===cf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const x=Bg(m[T],y[T]);if(x!==0)return x;const N=Jo(d[m[T]],p[y[T]]);if(N!==0)return N}return qe(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function Ab(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Sr(t),s=Sr(e),a=qe(n.seconds,s.seconds);return a!==0?a:qe(n.nanos,s.nanos)}function Rb(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Jo(n[a],s[a]);if(l)return l}return qe(n.length,s.length)}function el(t){return zg(t)}function zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Sr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ar(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=zg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${zg(n.fields[c])}`;return a+"}"})(t.mapValue):Ce(61005,{value:t})}function Nf(t){switch(Rr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bd(t);return e?16+Nf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ar(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Nf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Pr(s.fields,((l,c)=>{a+=l.length+Nf(c)})),a})(t.mapValue);default:throw Ce(13486,{value:t})}}function Cb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qg(t){return!!t&&"integerValue"in t}function Wy(t){return!!t&&"arrayValue"in t}function Nb(t){return!!t&&"nullValue"in t}function Ib(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function If(t){return!!t&&"mapValue"in t}function kP(t){return(t?.mapValue?.fields||{})[lS]?.stringValue===uS}function qu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Pr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=qu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qu(t.arrayValue.values[n]);return e}return{...t}}function OP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===PP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!If(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(n)}setAll(e){let n=ln.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=qu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());If(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];If(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Pr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Cn(qu(this.value))}}function cS(t){const e=[];return Pr(t.fields,((n,s)=>{const a=new ln([n]);if(If(s)){const l=cS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new mn(e,0,Me.min(),Me.min(),Me.min(),Cn.empty(),0)}static newFoundDocument(e,n,s,a){return new mn(e,1,n,Me.min(),s,a,0)}static newNoDocument(e,n){return new mn(e,2,n,Me.min(),Me.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Me.min(),Me.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){this.position=e,this.inclusive=n}}function Db(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=xe.comparator(xe.fromName(c.referenceValue),n.key):s=Jo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Mb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function LP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{}class Lt extends hS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new UP(e,n,s):n==="array-contains"?new qP(e,s):n==="in"?new FP(e,s):n==="not-in"?new HP(e,s):n==="array-contains-any"?new GP(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new BP(e,s):new zP(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jo(n,this.value)):n!==null&&Rr(this.value)===Rr(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends hS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vi(e,n)}matches(e){return fS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fS(t){return t.op==="and"}function dS(t){return jP(t)&&fS(t)}function jP(t){for(const e of t.filters)if(e instanceof vi)return!1;return!0}function Fg(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+el(t.value);if(dS(t))return t.filters.map((e=>Fg(e))).join(",");{const e=t.filters.map((n=>Fg(n))).join(",");return`${t.op}(${e})`}}function mS(t,e){return t instanceof Lt?(function(s,a){return a instanceof Lt&&s.op===a.op&&s.field.isEqual(a.field)&&Yi(s.value,a.value)})(t,e):t instanceof vi?(function(s,a){return a instanceof vi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&mS(c,a.filters[d])),!0):!1})(t,e):void Ce(19439)}function pS(t){return t instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`})(t):t instanceof vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(pS).join(" ,")+"}"})(t):"Filter"}class UP extends Lt{constructor(e,n,s){super(e,n,s),this.key=xe.fromName(s.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class BP extends Lt{constructor(e,n){super(e,"in",n),this.keys=gS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class zP extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=gS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gS(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class qP extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wy(n)&&rc(n.arrayValue,this.value)}}class FP extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class HP extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rc(this.value.arrayValue,n)}}class GP extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>rc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function Vb(t,e=null,n=[],s=[],a=null,l=null,c=null){return new KP(t,e,n,s,a,l,c)}function Zy(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Fg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>el(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>el(s))).join(",")),e.Te=n}return e.Te}function Jy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mb(t.startAt,e.startAt)&&Mb(t.endAt,e.endAt)}function Hg(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $P(t,e,n,s,a,l,c,d){return new Sc(t,e,n,s,a,l,c,d)}function e0(t){return new Sc(t)}function Pb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yS(t){return t.collectionGroup!==null}function Fu(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new $t(ln.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Jf(l,s))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new Jf(ln.keyField(),s))}return e.Ie}function zi(t){const e=De(t);return e.Ee||(e.Ee=vS(e,Fu(t))),e.Ee}function YP(t){const e=De(t);return e.de||(e.de=vS(e,t.explicitOrderBy)),e.de}function vS(t,e){if(t.limitType==="F")return Vb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Jf(a.field,l)}));const n=t.endAt?new Zf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Zf(t.startAt.position,t.startAt.inclusive):null;return Vb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Gg(t,e){const n=t.filters.concat([e]);return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ed(t,e,n){return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return Jy(zi(t),zi(e))&&t.limitType===e.limitType}function _S(t){return`${Zy(zi(t))}|lt:${t.limitType}`}function Oo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>pS(a))).join(", ")}]`),Ed(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>el(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>el(a))).join(",")),`Target(${s})`})(zi(t))}; limitType=${t.limitType})`}function wd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):xe.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Fu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const p=Db(c,d,m);return c.inclusive?p<=0:p<0})(s.startAt,Fu(s),a)||s.endAt&&!(function(c,d,m){const p=Db(c,d,m);return c.inclusive?p>=0:p>0})(s.endAt,Fu(s),a))})(t,e)}function QP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TS(t){return(e,n)=>{let s=!1;for(const a of Fu(t)){const l=XP(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function XP(t,e,n){const s=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Jo(m,p):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Pr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return nS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new yt(xe.comparator);function Is(){return WP}const ES=new yt(xe.comparator);function Ou(...t){let e=ES;for(const n of t)e=e.insert(n.key,n);return e}function bS(t){let e=ES;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ta(){return Hu()}function xS(){return Hu()}function Hu(){return new La((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ZP=new yt(xe.comparator),JP=new $t(xe.comparator);function Fe(...t){let e=JP;for(const n of t)e=e.add(n);return e}const ek=new $t(qe);function tk(){return ek}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function wS(t){return{integerValue:""+t}}function nk(t,e){return CP(e)?wS(e):t0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this._=void 0}}function ik(t,e,n){return t instanceof ac?(function(a,l){const c={fields:{[rS]:{stringValue:sS},[oS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Xy(l)&&(l=bd(l)),l&&(c.fields[aS]=l),{mapValue:c}})(n,e):t instanceof oc?AS(t,e):t instanceof lc?RS(t,e):(function(a,l){const c=SS(a,l),d=kb(c)+kb(a.Ae);return qg(c)&&qg(a.Ae)?wS(d):t0(a.serializer,d)})(t,e)}function sk(t,e,n){return t instanceof oc?AS(t,e):t instanceof lc?RS(t,e):n}function SS(t,e){return t instanceof td?(function(s){return qg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class ac extends Sd{}class oc extends Sd{constructor(e){super(),this.elements=e}}function AS(t,e){const n=CS(e);for(const s of t.elements)n.some((a=>Yi(a,s)))||n.push(s);return{arrayValue:{values:n}}}class lc extends Sd{constructor(e){super(),this.elements=e}}function RS(t,e){let n=CS(e);for(const s of t.elements)n=n.filter((a=>!Yi(a,s)));return{arrayValue:{values:n}}}class td extends Sd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kb(t){return Rt(t.integerValue||t.doubleValue)}function CS(t){return Wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n){this.field=e,this.transform=n}}function ak(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof oc&&a instanceof oc||s instanceof lc&&a instanceof lc?Zo(s.elements,a.elements,Yi):s instanceof td&&a instanceof td?Yi(s.Ae,a.Ae):s instanceof ac&&a instanceof ac})(t.transform,e.transform)}class ok{constructor(e,n){this.version=e,this.transformResults=n}}class ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ad{}function NS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new n0(t.key,ai.none()):new Ac(t.key,t.data,ai.none());{const n=t.data,s=Cn.empty();let a=new $t(ln.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new kr(t.key,s,new zn(a.toArray()),ai.none())}}function lk(t,e,n){t instanceof Ac?(function(a,l,c){const d=a.value.clone(),m=Lb(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof kr?(function(a,l,c){if(!Df(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Lb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(IS(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Gu(t,e,n,s){return t instanceof Ac?(function(l,c,d,m){if(!Df(l.precondition,c))return d;const p=l.value.clone(),y=jb(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof kr?(function(l,c,d,m){if(!Df(l.precondition,c))return d;const p=jb(l.fieldTransforms,m,c),y=c.data;return y.setAll(IS(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(t,e,n,s):(function(l,c,d){return Df(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function uk(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=SS(s.transform,a||null);l!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,l))}return n||null}function Ob(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Zo(s,a,((l,c)=>ak(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ac extends Ad{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class kr extends Ad{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function IS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Lb(t,e,n){const s=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,sk(c,d,n[a]))}return s}function jb(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,ik(l,c,e))}return s}class n0 extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ck extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&lk(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=NS(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Me.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,((n,s)=>Ob(n,s)))&&Zo(this.baseMutations,e.baseMutations,((n,s)=>Ob(n,s)))}}class i0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return ZP})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new i0(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,s){this.alias=e,this.aggregateType=n,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,$e;function pk(t){switch(t){case ie.OK:return Ce(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function DS(t){if(t===void 0)return Ns("GRPC error has no .code"),ie.UNKNOWN;switch(t){case kt.OK:return ie.OK;case kt.CANCELLED:return ie.CANCELLED;case kt.UNKNOWN:return ie.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ie.INTERNAL;case kt.UNAVAILABLE:return ie.UNAVAILABLE;case kt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case kt.NOT_FOUND:return ie.NOT_FOUND;case kt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case kt.ABORTED:return ie.ABORTED;case kt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case kt.DATA_LOSS:return ie.DATA_LOSS;default:return Ce(39323,{code:t})}}($e=kt||(kt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new br([4294967295,4294967295],0);function Ub(t){const e=gk().encode(t),n=new Kw;return n.update(e),new Uint8Array(n.digest())}function Bb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new br([n,s],0),new br([a,l],0)]}class s0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Lu(`Invalid padding: ${n}`);if(s<0)throw new Lu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Lu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Lu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=br.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(br.fromNumber(s)));return a.compare(yk)===1&&(a=new br([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ub(e),[s,a]=Bb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new s0(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=Ub(e),[s,a]=Bb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Rd(Me.min(),a,new yt(qe),Is(),Fe())}}class Rc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Rc(s,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class MS{constructor(e,n){this.targetId=e,this.Ce=n}}class VS{constructor(e,n,s=un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class zb{constructor(){this.ve=0,this.Fe=qb(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),s=Fe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ce(38017,{changeType:l})}})),new Rc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=qb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=hf(),this.He=hf(),this.Ye=new yt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Hg(l))if(s===0){const c=new xe(l.path);this.et(n,c,mn.newNoDocument(c,Me.min()))}else We(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Ar(s).toUint8Array()}catch(m){if(m instanceof iS)return tc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new s0(c,a,l)}catch(m){return tc(m instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Hg(d.target)){const m=new xe(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,mn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Fe();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Rd(e,n,this.Ye,this.je,s);return this.je=Is(),this.Je=hf(),this.He=hf(),this.Ye=new yt(qe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hf(){return new yt(xe.comparator)}function qb(){return new yt(xe.comparator)}const _k={asc:"ASCENDING",desc:"DESCENDING"},Tk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ek={and:"AND",or:"OR"};class bk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kg(t,e){return t.useProto3Json||Ed(e)?e:{value:e}}function nd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xk(t,e){return nd(t,e.toTimestamp())}function qi(t){return We(!!t,49232),Me.fromTimestamp((function(n){const s=Sr(n);return new ct(s.seconds,s.nanos)})(t))}function r0(t,e){return $g(t,e).canonicalString()}function $g(t,e){const n=(function(a){return new ut(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function kS(t){const e=ut.fromString(t);return We(zS(e),10190,{key:e.toString()}),e}function Yg(t,e){return r0(t.databaseId,e.path)}function ng(t,e){const n=kS(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(LS(n))}function OS(t,e){return r0(t.databaseId,e)}function wk(t){const e=kS(t);return e.length===4?ut.emptyPath():LS(e)}function Qg(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LS(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Fb(t,e,n){return{name:Yg(t,e),fields:n.value.mapValue.fields}}function Sk(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(We(y===void 0||typeof y=="string",58123),un.fromBase64String(y||"")):(We(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),un.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?ie.UNKNOWN:DS(p.code);return new me(y,p.message||"")})(c);n=new VS(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=ng(t,s.document.name),l=qi(s.document.updateTime),c=s.document.createTime?qi(s.document.createTime):Me.min(),d=new Cn({mapValue:{fields:s.document.fields}}),m=mn.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Mf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=ng(t,s.document),l=s.readTime?qi(s.readTime):Me.min(),c=mn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Mf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=ng(t,s.document),l=s.removedTargetIds||[];n=new Mf([],l,a,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new mk(a,l),d=s.targetId;n=new MS(d,c)}}return n}function Ak(t,e){let n;if(e instanceof Ac)n={update:Fb(t,e.key,e.value)};else if(e instanceof n0)n={delete:Yg(t,e.key)};else if(e instanceof kr)n={update:Fb(t,e.key,e.data),updateMask:kk(e.fieldMask)};else{if(!(e instanceof ck))return Ce(16599,{Vt:e.type});n={verify:Yg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof ac)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof oc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof lc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof td)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ce(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:xk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)})(t,e.precondition)),n}function Rk(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?qi(a.updateTime):qi(l);return c.isEqual(Me.min())&&(c=qi(l)),new ok(c,a.transformResults||[])})(n,e)))):[]}function Ck(t,e){return{documents:[OS(t,e.path)]}}function jS(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=OS(t,a);const l=(function(p){if(p.length!==0)return BS(vi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(x){return{field:gr(x.field),direction:Mk(x.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Kg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function Nk(t,e,n,s){const{ft:a,parent:l}=jS(t,e),c={},d=[];let m=0;return n.forEach((p=>{const y="aggregate_"+m++;c[y]=p.alias,p.aggregateType==="count"?d.push({alias:y,count:{}}):p.aggregateType==="avg"?d.push({alias:y,avg:{field:gr(p.fieldPath)}}):p.aggregateType==="sum"&&d.push({alias:y,sum:{field:gr(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:d,structuredQuery:a.structuredQuery},parent:a.parent},gt:c,parent:l}}function Ik(t){let e=wk(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){We(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(T){const x=US(T);return x instanceof vi&&dS(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((x=>(function(L){return new Jf(Lo(L.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let x;return x=typeof T=="object"?T.value:T,Ed(x)?null:x})(n.limit));let m=null;n.startAt&&(m=(function(T){const x=!!T.before,N=T.values||[];return new Zf(N,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const x=!T.before,N=T.values||[];return new Zf(N,x)})(n.endAt)),$P(e,a,c,l,d,"F",m,p)}function Dk(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function US(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Lo(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(n.unaryFilter.field);return Lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(n.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(n.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Lt.create(Lo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return vi.create(n.compositeFilter.filters.map((s=>US(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function Mk(t){return _k[t]}function Vk(t){return Tk[t]}function Pk(t){return Ek[t]}function gr(t){return{fieldPath:t.canonicalString()}}function Lo(t){return ln.fromServerFormat(t.fieldPath)}function BS(t){return t instanceof Lt?(function(n){if(n.op==="=="){if(Ib(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NAN"}};if(Nb(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ib(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NOT_NAN"}};if(Nb(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gr(n.field),op:Vk(n.op),value:n.value}}})(t):t instanceof vi?(function(n){const s=n.getFilters().map((a=>BS(a)));return s.length===1?s[0]:{compositeFilter:{op:Pk(n.op),filters:s}}})(t):Ce(54877,{filter:t})}function kk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,s,a,l=Me.min(),c=Me.min(),d=un.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.yt=e}}function Lk(t){const e=Ik({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.Cn=new Uk}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(wr.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class Uk{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new $t(ut.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new $t(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qS=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(qS,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="LruGarbageCollector",FS=1048576;function Kb([t,e],[n,s]){const a=qe(t,n);return a===0?qe(e,s):a}class Bk{constructor(e){this.Ir=e,this.buffer=new $t(Kb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Kb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zk{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(Gb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pl(n)?ge(Gb,"Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.Vr(3e5)}))}}class qk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Td.ce);const s=new Bk(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(Hb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(s=T,d=Date.now(),this.removeTargets(e,s,n)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),ko()<=ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function Fk(t,e){return new qk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.changes=new La((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Gu(s.mutation,a,zn.empty(),ct.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Fe()){const a=Ta();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Ou();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ta();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Fe())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,a){let l=Is();const c=Hu(),d=(function(){return Hu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof kr)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Gu(y.mutation,p,y.mutation.getFieldMask(),ct.now())):c.set(p.key,zn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new Gk(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=Hu();let a=new yt(((c,d)=>c-d)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||zn.empty();y=d.applyToLocalView(p,y),s.set(m,y);const T=(a.get(d.batchId)||Fe()).add(m);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,T=xS();y.forEach((x=>{if(!l.has(x)){const N=NS(n.get(x),s.get(x));N!==null&&T.set(x,N),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return oe.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):oe.resolve(Ta());let d=nc,m=l;return c.next((p=>oe.forEach(p,((y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{m=m.insert(y,x)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Fe()))).next((y=>({batchId:d,changes:bS(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((s=>{let a=Ou();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Ou();return this.indexManager.getCollectionParents(e,l).next((d=>oe.forEach(d,(m=>{const p=(function(T,x){return new Sc(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((T,x)=>{c=c.insert(T,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,mn.newInvalidDocument(y)))}));let d=Ou();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Gu(y.mutation,p,zn.empty(),ct.now()),wd(n,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:qi(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:Lk(a.bundledQuery),readTime:qi(a.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.overlays=new yt(xe.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ta();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const a=Ta(),l=n.length+1,c=new xe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new yt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Ta(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Ta(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return oe.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new fk(n,s));let l=this.qr.get(n);l===void 0&&(l=Fe(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.Qr=new $t(Jt.$r),this.Ur=new $t(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new xe(new ut([])),s=new Jt(n,e),a=new Jt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new ut([])),s=new Jt(n,e),a=new Jt(n,e+1);let l=Fe();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Jt.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new hk(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Jt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Qy:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Jt(n,0),a=new Jt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new $t(qe);return n.forEach((a=>{const l=new Jt(a,0),c=new Jt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),oe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;xe.isDocumentKey(l)||(l=l.child(""));const c=new Jt(new xe(l),0);let d=new $t(qe);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),c),oe.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return oe.forEach(n.mutations,(a=>{const l=new Jt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Jt(n,0),a=this.Zr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.ri=e,this.docs=(function(){return new yt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let s=Is();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():mn.newInvalidDocument(a))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Is();const c=n.path,d=new xe(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||wP(xP(y),s)<=0||(a.has(y.key)||wd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ce(9500)}ii(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Zk(this)}getSize(e){return oe.resolve(this.size)}}class Zk extends Hk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.persistence=e,this.si=new La((n=>Zy(n)),Jy),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new a0,this.targetCount=0,this.ai=tl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new tl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Td(0),this.li=!1,this.li=!0,this.hi=new Qk,this.referenceDelegate=e(this),this.Pi=new Jk(this),this.indexManager=new jk,this.remoteDocumentCache=(function(a){return new Wk(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Ok(n),this.Ii=new $k(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Xk(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const a=new e4(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return oe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class e4 extends AP{constructor(e){super(),this.currentSequenceNumber=e}}class o0{constructor(e){this.persistence=e,this.Ri=new a0,this.Vi=null}static mi(e){return new o0(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(s=>{const a=xe.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Me.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class id{constructor(e,n){this.persistence=e,this.pi=new La((s=>NP(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Fk(this,n)}static mi(e,n){return new id(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,l.removeEntry(c,Me.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nf(e.data.value)),n}br(e,n,s){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Fe(),a=Fe();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new l0(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DI()?8:RP(gn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new t4;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(ko()<=ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(ko()<=ze.DEBUG&&ge("QueryEngine","Query:",Oo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(ko()<=ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):oe.resolve())}ys(e,n){if(Pb(n))return oe.resolve(null);let s=zi(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ed(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Fe(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,d);return this.Cs(n,p,c,m.readTime)?this.ys(e,ed(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return Pb(n)||a.isEqual(Me.min())?oe.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?oe.resolve(null):(ko()<=ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Oo(n)),this.vs(e,c,n,bP(a,nc)).next((d=>d)))}))}Ds(e,n){let s=new $t(TS(e));return n.forEach(((a,l)=>{wd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return ko()<=ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Oo(n)),this.ps.getDocumentsMatchingQuery(e,n,wr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="LocalStore",i4=3e8;class s4{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new yt(qe),this.xs=new La((l=>Zy(l)),Jy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function r4(t,e,n,s){return new s4(t,e,n,s)}async function GS(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Fe();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function a4(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const T=p.batch,x=T.keys();let N=oe.resolve();return x.forEach((L=>{N=N.next((()=>y.getEntry(m,L))).next((P=>{const j=p.docVersions.get(L);We(j!==null,48541),P.version.compareTo(j)<0&&(T.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Fe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function KS(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function o4(t,e){const n=De(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((y,T)=>{const x=a.get(T);if(!x)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,T))));let N=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(un.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):y.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(y.resumeToken,s)),a=a.insert(T,N),(function(P,j,U){return P.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=i4?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(x,N,y)&&d.push(n.Pi.updateTargetData(l,N))}));let m=Is(),p=Fe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(l4(l,c,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(Me.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return oe.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function l4(t,e,n){let s=Fe(),a=Fe();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Is();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Me.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ge(u0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function u4(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Qy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function c4(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,oe.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new yr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Xg(t,e,n){const s=De(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!pl(c))throw c;ge(u0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function $b(t,e,n){const s=De(t);let a=Me.min(),l=Fe();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const T=De(m),x=T.xs.get(y);return x!==void 0?oe.resolve(T.Ms.get(x)):T.Pi.getTargetData(p,y)})(s,c,zi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Me.min(),n?l:Fe()))).next((d=>(h4(s,QP(e),d),{documents:d,Qs:l})))))}function h4(t,e,n){let s=t.Os.get(e)||Me.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class Yb{constructor(){this.activeTargetIds=tk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f4{constructor(){this.Mo=new Yb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Yb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="ConnectivityMonitor";class Xb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(Qb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(Qb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff=null;function Wg(){return ff===null?ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():ff++,"0x"+ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="RestConnection",m4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Xf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=Wg(),d=this.zo(e,n.toUriEncodedString());ge(ig,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),y=cl(p);return this.Jo(e,d,m,s,y).then((T=>(ge(ig,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw tc(ig,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=m4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class y4 extends p4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=Wg();return new Promise(((d,m)=>{const p=new $w;p.setWithCredentials(!0),p.listenOnce(Yw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Cf.NO_ERROR:const T=p.getResponseJson();ge(dn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Cf.TIMEOUT:ge(dn,`RPC '${e}' ${c} timed out`),m(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const x=p.getStatus();if(ge(dn,`RPC '${e}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const L=N?.error;if(L&&L.status&&L.message){const P=(function(U){const Y=U.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Y)>=0?Y:ie.UNKNOWN})(L.status);m(new me(P,L.message))}else m(new me(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(dn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);ge(dn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Wg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Ww(),d=Xw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ge(dn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);this.I_(T);let x=!1,N=!1;const L=new g4({Yo:j=>{N?ge(dn,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(x||(ge(dn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),x=!0),ge(dn,`RPC '${e}' stream ${a} sending:`,j),T.send(j))},Zo:()=>T.close()}),P=(j,U,Y)=>{j.listen(U,(K=>{try{Y(K)}catch(W){setTimeout((()=>{throw W}),0)}}))};return P(T,ku.EventType.OPEN,(()=>{N||(ge(dn,`RPC '${e}' stream ${a} transport opened.`),L.o_())})),P(T,ku.EventType.CLOSE,(()=>{N||(N=!0,ge(dn,`RPC '${e}' stream ${a} transport closed`),L.a_(),this.E_(T))})),P(T,ku.EventType.ERROR,(j=>{N||(N=!0,tc(dn,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),L.a_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),P(T,ku.EventType.MESSAGE,(j=>{if(!N){const U=j.data[0];We(!!U,16349);const Y=U,K=Y?.error||Y[0]?.error;if(K){ge(dn,`RPC '${e}' stream ${a} received error:`,K);const W=K.status;let X=(function(S){const R=kt[S];if(R!==void 0)return DS(R)})(W),ue=K.message;X===void 0&&(X=ie.INTERNAL,ue="Unknown error status: "+W+" with message "+K.message),N=!0,L.a_(new me(X,ue)),T.close()}else ge(dn,`RPC '${e}' stream ${a} received:`,U),L.u_(U)}})),P(d,Qw.STAT_EVENT,(j=>{j.stat===Ug.PROXY?ge(dn,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===Ug.NOPROXY&&ge(dn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){return new bk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="PersistentStream";class YS{constructor(e,n,s,a,l,c,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $S(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new me(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(Wb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(Wb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class v4 extends YS{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Sk(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Me.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?qi(c.readTime):Me.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Qg(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Hg(m)?{documents:Ck(l,m)}:{query:jS(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=PS(l,c.resumeToken);const p=Kg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Me.min())>0){d.readTime=nd(l,c.snapshotVersion.toTimestamp());const p=Kg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const s=Dk(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Qg(this.serializer),n.removeTarget=e,this.q_(n)}}class _4 extends YS{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Rk(e.writeResults,e.commitTime),s=qi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Qg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Ak(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{}class E4 extends T4{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,$g(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ie.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,$g(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class b4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="RemoteStore";class x4{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{ja(this)&&(ge(Pa,"Restarting streams for network reachability change."),await(async function(m){const p=De(m);p.Ea.add(4),await Cc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Nd(p)})(this))}))})),this.Ra=new b4(s,a)}}async function Nd(t){if(ja(t))for(const e of t.da)await e(!0)}async function Cc(t){for(const e of t.da)await e(!1)}function QS(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),d0(n)?f0(n):gl(n).O_()&&h0(n,e))}function c0(t,e){const n=De(t),s=gl(n);n.Ia.delete(e),s.O_()&&XS(n,e),n.Ia.size===0&&(s.O_()?s.L_():ja(n)&&n.Ra.set("Unknown"))}function h0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gl(t).Y_(e)}function XS(t,e){t.Va.Ue(e),gl(t).Z_(e)}function f0(t){t.Va=new vk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),gl(t).start(),t.Ra.ua()}function d0(t){return ja(t)&&!gl(t).x_()&&t.Ia.size>0}function ja(t){return De(t).Ea.size===0}function WS(t){t.Va=void 0}async function w4(t){t.Ra.set("Online")}async function S4(t){t.Ia.forEach(((e,n)=>{h0(t,e)}))}async function A4(t,e){WS(t),d0(t)?(t.Ra.ha(e),f0(t)):t.Ra.set("Unknown")}async function R4(t,e,n){if(t.Ra.set("Online"),e instanceof VS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){ge(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await sd(t,s)}else if(e instanceof Mf?t.Va.Ze(e):e instanceof MS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Me.min()))try{const s=await KS(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(un.EMPTY_BYTE_STRING,y.snapshotVersion)),XS(l,m);const T=new yr(y.target,m,p,y.sequenceNumber);h0(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){ge(Pa,"Failed to raise snapshot:",s),await sd(t,s)}}async function sd(t,e,n){if(!pl(e))throw e;t.Ea.add(1),await Cc(t),t.Ra.set("Offline"),n||(n=()=>KS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(Pa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Nd(t)}))}function ZS(t,e){return e().catch((n=>sd(t,n,e)))}async function Id(t){const e=De(t),n=Cr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qy;for(;C4(e);)try{const a=await u4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,N4(e,a)}catch(a){await sd(e,a)}JS(e)&&eA(e)}function C4(t){return ja(t)&&t.Ta.length<10}function N4(t,e){t.Ta.push(e);const n=Cr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function JS(t){return ja(t)&&!Cr(t).x_()&&t.Ta.length>0}function eA(t){Cr(t).start()}async function I4(t){Cr(t).ra()}async function D4(t){const e=Cr(t);for(const n of t.Ta)e.ea(n.mutations)}async function M4(t,e,n){const s=t.Ta.shift(),a=i0.from(s,e,n);await ZS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Id(t)}async function V4(t,e){e&&Cr(t).X_&&await(async function(s,a){if((function(c){return pk(c)&&c!==ie.ABORTED})(a.code)){const l=s.Ta.shift();Cr(s).B_(),await ZS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Id(s)}})(t,e),JS(t)&&eA(t)}async function Zb(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),ge(Pa,"RemoteStore received new credentials");const s=ja(n);n.Ea.add(3),await Cc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nd(n)}async function P4(t,e){const n=De(t);e?(n.Ea.delete(2),await Nd(n)):e||(n.Ea.add(2),await Cc(n),n.Ra.set("Unknown"))}function gl(t){return t.ma||(t.ma=(function(n,s,a){const l=De(n);return l.sa(),new v4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:w4.bind(null,t),t_:S4.bind(null,t),r_:A4.bind(null,t),H_:R4.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),d0(t)?f0(t):t.Ra.set("Unknown")):(await t.ma.stop(),WS(t))}))),t.ma}function Cr(t){return t.fa||(t.fa=(function(n,s,a){const l=De(n);return l.sa(),new _4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:I4.bind(null,t),r_:V4.bind(null,t),ta:D4.bind(null,t),na:M4.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Id(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(Pa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new m0(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p0(t,e){if(Ns("AsyncQueue",`${e}: ${t}`),pl(t))return new me(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||xe.comparator(n.key,s.key):(n,s)=>xe.comparator(n.key,s.key),this.keyedMap=Ou(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.ga=new yt(xe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class nl{constructor(e,n,s,a,l,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new nl(e,n,Yo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class O4{constructor(){this.queries=ex(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=De(n),l=a.queries;a.queries=ex(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function ex(){return new La((t=>_S(t)),xd)}async function tA(t,e){const n=De(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new k4,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=p0(c,`Initialization of query '${Oo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&g0(n)}async function nA(t,e){const n=De(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function L4(t,e){const n=De(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&g0(n)}function j4(t,e,n){const s=De(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function g0(t){t.Ca.forEach((e=>{e.next()}))}var Zg,tx;(tx=Zg||(Zg={})).Ma="default",tx.Cache="cache";class iA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new nl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.key=e}}class rA{constructor(e){this.key=e}}class U4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=TS(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Jb,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,T)=>{const x=a.get(y),N=wd(this.query,T)?T:null,L=!!x&&this.mutatedKeys.has(x.key),P=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let j=!1;x&&N?x.data.isEqual(N.data)?L!==P&&(s.track({type:3,doc:N}),j=!0):this.su(x,N)||(s.track({type:2,doc:N}),j=!0,(m&&this.eu(N,m)>0||p&&this.eu(N,p)<0)&&(d=!0)):!x&&N?(s.track({type:0,doc:N}),j=!0):x&&!N&&(s.track({type:1,doc:x}),j=!0,(m||p)&&(d=!0)),j&&(N?(c=c.add(N),l=P?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,T)=>(function(N,L){const P=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:j})}};return P(N)-P(L)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new nl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new rA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new sA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const y0="SyncEngine";class B4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class z4{constructor(e){this.key=e,this.hu=!1}}class q4{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new La((d=>_S(d)),xd),this.Iu=new Map,this.Eu=new Set,this.du=new yt(xe.comparator),this.Au=new Map,this.Ru=new a0,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F4(t,e,n=!0){const s=hA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await aA(s,e,n,!0),a}async function H4(t,e){const n=hA(t);await aA(n,e,!0,!1)}async function aA(t,e,n,s){const a=await c4(t.localStore,zi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await G4(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&QS(t.remoteStore,a),d}async function G4(t,e,n,s,a){t.pu=(T,x,N)=>(async function(P,j,U,Y){let K=j.view.ru(U);K.Cs&&(K=await $b(P.localStore,j.query,!1).then((({documents:V})=>j.view.ru(V,K))));const W=Y&&Y.targetChanges.get(j.targetId),X=Y&&Y.targetMismatches.get(j.targetId)!=null,ue=j.view.applyChanges(K,P.isPrimaryClient,W,X);return ix(P,j.targetId,ue.au),ue.snapshot})(t,T,x,N);const l=await $b(t.localStore,e,!0),c=new U4(e,l.Qs),d=c.ru(l.documents),m=Rc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,m);ix(t,n,p.au);const y=new B4(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function K4(t,e,n){const s=De(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!xd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Xg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&c0(s.remoteStore,a.targetId),Jg(s,a.targetId)})).catch(ml)):(Jg(s,a.targetId),await Xg(s.localStore,a.targetId,!0))}async function $4(t,e){const n=De(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),c0(n.remoteStore,s.targetId))}async function Y4(t,e,n){const s=tO(t);try{const a=await(function(c,d){const m=De(c),p=ct.now(),y=d.reduce(((N,L)=>N.add(L.key)),Fe());let T,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let L=Is(),P=Fe();return m.Ns.getEntries(N,y).next((j=>{L=j,L.forEach(((U,Y)=>{Y.isValidDocument()||(P=P.add(U))}))})).next((()=>m.localDocuments.getOverlayedDocuments(N,L))).next((j=>{T=j;const U=[];for(const Y of d){const K=uk(Y,T.get(Y.key).overlayedDocument);K!=null&&U.push(new kr(Y.key,K,cS(K.value.mapValue),ai.exists(!0)))}return m.mutationQueue.addMutationBatch(N,p,U,d)})).next((j=>{x=j;const U=j.applyToLocalDocumentSet(T,P);return m.documentOverlayCache.saveOverlays(N,j.batchId,U)}))})).then((()=>({batchId:x.batchId,changes:bS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new yt(qe)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Nc(s,a.changes),await Id(s.remoteStore)}catch(a){const l=p0(a,"Failed to persist write");n.reject(l)}}async function oA(t,e){const n=De(t);try{const s=await o4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?We(c.hu,14607):a.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))})),await Nc(n,s,e)}catch(s){await ml(s)}}function nx(t,e,n){const s=De(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=De(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,T)=>{for(const x of T.Sa)x.va(d)&&(p=!0)})),p&&g0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Q4(t,e,n){const s=De(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new yt(xe.comparator);c=c.insert(l,mn.newNoDocument(l,Me.min()));const d=Fe().add(l),m=new Rd(Me.min(),new Map,new yt(qe),c,d);await oA(s,m),s.du=s.du.remove(l),s.Au.delete(e),v0(s)}else await Xg(s.localStore,e,!1).then((()=>Jg(s,e,n))).catch(ml)}async function X4(t,e){const n=De(t),s=e.batch.batchId;try{const a=await a4(n.localStore,e);uA(n,s,null),lA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nc(n,a)}catch(a){await ml(a)}}async function W4(t,e,n){const s=De(t);try{const a=await(function(c,d){const m=De(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((T=>(We(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(p,T)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);uA(s,e,n),lA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nc(s,a)}catch(a){await ml(a)}}function lA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function uA(t,e,n){const s=De(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||cA(t,s)}))}function cA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(c0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),v0(t))}function ix(t,e,n){for(const s of n)s instanceof sA?(t.Ru.addReference(s.key,e),Z4(t,s)):s instanceof rA?(ge(y0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||cA(t,s.key)):Ce(19791,{wu:s})}function Z4(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ge(y0,"New document in limbo: "+n),t.Eu.add(s),v0(t))}function v0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(ut.fromString(e)),s=t.fu.next();t.Au.set(s,new z4(n)),t.du=t.du.insert(n,s),QS(t.remoteStore,new yr(zi(e0(n.path)),s,"TargetPurposeLimboResolution",Td.ce))}}async function Nc(t,e,n){const s=De(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=l0.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const y=De(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>oe.forEach(p,(x=>oe.forEach(x.Es,(N=>y.persistence.referenceDelegate.addReference(T,x.targetId,N))).next((()=>oe.forEach(x.ds,(N=>y.persistence.referenceDelegate.removeReference(T,x.targetId,N)))))))))}catch(T){if(!pl(T))throw T;ge(u0,"Failed to update sequence numbers: "+T)}for(const T of p){const x=T.targetId;if(!T.fromCache){const N=y.Ms.get(x),L=N.snapshotVersion,P=N.withLastLimboFreeSnapshotVersion(L);y.Ms=y.Ms.insert(x,P)}}})(s.localStore,l))}async function J4(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){ge(y0,"User change. New user:",e.toKey());const s=await GS(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new me(ie.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nc(n,s.Ls)}}function eO(t,e){const n=De(t),s=n.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let a=Fe();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function hA(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q4.bind(null,e),e.Pu.H_=L4.bind(null,e.eventManager),e.Pu.yu=j4.bind(null,e.eventManager),e}function tO(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W4.bind(null,e),e}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return r4(this.persistence,new n4,e.initialUser,this.serializer)}Cu(e){return new HS(o0.mi,this.serializer)}Du(e){return new f4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class nO extends rd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof id,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new zk(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new HS((s=>id.mi(s,n)),this.serializer)}}class ey{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nx(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=J4.bind(null,this.syncEngine),await P4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new O4})()}createDatastore(e){const n=Cd(e.databaseInfo.databaseId),s=(function(l){return new y4(l)})(e.databaseInfo);return(function(l,c,d,m){return new E4(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,d){return new x4(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>nx(this.syncEngine,n,0)),(function(){return Xb.v()?new Xb:new d4})())}createSyncEngine(e,n){return(function(a,l,c,d,m,p,y){const T=new q4(a,l,c,d,m,p);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=De(n);ge(Pa,"RemoteStore shutting down."),s.Ea.add(5),await Cc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="FirestoreClient";class iO{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Sn.UNAUTHENTICATED,this.clientId=Yy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ge(Nr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ge(Nr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=p0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function rg(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Nr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await GS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function sx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sO(t);ge(Nr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Zb(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>Zb(e.remoteStore,a))),t._onlineComponents=e}async function sO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Nr,"Using user provided OfflineComponentProvider");try{await rg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;tc("Error using user provided cache. Falling back to memory cache: "+n),await rg(t,new rd)}}else ge(Nr,"Using default OfflineComponentProvider"),await rg(t,new nO(void 0));return t._offlineComponents}async function _0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Nr,"Using user provided OnlineComponentProvider"),await sx(t,t._uninitializedComponentsProvider._online)):(ge(Nr,"Using default OnlineComponentProvider"),await sx(t,new ey))),t._onlineComponents}function rO(t){return _0(t).then((e=>e.syncEngine))}function aO(t){return _0(t).then((e=>e.datastore))}async function dA(t){const e=await _0(t),n=e.eventManager;return n.onListen=F4.bind(null,e.syncEngine),n.onUnlisten=K4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=H4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$4.bind(null,e.syncEngine),n}function oO(t,e,n={}){const s=new Bi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new fA({next:x=>{y.Nu(),c.enqueueAndForget((()=>nA(l,T)));const N=x.docs.has(d);!N&&x.fromCache?p.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&x.fromCache&&m&&m.source==="server"?p.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),T=new iA(e0(d.path),y,{includeMetadataChanges:!0,qa:!0});return tA(l,T)})(await dA(t),t.asyncQueue,e,n,s))),s.promise}function lO(t,e,n={}){const s=new Bi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new fA({next:x=>{y.Nu(),c.enqueueAndForget((()=>nA(l,T))),x.fromCache&&m.source==="server"?p.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),T=new iA(d,y,{includeMetadataChanges:!0,qa:!0});return tA(l,T)})(await dA(t),t.asyncQueue,e,n,s))),s.promise}function uO(t,e,n){const s=new Bi;return t.asyncQueue.enqueueAndForget((async()=>{try{const a=await aO(t);s.resolve((async function(c,d,m){const p=De(c),{request:y,gt:T,parent:x}=Nk(p.serializer,YP(d),m);p.connection.$o||delete y.parent;const N=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,x,y,1)).filter((P=>!!P.result));We(N.length===1,64727);const L=N[0].result?.aggregateFields;return Object.keys(L).reduce(((P,j)=>(P[T[j]]=L[j],P)),{})})(a,e,n))}catch(a){s.reject(a)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="firestore.googleapis.com",ax=!0;class ox{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cO,this.ssl=ax}else this.host=e.host,this.ssl=e.ssl??ax;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FS)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class T0{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ox({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ox(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new fP;switch(s.type){case"firstParty":return new pP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=rx.get(n);s&&(ge("ComponentProvider","Removing Datastore"),rx.delete(n),s.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ua(this.firestore,e,this._query)}}class Kt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wc(n,Kt._jsonSchema))return new Kt(e,s||null,new xe(ut.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:jt("string",Kt._jsonSchemaVersion),referencePath:jt("string")};class xr extends Ua{constructor(e,n,s){super(e,n,e0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new xe(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function Ue(t,e,...n){if(t=Ut(t),Jw("collection","path",e),t instanceof T0){const s=ut.fromString(e,...n);return Tb(s),new xr(t,null,s)}{if(!(t instanceof Kt||t instanceof xr))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ut.fromString(e,...n));return Tb(s),new xr(t.firestore,null,s)}}function xa(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=Yy.newId()),Jw("doc","path",e),t instanceof T0){const s=ut.fromString(e,...n);return _b(s),new Kt(t,null,new xe(s))}{if(!(t instanceof Kt||t instanceof xr))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ut.fromString(e,...n));return _b(s),new Kt(t.firestore,t instanceof xr?t.converter:null,new xe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="AsyncQueue";class ux{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $S(this,"async_queue_retry"),this._c=()=>{const s=sg();s&&ge(lx,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Bi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;ge(lx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",cx(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=m0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ce(47125,{Pc:cx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class yl extends T0{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new ux,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ux(e),this._firestoreClient=void 0,await e}}}function hO(t,e,n){n||(n=Xf);const s=Oy(t,"firestore");if(s.isInitialized(n)){const a=s.getImmediate({identifier:n}),l=s.getOptions(n);if(Ca(l,e))return a;throw new me(ie.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new me(ie.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FS)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&cl(e.host)&&rw(e.host),s.initialize({options:e,instanceIdentifier:n})}function Ic(t){if(t._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fO(t),t._firestoreClient}function fO(t){const e=t._freezeSettings(),n=(function(a,l,c,d){return new VP(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,mA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new iO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class mO{constructor(e,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(un.fromBase64String(e))}catch(n){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ri(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wc(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:jt("string",ri._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(wc(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:jt("string",Fi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wc(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Hi(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:jt("string",Hi._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=/^__.*__$/;class gO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new kr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}class pA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new kr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class E0{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new E0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ad(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gA(this.Ac)&&pO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Cd(e)}Cc(e,n,s,a=!1){return new E0({Ac:e,methodName:n,Dc:s,path:ln.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b0(t){const e=t._freezeSettings(),n=Cd(t._databaseId);return new yO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yA(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);w0("Data must be an object, but it was:",c,s);const d=vA(s,c);let m,p;if(l.merge)m=new zn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const x=ty(e,T,n);if(!c.contains(x))throw new me(ie.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);TA(y,x)||y.push(x)}m=new zn(y),p=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,p=c.fieldTransforms;return new gO(new Cn(d),m,p)}class Vd extends Md{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vd}}class x0 extends Md{_toFieldTransform(e){return new rk(e.path,new ac)}isEqual(e){return e instanceof x0}}function vO(t,e,n,s){const a=t.Cc(1,e,n);w0("Data must be an object, but it was:",a,s);const l=[],c=Cn.empty();Pr(s,((m,p)=>{const y=S0(e,m,n);p=Ut(p);const T=a.yc(y);if(p instanceof Vd)l.push(y);else{const x=Dc(p,T);x!=null&&(l.push(y),c.set(y,x))}}));const d=new zn(l);return new pA(c,d,a.fieldTransforms)}function _O(t,e,n,s,a,l){const c=t.Cc(1,e,n),d=[ty(e,s,n)],m=[a];if(l.length%2!=0)throw new me(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)d.push(ty(e,l[x])),m.push(l[x+1]);const p=[],y=Cn.empty();for(let x=d.length-1;x>=0;--x)if(!TA(p,d[x])){const N=d[x];let L=m[x];L=Ut(L);const P=c.yc(N);if(L instanceof Vd)p.push(N);else{const j=Dc(L,P);j!=null&&(p.push(N),y.set(N,j))}}const T=new zn(p);return new pA(y,T,c.fieldTransforms)}function TO(t,e,n,s=!1){return Dc(n,t.Cc(s?4:3,e))}function Dc(t,e){if(_A(t=Ut(t)))return w0("Unsupported field value:",e,t),vA(t,e);if(t instanceof Md)return(function(s,a){if(!gA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=Dc(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nk(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ct.fromDate(s);return{timestampValue:nd(a.serializer,l)}}if(s instanceof ct){const l=new ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nd(a.serializer,l)}}if(s instanceof Fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ri)return{bytesValue:PS(a.serializer,s._byteString)};if(s instanceof Kt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:r0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Hi)return(function(c,d){return{mapValue:{fields:{[lS]:{stringValue:uS},[Wf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return t0(d.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${_d(s)}`)})(t,e)}function vA(t,e){const n={};return nS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pr(t,((s,a)=>{const l=Dc(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function _A(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof Fi||t instanceof ri||t instanceof Kt||t instanceof Md||t instanceof Hi)}function w0(t,e,n){if(!_A(n)||!eS(n)){const s=_d(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function ty(t,e,n){if((e=Ut(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return S0(t,e);throw ad("Field path arguments must be of type string or ",t,!1,void 0,n)}const EO=new RegExp("[~\\*/\\[\\]]");function S0(t,e,n){if(e.search(EO)>=0)throw ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dd(...e.split("."))._internalPath}catch{throw ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ad(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new me(ie.INVALID_ARGUMENT,d+t+m)}function TA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bO extends EA{data(){return super.data()}}function A0(t,e){return typeof e=="string"?S0(t,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R0{}class bA extends R0{}function Bn(t,e,...n){let s=[];e instanceof R0&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof C0)).length,d=l.filter((m=>m instanceof Pd)).length;if(c>1||c>0&&d>0)throw new me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Pd extends bA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Pd(e,n,s)}_apply(e){const n=this._parse(e);return wA(e._query,n),new Ua(e.firestore,e.converter,Gg(e._query,n))}_parse(e){const n=b0(e.firestore);return(function(l,c,d,m,p,y,T){let x;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){fx(T,y);const L=[];for(const P of T)L.push(hx(m,l,P));x={arrayValue:{values:L}}}else x=hx(m,l,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||fx(T,y),x=TO(d,c,T,y==="in"||y==="not-in");return Lt.create(p,y,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rn(t,e,n){const s=e,a=A0("where",t);return Pd._create(a,s,n)}class C0 extends R0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)wA(c,m),c=Gg(c,m)})(e._query,n),new Ua(e.firestore,e.converter,Gg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class N0 extends bA{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new N0(e,n,s)}_apply(e){return new Ua(e.firestore,e.converter,ed(e._query,this._limit,this._limitType))}}function xA(t){return N0._create("limit",t,"F")}function hx(t,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yS(e)&&n.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ut.fromString(n));if(!xe.isDocumentKey(s))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Cb(t,new xe(s))}if(n instanceof Kt)return Cb(t,n._key);throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(n)}.`)}function fx(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wA(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wO{convertValue(e,n="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Pr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Wf].arrayValue?.values?.map((s=>Rt(s.doubleValue)));return new Hi(n)}convertGeoPoint(e){return new Fi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=bd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const n=Sr(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);We(zS(s),9688,{name:e});const a=new sc(s.get(1),s.get(3)),l=new xe(s.popFirst(5));return a.isEqual(n)||Ns(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}function SO(){return new dO("count")}class ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wa extends EA{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(A0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:jt("string",wa._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Vf extends wa{data(e={}){return super.data(e)}}class Qo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ju(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Vf(this._firestore,this._userDataWriter,s.key,s,new ju(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ju(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ju(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:AO(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){t=Va(t,Kt);const e=Va(t.firestore,yl);return oO(Ic(e),t._key).then((n=>RO(e,t,n)))}Qo._jsonSchemaVersion="firestore/querySnapshot/1.0",Qo._jsonSchema={type:jt("string",Qo._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class D0 extends wO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function lt(t){t=Va(t,Ua);const e=Va(t.firestore,yl),n=Ic(e),s=new D0(e);return xO(t._query),lO(n,t._query).then((a=>new Qo(e,s,t,a)))}function Li(t,e){const n=Va(t.firestore,yl),s=xa(t),a=SA(t.converter,e);return AA(n,[yA(b0(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,ai.exists(!1))]).then((()=>s))}function AA(t,e){return(function(s,a){const l=new Bi;return s.asyncQueue.enqueueAndForget((async()=>Y4(await rO(s),a,l))),l.promise})(Ic(t),e)}function RO(t,e,n){const s=n.docs.get(e._key),a=new D0(t);return new wa(t,a,e._key,s,new ju(n.hasPendingWrites,n.fromCache),e.converter)}function dx(t){return CO(t,{count:SO()})}function CO(t,e){const n=Va(t.firestore,yl),s=Ic(n),a=DP(e,((l,c)=>new dk(c,l.aggregateType,l._internalFieldPath)));return uO(s,t._query,a).then((l=>(function(d,m,p){const y=new D0(d);return new mO(m,y,p)})(n,t,l)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=b0(e)}set(e,n,s){this._verifyNotCommitted();const a=ag(e,this._firestore),l=SA(a.converter,n,s),c=yA(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,ai.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=ag(e,this._firestore);let c;return c=typeof(n=Ut(n))=="string"||n instanceof Dd?_O(this._dataReader,"WriteBatch.update",l._key,n,s,a):vO(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,ai.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ag(e,this._firestore);return this._mutations=this._mutations.concat(new n0(n._key,ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ag(t,e){if((t=Ut(t)).firestore!==e)throw new me(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function vr(){return new x0("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){return Ic(t=Va(t,yl)),new NO(t,(e=>AA(t,e)))}(function(e,n=!0){(function(a){dl=a})(hl),Wo(new Na("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new yl(new dP(s.getProvider("auth-internal")),new gP(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Er(pb,gb,e),Er(pb,gb,"esm2020")})();const RA={apiKey:"AIzaSyDUCyCMuw1WxUsO52rf3K5a01CRbI2Qgrg",authDomain:"stdserver-94bec.firebaseapp.com",projectId:"stdserver-94bec",storageBucket:"stdserver-94bec.firebasestorage.app",messagingSenderId:"104857912312",appId:"1:104857912312:web:0f9468476fec38151acc0d",measurementId:"G-B4RR6XWWDK"},CA=Ly(RA),od=Gw(CA),DO=Ly(RA,"Secondary"),MO=Gw(DO),Ve=hO(CA,{experimentalAutoDetectLongPolling:!0}),NA=D.createContext(void 0);function VO({children:t}){const[e,n]=D.useState(null),[s,a]=D.useState(!0);D.useEffect(()=>{const p=WM(od,y=>{n(y),a(!1)});return()=>p()},[]);const m={user:e,loading:s,startLoading:()=>a(!0),stopLoading:()=>a(!1),signOut:()=>ZM(od)};return _.jsx(NA.Provider,{value:m,children:s?_.jsx("div",{className:"flex h-screen items-center justify-center bg-[#0d0d0d]",children:_.jsx("p",{className:"text-gray-400",children:"Yükleniyor…"})}):t})}function kd(){const t=D.useContext(NA);if(!t)throw new Error("useAuth, AuthProvider içinde kullanılmalıdır.");return t}/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),mx=t=>{const e=kO(t);return e.charAt(0).toUpperCase()+e.slice(1)},IA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),OO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>D.createElement("svg",{ref:m,...LO,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:IA("lucide",a),...!l&&!OO(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>D.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const n=D.forwardRef(({className:s,...a},l)=>D.createElement(jO,{ref:l,iconNode:e,className:IA(`lucide-${PO(mx(t))}`,`lucide-${t}`,s),...a}));return n.displayName=mx(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Od=vt("book-open",UO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],zO=vt("calendar-clock",BO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],M0=vt("chart-column",qO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],DA=vt("chevron-down",FO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Sa=vt("clipboard-list",HO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],vl=vt("external-link",GO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$O=vt("eye-off",KO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QO=vt("eye",YO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],V0=vt("file-text",XO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ZO=vt("funnel",WO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ny=vt("layers",JO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],t3=vt("lock",e3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],i3=vt("mail",n3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],r3=vt("presentation",s3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],o3=vt("refresh-cw",a3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],u3=vt("search",l3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],MA=vt("send",c3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],px=vt("square-check-big",h3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 7v10",key:"d5nglc"}],["path",{d:"M11 7v10",key:"pptsnr"}],["path",{d:"m15 7 2 10",key:"1m7qm5"}]],P0=vt("square-library",f3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],gx=vt("square",d3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],p3=vt("target",m3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],y3=vt("user-round",g3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],iy=vt("users",v3),_3="/assets/logo-BMvlc10b.png",VA=D.createContext({});function T3(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const k0=typeof window<"u",E3=k0?D.useLayoutEffect:D.useEffect,O0=D.createContext(null);function L0(t,e){t.indexOf(e)===-1&&t.push(e)}function j0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ds=(t,e,n)=>n>e?e:n<t?t:n;let U0=()=>{};const Ms={},PA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function kA(t){return typeof t=="object"&&t!==null}const OA=t=>/^0[^.\s]+$/u.test(t);function B0(t){let e;return()=>(e===void 0&&(e=t()),e)}const oi=t=>t,b3=(t,e)=>n=>e(t(n)),Mc=(...t)=>t.reduce(b3),uc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class z0{constructor(){this.subscriptions=[]}add(e){return L0(this.subscriptions,e),()=>j0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gi=t=>t*1e3,Ki=t=>t/1e3;function LA(t,e){return e?t*(1e3/e):0}const jA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,x3=1e-7,w3=12;function S3(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=jA(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>x3&&++d<w3);return c}function Vc(t,e,n,s){if(t===e&&n===s)return oi;const a=l=>S3(l,0,1,t,n);return l=>l===0||l===1?l:jA(a(l),e,s)}const UA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,BA=t=>e=>1-t(1-e),zA=Vc(.33,1.53,.69,.99),q0=BA(zA),qA=UA(q0),FA=t=>(t*=2)<1?.5*q0(t):.5*(2-Math.pow(2,-10*(t-1))),F0=t=>1-Math.sin(Math.acos(t)),HA=BA(F0),GA=UA(F0),A3=Vc(.42,0,1,1),R3=Vc(0,0,.58,1),KA=Vc(.42,0,.58,1),C3=t=>Array.isArray(t)&&typeof t[0]!="number",$A=t=>Array.isArray(t)&&typeof t[0]=="number",N3={linear:oi,easeIn:A3,easeInOut:KA,easeOut:R3,circIn:F0,circInOut:GA,circOut:HA,backIn:q0,backInOut:qA,backOut:zA,anticipate:FA},I3=t=>typeof t=="string",yx=t=>{if($A(t)){U0(t.length===4);const[e,n,s,a]=t;return Vc(e,n,s,a)}else if(I3(t))return N3[t];return t},df=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function D3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,T=!1,x=!1)=>{const L=x&&a?n:s;return T&&c.add(y),L.has(y)||L.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const M3=40;function YA(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=df.reduce((K,W)=>(K[W]=D3(l),K),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:T,preRender:x,render:N,postRender:L}=c,P=()=>{const K=Ms.useManualTiming?a.timestamp:performance.now();n=!1,Ms.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(K-a.timestamp,M3),1)),a.timestamp=K,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),T.process(a),x.process(a),N.process(a),L.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(P))},j=()=>{n=!0,s=!0,a.isProcessing||t(P)};return{schedule:df.reduce((K,W)=>{const X=c[W];return K[W]=(ue,V=!1,S=!1)=>(n||j(),X.schedule(ue,V,S)),K},{}),cancel:K=>{for(let W=0;W<df.length;W++)c[df[W]].cancel(K)},state:a,steps:c}}const{schedule:dt,cancel:Ir,state:an,steps:og}=YA(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let Pf;function V3(){Pf=void 0}const Nn={now:()=>(Pf===void 0&&Nn.set(an.isProcessing||Ms.useManualTiming?an.timestamp:performance.now()),Pf),set:t=>{Pf=t,queueMicrotask(V3)}},QA=t=>e=>typeof e=="string"&&e.startsWith(t),H0=QA("--"),P3=QA("var(--"),G0=t=>P3(t)?k3.test(t.split("/*")[0].trim()):!1,k3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_l={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cc={..._l,transform:t=>Ds(0,1,t)},mf={..._l,default:1},Ku=t=>Math.round(t*1e5)/1e5,K0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O3(t){return t==null}const L3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$0=(t,e)=>n=>!!(typeof n=="string"&&L3.test(n)&&n.startsWith(t)||e&&!O3(n)&&Object.prototype.hasOwnProperty.call(n,e)),XA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(K0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},j3=t=>Ds(0,255,t),lg={..._l,transform:t=>Math.round(j3(t))},Ea={test:$0("rgb","red"),parse:XA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+lg.transform(t)+", "+lg.transform(e)+", "+lg.transform(n)+", "+Ku(cc.transform(s))+")"};function U3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const sy={test:$0("#"),parse:U3,transform:Ea.transform},Pc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),hr=Pc("deg"),$i=Pc("%"),Ie=Pc("px"),B3=Pc("vh"),z3=Pc("vw"),vx={...$i,parse:t=>$i.parse(t)/100,transform:t=>$i.transform(t*100)},Uo={test:$0("hsl","hue"),parse:XA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+$i.transform(Ku(e))+", "+$i.transform(Ku(n))+", "+Ku(cc.transform(s))+")"},Ot={test:t=>Ea.test(t)||sy.test(t)||Uo.test(t),parse:t=>Ea.test(t)?Ea.parse(t):Uo.test(t)?Uo.parse(t):sy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ea.transform(t):Uo.transform(t),getAnimatableNone:t=>{const e=Ot.parse(t);return e.alpha=0,Ot.transform(e)}},q3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function F3(t){return isNaN(t)&&typeof t=="string"&&(t.match(K0)?.length||0)+(t.match(q3)?.length||0)>0}const WA="number",ZA="color",H3="var",G3="var(",_x="${}",K3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(K3,m=>(Ot.test(m)?(s.color.push(l),a.push(ZA),n.push(Ot.parse(m))):m.startsWith(G3)?(s.var.push(l),a.push(H3),n.push(m)):(s.number.push(l),a.push(WA),n.push(parseFloat(m))),++l,_x)).split(_x);return{values:n,split:d,indexes:s,types:a}}function JA(t){return hc(t).values}function eR(t){const{split:e,types:n}=hc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===WA?l+=Ku(a[c]):d===ZA?l+=Ot.transform(a[c]):l+=a[c]}return l}}const $3=t=>typeof t=="number"?0:Ot.test(t)?Ot.getAnimatableNone(t):t;function Y3(t){const e=JA(t);return eR(t)(e.map($3))}const Dr={test:F3,parse:JA,createTransformer:eR,getAnimatableNone:Y3};function ug(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Q3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=ug(m,d,t+1/3),l=ug(m,d,t),c=ug(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function ld(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,cg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},X3=[sy,Ea,Uo],W3=t=>X3.find(e=>e.test(t));function Tx(t){const e=W3(t);if(!e)return!1;let n=e.parse(t);return e===Uo&&(n=Q3(n)),n}const Ex=(t,e)=>{const n=Tx(t),s=Tx(e);if(!n||!s)return ld(t,e);const a={...n};return l=>(a.red=cg(n.red,s.red,l),a.green=cg(n.green,s.green,l),a.blue=cg(n.blue,s.blue,l),a.alpha=gt(n.alpha,s.alpha,l),Ea.transform(a))},ry=new Set(["none","hidden"]);function Z3(t,e){return ry.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function J3(t,e){return n=>gt(t,e,n)}function Y0(t){return typeof t=="number"?J3:typeof t=="string"?G0(t)?ld:Ot.test(t)?Ex:nL:Array.isArray(t)?tR:typeof t=="object"?Ot.test(t)?Ex:eL:ld}function tR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Y0(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function eL(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Y0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function tL(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const nL=(t,e)=>{const n=Dr.createTransformer(e),s=hc(t),a=hc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?ry.has(t)&&!a.values.length||ry.has(e)&&!s.values.length?Z3(t,e):Mc(tR(tL(s,a),a.values),n):ld(t,e)};function nR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):Y0(t)(t,e)}const iL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Ir(e),now:()=>an.isProcessing?an.timestamp:Nn.now()}},iR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ud=2e4;function Q0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ud;)e+=n,s=t.next(e);return e>=ud?1/0:e}function sL(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Q0(s),ud);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Ki(a)}}const rL=5;function sR(t,e,n){const s=Math.max(e-rL,0);return LA(n-t(s),e-s)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hg=.001;function aL({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:s=bt.mass}){let a,l,c=1-e;c=Ds(bt.minDamping,bt.maxDamping,c),t=Ds(bt.minDuration,bt.maxDuration,Ki(t)),c<1?(a=p=>{const y=p*c,T=y*t,x=y-n,N=ay(p,c),L=Math.exp(-T);return hg-x/N*L},l=p=>{const T=p*c*t,x=T*n+n,N=Math.pow(c,2)*Math.pow(p,2)*t,L=Math.exp(-T),P=ay(Math.pow(p,2),c);return(-a(p)+hg>0?-1:1)*((x-N)*L)/P}):(a=p=>{const y=Math.exp(-p*t),T=(p-n)*t+1;return-hg+y*T},l=p=>{const y=Math.exp(-p*t),T=(n-p)*(t*t);return y*T});const d=5/t,m=lL(a,l,d);if(t=Gi(t),isNaN(m))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const oL=12;function lL(t,e,n){let s=n;for(let a=1;a<oL;a++)s=s-t(s)/e(s);return s}function ay(t,e){return t*Math.sqrt(1-e*e)}const uL=["duration","bounce"],cL=["stiffness","damping","mass"];function bx(t,e){return e.some(n=>t[n]!==void 0)}function hL(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!bx(t,cL)&&bx(t,uL))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ds(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const n=aL(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function cd(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:T,velocity:x,isResolvedFromDuration:N}=hL({...n,velocity:-Ki(n.velocity||0)}),L=x||0,P=p/(2*Math.sqrt(m*y)),j=c-l,U=Ki(Math.sqrt(m/y)),Y=Math.abs(j)<5;s||(s=Y?bt.restSpeed.granular:bt.restSpeed.default),a||(a=Y?bt.restDelta.granular:bt.restDelta.default);let K;if(P<1){const X=ay(U,P);K=ue=>{const V=Math.exp(-P*U*ue);return c-V*((L+P*U*j)/X*Math.sin(X*ue)+j*Math.cos(X*ue))}}else if(P===1)K=X=>c-Math.exp(-U*X)*(j+(L+U*j)*X);else{const X=U*Math.sqrt(P*P-1);K=ue=>{const V=Math.exp(-P*U*ue),S=Math.min(X*ue,300);return c-V*((L+P*U*j)*Math.sinh(S)+X*j*Math.cosh(S))/X}}const W={calculatedDuration:N&&T||null,next:X=>{const ue=K(X);if(N)d.done=X>=T;else{let V=X===0?L:0;P<1&&(V=X===0?Gi(L):sR(K,X,ue));const S=Math.abs(V)<=s,R=Math.abs(c-ue)<=a;d.done=S&&R}return d.value=d.done?c:ue,d},toString:()=>{const X=Math.min(Q0(W),ud),ue=iR(V=>W.next(X*V).value,X,30);return X+"ms "+ue},toTransition:()=>{}};return W}cd.applyToOptions=t=>{const e=sL(t,100,cd);return t.ease=e.ease,t.duration=Gi(e.duration),t.type="keyframes",t};function oy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const T=t[0],x={done:!1,value:T},N=S=>d!==void 0&&S<d||m!==void 0&&S>m,L=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let P=n*e;const j=T+P,U=c===void 0?j:c(j);U!==j&&(P=U-T);const Y=S=>-P*Math.exp(-S/s),K=S=>U+Y(S),W=S=>{const R=Y(S),M=K(S);x.done=Math.abs(R)<=p,x.value=x.done?U:M};let X,ue;const V=S=>{N(x.value)&&(X=S,ue=cd({keyframes:[x.value,L(x.value)],velocity:sR(K,S,x.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return V(0),{calculatedDuration:null,next:S=>{let R=!1;return!ue&&X===void 0&&(R=!0,W(S),V(S)),X!==void 0&&S>=X?ue.next(S-X):(!R&&W(S),x)}}}function fL(t,e,n){const s=[],a=n||Ms.mix||nR,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||oi:e;d=Mc(m,d)}s.push(d)}return s}function dL(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(U0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=fL(e,s,a),m=d.length,p=y=>{if(c&&y<t[0])return e[0];let T=0;if(m>1)for(;T<t.length-2&&!(y<t[T+1]);T++);const x=uc(t[T],t[T+1],y);return d[T](x)};return n?y=>p(Ds(t[0],t[l-1],y)):p}function mL(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=uc(0,e,s);t.push(gt(n,1,a))}}function pL(t){const e=[0];return mL(e,t.length-1),e}function gL(t,e){return t.map(n=>n*e)}function yL(t,e){return t.map(()=>e||KA).splice(0,t.length-1)}function $u({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=C3(s)?s.map(yx):yx(s),l={done:!1,value:e[0]},c=gL(n&&n.length===e.length?n:pL(e),t),d=dL(c,e,{ease:Array.isArray(a)?a:yL(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const vL=t=>t!==null;function X0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(vL),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const _L={decay:oy,inertia:oy,tween:$u,keyframes:$u,spring:cd};function rR(t){typeof t.type=="string"&&(t.type=_L[t.type])}class W0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const TL=t=>t/100;class Z0 extends W0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;rR(e);const{type:n=$u,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const m=n||$u;m!==$u&&typeof d[0]!="number"&&(this.mixKeyframes=Mc(TL,nR(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Q0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:T,repeatType:x,repeatDelay:N,type:L,onUpdate:P,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,W=s;if(T){const S=Math.min(this.currentTime,a)/d;let R=Math.floor(S),M=S%1;!M&&S>=1&&(M=1),M===1&&R--,R=Math.min(R,T+1),!!(R%2)&&(x==="reverse"?(M=1-M,N&&(M-=N/d)):x==="mirror"&&(W=c)),K=Ds(0,1,M)*d}const X=Y?{done:!1,value:y[0]}:W.next(K);l&&(X.value=l(X.value));let{done:ue}=X;!Y&&m!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return V&&L!==oy&&(X.value=X0(y,this.options,j,this.speed)),P&&P(X.value),V&&this.finish(),X}then(e,n){return this.finished.then(e,n)}get duration(){return Ki(this.calculatedDuration)}get time(){return Ki(this.currentTime)}set time(e){e=Gi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ki(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=iL,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function EL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ba=t=>t*180/Math.PI,ly=t=>{const e=ba(Math.atan2(t[1],t[0]));return uy(e)},bL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ly,rotateZ:ly,skewX:t=>ba(Math.atan(t[1])),skewY:t=>ba(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},uy=t=>(t=t%360,t<0&&(t+=360),t),xx=ly,wx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Sx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),xL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wx,scaleY:Sx,scale:t=>(wx(t)+Sx(t))/2,rotateX:t=>uy(ba(Math.atan2(t[6],t[5]))),rotateY:t=>uy(ba(Math.atan2(-t[2],t[0]))),rotateZ:xx,rotate:xx,skewX:t=>ba(Math.atan(t[4])),skewY:t=>ba(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cy(t){return t.includes("scale")?1:0}function hy(t,e){if(!t||t==="none")return cy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=xL,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=bL,a=d}if(!a)return cy(e);const l=s[e],c=a[1].split(",").map(SL);return typeof l=="function"?l(c):c[l]}const wL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return hy(n,e)};function SL(t){return parseFloat(t.trim())}const Tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],El=new Set(Tl),Ax=t=>t===_l||t===Ie,AL=new Set(["x","y","z"]),RL=Tl.filter(t=>!AL.has(t));function CL(t){const e=[];return RL.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Aa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>hy(e,"x"),y:(t,{transform:e})=>hy(e,"y")};Aa.translateX=Aa.x;Aa.translateY=Aa.y;const Ra=new Set;let fy=!1,dy=!1,my=!1;function aR(){if(dy){const t=Array.from(Ra).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=CL(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}dy=!1,fy=!1,Ra.forEach(t=>t.complete(my)),Ra.clear()}function oR(){Ra.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dy=!0)})}function NL(){my=!0,oR(),aR(),my=!1}class J0{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ra.add(this),fy||(fy=!0,dt.read(oR),dt.resolveKeyframes(aR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}EL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ra.delete(this)}cancel(){this.state==="scheduled"&&(Ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const IL=t=>t.startsWith("--");function DL(t,e,n){IL(e)?t.style.setProperty(e,n):t.style[e]=n}const ML=B0(()=>window.ScrollTimeline!==void 0),VL={};function PL(t,e){const n=B0(t);return()=>VL[e]??n()}const lR=PL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Rx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uu([0,.65,.55,1]),circOut:Uu([.55,0,1,.45]),backIn:Uu([.31,.01,.66,-.59]),backOut:Uu([.33,1.53,.69,.99])};function uR(t,e){if(t)return typeof t=="function"?lR()?iR(t,e):"ease-out":$A(t)?Uu(t):Array.isArray(t)?t.map(n=>uR(n,e)||Rx.easeOut):Rx[t]}function kL(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const T=uR(d,a);Array.isArray(T)&&(y.easing=T);const x={delay:s,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(y,x)}function cR(t){return typeof t=="function"&&"applyToOptions"in t}function OL({type:t,...e}){return cR(t)&&lR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class LL extends W0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,U0(typeof e.type!="string");const p=OL(e);this.animation=kL(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=X0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):DL(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ki(Number(e))}get time(){return Ki(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Gi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ML()?(this.animation.timeline=e,oi):n(this)}}const hR={anticipate:FA,backInOut:qA,circInOut:GA};function jL(t){return t in hR}function UL(t){typeof t.ease=="string"&&jL(t.ease)&&(t.ease=hR[t.ease])}const Cx=10;class BL extends LL{constructor(e){UL(e),rR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Z0({...c,autoplay:!1}),m=Gi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-Cx).value,d.sample(m).value,Cx),d.stop()}}const Nx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Dr.test(t)||t==="0")&&!t.startsWith("url("));function zL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qL(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Nx(a,e),d=Nx(l,e);return!c||!d?!1:zL(t)||(n==="spring"||cR(n))&&s}function py(t){t.duration=0,t.type}const FL=new Set(["opacity","clipPath","filter","transform"]),HL=B0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function GL(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return HL()&&n&&FL.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const KL=40;class $L extends W0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Nn.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,...T},N=y?.KeyframeResolver||J0;this.keyframeResolver=new N(d,(L,P,j)=>this.onKeyframesResolved(L,P,x,!j),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Nn.now(),qL(e,l,c,d)||((Ms.instantAnimations||!m)&&y?.(X0(e,s,n)),e[0]=e[e.length-1],py(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>KL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},N=!p&&GL(x)?new BL({...x,element:x.motionValue.owner.current}):new Z0(x);N.finished.then(()=>this.notifyFinished()).catch(oi),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),NL()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const YL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QL(t){const e=YL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function fR(t,e,n=1){const[s,a]=QL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return PA(c)?parseFloat(c):c}return G0(a)?fR(a,e,n+1):a}function ev(t,e){return t?.[e]??t?.default??t}const dR=new Set(["width","height","top","left","right","bottom",...Tl]),XL={test:t=>t==="auto",parse:t=>t},mR=t=>e=>e.test(t),pR=[_l,Ie,$i,hr,z3,B3,XL],Ix=t=>pR.find(mR(t));function WL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||OA(t):!0}const ZL=new Set(["brightness","contrast","saturate","opacity"]);function JL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(K0)||[];if(!s)return t;const a=n.replace(s,"");let l=ZL.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const ej=/\b([a-z-]*)\(.*?\)/gu,gy={...Dr,getAnimatableNone:t=>{const e=t.match(ej);return e?e.map(JL).join(" "):t}},Dx={..._l,transform:Math.round},tj={rotate:hr,rotateX:hr,rotateY:hr,rotateZ:hr,scale:mf,scaleX:mf,scaleY:mf,scaleZ:mf,skew:hr,skewX:hr,skewY:hr,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:cc,originX:vx,originY:vx,originZ:Ie},tv={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...tj,zIndex:Dx,fillOpacity:cc,strokeOpacity:cc,numOctaves:Dx},nj={...tv,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:gy,WebkitFilter:gy},gR=t=>nj[t];function yR(t,e){let n=gR(t);return n!==gy&&(n=Dr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ij=new Set(["auto","none","0"]);function sj(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!ij.has(l)&&hc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=yR(n,a)}class rj extends J0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),G0(p))){const y=fR(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!dR.has(s)||e.length!==2)return;const[a,l]=e,c=Ix(a),d=Ix(l);if(c!==d)if(Ax(c)&&Ax(d))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Aa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||WL(e[a]))&&s.push(a);s.length&&sj(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Aa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Aa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function aj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const vR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function oj(t){return kA(t)&&"offsetHeight"in t}const Mx=30,lj=t=>!isNaN(parseFloat(t));class uj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Nn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new z0);const s=this.events[e].add(n);return e==="change"?()=>{s(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Mx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Mx);return LA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function il(t,e){return new uj(t,e)}const{schedule:nv}=YA(queueMicrotask,!1),mi={x:!1,y:!1};function _R(){return mi.x||mi.y}function cj(t){return t==="x"||t==="y"?mi[t]?null:(mi[t]=!0,()=>{mi[t]=!1}):mi.x||mi.y?null:(mi.x=mi.y=!0,()=>{mi.x=mi.y=!1})}function TR(t,e){const n=aj(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Vx(t){return!(t.pointerType==="touch"||_R())}function hj(t,e,n={}){const[s,a,l]=TR(t,n),c=d=>{if(!Vx(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const y=T=>{Vx(T)&&(p(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const ER=(t,e)=>e?t===e?!0:ER(t,e.parentElement):!1,iv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,fj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dj(t){return fj.has(t.tagName)||t.tabIndex!==-1}const kf=new WeakSet;function Px(t){return e=>{e.key==="Enter"&&t(e)}}function fg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mj=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Px(()=>{if(kf.has(n))return;fg(n,"down");const a=Px(()=>{fg(n,"up")}),l=()=>fg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function kx(t){return iv(t)&&!_R()}function pj(t,e,n={}){const[s,a,l]=TR(t,n),c=d=>{const m=d.currentTarget;if(!kx(d))return;kf.add(m);const p=e(m,d),y=(N,L)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",x),kf.has(m)&&kf.delete(m),kx(N)&&typeof p=="function"&&p(N,{success:L})},T=N=>{y(N,m===window||m===document||n.useGlobalTarget||ER(m,N.target))},x=N=>{y(N,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",x,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),oj(d)&&(d.addEventListener("focus",p=>mj(p,a)),!dj(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function bR(t){return kA(t)&&"ownerSVGElement"in t}function gj(t){return bR(t)&&t.tagName==="svg"}const pn=t=>!!(t&&t.getVelocity),yj=[...pR,Ot,Dr],vj=t=>yj.find(mR(t)),xR=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _j(t=!0){const e=D.useContext(O0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=D.useId();D.useEffect(()=>{if(t)return a(l)},[t]);const c=D.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const wR=D.createContext({strict:!1}),Ox={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sl={};for(const t in Ox)sl[t]={isEnabled:e=>Ox[t].some(n=>!!e[n])};function Tj(t){for(const e in t)sl[e]={...sl[e],...t[e]}}const Ej=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ej.has(t)}let SR=t=>!hd(t);function bj(t){typeof t=="function"&&(SR=e=>e.startsWith("on")?!hd(e):t(e))}try{bj(require("@emotion/is-prop-valid").default)}catch{}function xj(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(SR(a)||n===!0&&hd(a)||!e&&!hd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Ld=D.createContext({});function jd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function fc(t){return typeof t=="string"||Array.isArray(t)}const sv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rv=["initial",...sv];function Ud(t){return jd(t.animate)||rv.some(e=>fc(t[e]))}function AR(t){return!!(Ud(t)||t.variants)}function wj(t,e){if(Ud(t)){const{initial:n,animate:s}=t;return{initial:n===!1||fc(n)?n:void 0,animate:fc(s)?s:void 0}}return t.inherit!==!1?e:{}}function Sj(t){const{initial:e,animate:n}=wj(t,D.useContext(Ld));return D.useMemo(()=>({initial:e,animate:n}),[Lx(e),Lx(n)])}function Lx(t){return Array.isArray(t)?t.join(" "):t}const dc={};function Aj(t){for(const e in t)dc[e]=t[e],H0(e)&&(dc[e].isCSSVariable=!0)}function RR(t,{layout:e,layoutId:n}){return El.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dc[t]||t==="opacity")}const Rj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Cj=Tl.length;function Nj(t,e,n){let s="",a=!0;for(let l=0;l<Cj;l++){const c=Tl[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=vR(d,tv[c]);if(!m){a=!1;const y=Rj[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function av(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const p=e[m];if(El.has(m)){c=!0;continue}else if(H0(m)){a[m]=p;continue}else{const y=vR(p,tv[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=Nj(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const ov=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CR(t,e,n){for(const s in e)!pn(e[s])&&!RR(s,n)&&(t[s]=e[s])}function Ij({transformTemplate:t},e){return D.useMemo(()=>{const n=ov();return av(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Dj(t,e){const n=t.style||{},s={};return CR(s,n,t),Object.assign(s,Ij(t,e)),s}function Mj(t,e){const n={},s=Dj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Vj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Pj={offset:"strokeDashoffset",array:"strokeDasharray"};function kj(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?Vj:Pj;t[l.offset]=Ie.transform(-s);const c=Ie.transform(e),d=Ie.transform(n);t[l.array]=`${c} ${d}`}function NR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if(av(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:x}=t;T.transform&&(x.transform=T.transform,delete T.transform),(x.transform||T.transformOrigin)&&(x.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),s!==void 0&&(T.scale=s),a!==void 0&&kj(T,a,l,c,!1)}const IR=()=>({...ov(),attrs:{}}),DR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Oj(t,e,n,s){const a=D.useMemo(()=>{const l=IR();return NR(l,e,DR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};CR(l,t.style,t),a.style={...l,...a.style}}return a}const Lj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lv(t){return typeof t!="string"||t.includes("-")?!1:!!(Lj.indexOf(t)>-1||/[A-Z]/u.test(t))}function jj(t,e,n,{latestValues:s},a,l=!1){const d=(lv(t)?Oj:Mj)(e,s,a,t),m=xj(e,typeof t=="string",l),p=t!==D.Fragment?{...m,...d,ref:n}:{},{children:y}=e,T=D.useMemo(()=>pn(y)?y.get():y,[y]);return D.createElement(t,{...p,children:T})}function jx(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function uv(t,e,n,s){if(typeof e=="function"){const[a,l]=jx(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=jx(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Of(t){return pn(t)?t.get():t}function Uj({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:Bj(n,s,a,t),renderState:e()}}function Bj(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=Of(l[x]);let{initial:c,animate:d}=t;const m=Ud(t),p=AR(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?d:c;if(T&&typeof T!="boolean"&&!jd(T)){const x=Array.isArray(T)?T:[T];for(let N=0;N<x.length;N++){const L=uv(t,x[N]);if(L){const{transitionEnd:P,transition:j,...U}=L;for(const Y in U){let K=U[Y];if(Array.isArray(K)){const W=y?K.length-1:0;K=K[W]}K!==null&&(a[Y]=K)}for(const Y in P)a[Y]=P[Y]}}}return a}const MR=t=>(e,n)=>{const s=D.useContext(Ld),a=D.useContext(O0),l=()=>Uj(t,e,s,a);return n?l():T3(l)};function cv(t,e,n){const{style:s}=t,a={};for(const l in s)(pn(s[l])||e.style&&pn(e.style[l])||RR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const zj=MR({scrapeMotionValuesFromProps:cv,createRenderState:ov});function VR(t,e,n){const s=cv(t,e,n);for(const a in t)if(pn(t[a])||pn(e[a])){const l=Tl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const qj=MR({scrapeMotionValuesFromProps:VR,createRenderState:IR}),Fj=Symbol.for("motionComponentSymbol");function Bo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Hj(t,e,n){return D.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Bo(n)&&(n.current=s))},[e])}const hv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Gj="framerAppearId",PR="data-"+hv(Gj),kR=D.createContext({});function Kj(t,e,n,s,a){const{visualElement:l}=D.useContext(Ld),c=D.useContext(wR),d=D.useContext(O0),m=D.useContext(xR).reducedMotion,p=D.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,T=D.useContext(kR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&$j(p.current,n,a,T);const x=D.useRef(!1);D.useInsertionEffect(()=>{y&&x.current&&y.update(n,d)});const N=n[PR],L=D.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return E3(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),L.current&&y.animationState&&y.animationState.animateChanges())}),D.useEffect(()=>{y&&(!L.current&&y.animationState&&y.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),L.current=!1),y.enteringChildren=void 0)}),y}function $j(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:OR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Bo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function OR(t){if(t)return t.options.allowProjection!==!1?t.projection:OR(t.parent)}function dg(t,{forwardMotionProps:e=!1}={},n,s){n&&Tj(n);const a=lv(t)?qj:zj;function l(d,m){let p;const y={...D.useContext(xR),...d,layoutId:Yj(d)},{isStatic:T}=y,x=Sj(d),N=a(d,T);if(!T&&k0){Qj();const L=Xj(y);p=L.MeasureLayout,x.visualElement=Kj(t,N,y,s,L.ProjectionNode)}return _.jsxs(Ld.Provider,{value:x,children:[p&&x.visualElement?_.jsx(p,{visualElement:x.visualElement,...y}):null,jj(t,d,Hj(N,x.visualElement,m),N,T,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=D.forwardRef(l);return c[Fj]=t,c}function Yj({layoutId:t}){const e=D.useContext(VA).id;return e&&t!==void 0?e+"-"+t:t}function Qj(t,e){D.useContext(wR).strict}function Xj(t){const{drag:e,layout:n}=sl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Wj(t,e){if(typeof Proxy>"u")return dg;const n=new Map,s=(l,c)=>dg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,dg(c,void 0,t,e)),n.get(c))})}function LR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Zj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Jj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function mg(t){return t===void 0||t===1}function yy({scale:t,scaleX:e,scaleY:n}){return!mg(t)||!mg(e)||!mg(n)}function _a(t){return yy(t)||jR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jR(t){return Ux(t.x)||Ux(t.y)}function Ux(t){return t&&t!=="0%"}function fd(t,e,n){const s=t-n,a=e*s;return n+a}function Bx(t,e,n,s,a){return a!==void 0&&(t=fd(t,a,s)),fd(t,n,s)+e}function vy(t,e=0,n=1,s,a){t.min=Bx(t.min,e,n,s,a),t.max=Bx(t.max,e,n,s,a)}function UR(t,{x:e,y:n}){vy(t.x,e.translate,e.scale,e.originPoint),vy(t.y,n.translate,n.scale,n.originPoint)}const zx=.999999999999,qx=1.0000000000001;function e6(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&qo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,UR(t,c)),s&&_a(l.latestValues)&&qo(t,l.latestValues))}e.x<qx&&e.x>zx&&(e.x=1),e.y<qx&&e.y>zx&&(e.y=1)}function zo(t,e){t.min=t.min+e,t.max=t.max+e}function Fx(t,e,n,s,a=.5){const l=gt(t.min,t.max,a);vy(t,e,n,l,s)}function qo(t,e){Fx(t.x,e.x,e.scaleX,e.scale,e.originX),Fx(t.y,e.y,e.scaleY,e.scale,e.originY)}function BR(t,e){return LR(Jj(t.getBoundingClientRect(),e))}function t6(t,e,n){const s=BR(t,n),{scroll:a}=e;return a&&(zo(s.x,a.offset.x),zo(s.y,a.offset.y)),s}const Hx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fo=()=>({x:Hx(),y:Hx()}),Gx=()=>({min:0,max:0}),At=()=>({x:Gx(),y:Gx()}),_y={current:null},zR={current:!1};function n6(){if(zR.current=!0,!!k0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_y.current=t.matches;t.addEventListener("change",e),e()}else _y.current=!1}const i6=new WeakMap;function s6(t,e,n){for(const s in e){const a=e[s],l=n[s];if(pn(a))t.addValue(s,a);else if(pn(l))t.addValue(s,il(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,il(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Kx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class r6{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=J0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Nn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,dt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Ud(n),this.isVariantNode=AR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in T){const N=T[x];m[x]!==void 0&&pn(N)&&N.set(m[x])}}mount(e){this.current=e,i6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),zR.current||n6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_y.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ir(this.notifyUpdate),Ir(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=El.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&dt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sl){const n=sl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Kx.length;s++){const a=Kx[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=s6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=il(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(PA(s)||OA(s))?s=parseFloat(s):!vj(s)&&Dr.test(n)&&(s=yR(e,n)),this.setBaseTarget(e,pn(s)?s.get():s)),pn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=uv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!pn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new z0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){nv.render(this.render)}}class qR extends r6{constructor(){super(...arguments),this.KeyframeResolver=rj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function FR(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function a6(t){return window.getComputedStyle(t)}class o6 extends qR{constructor(){super(...arguments),this.type="html",this.renderInstance=FR}readValueFromInstance(e,n){if(El.has(n))return this.projection?.isProjecting?cy(n):wL(e,n);{const s=a6(e),a=(H0(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return BR(e,n)}build(e,n,s){av(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return cv(e,n,s)}}const HR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function l6(t,e,n,s){FR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(HR.has(a)?a:hv(a),e.attrs[a])}class u6 extends qR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=At}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(El.has(n)){const s=gR(n);return s&&s.default||0}return n=HR.has(n)?n:hv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return VR(e,n,s)}build(e,n,s){NR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){l6(e,n,s,a)}mount(e){this.isSVGTag=DR(e.tagName),super.mount(e)}}const c6=(t,e)=>lv(t)?new u6(e):new o6(e,{allowProjection:t!==D.Fragment});function Xo(t,e,n){const s=t.getProps();return uv(s,e,n!==void 0?n:s.custom,t)}const Ty=t=>Array.isArray(t);function h6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,il(n))}function f6(t){return Ty(t)?t[t.length-1]||0:t}function d6(t,e){const n=Xo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=f6(l[c]);h6(t,c,d)}}function m6(t){return!!(pn(t)&&t.add)}function Ey(t,e){const n=t.getValue("willChange");if(m6(n))return n.add(e);if(!n&&Ms.WillChange){const s=new Ms.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function GR(t){return t.props[PR]}const p6=t=>t!==null;function g6(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(p6),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const y6={type:"spring",stiffness:500,damping:25,restSpeed:10},v6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_6={type:"keyframes",duration:.8},T6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},E6=(t,{keyframes:e})=>e.length>2?_6:El.has(t)?t.startsWith("scale")?v6(e[1]):y6:T6;function b6({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const fv=(t,e,n,s={},a,l)=>c=>{const d=ev(s,t)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Gi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};b6(d)||Object.assign(y,E6(t,y)),y.duration&&(y.duration=Gi(y.duration)),y.repeatDelay&&(y.repeatDelay=Gi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(py(y),y.delay===0&&(T=!0)),(Ms.instantAnimations||Ms.skipAnimations)&&(T=!0,py(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,T&&!l&&e.get()!==void 0){const x=g6(y.keyframes,d);if(x!==void 0){dt.update(()=>{y.onUpdate(x),y.onComplete()});return}}return d.isSync?new Z0(y):new $L(y)};function x6({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function KR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const T=t.getValue(y,t.latestValues[y]??null),x=d[y];if(x===void 0||p&&x6(p,y))continue;const N={delay:n,...ev(l||{},y)},L=T.get();if(L!==void 0&&!T.isAnimating&&!Array.isArray(x)&&x===L&&!N.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const U=GR(t);if(U){const Y=window.MotionHandoffAnimation(U,y,dt);Y!==null&&(N.startTime=Y,P=!0)}}Ey(t,y),T.start(fv(y,T,x,t.shouldReduceMotion&&dR.has(y)?{type:!1}:N,t,P));const j=T.animation;j&&m.push(j)}return c&&Promise.all(m).then(()=>{dt.update(()=>{c&&d6(t,c)})}),m}function $R(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function by(t,e,n={}){const s=Xo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(KR(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:T}=a;return w6(t,e,m,p,y,T,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function w6(t,e,n=0,s=0,a=0,l=1,c){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(by(m,e,{...c,delay:n+(typeof s=="function"?0:s)+$R(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function S6(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>by(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=by(t,e,n);else{const a=typeof e=="function"?Xo(t,e,n.custom):e;s=Promise.all(KR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function YR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const A6=rv.length;function QR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?QR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<A6;n++){const s=rv[n],a=t.props[s];(fc(a)||a===!1)&&(e[s]=a)}return e}const R6=[...sv].reverse(),C6=sv.length;function N6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>S6(t,n,s)))}function I6(t){let e=N6(t),n=$x(),s=!0;const a=m=>(p,y)=>{const T=Xo(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:x,transitionEnd:N,...L}=T;p={...p,...L,...N}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=QR(t.parent)||{},T=[],x=new Set;let N={},L=1/0;for(let j=0;j<C6;j++){const U=R6[j],Y=n[U],K=p[U]!==void 0?p[U]:y[U],W=fc(K),X=U===m?Y.isActive:null;X===!1&&(L=j);let ue=K===y[U]&&K!==p[U]&&W;if(ue&&s&&t.manuallyAnimateOnMount&&(ue=!1),Y.protectedKeys={...N},!Y.isActive&&X===null||!K&&!Y.prevProp||jd(K)||typeof K=="boolean")continue;const V=D6(Y.prevProp,K);let S=V||U===m&&Y.isActive&&!ue&&W||j>L&&W,R=!1;const M=Array.isArray(K)?K:[K];let k=M.reduce(a(U),{});X===!1&&(k={});const{prevResolvedValues:B={}}=Y,C={...B,...k},de=J=>{S=!0,x.has(J)&&(R=!0,x.delete(J)),Y.needsAnimating[J]=!0;const ce=t.getValue(J);ce&&(ce.liveStyle=!1)};for(const J in C){const ce=k[J],pe=B[J];if(N.hasOwnProperty(J))continue;let I=!1;Ty(ce)&&Ty(pe)?I=!YR(ce,pe):I=ce!==pe,I?ce!=null?de(J):x.add(J):ce!==void 0&&x.has(J)?de(J):Y.protectedKeys[J]=!0}Y.prevProp=K,Y.prevResolvedValues=k,Y.isActive&&(N={...N,...k}),s&&t.blockInitialAnimation&&(S=!1);const _e=ue&&V;S&&(!_e||R)&&T.push(...M.map(J=>{const ce={type:U};if(typeof J=="string"&&s&&!_e&&t.manuallyAnimateOnMount&&t.parent){const{parent:pe}=t,I=Xo(pe,J);if(pe.enteringChildren&&I){const{delayChildren:te}=I.transition||{};ce.delay=$R(pe.enteringChildren,t,te)}}return{animation:J,options:ce}}))}if(x.size){const j={};if(typeof p.initial!="boolean"){const U=Xo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(j.transition=U.transition)}x.forEach(U=>{const Y=t.getBaseTarget(U),K=t.getValue(U);K&&(K.liveStyle=!0),j[U]=Y??null}),T.push({animation:j})}let P=!!T.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),s=!1,P?e(T):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=$x(),s=!0}}}function D6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!YR(e,t):!1}function ya(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $x(){return{animate:ya(!0),whileInView:ya(),whileHover:ya(),whileTap:ya(),whileDrag:ya(),whileFocus:ya(),exit:ya()}}class Or{constructor(e){this.isMounted=!1,this.node=e}update(){}}class M6 extends Or{constructor(e){super(e),e.animationState||(e.animationState=I6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let V6=0;class P6 extends Or{constructor(){super(...arguments),this.id=V6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const k6={animation:{Feature:M6},exit:{Feature:P6}};function mc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function kc(t){return{point:{x:t.pageX,y:t.pageY}}}const O6=t=>e=>iv(e)&&t(e,kc(e));function Yu(t,e,n,s){return mc(t,e,O6(n),s)}const XR=1e-4,L6=1-XR,j6=1+XR,WR=.01,U6=0-WR,B6=0+WR;function En(t){return t.max-t.min}function z6(t,e,n){return Math.abs(t-e)<=n}function Yx(t,e,n,s=.5){t.origin=s,t.originPoint=gt(e.min,e.max,t.origin),t.scale=En(n)/En(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=L6&&t.scale<=j6||isNaN(t.scale))&&(t.scale=1),(t.translate>=U6&&t.translate<=B6||isNaN(t.translate))&&(t.translate=0)}function Qu(t,e,n,s){Yx(t.x,e.x,n.x,s?s.originX:void 0),Yx(t.y,e.y,n.y,s?s.originY:void 0)}function Qx(t,e,n){t.min=n.min+e.min,t.max=t.min+En(e)}function q6(t,e,n){Qx(t.x,e.x,n.x),Qx(t.y,e.y,n.y)}function Xx(t,e,n){t.min=e.min-n.min,t.max=t.min+En(e)}function Xu(t,e,n){Xx(t.x,e.x,n.x),Xx(t.y,e.y,n.y)}function ii(t){return[t("x"),t("y")]}const ZR=({current:t})=>t?t.ownerDocument.defaultView:null,Wx=(t,e)=>Math.abs(t-e);function F6(t,e){const n=Wx(t.x,e.x),s=Wx(t.y,e.y);return Math.sqrt(n**2+s**2)}class JR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=gg(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,L=F6(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!L)return;const{point:P}=x,{timestamp:j}=an;this.history.push({...P,timestamp:j});const{onStart:U,onMove:Y}=this.handlers;N||(U&&U(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,x)},this.handlePointerMove=(x,N)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=pg(N,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(x,N)=>{this.end();const{onEnd:L,onSessionEnd:P,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=gg(x.type==="pointercancel"?this.lastMoveEventInfo:pg(N,this.transformPagePoint),this.history);this.startEvent&&L&&L(x,U),P&&P(x,U)},!iv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=kc(e),m=pg(d,this.transformPagePoint),{point:p}=m,{timestamp:y}=an;this.history=[{...p,timestamp:y}];const{onSessionStart:T}=n;T&&T(e,gg(m,this.history)),this.removeListeners=Mc(Yu(this.contextWindow,"pointermove",this.handlePointerMove),Yu(this.contextWindow,"pointerup",this.handlePointerUp),Yu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ir(this.updatePoint)}}function pg(t,e){return e?{point:e(t.point)}:t}function Zx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gg({point:t},e){return{point:t,delta:Zx(t,eC(e)),offset:Zx(t,H6(e)),velocity:G6(e,.1)}}function H6(t){return t[0]}function eC(t){return t[t.length-1]}function G6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=eC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Gi(e)));)n--;if(!s)return{x:0,y:0};const l=Ki(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function K6(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?gt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?gt(n,t,s.max):Math.min(t,n)),t}function Jx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $6(t,{top:e,left:n,bottom:s,right:a}){return{x:Jx(t.x,n,a),y:Jx(t.y,e,s)}}function e1(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Y6(t,e){return{x:e1(t.x,e.x),y:e1(t.y,e.y)}}function Q6(t,e){let n=.5;const s=En(t),a=En(e);return a>s?n=uc(e.min,e.max-s,t.min):s>a&&(n=uc(t.min,t.max-a,e.min)),Ds(0,1,n)}function X6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const xy=.35;function W6(t=xy){return t===!1?t=0:t===!0&&(t=xy),{x:t1(t,"left","right"),y:t1(t,"top","bottom")}}function t1(t,e,n){return{min:n1(t,e),max:n1(t,n)}}function n1(t,e){return typeof t=="number"?t:t[e]||0}const Z6=new WeakMap;class J6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kc(T).point)},c=(T,x)=>{const{drag:N,dragPropagation:L,onDragStart:P}=this.getProps();if(N&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cj(N),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(U=>{let Y=this.getAxisMotionValue(U).get()||0;if($i.test(Y)){const{projection:K}=this.visualElement;if(K&&K.layout){const W=K.layout.layoutBox[U];W&&(Y=En(W)*(parseFloat(Y)/100))}}this.originPoint[U]=Y}),P&&dt.postRender(()=>P(T,x)),Ey(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},d=(T,x)=>{this.latestPointerEvent=T,this.latestPanInfo=x;const{dragPropagation:N,dragDirectionLock:L,onDirectionLock:P,onDrag:j}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:U}=x;if(L&&this.currentDirection===null){this.currentDirection=e5(U),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",x.point,U),this.updateAxis("y",x.point,U),this.visualElement.render(),j&&j(T,x)},m=(T,x)=>{this.latestPointerEvent=T,this.latestPanInfo=x,this.stop(T,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ii(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new JR(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:ZR(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&dt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!pf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=K6(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Bo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=$6(s.layoutBox,e):this.constraints=!1,this.elastic=W6(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ii(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=X6(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=t6(s,a.root,this.visualElement.getTransformPagePoint());let c=Y6(a.layout.layoutBox,l);if(n){const d=n(Zj(c));this.hasMutatedConstraints=!!d,d&&(c=LR(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=ii(y=>{if(!pf(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const x=a?200:1e6,N=a?40:1e7,L={type:"inertia",velocity:s?e[y]:0,bounceStiffness:x,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,L)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ey(this.visualElement,e),s.start(fv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ii(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ii(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ii(n=>{const{drag:s}=this.getProps();if(!pf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-gt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Bo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ii(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=Q6({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ii(c=>{if(!pf(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(gt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;Z6.set(this.visualElement,this);const e=this.visualElement.current,n=Yu(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Bo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(s);const c=mc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ii(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=xy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function pf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function e5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class t5 extends Or{constructor(e){super(e),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new J6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const i1=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class n5 extends Or{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(e){this.session=new JR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:i1(e),onStart:i1(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&dt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Yu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=s1(t,e.target.x),s=s1(t,e.target.y);return`${n}% ${s}%`}},i5={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Dr.parse(t);if(a.length>5)return s;const l=Dr.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const p=gt(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let yg=!1;class s5 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;Aj(r5),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),yg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,yg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||dt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),nv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;yg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tC(t){const[e,n]=_j(),s=D.useContext(VA);return _.jsx(s5,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(kR),isPresent:e,safeToRemove:n})}const r5={borderRadius:{...Mu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mu,borderTopRightRadius:Mu,borderBottomLeftRadius:Mu,borderBottomRightRadius:Mu,boxShadow:i5};function a5(t,e,n){const s=pn(t)?t:il(t);return s.start(fv("",s,e,n)),s.animation}const o5=(t,e)=>t.depth-e.depth;class l5{constructor(){this.children=[],this.isDirty=!1}add(e){L0(this.children,e),this.isDirty=!0}remove(e){j0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(o5),this.isDirty=!1,this.children.forEach(e)}}function u5(t,e){const n=Nn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Ir(s),t(l-e))};return dt.setup(s,!0),()=>Ir(s)}const nC=["TopLeft","TopRight","BottomLeft","BottomRight"],c5=nC.length,r1=t=>typeof t=="string"?parseFloat(t):t,a1=t=>typeof t=="number"||Ie.test(t);function h5(t,e,n,s,a,l){a?(t.opacity=gt(0,n.opacity??1,f5(s)),t.opacityExit=gt(e.opacity??1,0,d5(s))):l&&(t.opacity=gt(e.opacity??1,n.opacity??1,s));for(let c=0;c<c5;c++){const d=`border${nC[c]}Radius`;let m=o1(e,d),p=o1(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||a1(m)===a1(p)?(t[d]=Math.max(gt(r1(m),r1(p),s),0),($i.test(p)||$i.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,s))}function o1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const f5=iC(0,.5,HA),d5=iC(.5,.95,oi);function iC(t,e,n){return s=>s<t?0:s>e?1:n(uc(t,e,s))}function l1(t,e){t.min=e.min,t.max=e.max}function ni(t,e){l1(t.x,e.x),l1(t.y,e.y)}function u1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function c1(t,e,n,s,a){return t-=e,t=fd(t,1/n,s),a!==void 0&&(t=fd(t,1/a,s)),t}function m5(t,e=0,n=1,s=.5,a,l=t,c=t){if($i.test(e)&&(e=parseFloat(e),e=gt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=gt(l.min,l.max,s);t===l&&(d-=e),t.min=c1(t.min,e,n,d,a),t.max=c1(t.max,e,n,d,a)}function h1(t,e,[n,s,a],l,c){m5(t,e[n],e[s],e[a],e.scale,l,c)}const p5=["x","scaleX","originX"],g5=["y","scaleY","originY"];function f1(t,e,n,s){h1(t.x,e,p5,n?n.x:void 0,s?s.x:void 0),h1(t.y,e,g5,n?n.y:void 0,s?s.y:void 0)}function d1(t){return t.translate===0&&t.scale===1}function sC(t){return d1(t.x)&&d1(t.y)}function m1(t,e){return t.min===e.min&&t.max===e.max}function y5(t,e){return m1(t.x,e.x)&&m1(t.y,e.y)}function p1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rC(t,e){return p1(t.x,e.x)&&p1(t.y,e.y)}function g1(t){return En(t.x)/En(t.y)}function y1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class v5{constructor(){this.members=[]}add(e){L0(this.members,e),e.scheduleRender()}remove(e){if(j0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _5(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:T,rotateY:x,skewX:N,skewY:L}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),T&&(s+=`rotateX(${T}deg) `),x&&(s+=`rotateY(${x}deg) `),N&&(s+=`skewX(${N}deg) `),L&&(s+=`skewY(${L}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const vg=["","X","Y","Z"],T5=1e3;let E5=0;function _g(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function aC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=GR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&aC(s)}function oC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=E5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(w5),this.nodes.forEach(C5),this.nodes.forEach(N5),this.nodes.forEach(S5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new l5)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new z0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=bR(c)&&!gj(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let y,T=0;const x=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{T=window.innerWidth}),t(c,()=>{const N=window.innerWidth;N!==T&&(T=N,this.root.updateBlockedByResize=!0,y&&y(),y=u5(x,250),Lf.hasAnimatedSinceResize&&(Lf.hasAnimatedSinceResize=!1,this.nodes.forEach(T1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:x,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||p.getDefaultTransition()||P5,{onLayoutAnimationStart:P,onLayoutAnimationComplete:j}=p.getProps(),U=!this.targetLayout||!rC(this.targetLayout,N),Y=!T&&x;if(this.options.layoutRoot||this.resumeFrom||Y||T&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...ev(L,"layout"),onPlay:P,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,Y)}else T||T1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(v1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(R5),this.nodes.forEach(b5),this.nodes.forEach(x5)):this.nodes.forEach(_1),this.clearAllSnapshots();const d=Nn.now();an.delta=Ds(0,1e3/60,d-an.timestamp),an.timestamp=d,an.isProcessing=!0,og.update.process(an),og.preRender.process(an),og.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(A5),this.sharedNodes.forEach(D5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!sC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||_a(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),k5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return At();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(O5))){const{scroll:p}=this.root;p&&(zo(d.x,p.offset.x),zo(d.y,p.offset.y))}return d}removeElementScroll(c){const d=At();if(ni(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:T}=p;p!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&ni(d,c),zo(d.x,y.offset.x),zo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=At();ni(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&qo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),_a(y.latestValues)&&qo(m,y.latestValues)}return _a(this.latestValues)&&qo(m,this.latestValues),m}removeTransform(c){const d=At();ni(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!_a(p.latestValues))continue;yy(p.latestValues)&&p.updateSnapshot();const y=At(),T=p.measurePageBox();ni(y,T),f1(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return _a(this.latestValues)&&f1(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=an.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Xu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),q6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ni(this.target,this.layout.layoutBox),UR(this.target,this.targetDelta)):ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Xu(this.relativeTargetOrigin,this.target,x.target),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yy(this.parent.latestValues)||jR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===an.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ni(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,x=this.treeScale.y;e6(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=At());const{target:N}=c;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u1(this.prevProjectionDelta.x,this.projectionDelta.x),u1(this.prevProjectionDelta.y,this.projectionDelta.y)),Qu(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==x||!y1(this.projectionDelta.x,this.prevProjectionDelta.x)||!y1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fo(),this.projectionDelta=Fo(),this.projectionDeltaWithTransform=Fo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},T=Fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=At(),N=m?m.source:void 0,L=this.layout?this.layout.source:void 0,P=N!==L,j=this.getStack(),U=!j||j.members.length<=1,Y=!!(P&&!U&&this.options.crossfade===!0&&!this.path.some(V5));this.animationProgress=0;let K;this.mixTargetDelta=W=>{const X=W/1e3;E1(T.x,c.x,X),E1(T.y,c.y,X),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M5(this.relativeTarget,this.relativeTargetOrigin,x,X),K&&y5(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=At()),ni(K,this.relativeTarget)),P&&(this.animationValues=y,h5(y,p,this.latestValues,X,Y,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Lf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=il(0)),this.currentAnimation=a5(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&lC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||At();const T=En(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const x=En(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+x}ni(d,m),qo(d,y),Qu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new v5),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&_g("z",c,p,this.animationValues);for(let y=0;y<vg.length;y++)_g(`rotate${vg[y]}`,c,p,this.animationValues),_g(`skew${vg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Of(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Of(d?.pointerEvents)||""),this.hasProjected&&!_a(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=_5(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x,y:N}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${N.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const L in dc){if(y[L]===void 0)continue;const{correct:P,applyTo:j,isCSSVariable:U}=dc[L],Y=T==="none"?y[L]:P(y[L],p);if(j){const K=j.length;for(let W=0;W<K;W++)c[j[W]]=Y}else U?this.options.visualElement.renderState.vars[L]=Y:c[L]=Y}this.options.layoutId&&(c.pointerEvents=p===this?Of(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(v1),this.root.sharedNodes.clear()}}}function b5(t){t.updateLayout()}function x5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ii(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],x=En(T);T.min=n[y].min,T.max=T.min+x}):lC(a,e.layoutBox,n)&&ii(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],x=En(n[y]);T.max=T.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+x)});const c=Fo();Qu(c,n,e.layoutBox);const d=Fo();l?Qu(d,t.applyTransform(s,!0),e.measuredBox):Qu(d,n,e.layoutBox);const m=!sC(c);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:x}=y;if(T&&x){const N=At();Xu(N,e.layoutBox,T.layoutBox);const L=At();Xu(L,n,x.layoutBox),rC(N,L)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=L,t.relativeTargetOrigin=N,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function w5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function S5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function A5(t){t.clearSnapshot()}function v1(t){t.clearMeasurements()}function _1(t){t.isLayoutDirty=!1}function R5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function T1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function C5(t){t.resolveTargetDelta()}function N5(t){t.calcProjection()}function I5(t){t.resetSkewAndRotation()}function D5(t){t.removeLeadSnapshot()}function E1(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function b1(t,e,n,s){t.min=gt(e.min,n.min,s),t.max=gt(e.max,n.max,s)}function M5(t,e,n,s){b1(t.x,e.x,n.x,s),b1(t.y,e.y,n.y,s)}function V5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const P5={duration:.45,ease:[.4,0,.1,1]},x1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),w1=x1("applewebkit/")&&!x1("chrome/")?Math.round:oi;function S1(t){t.min=w1(t.min),t.max=w1(t.max)}function k5(t){S1(t.x),S1(t.y)}function lC(t,e,n){return t==="position"||t==="preserve-aspect"&&!z6(g1(e),g1(n),.2)}function O5(t){return t!==t.root&&t.scroll?.wasRoot}const L5=oC({attachResizeListener:(t,e)=>mc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tg={current:void 0},uC=oC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tg.current){const t=new L5({});t.mount(window),t.setOptions({layoutScroll:!0}),Tg.current=t}return Tg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),j5={pan:{Feature:n5},drag:{Feature:t5,ProjectionNode:uC,MeasureLayout:tC}};function A1(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&dt.postRender(()=>l(e,kc(e)))}class U5 extends Or{mount(){const{current:e}=this.node;e&&(this.unmount=hj(e,(n,s)=>(A1(this.node,s,"Start"),a=>A1(this.node,a,"End"))))}unmount(){}}class B5 extends Or{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mc(mc(this.node.current,"focus",()=>this.onFocus()),mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function R1(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&dt.postRender(()=>l(e,kc(e)))}class z5 extends Or{mount(){const{current:e}=this.node;e&&(this.unmount=pj(e,(n,s)=>(R1(this.node,s,"Start"),(a,{success:l})=>R1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wy=new WeakMap,Eg=new WeakMap,q5=t=>{const e=wy.get(t.target);e&&e(t)},F5=t=>{t.forEach(q5)};function H5({root:t,...e}){const n=t||document;Eg.has(n)||Eg.set(n,{});const s=Eg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(F5,{root:t,...e})),s[a]}function G5(t,e,n){const s=H5(e);return wy.set(t,n),s.observe(t),()=>{wy.delete(t),s.unobserve(t)}}const K5={some:0,all:1};class $5 extends Or{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:K5[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),x=p?y:T;x&&x(m)};return G5(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Y5(e,n))&&this.startObserver()}unmount(){}}function Y5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Q5={inView:{Feature:$5},tap:{Feature:z5},focus:{Feature:B5},hover:{Feature:U5}},X5={layout:{ProjectionNode:uC,MeasureLayout:tC}},W5={...k6,...Q5,...j5,...X5},ka=Wj(W5,c6),C1=[5,6,7,8];function Z5({active:t,onSelect:e}){const n=Math.max(C1.indexOf(t),0);return _.jsx("nav",{className:"fixed bottom-6 left-1/2 z-50 w-[80%] -translate-x-1/2",children:_.jsxs("div",{className:"relative mx-auto h-16 rounded-3xl bg-neutral-900 shadow-lg px-4",children:[_.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 flex flex-col items-center",children:_.jsx("div",{className:"h-12 w-28 rounded-full bg-neutral-900 flex items-center justify-center",children:_.jsx("span",{className:"text-sm font-medium text-white",children:"Sınıf Seçimi"})})}),_.jsx(ka.div,{layoutId:"notch",className:"absolute -top-3 h-16 w-16 rounded-full bg-neutral-900",style:{left:`calc(${n*25}% + 12.5% - 2rem)`},transition:{type:"spring",stiffness:500,damping:30}}),_.jsx("ul",{className:"relative z-10 grid h-full grid-cols-4",children:C1.map(s=>_.jsx("li",{className:"flex items-center justify-center",children:_.jsx("button",{"aria-label":`${s}. sınıf`,onClick:()=>e(s),className:"relative flex h-full w-full items-center justify-center text-gray-400",children:t===s?_.jsx(ka.span,{layoutId:"pill",className:"absolute -top-4 flex h-14 w-14 items-center justify-center rounded-full bg-blue-500 text-lg font-semibold text-white shadow-xl",transition:{type:"spring",stiffness:500,damping:30},children:s}):_.jsx("span",{className:"text-lg font-medium",children:s})})},s))})]})})}function Vo({size:t=24,label:e,className:n=""}){return _.jsxs("div",{className:`flex items-center gap-2 ${n}`,role:"status","aria-live":"polite",children:[_.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"animate-spin","aria-label":e||"Yükleniyor",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.25"}),_.jsx("path",{d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeLinecap:"round"})]}),e?_.jsx("span",{className:"text-sm",children:e}):null]})}const J5="admin@mail.com",e9={indigo:"bg-indigo-500/10 text-indigo-300 ring-indigo-400/20",emerald:"bg-emerald-500/10 text-emerald-300 ring-emerald-400/20",rose:"bg-rose-500/10 text-rose-300 ring-rose-400/20",slate:"bg-white/5 text-slate-200 ring-white/10"},t9={indigo:"text-indigo-300",emerald:"text-emerald-300",rose:"text-rose-300"},rl=({color:t="indigo",children:e,className:n=""})=>_.jsx("span",{className:`inline-flex m-1 h-7 w-7 items-center justify-center rounded-full ring-1 ${e9[t]} ${n}`,children:e}),N1=({icon:t,color:e="indigo",children:n})=>_.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[_.jsx(rl,{color:e,children:_.jsx(t,{className:"h-4 w-4"})}),_.jsx("h2",{className:`text-base font-semibold ${t9[e]}`,children:n})]}),jf=({className:t="",children:e})=>_.jsx("div",{className:`rounded-xl border border-white/10 bg-neutral-900 shadow-sm ${t}`,children:e}),I1=({title:t,icon:e,color:n="indigo",children:s})=>{const[a,l]=D.useState(!1),[c,d]=D.useState(0),m=D.useRef(null);return D.useEffect(()=>{const p=m.current;if(!p)return;const y=()=>d(p.scrollHeight);y();const T=new ResizeObserver(y);T.observe(p);const x=setTimeout(y,50);return()=>{T.disconnect(),clearTimeout(x)}},[s,a]),_.jsxs(jf,{children:[_.jsxs("button",{onClick:()=>l(p=>!p),"aria-expanded":a,className:"flex w-full items-center justify-between rounded-xl border-b border-white/10 px-4 py-3 text-left text-[15px] font-semibold text-slate-200 hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[_.jsxs("span",{className:"inline-flex items-center gap-2",children:[_.jsx(rl,{color:n,children:_.jsx(e,{className:"h-4 w-4"})}),t]}),_.jsx(ka.span,{animate:{rotate:a?180:0},transition:{duration:.25},className:"text-slate-400",children:"▼"})]}),_.jsx(ka.div,{initial:!1,animate:a?{maxHeight:c,opacity:1}:{maxHeight:0,opacity:0},transition:{duration:.28,ease:[.22,1,.36,1]},className:"overflow-hidden",children:_.jsx("div",{ref:m,className:"max-h-72 overflow-y-auto px-4 pb-4 pt-3",children:s})})]})},D1=({items:t=[]})=>t.length?_.jsx("div",{className:"space-y-4",children:t.map(e=>_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(rl,{color:"indigo",children:_.jsx(Od,{className:"h-4 w-4"})}),_.jsx("p",{className:"text-sm font-medium text-indigo-300",children:e.category})]}),_.jsx("ul",{className:"space-y-1.5 text-sm leading-6 text-slate-300",children:e.slides.map((n,s)=>_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx(rl,{color:"indigo",className:"h-6 w-6",children:_.jsx(V0,{className:"h-3.5 w-3.5"})}),n.link?_.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline decoration-indigo-700/40 underline-offset-2 hover:text-indigo-300",children:[n.name,_.jsx(vl,{className:"h-3.5 w-3.5"})]}):n.name]},s))})]},e.category))}):_.jsx("p",{className:"text-xs text-slate-400",children:"Bu sınıf için slayt yok."}),M1=({items:t=[]})=>t.length?_.jsx("div",{className:"space-y-4",children:t.map(e=>_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(rl,{color:"emerald",children:_.jsx(P0,{className:"h-4 w-4"})}),_.jsx("p",{className:"text-sm font-medium text-emerald-300",children:e.category})]}),_.jsx("ul",{className:"space-y-1.5 text-sm leading-6 text-slate-300",children:e.tests.map((n,s)=>_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx(rl,{color:"emerald",className:"h-6 w-6",children:_.jsx(Sa,{className:"h-3.5 w-3.5"})}),n.link?_.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline decoration-emerald-700/40 underline-offset-2 hover:text-emerald-300",children:[n.name,_.jsx(vl,{className:"h-3.5 w-3.5"})]}):n.name]},s))})]},e.category))}):_.jsx("p",{className:"text-xs text-slate-400",children:"Bu sınıf için test yok."}),n9=new Intl.Collator("tr",{sensitivity:"base",numeric:!0}),gf=(t="",e="")=>n9.compare(t,e),V1=t=>String(t??"").trim().toLowerCase();function i9(){const t=gc(),{startLoading:e,stopLoading:n}=kd(),[s,a]=D.useState({email:"",password:""}),[l,c]=D.useState(!1),[d,m]=D.useState(!1),[p,y]=D.useState(!1),[T,x]=D.useState(""),[N,L]=D.useState([]),[P,j]=D.useState([]),[U,Y]=D.useState(5),[K,W]=D.useState(!1);D.useEffect(()=>{(async()=>{W(!0);try{const S=(await lt(Ue(Ve,"slaytKategoriAdlari"))).docs.map(J=>J.data().name).filter(Boolean),R=async J=>(await lt(Bn(Ue(Ve,J),Rn("grade","==",U)))).docs.flatMap(pe=>{const I=pe.data();return V1(I.type)!=="slayt"?[]:[{name:I.name??"Adsız",link:I.link||void 0}]}),k=(await Promise.all(S.map(async J=>({category:J,slides:await R(J)})))).map(J=>({...J,slides:[...J.slides].sort((ce,pe)=>gf(ce.name,pe.name))})).filter(J=>J.slides.length).sort((J,ce)=>gf(J.category,ce.category));L(k);const C=(await lt(Ue(Ve,"kategoriAdlari"))).docs.map(J=>J.data().name).filter(Boolean),de=async J=>(await lt(Bn(Ue(Ve,J),Rn("grade","==",U)))).docs.flatMap(pe=>{const I=pe.data();if(V1(I.type)!=="test")return[];const te=I.createdAt?.toDate?.()??null,le=te?new Date(te.getTime()+(I.duration??0)*6e4):null;return[{name:I.name??"Adsız",link:I.link||void 0,closing:le}]}),Z=(await Promise.all(C.map(async J=>({category:J,tests:await de(J)})))).map(J=>({...J,tests:[...J.tests].sort((ce,pe)=>gf(ce.name,pe.name))})).filter(J=>J.tests.length).sort((J,ce)=>gf(J.category,ce.category));j(Z)}catch(V){console.error("Firestore veri çekme hatası:",V)}finally{W(!1)}})()},[U]);const X=async ue=>{ue.preventDefault(),x(""),y(!0),e();try{await YM(od,d?Lw:Hy);const{user:V}=await $M(od,s.email,s.password);t(V.email===J5?"/admin":"/dashboard")}catch(V){const S=V?.message??"Giriş başarısız.";x(S)}finally{y(!1),n()}};return _.jsxs("section",{className:"relative min-h-screen bg-neutral-950 px-4 py-6 pb-[calc(88px+env(safe-area-inset-bottom))] text-slate-200",children:[p&&_.jsx("div",{className:"fixed inset-0 z-[60] grid place-items-center bg-black/60 backdrop-blur-sm",children:_.jsx(Vo,{size:40,label:"Giriş yapılıyor..."})}),_.jsx("div",{className:"mx-auto mb-3 flex max-w-6xl items-center justify-center",children:_.jsx("img",{src:_3,alt:"Site Logosu",className:"h-24 w-auto opacity-90 md:h-36"})}),_.jsxs("div",{className:"mx-auto grid w-full max-w-6xl items-stretch gap-6 md:grid-cols-3",children:[_.jsxs(jf,{className:"hidden md:flex md:h-[400px] flex-col p-4",children:[_.jsx(N1,{icon:r3,color:"indigo",children:"Konu Anlatım Slaytları"}),_.jsx("div",{className:"mt-1 min-h-0 flex-1 overflow-y-auto pr-1",children:K?_.jsx(Vo,{label:"Slaytlar yükleniyor..."}):_.jsx(D1,{items:N})})]}),_.jsxs(jf,{className:"relative mx-auto flex w-full max-w-md flex-col p-5 md:h-[400px]",children:[_.jsx("h1",{className:"text-center text-xl font-extrabold tracking-tight text-slate-100",children:"Giriş Yap"}),T&&_.jsx("div",{className:"mt-3 rounded-lg bg-rose-500/10 px-3 py-2 text-sm text-rose-300 ring-1 ring-rose-400/20",children:T}),_.jsxs("form",{onSubmit:X,className:"mt-4 flex min-h-0 flex-1 flex-col",children:[_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"relative",children:[_.jsx(i3,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),_.jsx("input",{type:"email",name:"email",placeholder:"e-mail",value:s.email,onChange:ue=>a(V=>({...V,email:ue.target.value})),className:"w-full rounded-md border border-white/10 bg-neutral-900 py-3 pl-10 pr-3 text-sm text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),_.jsxs("div",{className:"relative",children:[_.jsx(t3,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),_.jsx("input",{type:l?"text":"password",name:"password",placeholder:"şifre",value:s.password,onChange:ue=>a(V=>({...V,password:ue.target.value})),className:"w-full rounded-md border border-white/10 bg-neutral-900 py-3 pl-10 pr-10 text-sm text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),_.jsx("button",{type:"button",onClick:()=>c(ue=>!ue),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-200","aria-label":l?"Şifreyi gizle":"Şifreyi göster",children:l?_.jsx($O,{className:"h-4 w-4"}):_.jsx(QO,{className:"h-4 w-4"})})]})]}),_.jsxs("div",{className:"mt-auto space-y-3 pt-2",children:[_.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-400",children:[_.jsx("input",{type:"checkbox",checked:d,onChange:()=>m(!d),className:"h-4 w-4 rounded border-white/20 bg-neutral-900 text-indigo-500 focus:ring-indigo-500"}),"Beni Hatırla"]}),_.jsx("button",{type:"submit",disabled:p,className:"w-full rounded-md bg-indigo-600 py-3 text-sm font-semibold text-white shadow-sm ring-1 ring-indigo-700/20 transition-colors hover:bg-indigo-500 disabled:opacity-60",children:p?_.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[_.jsx(Vo,{size:18}),"Giriş yapılıyor..."]}):"Giriş"})]})]})]}),_.jsxs(jf,{className:"hidden md:flex md:h-[400px] flex-col p-4",children:[_.jsx(N1,{icon:ny,color:"emerald",children:"Testler"}),_.jsx("div",{className:"mt-1 min-h-0 flex-1 overflow-y-auto pr-1",children:K?_.jsx(Vo,{label:"Testler yükleniyor..."}):_.jsx(M1,{items:P})})]})]}),_.jsxs("div",{className:"mx-auto mt-4 w-full max-w-md space-y-3 md:hidden",children:[_.jsx(I1,{title:"Konu Anlatım Slaytları",icon:Od,color:"indigo",children:K?_.jsx(Vo,{label:"Slaytlar yükleniyor..."}):_.jsx(D1,{items:N})}),_.jsx(I1,{title:"Testler",icon:P0,color:"emerald",children:K?_.jsx(Vo,{label:"Testler yükleniyor..."}):_.jsx(M1,{items:P})})]}),_.jsx("div",{className:"mx-auto mt-4 max-w-6xl",children:_.jsx(Z5,{active:U,onSelect:Y})})]})}const Po=/^[A-D]+$/i,s9=()=>Array.from({length:6},()=>"0123456789".charAt(Math.floor(Math.random()*10))).join("");function r9(){const[t,e]=D.useState({students:0,tests:0}),n=async()=>{const he=await dx(Ue(Ve,"students")),Te=await dx(Ue(Ve,"tests"));e({students:he.data().count,tests:Te.data().count})},[s,a]=D.useState([]),[l,c]=D.useState([]),[d,m]=D.useState([]),p=async()=>{const he=await lt(Ue(Ve,"kategoriAdlari"));a(he.docs.map(Te=>({id:Te.id,...Te.data()})))},y=async()=>{const he=await lt(Ue(Ve,"slaytKategoriAdlari"));c(he.docs.map(Te=>({id:Te.id,...Te.data()})))},T=async()=>{const he=await lt(Ue(Ve,"ozelKategoriler"));m(he.docs.map(Te=>({id:Te.id,...Te.data()})))};D.useEffect(()=>{n(),p(),y(),T()},[]);const[x,N]=D.useState({email:"",firstName:"",lastName:"",password:""}),L=he=>{const{name:Te,value:Be}=he.target;N(Ye=>({...Ye,[Te]:Be}))},P=he=>he.toLocaleLowerCase("tr-TR").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),j=async he=>{he.preventDefault();const{email:Te,firstName:Be,lastName:Ye,password:Bt}=x;if(!(!Te||!Be||!Ye||!Bt))try{const It=(await KM(MO,Te,Bt)).user.uid,qn=P(`${Be} ${Ye}`),Xi=IO(Ve);Xi.set(xa(Ve,"students",It),{email:String(Te).toLowerCase(),firstName:Be,lastName:Ye,createdAt:vr()}),Xi.set(xa(Ve,"ogrenciAdlari",It),{fullname:qn},{merge:!0}),Xi.set(xa(Ve,"ogrenciAdlari","_index"),{names:{[qn]:!0}},{merge:!0}),await Xi.commit(),N({email:"",firstName:"",lastName:"",password:""}),await n(),alert("Öğrenci eklendi.")}catch(Nt){alert(Nt?.message||"Bir hata oluştu.")}},[U,Y]=D.useState({name:""}),K=async he=>{if(he.preventDefault(),!!U.name)try{await Li(Ue(Ve,"kategoriAdlari"),U),Y({name:""}),await p(),alert("Test kategorisi eklendi.")}catch(Te){alert(Te?.message??"Hata")}},[W,X]=D.useState({name:""}),ue=async he=>{if(he.preventDefault(),!!W.name)try{await Li(Ue(Ve,"ozelKategoriler"),W),X({name:""}),await T(),alert("Özel ders kategorisi eklendi.")}catch(Te){alert(Te?.message??"Hata")}},[V,S]=D.useState({name:"",grade:""}),R=async he=>{he.preventDefault();const{name:Te,grade:Be}=V;if(!(!Te||!Be))try{await Li(Ue(Ve,"slaytKategoriAdlari"),{name:Te,grade:+Be}),S({name:"",grade:""}),await y(),alert("Slayt kategorisi eklendi.")}catch(Ye){alert(Ye?.message??"Hata")}},[M,k]=D.useState(""),[B,C]=D.useState({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:"",type:"test"}),de=he=>{const{name:Te,value:Be}=he.target;C(Ye=>({...Ye,[Te]:Be})),Te==="answerKey"&&k(Be===""||Po.test(Be)?"":"Sadece A-D harfleri içermeli")},_e=()=>{if(!B.answerKey)return;const he=Po.test(B.answerKey);k(he?"":"Sadece A-D harfleri içermeli")},Z=async he=>{he.preventDefault();const{collection:Te,grade:Be,name:Ye,link:Bt,questionCount:Nt,answerKey:It}=B;if(!(!Te||!Be||!Ye||!Bt||!Nt||!It)){if(!Po.test(It)||It.length!==Number(Nt)){k("Anahtar uzunluğu soru sayısına eşit ve yalnız A-D olmalı");return}try{await Li(Ue(Ve,Te),{grade:+Be,name:Ye,link:Bt,questionCount:+Nt,answerKey:It,createdAt:vr(),type:"test"}),C({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:"",type:"test"}),await n(),alert("Test kaydedildi.")}catch(qn){alert(qn?.message??"Hata")}}},[J,ce]=D.useState({collection:"",grade:"",name:"",link:"",type:"slayt"}),pe=he=>{const{name:Te,value:Be}=he.target;ce(Ye=>({...Ye,[Te]:Be}))},I=async he=>{he.preventDefault();const{collection:Te,grade:Be,name:Ye,link:Bt}=J;if(!(!Te||!Be||!Ye||!Bt))try{await Li(Ue(Ve,Te),{grade:+Be,name:Ye,link:Bt,createdAt:vr(),type:"slayt"}),ce({collection:"",grade:"",name:"",link:"",type:"slayt"}),alert("Slayt kaydedildi.")}catch(Nt){alert(Nt?.message??"Hata")}},[te,le]=D.useState(""),[ae,ye]=D.useState({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:"",type:"yayın"}),Ee=he=>{const{name:Te,value:Be}=he.target;ye(Ye=>({...Ye,[Te]:Be})),Te==="answerKey"&&le(Be===""||Po.test(Be)?"":"Sadece A-D harfleri içermeli")},we=()=>{if(!ae.answerKey)return;const he=Po.test(ae.answerKey);le(he?"":"Sadece A-D harfleri içermeli")},Ct=async he=>{he.preventDefault();const{collection:Te,grade:Be,name:Ye,link:Bt,questionCount:Nt,answerKey:It}=ae;if(!(!Te||!Be||!Ye||!Bt||!Nt||!It)){if(!Po.test(It)||It.length!==Number(Nt)){le("Anahtar uzunluğu soru sayısına eşit ve yalnız A-D olmalı");return}try{await Li(Ue(Ve,Te),{grade:+Be,name:Ye,link:Bt,questionCount:+Nt,answerKey:It,createdAt:vr(),type:"yayın"}),ye({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:"",type:"yayın"}),await n(),alert("Özel ders testi kaydedildi.")}catch(qn){alert(qn?.message??"Hata")}}};return _.jsxs("div",{className:"min-h-screen bg-neutral-950 p-8 text-gray-100",children:[_.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Admin Paneli"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs(zf,{to:"/admin/students",className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-3 py-2 text-sm font-medium hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-600",title:"Öğrenci Raporlarını Aç",children:[_.jsx(M0,{className:"h-4 w-4"}),"Öğrenci Raporları"]}),_.jsxs(zf,{to:"/admin/assign",className:"inline-flex items-center gap-2 rounded-md bg-emerald-600 px-3 py-2 text-sm font-medium hover:bg-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-600",title:"Test Atama Sayfasını Aç",children:[_.jsx(MA,{className:"h-4 w-4"}),"Test Atama"]})]})]}),_.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[_.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Öğrenci Ekle"}),_.jsxs("form",{onSubmit:j,className:"space-y-4",children:[_.jsx("input",{name:"email",type:"email",value:x.email,onChange:L,placeholder:"E-posta",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[_.jsx("input",{name:"firstName",value:x.firstName,onChange:L,placeholder:"Ad",className:"rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("input",{name:"lastName",value:x.lastName,onChange:L,placeholder:"Soyad",className:"rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{name:"password",value:x.password,onChange:L,placeholder:"Geçici Parola",className:"flex-1 rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("button",{type:"button",onClick:()=>N(he=>({...he,password:s9()})),className:"rounded-md bg-neutral-700 px-3 text-xs hover:bg-neutral-600",children:"Üret"})]}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Ekle"})]})]}),_.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Test Kategorisi Ekle"}),_.jsxs("form",{onSubmit:K,className:"space-y-4",children:[_.jsx("input",{value:U.name,onChange:he=>Y(Te=>({...Te,name:he.target.value})),placeholder:"Kategori adı",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Ekle"})]}),_.jsx("h2",{className:"mt-8 mb-4 text-xl font-semibold",children:"Özel Ders Kategorisi Ekle"}),_.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[_.jsx("input",{value:W.name,onChange:he=>X(Te=>({...Te,name:he.target.value})),placeholder:"Özel kategori adı",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-emerald-600 py-2 text-sm font-medium hover:bg-emerald-500",children:"Ekle"})]})]}),_.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Slayt Kategorisi Ekle"}),_.jsxs("form",{onSubmit:R,className:"space-y-4",children:[_.jsxs("select",{value:V.grade,onChange:he=>S(Te=>({...Te,grade:he.target.value})),className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Sınıf"}),_.jsx("option",{value:"5",children:"5"}),_.jsx("option",{value:"6",children:"6"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"8",children:"8"})]}),_.jsx("input",{value:V.name,onChange:he=>S(Te=>({...Te,name:he.target.value})),placeholder:"Kategori adı",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Ekle"})]})]}),_.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Sistem İstatistikleri"}),_.jsxs("div",{className:"space-y-2 text-sm",children:[_.jsxs("p",{children:[_.jsx("span",{className:"font-semibold text-blue-400",children:t.students})," öğrenci kayıtlı"]}),_.jsxs("p",{children:[_.jsx("span",{className:"font-semibold text-blue-400",children:t.tests})," test mevcut"]})]})]}),_.jsx("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800 md:col-span-4",children:_.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Test Ekle"}),_.jsxs("form",{onSubmit:Z,className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-1",children:[_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Kategori"}),_.jsxs("select",{name:"collection",value:B.collection,onChange:de,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),s.map(he=>_.jsx("option",{value:he.name,children:he.name},he.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Sınıf"}),_.jsxs("select",{name:"grade",value:B.grade,onChange:de,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),_.jsx("option",{value:"5",children:"5"}),_.jsx("option",{value:"6",children:"6"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"8",children:"8"})]})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Adı"}),_.jsx("input",{name:"name",value:B.name,onChange:de,placeholder:"Ör. 7.Sınıf Deneme–1",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Linki"}),_.jsx("input",{name:"link",value:B.link,onChange:de,placeholder:"https://...",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Soru Sayısı"}),_.jsx("input",{name:"questionCount",type:"number",value:B.questionCount,onChange:de,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Cevap Anahtarı"}),_.jsx("textarea",{name:"answerKey",rows:3,value:B.answerKey,onChange:de,onBlur:_e,placeholder:"Ör. ABCDABCD...",className:`w-full resize-y rounded-lg bg-neutral-800 p-4 text-sm font-mono tracking-wider leading-relaxed focus:outline-none focus:ring-2 ${M?"ring-2 ring-red-600 focus:ring-red-600":"focus:ring-blue-600"}`,required:!0}),M&&_.jsx("p",{className:"mt-1 text-xs text-red-500",children:M})]}),_.jsx("div",{className:"sm:col-span-2",children:_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Kaydet"})})]})]}),_.jsxs("div",{children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Slayt Ekle"}),_.jsxs("form",{onSubmit:I,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Kategori"}),_.jsxs("select",{name:"collection",value:J.collection,onChange:pe,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),l.map(he=>_.jsx("option",{value:he.name,children:he.name},he.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Sınıf"}),_.jsxs("select",{name:"grade",value:J.grade,onChange:pe,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),_.jsx("option",{value:"5",children:"5"}),_.jsx("option",{value:"6",children:"6"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"8",children:"8"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Slayt Adı"}),_.jsx("input",{name:"name",value:J.name,onChange:pe,placeholder:"Ör. ‘Üslü Sayılar’",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Slayt Linki"}),_.jsx("input",{name:"link",value:J.link,onChange:pe,placeholder:"https://...",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Kaydet"})]})]}),_.jsxs("div",{children:[_.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Özel Ders Testi Ekle"}),_.jsxs("form",{onSubmit:Ct,className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-1",children:[_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Kategori (Özel)"}),_.jsxs("select",{name:"collection",value:ae.collection,onChange:Ee,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),d.map(he=>_.jsx("option",{value:he.name,children:he.name},he.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Sınıf"}),_.jsxs("select",{name:"grade",value:ae.grade,onChange:Ee,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[_.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),_.jsx("option",{value:"5",children:"5"}),_.jsx("option",{value:"6",children:"6"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"8",children:"8"})]})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Adı"}),_.jsx("input",{name:"name",value:ae.name,onChange:Ee,placeholder:"Ör. 8.Sınıf Özel Deneme–1",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Linki"}),_.jsx("input",{name:"link",value:ae.link,onChange:Ee,placeholder:"https://...",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Soru Sayısı"}),_.jsx("input",{name:"questionCount",type:"number",value:ae.questionCount,onChange:Ee,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),_.jsxs("div",{className:"sm:col-span-2",children:[_.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Cevap Anahtarı"}),_.jsx("textarea",{name:"answerKey",rows:3,value:ae.answerKey,onChange:Ee,onBlur:we,placeholder:"Ör. ABCDABCD...",className:`w-full resize-y rounded-lg bg-neutral-800 p-4 text-sm font-mono tracking-wider leading-relaxed focus:outline-none focus:ring-2 ${te?"ring-2 ring-red-600 focus:ring-red-600":"focus:ring-blue-600"}`,required:!0}),te&&_.jsx("p",{className:"mt-1 text-xs text-red-500",children:te})]}),_.jsx("div",{className:"sm:col-span-2",children:_.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Kaydet"})})]})]})]})})]})]})}const P1=(t="")=>String(t).trim().split(/\s+/).map(e=>e.split("-").map(n=>n?n[0].toLocaleUpperCase("tr-TR")+n.slice(1).toLocaleLowerCase("tr-TR"):"").join("-")).join(" "),Un=t=>{if(t==null)return"";const e=String(t).trim();return e==="undefined"||e==="null"?"":e},a9=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120).toLowerCase(),o9=new Intl.Collator("tr",{numeric:!0,sensitivity:"base"}),Ho=(t,e)=>o9.compare(t??"",e??""),bg=t=>t.sort((e,n)=>Ho(e.name,n.name)),xg=t=>t.sort((e,n)=>Ho(e.cat,n.cat)),wg=t=>String(t??"").trim().toLowerCase(),l9={indigo:"bg-indigo-50 ring-indigo-100 text-indigo-600",emerald:"bg-emerald-50 ring-emerald-100 text-emerald-600",violet:"bg-violet-50 ring-violet-100 text-violet-600",rose:"bg-rose-50 ring-rose-100 text-rose-600",amber:"bg-amber-50 ring-amber-100 text-amber-600"},Uf={indigo:"text-indigo-700",emerald:"text-emerald-700",violet:"text-violet-700",rose:"text-rose-600",amber:"text-amber-700"},Sy={emerald:{badgeColor:"emerald",chip:"bg-emerald-50 text-emerald-700 ring-emerald-100",text:"text-emerald-700",border:"border-emerald-300",btn:"bg-emerald-600",btnHover:"hover:bg-emerald-500",ring:"focus-visible:ring-emerald-400",underline:"decoration-emerald-300"},rose:{badgeColor:"rose",chip:"bg-rose-50 text-rose-700 ring-rose-100",text:"text-rose-700",border:"border-rose-300",btn:"bg-rose-600",btnHover:"hover:bg-rose-500",ring:"focus-visible:ring-rose-400",underline:"decoration-rose-300"}},al=({color:t="indigo",children:e,className:n=""})=>_.jsx("span",{className:`inline-flex items-center justify-center rounded-full ring-1 h-6 w-6 sm:h-7 sm:w-7 ${l9[t]} ${n}`,children:e}),yf=({icon:t,color:e="indigo",children:n})=>_.jsxs("div",{className:"mb-4 sm:mb-5 flex items-center gap-2",children:[_.jsx(al,{color:e,children:_.jsx(t,{className:"h-4 w-4"})}),_.jsx("h2",{className:`text-base sm:text-lg font-semibold ${Uf[e]}`,children:n})]}),vf=({className:t="",children:e})=>_.jsx("div",{className:`rounded-xl border border-slate-300 bg-white shadow-sm overflow-hidden ${t}`,children:e}),u9=({title:t,children:e})=>{const[n,s]=D.useState(!1),[a,l]=D.useState(0),c=D.useRef(null);return D.useEffect(()=>{const d=c.current;if(!d)return;const m=()=>l(d.scrollHeight);m();const p=new ResizeObserver(m);p.observe(d);const y=setTimeout(m,50);return()=>{p.disconnect(),clearTimeout(y)}},[e,n]),_.jsxs("div",{className:"mb-4 sm:mb-5 rounded-xl border border-slate-300 bg-white shadow-sm",children:[_.jsxs("button",{onClick:()=>s(d=>!d),"aria-expanded":n,className:"flex w-full items-center justify-between rounded-xl border-b border-slate-200 px-4 py-3 sm:px-5 sm:py-3.5 text-left text-[15px] font-semibold text-slate-800 transition-colors hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[t,_.jsx(ka.div,{animate:{rotate:n?180:0},transition:{duration:.25},className:"text-slate-500",children:_.jsx(DA,{className:"h-4 w-4"})})]}),_.jsx(ka.div,{initial:!1,animate:n?{maxHeight:a,opacity:1}:{maxHeight:0,opacity:0},transition:{duration:.28,ease:[.22,1,.36,1]},className:"overflow-hidden",style:{willChange:"max-height, opacity"},children:_.jsx("div",{ref:c,className:"px-4 pb-4 pt-3 sm:px-6 sm:pb-5 sm:pt-4",children:e})})]})},c9=({cats:t=[]})=>t.length?_.jsx("div",{className:"space-y-4 sm:space-y-5",children:t.map(({cat:e,list:n})=>_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(al,{color:"indigo",children:_.jsx(Od,{className:"h-4 w-4"})}),_.jsx("p",{className:"text-sm font-medium text-indigo-700",children:e})]}),_.jsx("ul",{className:"space-y-1.5 text-sm leading-6 text-slate-700",children:n.map((s,a)=>_.jsxs("li",{className:"flex items-center gap-2 min-w-0",children:[_.jsx(al,{color:"indigo",className:"h-6 w-6 shrink-0",children:_.jsx(V0,{className:"h-3.5 w-3.5"})}),s.link?_.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline decoration-indigo-300 underline-offset-2 hover:text-indigo-700 min-w-0 max-w-[70vw] sm:max-w-none",title:s.name,children:[_.jsx("span",{className:"truncate",children:s.name}),_.jsx(vl,{className:"h-3.5 w-3.5 shrink-0"})]}):_.jsx("span",{className:"truncate",title:s.name,children:s.name})]},`${e}-${a}`))})]},e))}):_.jsx("p",{className:"text-xs text-slate-500",children:"Bu sınıf için slayt yok."}),k1=({cats:t=[],studentName:e,solvedSet:n,accent:s="emerald"})=>{const a=gc(),l=Sy[s];return t.length?_.jsx("div",{className:"space-y-4 sm:space-y-5",children:t.map(({cat:c,list:d})=>_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(al,{color:l.badgeColor,children:_.jsx(P0,{className:"h-4 w-4"})}),_.jsx("p",{className:`text-sm font-medium ${l.text}`,children:c})]}),_.jsx("ul",{className:"space-y-2 text-sm leading-6 text-slate-700",children:d.map((m,p)=>{const y=m.questionCount??20,T=!!m.link,x=!!n?.has?.(m.name);return _.jsxs("li",{className:"flex flex-col gap-2 rounded-lg md:flex-row md:items-center md:justify-between",children:[_.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[_.jsx(al,{color:l.badgeColor,className:"h-6 w-6 shrink-0",children:_.jsx(Sa,{className:"h-3.5 w-3.5"})}),_.jsx("span",{className:"truncate",title:m.name,children:m.name}),_.jsxs("span",{className:`shrink-0 rounded-full px-2 py-0.5 text-[11px] font-medium ring-1 ${l.chip}`,children:[y," soru"]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[T?_.jsxs("a",{href:m.link,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center rounded-md border bg-white px-3 py-1.5 text-xs font-medium shadow-sm hover:bg-slate-50 focus:outline-none focus-visible:ring-2 ${l.border} ${l.text} ${l.ring}`,children:["Testi Gör",_.jsx(vl,{className:"ml-1 h-3.5 w-3.5"})]}):_.jsx("button",{disabled:!0,className:"inline-flex cursor-not-allowed items-center justify-center rounded-md border border-slate-200 bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-500",title:"Bu test için bağlantı eklenmemiş.",children:"Testi Gör"}),_.jsx("button",{"aria-disabled":x,disabled:x,onClick:()=>{if(x)return;const N=`/optik?count=${y}&test=${encodeURIComponent(m.name)}&student=${encodeURIComponent(e)}`;a(N)},title:x?"Bu test daha önce çözüldü.":"Testi çöz",className:`inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium shadow-sm transition-colors focus:outline-none focus-visible:ring-2
                        ${x?"cursor-not-allowed bg-slate-200 text-slate-500 ring-1 ring-slate-300":`${l.btn} text-white ring-1 ring-black/5 ${l.btnHover} ${l.ring}`}`,children:x?"Çözüldü":"Testi Çöz"})]})]},`${c}-${p}`)})})]},`${s}-${c}`))}):_.jsx("p",{className:"text-xs text-slate-500",children:"Bu sınıf için test yok."})};function h9(){const{user:t}=kd(),e=D.useMemo(()=>[5,6,7,8],[]),[n,s]=D.useState({}),[a,l]=D.useState({}),[c,d]=D.useState({}),[m,p]=D.useState(null),[y,T]=D.useState(new Set),[x,N]=D.useState([]),[L,P]=D.useState({submissions:0,compared:0,correct:0,wrong:0,blank:0,accuracy:0});D.useEffect(()=>{t?.uid&&(async()=>{try{const W=await I0(xa(Ve,"students",t.uid));p(W.exists()?{id:W.id,...W.data()}:{})}catch(W){console.error("Profil çekilemedi:",W),p({})}})()},[t]),D.useEffect(()=>{(async()=>{try{const[X,ue,V]=await Promise.all([lt(Ue(Ve,"slaytKategoriAdlari")),lt(Ue(Ve,"kategoriAdlari")),lt(Ue(Ve,"ozelKategoriler"))]),S=X.docs.map(de=>Un(de.data().name)).filter(Boolean),R=ue.docs.map(de=>Un(de.data().name)).filter(Boolean),M=V.docs.map(de=>Un(de.data().name)).filter(Boolean);S.sort(Ho),R.sort(Ho),M.sort(Ho);const k={},B={},C={};await Promise.all(e.map(async de=>{const _e=[];await Promise.all(S.map(async ce=>{const I=(await lt(Bn(Ue(Ve,ce),Rn("grade","==",de)))).docs.flatMap(te=>{const le=te.data();if(wg(le.type)!=="slayt")return[];const ae=Un(le.name);return ae?[{name:ae,link:Un(le.link)||void 0}]:[]});bg(I),I.length&&_e.push({cat:ce,list:I})})),xg(_e),k[de]=_e;const Z=[];await Promise.all(R.map(async ce=>{const I=(await lt(Bn(Ue(Ve,ce),Rn("grade","==",de)))).docs.flatMap(te=>{const le=te.data();if(wg(le.type)!=="test")return[];const ae=le.createdAt?.toDate?.(),ye=ae?new Date(ae.getTime()+(le.duration||0)*6e4):null,Ee=Un(le.name);return Ee?[{name:Ee,link:Un(le.link)||void 0,closing:ye,questionCount:typeof le.questionCount=="number"?le.questionCount:typeof le.count=="number"?le.count:20}]:[]});bg(I),I.length&&Z.push({cat:ce,list:I})})),xg(Z),B[de]=Z;const J=[];await Promise.all(M.map(async ce=>{const I=(await lt(Bn(Ue(Ve,ce),Rn("grade","==",de)))).docs.flatMap(te=>{const le=te.data();if(wg(le.type)!=="yayın")return[];const ae=Un(le.name);return ae?[{name:ae,link:Un(le.link)||void 0,questionCount:typeof le.questionCount=="number"?le.questionCount:typeof le.count=="number"?le.count:20}]:[]});bg(I),I.length&&J.push({cat:ce,list:I})})),xg(J),C[de]=J})),s(k),l(B),d(C)}catch(X){console.error("Firestore veri çekme hatası:",X)}})()},[e]);const{firstName:j,lastName:U}=D.useMemo(()=>{const W=Un(m?.firstName),X=Un(m?.lastName);return{firstName:W?P1(W):"-",lastName:X?P1(X):"-"}},[m]),Y=D.useMemo(()=>{const W=`${j&&j!=="-"?j:""} ${U&&U!=="-"?U:""}`.trim()||(t?.email?.split("@")[0]??"bilinmeyen");return a9(W)},[j,U,t]);D.useEffect(()=>{Y&&(async()=>{try{const W=Bn(Ue(Ve,Y),Rn("type","==","submission")),X=await lt(W),ue=new Set;X.forEach(V=>{const S=V.data()?.test?.name;S&&ue.add(String(S))}),T(ue)}catch(W){console.error("Çözülen testler alınamadı:",W),T(new Set)}})()},[Y]),D.useEffect(()=>{Y&&(async()=>{try{const W=`${Y}_odevler`;let X;try{X=await lt(Bn(Ue(Ve,W),Rn("type","==","assignment"),Rn("status","==","assigned")))}catch{X=await lt(Bn(Ue(Ve,W),Rn("type","==","assignment")))}const ue=[];X.forEach(V=>{const S=V.data();if(S.status&&S.status!=="assigned")return;const R=S.test||{},M=Un(R.name);M&&ue.push({id:V.id,name:M,category:Un(R.category),grade:R.grade??null,link:R.link||null,questionCount:typeof R.questionCount=="number"?R.questionCount:20,isSpecial:!!R.isSpecial})}),ue.sort((V,S)=>Ho(V.name,S.name)),N(ue)}catch(W){console.error("Atanan ödevler getirilemedi:",W),N([])}})()},[Y]),D.useEffect(()=>{Y&&(async()=>{try{const W=Bn(Ue(Ve,Y),Rn("type","==","submission")),X=await lt(W);let ue=0,V=0,S=0,R=0,M=0;X.forEach(C=>{const de=C.data();if(de?.type!=="submission")return;ue+=1;const _e=de?.scoring;_e&&_e.status==="ok"&&(V+=_e.compared||0,S+=_e.correctCount||0,R+=_e.wrongCount||0,M+=_e.blankCount||0)});const k=S+R,B=k>0?S/k:0;P({submissions:ue,compared:V,correct:S,wrong:R,blank:M,accuracy:B})}catch(W){console.error("İstatistikler hesaplanamadı:",W),P({submissions:0,compared:0,correct:0,wrong:0,blank:0,accuracy:0})}})()},[Y]);const K=gc();return _.jsx("section",{className:"min-h-screen bg-slate-50 px-3 py-6 sm:px-5 sm:py-8 md:px-6 md:py-10",children:_.jsxs("div",{className:"mx-auto max-w-7xl",children:[_.jsx("div",{className:"mb-8 sm:mb-10 flex items-center justify-center gap-2",children:_.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold tracking-tight text-slate-900",children:"Öğrenci Paneli"})}),_.jsxs("div",{className:"grid gap-6 md:gap-8 lg:grid-cols-3",children:[_.jsxs(vf,{className:"p-4 sm:p-6 md:p-8 lg:col-span-2",children:[_.jsx(yf,{icon:Od,color:"indigo",children:"Slaytlar & Testler"}),[5,6,7,8].map(W=>_.jsxs(u9,{title:`${W}. Sınıf`,children:[_.jsx("h3",{className:`mb-2 text-sm font-semibold ${Uf.indigo}`,children:"Slaytlar"}),_.jsx(c9,{cats:n[W]||[]}),_.jsx("h3",{className:`mb-2 mt-5 text-sm font-semibold ${Uf.emerald}`,children:"Testler"}),_.jsx(k1,{cats:a[W]||[],studentName:Y,solvedSet:y,accent:"emerald"}),_.jsx("h3",{className:`mb-2 mt-5 text-sm font-semibold ${Uf.rose}`,children:"Yayınlar"}),_.jsx(k1,{cats:c[W]||[],studentName:Y,solvedSet:y,accent:"rose"})]},W))]}),_.jsxs("div",{className:"flex flex-col gap-6 md:gap-8",children:[_.jsxs(vf,{className:"p-4 sm:p-6 md:p-8",children:[_.jsx(yf,{icon:Sa,color:"rose",children:"Aktif Ödevler"}),x.length===0?_.jsx("p",{className:"text-center text-sm leading-7 text-slate-600",children:"Şu anda atanmış ödev bulunmuyor."}):_.jsx("ul",{className:"space-y-2.5 text-sm",children:x.map(W=>{const X=y.has(W.name),ue=W.isSpecial?Sy.rose:Sy.emerald;return _.jsxs("li",{className:"flex flex-col gap-2 rounded-lg md:flex-row md:items-center md:justify-between",children:[_.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[_.jsx(al,{color:ue.badgeColor,className:"h-6 w-6 shrink-0",children:_.jsx(Sa,{className:"h-3.5 w-3.5"})}),_.jsx("span",{className:"truncate",title:W.name,children:W.name}),_.jsxs("span",{className:`shrink-0 rounded-full px-2 py-0.5 text-[11px] font-medium ring-1 ${ue.chip}`,title:W.isSpecial?"Özel test":"Normal test",children:[W.questionCount," soru"]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[W.link?_.jsxs("a",{href:W.link,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center rounded-md border bg-white px-3 py-1.5 text-xs font-medium shadow-sm hover:bg-slate-50 focus:outline-none focus-visible:ring-2 ${ue.border} ${ue.text} ${ue.ring}`,children:["Testi Gör",_.jsx(vl,{className:"ml-1 h-3.5 w-3.5"})]}):_.jsx("button",{disabled:!0,className:"inline-flex cursor-not-allowed items-center justify-center rounded-md border border-slate-200 bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-500",title:"Bu test için bağlantı eklenmemiş.",children:"Testi Gör"}),_.jsx("button",{"aria-disabled":X,disabled:X,onClick:()=>{if(X)return;const V=`/optik?count=${W.questionCount}&test=${encodeURIComponent(W.name)}&student=${encodeURIComponent(Y)}&cat=${encodeURIComponent(W.category)}&grade=${W.grade??""}&link=${encodeURIComponent(W.link||"")}`;K(V)},title:X?"Bu test daha önce çözüldü.":"Testi çöz",className:`inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium shadow-sm transition-colors focus:outline-none focus-visible:ring-2
                              ${X?"cursor-not-allowed bg-slate-200 text-slate-500 ring-1 ring-slate-300":`${ue.btn} text-white ring-1 ring-black/5 ${ue.btnHover} ${ue.ring}`}`,children:X?"Çözüldü":"Testi Çöz"})]})]},W.id)})})]}),_.jsxs(vf,{className:"p-4 sm:p-6 md:p-8",children:[_.jsx(yf,{icon:y3,color:"violet",children:"Kişisel Bilgiler"}),_.jsxs("dl",{className:"divide-y divide-slate-200 text-sm",children:[_.jsxs("div",{className:"grid grid-cols-2 gap-y-2 py-3",children:[_.jsx("dt",{className:"font-medium text-slate-600",children:"Ad"}),_.jsx("dd",{className:"text-right",children:j||"-"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-y-2 py-3",children:[_.jsx("dt",{className:"font-medium text-slate-600",children:"Soyad"}),_.jsx("dd",{className:"text-right",children:U||"-"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-y-2 py-3",children:[_.jsx("dt",{className:"font-medium text-slate-600",children:"E-posta"}),_.jsx("dd",{className:"text-right",children:t?.email||"-"})]})]})]}),_.jsxs(vf,{className:"p-4 sm:p-6 md:p-8",children:[_.jsx(yf,{icon:M0,color:"amber",children:"İstatistikler"}),_.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 text-center sm:grid-cols-4",children:[_.jsxs("div",{className:"rounded-lg bg-amber-50 p-2.5 sm:p-3 ring-1 ring-amber-100",children:[_.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-amber-700",children:L.submissions}),_.jsx("div",{className:"mt-1 text-[11px] sm:text-xs font-medium text-amber-700/80",children:"Test"})]}),_.jsxs("div",{className:"rounded-lg bg-emerald-50 p-2.5 sm:p-3 ring-1 ring-emerald-100",children:[_.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-emerald-700",children:L.correct}),_.jsx("div",{className:"mt-1 text-[11px] sm:text-xs font-medium text-emerald-700/80",children:"Doğru"})]}),_.jsxs("div",{className:"rounded-lg bg-rose-50 p-2.5 sm:p-3 ring-1 ring-rose-100",children:[_.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-rose-700",children:L.wrong}),_.jsx("div",{className:"mt-1 text-[11px] sm:text-xs font-medium text-rose-700/80",children:"Yanlış"})]}),_.jsxs("div",{className:"rounded-lg bg-slate-50 p-2.5 sm:p-3 ring-1 ring-slate-200",children:[_.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-slate-700",children:L.blank}),_.jsx("div",{className:"mt-1 text-[11px] sm:text-xs font-medium text-slate-700/80",children:"Boş"})]})]}),_.jsxs("div",{className:"mt-3 sm:mt-4 grid grid-cols-2 gap-3 sm:gap-4",children:[_.jsxs("div",{className:"rounded-lg bg-white p-2.5 sm:p-3 ring-1 ring-slate-200",children:[_.jsx("p",{className:"text-center text-[12px] sm:text-[13px] text-slate-600",children:"Karşılaştırılan soru"}),_.jsx("p",{className:"mt-1 text-center text-lg sm:text-xl font-bold text-slate-900",children:L.compared})]}),_.jsxs("div",{className:"rounded-lg bg-white p-2.5 sm:p-3 ring-1 ring-slate-200",children:[_.jsx("p",{className:"text-center text-[12px] sm:text-[13px] text-slate-600",children:"Doğruluk"}),_.jsxs("p",{className:"mt-1 text-center text-lg sm:text-xl font-bold text-slate-900",children:[(L.accuracy*100).toFixed(1),"%"]})]})]}),L.submissions===0&&_.jsx("p",{className:"mt-4 text-center text-xs text-slate-500",children:"Henüz gönderim yok. Test çözdükçe istatistikler burada görünecek."})]})]})]})]})})}const f9="admin@mail.com";function O1({children:t,role:e}){const{user:n,loading:s}=kd(),[a,l]=D.useState(null);if(D.useEffect(()=>{let p=!0;return(async()=>{if(!n){p&&l(null);return}try{const y=await gw(n,!0);p&&l(y&&y.claims||{})}catch{p&&l({})}})(),()=>{p=!1}},[n]),s||n&&a===null)return null;if(!n)return _.jsx(Ef,{to:"/",replace:!0});const c=(n.email||"").toLowerCase()===f9,m=(typeof a?.admin=="boolean"?a.admin:!1)||c;return e==="admin"&&!m?_.jsx(Ef,{to:"/dashboard",replace:!0}):e==="user"&&m?_.jsx(Ef,{to:"/admin",replace:!0}):_.jsx(_.Fragment,{children:t})}const L1=["A","B","C","D"],Sg=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120),_f=({children:t,color:e="indigo"})=>{const n={indigo:"bg-indigo-50 text-indigo-700 ring-indigo-100",emerald:"bg-emerald-50 text-emerald-700 ring-emerald-100",slate:"bg-slate-50 text-slate-700 ring-slate-200",rose:"bg-rose-50 text-rose-700 ring-rose-100"};return _.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-medium ring-1 ${n[e]}`,children:t})};function d9(t){const{answersArray:e,answerKey:n}=t,s=n.trim().toUpperCase(),a=Math.min(e.length,s.length);let l=0,c=0,d=0;const m=[],p=[],y=[];for(let T=0;T<a;T++){const x=e[T],N=s[T];!x||x==="-"?(d++,y.push(T+1)):N&&x===N?(l++,p.push(T+1)):(c++,m.push(T+1))}return{correctCount:l,wrongCount:c,blankCount:d,wrongQuestions:m,correctQuestions:p,blankQuestions:y,compared:a,keyLength:s.length}}async function Ag(t,e){const n=await lt(Bn(Ue(Ve,t),Rn("name","==",e),xA(1)));if(n.empty)return null;const s=n.docs[0],a=s.data();return{category:t,data:a,id:s.id}}async function m9(t,e){if(e){const c=await Ag(e,t);if(c)return{...c,type:"hint"}}const[n,s]=await Promise.all([lt(Ue(Ve,"kategoriAdlari")),lt(Ue(Ve,"ozelKategoriler"))]),a=n.docs.map(c=>String(c.data()?.name||"").trim()).filter(Boolean),l=s.docs.map(c=>String(c.data()?.name||"").trim()).filter(Boolean);for(const c of a){const d=await Ag(c,t);if(d)return{...d,type:"normal"}}for(const c of l){const d=await Ag(c,t);if(d)return{...d,type:"special"}}return null}function p9(){const{user:t}=kd(),{state:e}=Vs(),n=new URLSearchParams(window.location.search),s=Math.max(1,parseInt(n.get("count")||"20",10)),a=n.get("test")||e?.testName||"Adsız Test",l=n.get("id")||e?.testId||null,c=n.get("cat")||e?.testCat||null,d=n.get("grade")?parseInt(n.get("grade"),10):e?.testGrade??null,m=n.get("link")||e?.testLink||null,p=(e?.studentName||n.get("student")||"").trim(),[y,T]=D.useState(p),x=D.useMemo(()=>Array.from({length:s},(R,M)=>M+1),[s]),[N,L]=D.useState({}),[P,j]=D.useState(!1),[U,Y]=D.useState(!1),[K,W]=D.useState(null),X=D.useMemo(()=>Object.keys(N).length,[N]);D.useEffect(()=>{let R=!1;return y?void 0:((async()=>{try{if(!t?.email)return;const k=Bn(Ue(Ve,"students"),Rn("email","==",t.email),xA(1)),B=await lt(k);if(R)return;if(B.empty)T(t.email?.split("@")[0]??"Bilinmeyen");else{const C=B.docs[0].data(),de=C.firstname||C.firstName||"",_e=C.lastname||C.lastName||"",Z=`${de} ${_e}`.trim();T(Z||(t.email?.split("@")[0]??"Bilinmeyen"))}}catch{R||T(t?.email?.split("@")[0]??"Bilinmeyen")}})(),()=>{R=!0})},[t,y]);const ue=(R,M)=>L(k=>({...k,[R]:M})),V=()=>{U||(L({}),W(null))},S=async()=>{if(W(null),!t){W({type:"err",text:"Giriş yapmadan cevap gönderemezsiniz."});return}let R="";const M=Array.from({length:s},(k,B)=>{const C=N[B+1]??"-";return R+=C,C});j(!0);try{const k=await m9(a,c);if(!k){const Ee=e?.nameKey&&typeof e.nameKey=="string"&&e.nameKey?e.nameKey.toLocaleLowerCase("tr-TR"):Sg(y).toLocaleLowerCase("tr-TR"),we={type:"submission",test:{id:l,name:a,category:c??null,grade:d,link:m},user:{uid:t.uid||null,email:t.email||null,name:y||null},count:s,answeredCount:X,answers:R,answersArray:M,answersMap:N,createdAt:vr(),scoring:{status:"missing-key"}};await Li(Ue(Ve,Ee),we),Y(!0),W({type:"err",text:"Cevaplar kaydedildi fakat test anahtarı bulunamadı; sonuç hesaplanamadı. (Kategori eşleşmedi)"});return}const{category:B,data:C}=k,de=String(C?.answerKey||"").trim().toUpperCase();if(!de){const Ee=e?.nameKey&&typeof e.nameKey=="string"&&e.nameKey?e.nameKey.toLocaleLowerCase("tr-TR"):Sg(y).toLocaleLowerCase("tr-TR"),we={type:"submission",test:{id:l,name:a,category:B,grade:d??C?.grade??null,link:m??C?.link??null},user:{uid:t.uid||null,email:t.email||null,name:y||null},count:s,answeredCount:X,answers:R,answersArray:M,answersMap:N,createdAt:vr(),scoring:{status:"missing-key"}};await Li(Ue(Ve,Ee),we),Y(!0),W({type:"err",text:"Cevaplar kaydedildi fakat bu test için cevap anahtarı bulunamadı; sonuç hesaplanamadı."});return}const{correctCount:_e,wrongCount:Z,blankCount:J,wrongQuestions:ce,correctQuestions:pe,blankQuestions:I,compared:te,keyLength:le}=d9({answersArray:M,answerKey:de}),ae=e?.nameKey&&typeof e.nameKey=="string"&&e.nameKey?e.nameKey.toLocaleLowerCase("tr-TR"):Sg(y).toLocaleLowerCase("tr-TR"),ye={type:"submission",test:{id:l,name:a,category:B,grade:d??C?.grade??null,link:m??C?.link??null},user:{uid:t.uid||null,email:t.email||null,name:y||null},count:s,answeredCount:X,answers:R,answersArray:M,answersMap:N,createdAt:vr(),scoring:{status:"ok",answerKey:de,keyLength:le,compared:te,correctCount:_e,wrongCount:Z,blankCount:J,wrongQuestions:ce,correctQuestions:pe,blankQuestions:I}};await Li(Ue(Ve,ae),ye),Y(!0),W({type:"ok",text:`Cevaplar kaydedildi. Doğru: ${_e}, Yanlış: ${Z}, Boş: ${J}.`})}catch(k){console.error(k),W({type:"err",text:"Kaydetme sırasında bir hata oluştu."})}finally{j(!1)}};return _.jsx("section",{className:"min-h-screen bg-slate-50 px-5 py-8 text-slate-800 md:px-6",children:_.jsxs("div",{className:"mx-auto max-w-5xl",children:[_.jsxs("div",{className:"mb-6 text-center",children:[_.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:"Optik Cevap Formu"}),_.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-center gap-2",children:[_.jsxs(_f,{color:"slate",children:["Öğrenci: ",_.jsx("span",{className:"font-semibold",children:y||"—"})]}),_.jsxs(_f,{color:"indigo",children:["Test: ",_.jsx("span",{className:"font-semibold",children:a})]}),c?_.jsxs(_f,{color:"rose",children:["Kategori: ",_.jsx("span",{className:"font-semibold",children:c})]}):null,_.jsxs(_f,{color:"emerald",children:["İşaretlenen: ",_.jsx("span",{className:"font-semibold",children:X})," / ",s]})]})]}),K&&_.jsx("div",{className:`mb-4 rounded-xl px-4 py-3 text-sm ring-1 ${K.type==="ok"?"bg-emerald-50 text-emerald-700 ring-emerald-100":"bg-rose-50 text-rose-700 ring-rose-100"}`,children:K.text}),_.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200",children:[_.jsx("div",{className:"overflow-x-auto rounded-xl",children:_.jsxs("table",{className:"w-full border-separate border-spacing-0 text-center text-sm",children:[_.jsx("thead",{className:"sticky top-0 z-10 bg-indigo-50 text-indigo-800",children:_.jsxs("tr",{children:[_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 text-left text-[13px] font-semibold",children:"Soru"}),L1.map(R=>_.jsx("th",{className:"border-b border-slate-200 px-3 py-3 text-[13px] font-semibold",children:R},R))]})}),_.jsx("tbody",{className:"text-slate-700",children:x.map(R=>_.jsxs("tr",{className:"odd:bg-slate-50 even:bg-white transition-colors hover:bg-indigo-50/40",children:[_.jsx("td",{className:"border-b border-slate-200 px-3 py-2.5 text-left font-medium",children:R}),L1.map(M=>{const k=`q${R}-${M}`,B=N[R]===M;return _.jsxs("td",{className:"border-b border-slate-200 px-3 py-2.5",children:[_.jsx("input",{id:k,type:"radio",name:`q${R}`,value:M,className:"sr-only peer",checked:!!B,onChange:()=>ue(R,M),disabled:U}),_.jsx("label",{htmlFor:k,className:`inline-flex h-5 w-5 items-center justify-center rounded-full ring-1 ring-slate-300 transition
                                       hover:ring-indigo-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400
                                       peer-checked:bg-indigo-600 peer-checked:ring-indigo-300
                                       ${U?"opacity-60 pointer-events-none":""}`,title:M,children:_.jsx("span",{className:"block h-2.5 w-2.5 rounded-full bg-white opacity-0 transition-opacity peer-checked:opacity-100"})})]},M)})]},R))})]})}),_.jsxs("div",{className:"flex flex-col items-center justify-between gap-3 border-t border-slate-200 px-4 py-4 sm:flex-row",children:[_.jsx("div",{className:"h-2 w-full rounded-full bg-slate-100 sm:max-w-xs",children:_.jsx("div",{className:"h-2 rounded-full bg-indigo-300",style:{width:`${X/s*100}%`}})}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",onClick:V,disabled:P||U,className:`rounded-lg px-4 py-2 text-sm font-medium ring-1 transition-colors focus:outline-none
                  ${P||U?"bg-white text-slate-400 ring-slate-200 cursor-not-allowed":"bg-white text-slate-700 ring-slate-300 hover:bg-slate-50 focus-visible:ring-2 focus-visible:ring-indigo-400"}`,children:"Temizle"}),_.jsx("button",{onClick:S,disabled:P||U,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors
                            focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400
                            ${P||U?"cursor-not-allowed bg-indigo-400":"bg-indigo-600 hover:bg-indigo-500"}`,children:U?"Kaydedildi":P?"Kaydediliyor...":"Cevapları Kaydet"})]})]})]}),_.jsxs("p",{className:"mt-4 text-center text-xs text-slate-500",children:["İpucu: Hücrelere tıklayarak işaretleyebilir, ",_.jsx("span",{className:"font-medium",children:"Temizle"})," ile sıfırlayabilirsiniz."]})]})})}const g9=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120).toLowerCase(),j1=t=>t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"medium",timeStyle:"short"}).format(t):"—",y9=(t,e)=>e>0?Math.round(t/e*100):0,Tf=({icon:t,label:e,value:n})=>_.jsxs("div",{className:"rounded-xl bg-neutral-900 p-5 ring-1 ring-neutral-800 shadow",children:[_.jsxs("div",{className:"mb-3 flex items-center gap-2 text-neutral-300",children:[_.jsx(t,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{className:"text-xs font-medium",children:e})]}),_.jsx("div",{className:"text-2xl font-bold text-white",children:n})]}),Rg=({children:t,tone:e="slate"})=>{const n={indigo:"bg-indigo-100/10 text-indigo-300 ring-indigo-500/20",emerald:"bg-emerald-100/10 text-emerald-300 ring-emerald-500/20",rose:"bg-rose-100/10 text-rose-300 ring-rose-500/20",amber:"bg-amber-100/10 text-amber-300 ring-amber-500/20",slate:"bg-slate-100/10 text-slate-300 ring-slate-500/20"};return _.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs ring-1 ${n[e]}`,children:t})},v9=({wrong:t=[]})=>{const[e,n]=D.useState(!1);return t.length?_.jsxs("div",{className:"mt-2",children:[_.jsxs("button",{onClick:()=>n(s=>!s),className:"inline-flex items-center gap-1 text-xs text-neutral-300 hover:text-white",children:[_.jsx(DA,{className:`h-4 w-4 transition-transform ${e?"rotate-180":""}`}),"Yanlış soruları göster"]}),e&&_.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:t.map(s=>_.jsx("span",{className:"rounded-md bg-rose-500/10 px-2 py-0.5 text-[11px] font-medium text-rose-300 ring-1 ring-rose-500/20",children:s},s))})]}):null};function _9(){const[t,e]=D.useState({}),[n,s]=D.useState(""),[a,l]=D.useState(""),[c,d]=D.useState(!1),[m,p]=D.useState([]),[y,T]=D.useState({total:0,totalCorrect:0,totalWrong:0,totalBlank:0,avgScore:0,lastActivity:null});D.useEffect(()=>{(async()=>{try{const P=await I0(xa(Ve,"ogrenciAdlari","_index")),j=(P.exists()?P.data()?.names:{})||{};e(j)}catch(P){console.error("ogrenciAdlari/_index okunamadı:",P),e({})}})()},[]);const x=D.useMemo(()=>Object.keys(t).sort((P,j)=>P.localeCompare(j,"tr")).filter(P=>t[P]),[t]),N=async P=>{if(P){d(!0);try{const j=P.toLowerCase(),U=g9(P),Y=[],K=async S=>{(await lt(Bn(Ue(Ve,S),Rn("type","==","submission")))).forEach(M=>{const k=M.data(),B=k.scoring||{},C=k.createdAt?.toDate?.()||null;Y.push({id:M.id,createdAt:C,testName:String(k?.test?.name??"—"),category:k?.test?.category??null,grade:k?.test?.grade??null,link:k?.test?.link??null,count:Number(k?.count??k?.answeredCount??0),answeredCount:Number(k?.answeredCount??0),correctCount:Number(B?.correctCount??0),wrongCount:Number(B?.wrongCount??0),blankCount:Number(B?.blankCount??0),wrongQuestions:B?.wrongQuestions||[]})})};await K(j),U!==j&&await K(U);const W=new Set,X=Y.filter(S=>{const R=`${S.testName}__${S.createdAt?.getTime?.()??"0"}`;return W.has(R)?!1:(W.add(R),!0)});X.sort((S,R)=>(R.createdAt?.getTime?.()??0)-(S.createdAt?.getTime?.()??0));const ue=X.reduce((S,R)=>{const M=R.correctCount+R.wrongCount+R.blankCount;S.total+=1,S.totalCorrect+=R.correctCount,S.totalWrong+=R.wrongCount,S.totalBlank+=R.blankCount,M>0&&(S._scoreSum+=R.correctCount/M*100);const k=R.createdAt?.getTime?.();return k&&(!S._last||k>S._last)&&(S._last=k),S},{total:0,totalCorrect:0,totalWrong:0,totalBlank:0,_scoreSum:0,_last:0}),V=ue.total>0?Math.round(ue._scoreSum/ue.total):0;p(X),T({total:ue.total,totalCorrect:ue.totalCorrect,totalWrong:ue.totalWrong,totalBlank:ue.totalBlank,avgScore:V,lastActivity:ue._last?new Date(ue._last):null})}catch(j){console.error("Öğrenci submission yükleme hatası:",j),p([]),T({total:0,totalCorrect:0,totalWrong:0,totalBlank:0,avgScore:0,lastActivity:null})}finally{d(!1)}}};D.useEffect(()=>{n&&N(n)},[n]);const L=D.useMemo(()=>{const P=a.trim().toLocaleLowerCase("tr-TR");return P?m.filter(j=>j.testName.toLocaleLowerCase("tr-TR").includes(P)):m},[m,a]);return _.jsx("section",{className:"min-h-screen bg-neutral-950 p-8 text-gray-100",children:_.jsxs("div",{className:"mx-auto max-w-7xl",children:[_.jsxs("header",{className:"mb-8 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Öğrenci Raporları"}),_.jsx("p",{className:"mt-1 text-sm text-neutral-400",children:"Öğrencilerin çözdüğü testleri, doğru/yanlış dağılımını ve tarihçeyi görüntüleyin."})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("select",{value:n,onChange:P=>s(P.target.value),className:"rounded-lg bg-neutral-900 px-4 py-2 text-sm ring-1 ring-neutral-800 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[_.jsx("option",{value:"",disabled:!0,children:"Öğrenci seçin"}),x.map(P=>_.jsx("option",{value:P,children:P},P))]}),_.jsx("input",{value:a,onChange:P=>l(P.target.value),placeholder:"Test adı filtrele...",className:"w-56 rounded-lg bg-neutral-900 px-4 py-2 text-sm ring-1 ring-neutral-800 placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),_.jsxs("div",{className:"mb-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[_.jsx(Tf,{icon:iy,label:"Toplam Çözüm",value:y.total}),_.jsx(Tf,{icon:p3,label:"Ortalama Skor",value:_.jsxs("span",{children:[y.avgScore,"%"]})}),_.jsx(Tf,{icon:M0,label:"Doğru / Yanlış / Boş",value:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs(Rg,{tone:"emerald",children:[y.totalCorrect," D"]}),_.jsxs(Rg,{tone:"rose",children:[y.totalWrong," Y"]}),_.jsxs(Rg,{tone:"amber",children:[y.totalBlank," B"]})]})}),_.jsx(Tf,{icon:zO,label:"Son Aktivite",value:j1(y.lastActivity)})]}),_.jsx("div",{className:"overflow-x-auto rounded-xl bg-neutral-900 ring-1 ring-neutral-800 shadow",children:_.jsxs("table",{className:"w-full text-left text-sm",children:[_.jsx("thead",{className:"sticky top-0 bg-neutral-900/90 backdrop-blur",children:_.jsxs("tr",{className:"text-neutral-300",children:[_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Tarih"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Test"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Kategori"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Sınıf"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Doğru"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Yanlış"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Boş"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Skor"}),_.jsx("th",{className:"px-4 py-3"})]})}),_.jsx("tbody",{children:c?_.jsx("tr",{children:_.jsx("td",{colSpan:9,className:"px-4 py-10 text-center text-neutral-400",children:"Yükleniyor…"})}):L.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:9,className:"px-4 py-10 text-center text-neutral-400",children:"Kayıt bulunamadı."})}):L.map(P=>{const j=P.correctCount+P.wrongCount+P.blankCount,U=y9(P.correctCount,j);return _.jsxs("tr",{className:"border-t border-neutral-800",children:[_.jsx("td",{className:"px-4 py-3 text-neutral-300",children:j1(P.createdAt)}),_.jsx("td",{className:"px-4 py-3",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"truncate",children:P.testName}),P.link?_.jsx("a",{href:P.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-indigo-300 hover:text-indigo-200",title:"Testi aç",children:_.jsx(vl,{className:"h-3.5 w-3.5"})}):null]})}),_.jsx("td",{className:"px-4 py-3",children:P.category?_.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-neutral-300",children:[_.jsx(V0,{className:"h-3.5 w-3.5 text-neutral-400"}),P.category]}):_.jsx("span",{className:"text-xs text-neutral-500",children:"—"})}),_.jsx("td",{className:"px-4 py-3",children:P.grade??"—"}),_.jsx("td",{className:"px-4 py-3",children:_.jsx("span",{className:"font-semibold text-emerald-300",children:P.correctCount})}),_.jsx("td",{className:"px-4 py-3",children:_.jsx("span",{className:"font-semibold text-rose-300",children:P.wrongCount})}),_.jsx("td",{className:"px-4 py-3",children:_.jsx("span",{className:"font-semibold text-amber-300",children:P.blankCount})}),_.jsx("td",{className:"px-4 py-3",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"h-2 w-16 rounded bg-neutral-800",children:_.jsx(ka.div,{className:"h-2 rounded bg-emerald-500",initial:{width:0},animate:{width:`${U}%`},transition:{type:"spring",stiffness:120,damping:15}})}),_.jsxs("span",{className:"text-neutral-300",children:[U,"%"]})]})}),_.jsx("td",{className:"px-4 py-3",children:_.jsx(v9,{wrong:P.wrongQuestions})})]},`${P.id}-${P.createdAt?.getTime?.()??0}`)})})]})}),_.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs text-neutral-400",children:[_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx(Sa,{className:"h-3.5 w-3.5 text-emerald-300"}),"Doğru"]}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx(Sa,{className:"h-3.5 w-3.5 text-rose-300"}),"Yanlış"]}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx(Sa,{className:"h-3.5 w-3.5 text-amber-300"}),"Boş"]})]})]})})}const T9=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120).toLowerCase();function E9(){const[t,e]=D.useState(!1),[n,s]=D.useState(!1),[a,l]=D.useState(!1),[c,d]=D.useState({}),m=D.useMemo(()=>Object.keys(c).filter(C=>c[C]).sort((C,de)=>C.localeCompare(de,"tr")),[c]),[p,y]=D.useState([]),[T,x]=D.useState(""),[N,L]=D.useState(""),[P,j]=D.useState(new Set),[U,Y]=D.useState(new Set),K=async()=>{e(!0);try{const C=await I0(xa(Ve,"ogrenciAdlari","_index")),de=(C.exists()?C.data()?.names:{})||{};d(de)}catch(C){console.error("ogrenciAdlari/_index okunamadı:",C),d({})}finally{e(!1)}},W=async C=>{s(!0);try{const[de,_e]=await Promise.all([lt(Ue(Ve,"kategoriAdlari")),lt(Ue(Ve,"ozelKategoriler"))]),Z=de.docs.map(I=>String(I.data()?.name??"").trim()).filter(Boolean),J=_e.docs.map(I=>String(I.data()?.name??"").trim()).filter(Boolean),ce=[],pe=async(I,te)=>{const le=Ue(Ve,I);(C?await lt(Bn(le,Rn("grade","==",C))):await lt(le)).forEach(ye=>{const Ee=ye.data();ce.push({uid:`${I}__${ye.id}`,id:ye.id,name:String(Ee?.name??"—"),category:I,grade:Ee?.grade??null,link:Ee?.link??null,questionCount:Ee?.questionCount??Ee?.count??null,isSpecial:te})})};for(const I of Z)await pe(I,!1);for(const I of J)await pe(I,!0);ce.sort((I,te)=>I.name.localeCompare(te.name,"tr")),y(ce)}catch(de){console.error("Test listesi getirilemedi:",de),y([])}finally{s(!1)}};D.useEffect(()=>{K(),W(null)},[]),D.useEffect(()=>{const C=T?parseInt(T,10):null;W(C)},[T]);const X=D.useMemo(()=>{const C=N.trim().toLocaleLowerCase("tr-TR");return C?p.filter(de=>de.name.toLocaleLowerCase("tr-TR").includes(C)||de.category.toLocaleLowerCase("tr-TR").includes(C)):p},[p,N]),ue=C=>j(de=>{const _e=new Set(de);return _e.has(C)?_e.delete(C):_e.add(C),_e}),V=()=>j(new Set(m)),S=()=>j(new Set),R=C=>Y(de=>{const _e=new Set(de);return _e.has(C)?_e.delete(C):_e.add(C),_e}),M=()=>Y(C=>{const de=new Set(C);return X.forEach(_e=>de.add(_e.uid)),de}),k=()=>Y(new Set),B=async()=>{if(!a){if(P.size===0||U.size===0){alert("Lütfen en az bir öğrenci ve en az bir test seçin.");return}l(!0);try{const C=p.filter(Z=>U.has(Z.uid)),de=Array.from(P);let _e=0;for(const Z of de){const ce=`${T9(Z)}_odevler`;for(const pe of C){const I={type:"assignment",status:"assigned",assignedAt:vr(),test:{id:pe.id,name:pe.name,category:pe.category,grade:pe.grade??null,link:pe.link??null,questionCount:pe.questionCount??null,isSpecial:!!pe.isSpecial}};await Li(Ue(Ve,ce),I),_e+=1}}alert(`Atama tamamlandı. Toplam ${_e} ödev belgesi yazıldı.`)}catch(C){console.error("Atama hatası:",C),alert("Atama sırasında bir hata oluştu.")}finally{l(!1)}}};return _.jsx("section",{className:"min-h-screen bg-neutral-950 p-8 text-gray-100",children:_.jsxs("div",{className:"mx-auto max-w-7xl",children:[_.jsxs("div",{className:"mb-8 flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Test Atama"}),_.jsxs("p",{className:"mt-1 text-sm text-neutral-400",children:["Testleri bir veya birden çok öğrenciye ödev olarak atayın. Her öğrenci için ayrı ",_.jsx("span",{className:"font-medium",children:"_ödev koleksiyonu"})," açılır ve testler doküman olarak kaydedilir."]})]}),_.jsx("div",{className:"flex items-center gap-2",children:_.jsxs("button",{onClick:()=>{K();const C=T?parseInt(T,10):null;W(C)},className:"inline-flex items-center gap-2 rounded-md bg-neutral-800 px-3 py-2 text-sm ring-1 ring-neutral-700 hover:bg-neutral-700",title:"Yenile",children:[_.jsx(o3,{className:"h-4 w-4"}),"Yenile"]})})]}),_.jsxs("div",{className:"mb-6 grid gap-4 md:grid-cols-3",children:[_.jsxs("div",{className:"rounded-xl bg-neutral-900 p-4 ring-1 ring-neutral-800",children:[_.jsxs("div",{className:"mb-2 flex items-center gap-2 text-neutral-300",children:[_.jsx(ZO,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{className:"text-xs font-medium",children:"Sınıfa Göre Filtrele"})]}),_.jsxs("select",{value:T,onChange:C=>x(C.target.value),className:"w-full rounded-md bg-neutral-800 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",children:[_.jsx("option",{value:"",children:"Tümü"}),_.jsx("option",{value:"5",children:"5. Sınıf"}),_.jsx("option",{value:"6",children:"6. Sınıf"}),_.jsx("option",{value:"7",children:"7. Sınıf"}),_.jsx("option",{value:"8",children:"8. Sınıf"})]}),_.jsx("p",{className:"mt-2 text-xs text-neutral-400",children:"Seçilen sınıf only olarak listelenir (atamada sınır yok)."})]}),_.jsxs("div",{className:"rounded-xl bg-neutral-900 p-4 ring-1 ring-neutral-800",children:[_.jsxs("div",{className:"mb-3 flex items-center gap-2 text-neutral-300",children:[_.jsx(ny,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{className:"text-xs font-medium",children:"Özet"})]}),_.jsxs("div",{className:"grid grid-cols-3 text-center text-sm",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:p.length}),_.jsx("div",{className:"mt-1 text-xs text-neutral-400",children:"Toplam Test"})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:U.size}),_.jsx("div",{className:"mt-1 text-xs text-neutral-400",children:"Seçili Test"})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl font-bold text-white",children:P.size}),_.jsx("div",{className:"mt-1 text-xs text-neutral-400",children:"Seçili Öğrenci"})]})]})]}),_.jsxs("div",{className:"rounded-xl bg-neutral-900 p-4 ring-1 ring-neutral-800",children:[_.jsxs("div",{className:"mb-3 flex items-center gap-2 text-neutral-300",children:[_.jsx(iy,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{className:"text-xs font-medium",children:"Atama"})]}),_.jsxs("button",{disabled:a||P.size===0||U.size===0,onClick:B,className:`inline-flex w-full items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-medium text-white shadow
                focus:outline-none focus:ring-2 focus:ring-blue-600
                ${a||P.size===0||U.size===0?"cursor-not-allowed bg-blue-500/50":"bg-blue-600 hover:bg-blue-500"}`,children:[_.jsx(MA,{className:"h-4 w-4"}),a?"Atanıyor...":"Seçili Testleri Seçili Öğrencilere Ata"]}),_.jsxs("p",{className:"mt-2 text-xs text-neutral-400",children:["Her öğrenci için ",_.jsx("code",{className:"font-mono",children:"<nameKey>_odevler"})," koleksiyonu oluşturulur/yazılır."]})]})]}),_.jsxs("div",{className:"grid gap-6 lg:grid-cols-12",children:[_.jsxs("div",{className:"lg:col-span-4",children:[_.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[_.jsx(iy,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{children:"Öğrenciler"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:V,disabled:t||m.length===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Tümünü Seç"}),_.jsx("button",{onClick:S,disabled:P.size===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Temizle"})]})]}),_.jsx("div",{className:"h-[480px] overflow-auto rounded-xl bg-neutral-900 ring-1 ring-neutral-800",children:t?_.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Öğrenciler yükleniyor…"}):m.length===0?_.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Öğrenci bulunamadı."}):_.jsx("ul",{className:"divide-y divide-neutral-800",children:m.map(C=>{const de=P.has(C);return _.jsx("li",{children:_.jsxs("button",{onClick:()=>ue(C),className:`flex w-full items-center justify-between px-3 py-2 text-left text-sm hover:bg-neutral-800 ${de?"bg-neutral-800/70":""}`,children:[_.jsx("span",{className:"truncate",children:C}),de?_.jsx(px,{className:"h-4 w-4 text-emerald-400"}):_.jsx(gx,{className:"h-4 w-4 text-neutral-500"})]})},C)})})})]}),_.jsxs("div",{className:"lg:col-span-8",children:[_.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[_.jsx(ny,{className:"h-4 w-4 text-neutral-400"}),_.jsx("span",{children:"Testler"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("div",{className:"flex items-center gap-2 rounded-md bg-neutral-900 px-2 py-1 ring-1 ring-neutral-800",children:[_.jsx(u3,{className:"h-4 w-4 text-neutral-500"}),_.jsx("input",{value:N,onChange:C=>L(C.target.value),placeholder:"Test veya kategori ara…",className:"w-56 bg-transparent text-sm placeholder:text-neutral-500 focus:outline-none"})]}),_.jsx("button",{onClick:M,disabled:n||X.length===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Sayfadakileri Seç"}),_.jsx("button",{onClick:k,disabled:U.size===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Temizle"})]})]}),_.jsx("div",{className:"overflow-hidden rounded-xl bg-neutral-900 ring-1 ring-neutral-800",children:n?_.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Testler yükleniyor…"}):X.length===0?_.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Test bulunamadı."}):_.jsxs("table",{className:"w-full text-left text-sm",children:[_.jsx("thead",{className:"bg-neutral-900/90 text-neutral-300",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Seç"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Test Adı"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Kategori"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Sınıf"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Soru"}),_.jsx("th",{className:"px-3 py-3 font-semibold",children:"Tür"})]})}),_.jsx("tbody",{children:X.map(C=>{const de=U.has(C.uid);return _.jsxs("tr",{className:"border-t border-neutral-800",children:[_.jsx("td",{className:"px-3 py-2",children:_.jsx("button",{onClick:()=>R(C.uid),className:"rounded-md px-2 py-1 ring-1 ring-neutral-700 hover:bg-neutral-800",title:de?"Kaldır":"Seç",children:de?_.jsx(px,{className:"h-4 w-4 text-emerald-400"}):_.jsx(gx,{className:"h-4 w-4 text-neutral-500"})})}),_.jsx("td",{className:"px-3 py-2 text-white",children:C.name}),_.jsx("td",{className:"px-3 py-2 text-neutral-300",children:C.category}),_.jsx("td",{className:"px-3 py-2",children:C.grade??"—"}),_.jsx("td",{className:"px-3 py-2",children:C.questionCount??"—"}),_.jsx("td",{className:"px-3 py-2",children:_.jsx("span",{className:`rounded-full px-2 py-0.5 text-[11px] ring-1 ${C.isSpecial?"bg-rose-500/10 text-rose-300 ring-rose-500/20":"bg-emerald-500/10 text-emerald-300 ring-emerald-500/20"}`,children:C.isSpecial?"Yayın":"Normal"})})]},C.uid)})})]})})]})]})]})})}function b9(){return _.jsx(VO,{children:_.jsx(nI,{children:_.jsx("main",{className:"min-h-screen bg-[#0d0d0d]",children:_.jsx(D.Suspense,{fallback:null,children:_.jsxs(VN,{children:[_.jsx(cr,{path:"/admin/students",element:_.jsx(_9,{})}),_.jsx(cr,{path:"/admin/assign",element:_.jsx(E9,{})}),_.jsx(cr,{path:"/",element:_.jsx(i9,{})}),_.jsx(cr,{path:"/admin",element:_.jsx(O1,{role:"admin",children:_.jsx(r9,{})})}),_.jsx(cr,{path:"/dashboard",element:_.jsx(O1,{role:"user",children:_.jsx(h9,{})})}),_.jsx(cr,{path:"/optik",element:_.jsx(p9,{})}),_.jsx(cr,{path:"*",element:_.jsx(Ef,{to:"/",replace:!0})})]})})})})})}F2.createRoot(document.getElementById("root")).render(_.jsx(D.StrictMode,{children:_.jsx(b9,{})}));
