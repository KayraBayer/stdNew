(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Hp={exports:{}},Cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function z2(){if(Rb)return Cu;Rb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Cu.Fragment=e,Cu.jsx=n,Cu.jsxs=n,Cu}var Cb;function q2(){return Cb||(Cb=1,Hp.exports=z2()),Hp.exports}var v=q2(),Gp={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function F2(){if(Nb)return Pe;Nb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,D={};function j(M,te,le){this.props=M,this.context=te,this.refs=D,this.updater=le||C}j.prototype.isReactComponent={},j.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function U(){}U.prototype=j.prototype;function Y(M,te,le){this.props=M,this.context=te,this.refs=D,this.updater=le||C}var K=Y.prototype=new U;K.constructor=Y,k(K,j.prototype),K.isPureReactComponent=!0;var J=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function P(M,te,le,ae,ve,xe){return le=xe.ref,{$$typeof:t,type:M,key:te,ref:le!==void 0?le:null,props:xe}}function S(M,te){return P(M.type,te,void 0,void 0,void 0,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function V(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(le){return te[le]})}var L=/\/+/g;function B(M,te){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):te.toString(36)}function R(){}function fe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(R,R):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ye(M,te,le,ae,ve){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Ae=!1;if(M===null)Ae=!0;else switch(xe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(M.$$typeof){case t:case e:Ae=!0;break;case y:return Ae=M._init,ye(Ae(M._payload),te,le,ae,ve)}}if(Ae)return ve=ve(M),Ae=ae===""?"."+B(M,0):ae,J(ve)?(le="",Ae!=null&&(le=Ae.replace(L,"$&/")+"/"),ye(ve,te,le,"",function(Te){return Te})):ve!=null&&(N(ve)&&(ve=S(ve,le+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(L,"$&/")+"/")+Ae)),te.push(ve)),1;Ae=0;var ht=ae===""?".":ae+":";if(J(M))for(var he=0;he<M.length;he++)ae=M[he],xe=ht+B(ae,he),Ae+=ye(ae,te,le,xe,ve);else if(he=x(M),typeof he=="function")for(M=he.call(M),he=0;!(ae=M.next()).done;)ae=ae.value,xe=ht+B(ae,he++),Ae+=ye(ae,te,le,xe,ve);else if(xe==="object"){if(typeof M.then=="function")return ye(fe(M),te,le,ae,ve);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Q(M,te,le){if(M==null)return M;var ae=[],ve=0;return ye(M,ae,"","",function(xe){return te.call(le,xe,ve++)}),ae}function Z(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(le){(M._status===0||M._status===-1)&&(M._status=1,M._result=le)},function(le){(M._status===0||M._status===-1)&&(M._status=2,M._result=le)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var ce=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function pe(){}return Pe.Children={map:Q,forEach:function(M,te,le){Q(M,function(){te.apply(this,arguments)},le)},count:function(M){var te=0;return Q(M,function(){te++}),te},toArray:function(M){return Q(M,function(te){return te})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Pe.Component=j,Pe.Fragment=n,Pe.Profiler=a,Pe.PureComponent=Y,Pe.StrictMode=i,Pe.Suspense=m,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return W.H.useMemoCache(M)}},Pe.cache=function(M){return function(){return M.apply(null,arguments)}},Pe.cloneElement=function(M,te,le){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=k({},M.props),ve=M.key,xe=void 0;if(te!=null)for(Ae in te.ref!==void 0&&(xe=void 0),te.key!==void 0&&(ve=""+te.key),te)!ue.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(ae[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=le;else if(1<Ae){for(var ht=Array(Ae),he=0;he<Ae;he++)ht[he]=arguments[he+2];ae.children=ht}return P(M.type,ve,void 0,void 0,xe,ae)},Pe.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Pe.createElement=function(M,te,le){var ae,ve={},xe=null;if(te!=null)for(ae in te.key!==void 0&&(xe=""+te.key),te)ue.call(te,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=te[ae]);var Ae=arguments.length-2;if(Ae===1)ve.children=le;else if(1<Ae){for(var ht=Array(Ae),he=0;he<Ae;he++)ht[he]=arguments[he+2];ve.children=ht}if(M&&M.defaultProps)for(ae in Ae=M.defaultProps,Ae)ve[ae]===void 0&&(ve[ae]=Ae[ae]);return P(M,xe,void 0,void 0,null,ve)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(M){return{$$typeof:d,render:M}},Pe.isValidElement=N,Pe.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:Z}},Pe.memo=function(M,te){return{$$typeof:p,type:M,compare:te===void 0?null:te}},Pe.startTransition=function(M){var te=W.T,le={};W.T=le;try{var ae=M(),ve=W.S;ve!==null&&ve(le,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(pe,ce)}catch(xe){ce(xe)}finally{W.T=te}},Pe.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Pe.use=function(M){return W.H.use(M)},Pe.useActionState=function(M,te,le){return W.H.useActionState(M,te,le)},Pe.useCallback=function(M,te){return W.H.useCallback(M,te)},Pe.useContext=function(M){return W.H.useContext(M)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(M,te){return W.H.useDeferredValue(M,te)},Pe.useEffect=function(M,te,le){var ae=W.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(M,te)},Pe.useId=function(){return W.H.useId()},Pe.useImperativeHandle=function(M,te,le){return W.H.useImperativeHandle(M,te,le)},Pe.useInsertionEffect=function(M,te){return W.H.useInsertionEffect(M,te)},Pe.useLayoutEffect=function(M,te){return W.H.useLayoutEffect(M,te)},Pe.useMemo=function(M,te){return W.H.useMemo(M,te)},Pe.useOptimistic=function(M,te){return W.H.useOptimistic(M,te)},Pe.useReducer=function(M,te,le){return W.H.useReducer(M,te,le)},Pe.useRef=function(M){return W.H.useRef(M)},Pe.useState=function(M){return W.H.useState(M)},Pe.useSyncExternalStore=function(M,te,le){return W.H.useSyncExternalStore(M,te,le)},Pe.useTransition=function(){return W.H.useTransition()},Pe.version="19.1.1",Pe}var Ib;function Iy(){return Ib||(Ib=1,Gp.exports=F2()),Gp.exports}var I=Iy(),Kp={exports:{}},Nu={},$p={exports:{}},Yp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function H2(){return Db||(Db=1,(function(t){function e(Q,Z){var ce=Q.length;Q.push(Z);e:for(;0<ce;){var pe=ce-1>>>1,M=Q[pe];if(0<a(M,Z))Q[pe]=Z,Q[ce]=M,ce=pe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var Z=Q[0],ce=Q.pop();if(ce!==Z){Q[0]=ce;e:for(var pe=0,M=Q.length,te=M>>>1;pe<te;){var le=2*(pe+1)-1,ae=Q[le],ve=le+1,xe=Q[ve];if(0>a(ae,ce))ve<M&&0>a(xe,ae)?(Q[pe]=xe,Q[ve]=ce,pe=ve):(Q[pe]=ae,Q[le]=ce,pe=le);else if(ve<M&&0>a(xe,ce))Q[pe]=xe,Q[ve]=ce,pe=ve;else break e}}return Z}function a(Q,Z){var ce=Q.sortIndex-Z.sortIndex;return ce!==0?ce:Q.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,T=null,x=3,C=!1,k=!1,D=!1,j=!1,U=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function J(Q){for(var Z=n(p);Z!==null;){if(Z.callback===null)i(p);else if(Z.startTime<=Q)i(p),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=n(p)}}function W(Q){if(D=!1,J(Q),!k)if(n(m)!==null)k=!0,ue||(ue=!0,B());else{var Z=n(p);Z!==null&&ye(W,Z.startTime-Q)}}var ue=!1,P=-1,S=5,N=-1;function V(){return j?!0:!(t.unstable_now()-N<S)}function L(){if(j=!1,ue){var Q=t.unstable_now();N=Q;var Z=!0;try{e:{k=!1,D&&(D=!1,Y(P),P=-1),C=!0;var ce=x;try{t:{for(J(Q),T=n(m);T!==null&&!(T.expirationTime>Q&&V());){var pe=T.callback;if(typeof pe=="function"){T.callback=null,x=T.priorityLevel;var M=pe(T.expirationTime<=Q);if(Q=t.unstable_now(),typeof M=="function"){T.callback=M,J(Q),Z=!0;break t}T===n(m)&&i(m),J(Q)}else i(m);T=n(m)}if(T!==null)Z=!0;else{var te=n(p);te!==null&&ye(W,te.startTime-Q),Z=!1}}break e}finally{T=null,x=ce,C=!1}Z=void 0}}finally{Z?B():ue=!1}}}var B;if(typeof K=="function")B=function(){K(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,fe=R.port2;R.port1.onmessage=L,B=function(){fe.postMessage(null)}}else B=function(){U(L,0)};function ye(Q,Z){P=U(function(){Q(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var ce=x;x=Z;try{return Q()}finally{x=ce}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(Q,Z){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=x;x=Q;try{return Z()}finally{x=ce}},t.unstable_scheduleCallback=function(Q,Z,ce){var pe=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?pe+ce:pe):ce=pe,Q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ce+M,Q={id:y++,callback:Z,priorityLevel:Q,startTime:ce,expirationTime:M,sortIndex:-1},ce>pe?(Q.sortIndex=ce,e(p,Q),n(m)===null&&Q===n(p)&&(D?(Y(P),P=-1):D=!0,ye(W,ce-pe))):(Q.sortIndex=M,e(m,Q),k||C||(k=!0,ue||(ue=!0,B()))),Q},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Q){var Z=x;return function(){var ce=x;x=Z;try{return Q.apply(this,arguments)}finally{x=ce}}}})(Yp)),Yp}var Mb;function G2(){return Mb||(Mb=1,$p.exports=H2()),$p.exports}var Qp={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function K2(){if(Vb)return mn;Vb=1;var t=Iy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},mn.flushSync=function(m){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=y,i.d.f()}},mn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},mn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},mn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:C}):y==="script"&&i.d.X(m,{crossOrigin:T,integrity:x,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},mn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},mn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},mn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},mn.requestFormReset=function(m){i.d.r(m)},mn.unstable_batchedUpdates=function(m,p){return m(p)},mn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.1.1",mn}var Pb;function $2(){if(Pb)return Qp.exports;Pb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qp.exports=K2(),Qp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function Y2(){if(kb)return Nu;kb=1;var t=G2(),e=Iy(),n=$2();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(l(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),s;if(g===u)return d(f),r;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,w=f.child;w;){if(w===o){E=!0,o=f,u=g;break}if(w===u){E=!0,u=f,o=g;break}w=w.sibling}if(!E){for(w=g.child;w;){if(w===o){E=!0,o=g,u=f;break}if(w===u){E=!0,u=g,o=f;break}w=w.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function p(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=p(s),r!==null)return r;s=s.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),K=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var R=Symbol.for("react.client.reference");function fe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===R?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case j:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case ue:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case C:return"Portal";case K:return(s.displayName||"Context")+".Provider";case Y:return(s._context.displayName||"Context")+".Consumer";case J:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return r=s.displayName||null,r!==null?r:fe(s.type)||"Memo";case S:r=s._payload,s=s._init;try{return fe(s(r))}catch{}}return null}var ye=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},pe=[],M=-1;function te(s){return{current:s}}function le(s){0>M||(s.current=pe[M],pe[M]=null,M--)}function ae(s,r){M++,pe[M]=s.current,s.current=r}var ve=te(null),xe=te(null),Ae=te(null),ht=te(null);function he(s,r){switch(ae(Ae,r),ae(xe,s),ae(ve,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?tb(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=tb(r),s=nb(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}le(ve),ae(ve,s)}function Te(){le(ve),le(xe),le(Ae)}function Be(s){s.memoizedState!==null&&ae(ht,s);var r=ve.current,o=nb(r,s.type);r!==o&&(ae(xe,s),ae(ve,o))}function Ye(s){xe.current===s&&(le(ve),le(xe)),ht.current===s&&(le(ht),Eu._currentValue=ce)}var qt=Object.prototype.hasOwnProperty,It=t.unstable_scheduleCallback,Dt=t.unstable_cancelCallback,Fn=t.unstable_shouldYield,Js=t.unstable_requestPaint,Hn=t.unstable_now,Hd=t.unstable_getCurrentPriorityLevel,bl=t.unstable_ImmediatePriority,za=t.unstable_UserBlockingPriority,Br=t.unstable_NormalPriority,Gd=t.unstable_LowPriority,qa=t.unstable_IdlePriority,xl=t.log,Uc=t.unstable_setDisableYieldValue,Tt=null,et=null;function Dn(s){if(typeof xl=="function"&&Uc(s),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Tt,s)}catch{}}var fn=Math.clz32?Math.clz32:zr,Bc=Math.log,Kd=Math.LN2;function zr(s){return s>>>=0,s===0?32:31-(Bc(s)/Kd|0)|0}var qr=256,Fr=4194304;function ls(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Fa(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var f=0,g=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?f=ls(u):(E&=w,E!==0?f=ls(E):o||(o=w&~s,o!==0&&(f=ls(o))))):(w=u&~g,w!==0?f=ls(w):E!==0?f=ls(E):o||(o=u&~s,o!==0&&(f=ls(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function Hr(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function El(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wl(){var s=qr;return qr<<=1,(qr&4194048)===0&&(qr=256),s}function Sl(){var s=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),s}function ei(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function ti(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Al(s,r,o,u,f,g){var E=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var w=s.entanglements,O=s.expirationTimes,G=s.hiddenUpdates;for(o=E&~o;0<o;){var ne=31-fn(o),re=1<<ne;w[ne]=0,O[ne]=-1;var $=G[ne];if($!==null)for(G[ne]=null,ne=0;ne<$.length;ne++){var X=$[ne];X!==null&&(X.lane&=-536870913)}o&=~re}u!==0&&bs(s,u,0),g!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=g&~(E&~r))}function bs(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-fn(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&4194090}function Rl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-fn(o),f=1<<u;f&r|s[u]&r&&(s[u]|=r),o&=~f}}function Bi(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ha(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function zi(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:bb(s.type))}function zc(s,r){var o=Z.p;try{return Z.p=s,r()}finally{Z.p=o}}var ft=Math.random().toString(36).slice(2),Ft="__reactFiber$"+ft,Mt="__reactProps$"+ft,Gn="__reactContainer$"+ft,Cl="__reactEvents$"+ft,$d="__reactListeners$"+ft,qi="__reactHandles$"+ft,qc="__reactResources$"+ft,Gr="__reactMarker$"+ft;function Fi(s){delete s[Ft],delete s[Mt],delete s[Cl],delete s[$d],delete s[qi]}function ni(s){var r=s[Ft];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Gn]||o[Ft]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=ab(s);s!==null;){if(o=s[Ft])return o;s=ab(s)}return r}s=o,o=s.parentNode}return null}function xs(s){if(s=s[Ft]||s[Gn]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Es(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function _n(s){var r=s[qc];return r||(r=s[qc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function wt(s){s[Gr]=!0}var Nl=new Set,Ga={};function us(s,r){si(s,r),si(s+"Capture",r)}function si(s,r){for(Ga[s]=r,s=0;s<r.length;s++)Nl.add(r[s])}var Fc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hc={},Kr={};function Gc(s){return qt.call(Kr,s)?!0:qt.call(Hc,s)?!1:Fc.test(s)?Kr[s]=!0:(Hc[s]=!0,!1)}function Hi(s,r,o){if(Gc(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function ws(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function tn(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}var $r,Kc;function ii(s){if($r===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);$r=r&&r[1]||"",Kc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+s+Kc}var Ka=!1;function $a(s,r){if(!s||Ka)return"";Ka=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var $=X}Reflect.construct(s,[],re)}else{try{re.call()}catch(X){$=X}s.call(re.prototype)}}else{try{throw Error()}catch(X){$=X}(re=s())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],w=g[1];if(E&&w){var O=E.split(`
`),G=w.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===G.length)for(u=O.length-1,f=G.length-1;1<=u&&0<=f&&O[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==G[f]){var ne=`
`+O[u].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=u&&0<=f);break}}}finally{Ka=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?ii(o):""}function Il(s){switch(s.tag){case 26:case 27:case 5:return ii(s.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return $a(s.type,!1);case 11:return $a(s.type.render,!1);case 1:return $a(s.type,!0);case 31:return ii("Activity");default:return""}}function Ya(s){try{var r="";do r+=Il(s),s=s.return;while(s);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Tn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Dl(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Yd(s){var r=Dl(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),u=""+s[r];if(!s.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(s,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Qa(s){s._valueTracker||(s._valueTracker=Yd(s))}function Ml(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=Dl(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Yr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Qd=/[\n"\\]/g;function Vt(s){return s.replace(Qd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Mn(s,r,o,u,f,g,E,w){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),r!=null?E==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Tn(r)):s.value!==""+Tn(r)&&(s.value=""+Tn(r)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),r!=null?Gi(s,E,Tn(r)):o!=null?Gi(s,E,Tn(o)):u!=null&&s.removeAttribute("value"),f==null&&g!=null&&(s.defaultChecked=!!g),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+Tn(w):s.removeAttribute("name")}function Qr(s,r,o,u,f,g,E,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+Tn(o):"",r=r!=null?""+Tn(r):o,w||r===s.value||(s.value=r),s.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=w?s.checked:!!u,s.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E)}function Gi(s,r,o){r==="number"&&Yr(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function ri(s,r,o,u){if(s=s.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<s.length;o++)f=r.hasOwnProperty("$"+s[o].value),s[o].selected!==f&&(s[o].selected=f),f&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Tn(o),r=null,f=0;f<s.length;f++){if(s[f].value===o){s[f].selected=!0,u&&(s[f].defaultSelected=!0);return}r!==null||s[f].disabled||(r=s[f])}r!==null&&(r.selected=!0)}}function st(s,r,o){if(r!=null&&(r=""+Tn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Tn(o):""}function Xr(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(ye(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Tn(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u)}function Kn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Wr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $c(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||Wr.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Vl(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&$c(s,f,u)}else for(var g in r)r.hasOwnProperty(g)&&$c(s,g,r[g])}function Pl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(s){return Wd.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ai=null;function $n(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var oi=null,li=null;function kl(s){var r=xs(s);if(r&&(s=r.stateNode)){var o=s[Mt]||null;e:switch(s=r.stateNode,r.type){case"input":if(Mn(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var f=u[Mt]||null;if(!f)throw Error(i(90));Mn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&Ml(u)}break e;case"textarea":st(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ri(s,!!o.multiple,r,!1)}}}var Ss=!1;function Yc(s,r,o){if(Ss)return s(r,o);Ss=!0;try{var u=s(r);return u}finally{if(Ss=!1,(oi!==null||li!==null)&&(zh(),oi&&(r=oi,s=li,li=oi=null,kl(r),s)))for(r=0;r<s.length;r++)kl(s[r])}}function Zr(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Mt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yn=!1;if(cs)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Yn=!1}var As=null,Ki=null,ui=null;function Ol(){if(ui)return ui;var s,r=Ki,o=r.length,u,f="value"in As?As.value:As.textContent,g=f.length;for(s=0;s<o&&r[s]===f[s];s++);var E=o-s;for(u=1;u<=E&&r[o-u]===f[g-u];u++);return ui=f.slice(s,1<u?1-u:void 0)}function Rs(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Cs(){return!0}function jl(){return!1}function Qt(s){function r(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(o=s[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Cs:jl,this.isPropagationStopped=jl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),r}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=Qt(Ze),ea=y({},Ze,{view:0,detail:0}),Qc=Qt(ea),Za,Ja,Ns,ta=y({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ns&&(Ns&&s.type==="mousemove"?(Za=s.screenX-Ns.screenX,Ja=s.screenY-Ns.screenY):Ja=Za=0,Ns=s),Za)},movementY:function(s){return"movementY"in s?s.movementY:Ja}}),Qn=Qt(ta),Xc=y({},ta,{dataTransfer:0}),Zd=Qt(Xc),na=y({},ea,{relatedTarget:0}),eo=Qt(na),Ll=y({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),to=Qt(Ll),Wc=y({},Ze,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),no=Qt(Wc),Jd=y({},Ze,{data:0}),Ul=Qt(Jd),sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bl(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Jc[s])?!!r[s]:!1}function ia(){return Bl}var eh=y({},ea,{key:function(s){if(s.key){var r=sa[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Rs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Zc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(s){return s.type==="keypress"?Rs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Rs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),so=Qt(eh),th=y({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zl=Qt(th),ci=y({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),nh=Qt(ci),sh=y({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),ih=Qt(sh),rh=y({},ta,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),io=Qt(rh),bn=y({},Ze,{newState:0,oldState:0}),ah=Qt(bn),oh=[9,13,27,32],Is=cs&&"CompositionEvent"in window,h=null;cs&&"documentMode"in document&&(h=document.documentMode);var _=cs&&"TextEvent"in window&&!h,b=cs&&(!Is||h&&8<h&&11>=h),A=" ",F=!1;function ee(s,r){switch(s){case"keyup":return oh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var He=!1;function Ht(s,r){switch(s){case"compositionend":return de(r);case"keypress":return r.which!==32?null:(F=!0,A);case"textInput":return s=r.data,s===A&&F?null:s;default:return null}}function Ge(s,r){if(He)return s==="compositionend"||!Is&&ee(s,r)?(s=Ol(),ui=Ki=As=null,He=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Xt[s.type]:r==="textarea"}function hi(s,r,o,u){oi?li?li.push(u):li=[u]:oi=u,r=$h(r,"onChange"),0<r.length&&(o=new Wa("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var nn=null,Ds=null;function ql(s){XT(s,0)}function lh(s){var r=Es(s);if(Ml(r))return s}function yv(s,r){if(s==="change")return r}var vv=!1;if(cs){var em;if(cs){var tm="oninput"in document;if(!tm){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),tm=typeof _v.oninput=="function"}em=tm}else em=!1;vv=em&&(!document.documentMode||9<document.documentMode)}function Tv(){nn&&(nn.detachEvent("onpropertychange",bv),Ds=nn=null)}function bv(s){if(s.propertyName==="value"&&lh(Ds)){var r=[];hi(r,Ds,s,$n(s)),Yc(ql,r)}}function yC(s,r,o){s==="focusin"?(Tv(),nn=r,Ds=o,nn.attachEvent("onpropertychange",bv)):s==="focusout"&&Tv()}function vC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return lh(Ds)}function _C(s,r){if(s==="click")return lh(r)}function TC(s,r){if(s==="input"||s==="change")return lh(r)}function bC(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Vn=typeof Object.is=="function"?Object.is:bC;function Fl(s,r){if(Vn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!qt.call(r,f)||!Vn(s[f],r[f]))return!1}return!0}function xv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ev(s,r){var o=xv(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xv(o)}}function wv(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?wv(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Sv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Yr(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Yr(s.document)}return r}function nm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var xC=cs&&"documentMode"in document&&11>=document.documentMode,ro=null,sm=null,Hl=null,im=!1;function Av(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;im||ro==null||ro!==Yr(u)||(u=ro,"selectionStart"in u&&nm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hl&&Fl(Hl,u)||(Hl=u,u=$h(sm,"onSelect"),0<u.length&&(r=new Wa("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=ro)))}function ra(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var ao={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},rm={},Rv={};cs&&(Rv=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function aa(s){if(rm[s])return rm[s];if(!ao[s])return s;var r=ao[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Rv)return rm[s]=r[o];return s}var Cv=aa("animationend"),Nv=aa("animationiteration"),Iv=aa("animationstart"),EC=aa("transitionrun"),wC=aa("transitionstart"),SC=aa("transitioncancel"),Dv=aa("transitionend"),Mv=new Map,am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");am.push("scrollEnd");function hs(s,r){Mv.set(s,r),us(r,[s])}var Vv=new WeakMap;function Xn(s,r){if(typeof s=="object"&&s!==null){var o=Vv.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Ya(r)},Vv.set(s,r),r)}return{value:s,source:r,stack:Ya(r)}}var Wn=[],oo=0,om=0;function uh(){for(var s=oo,r=om=oo=0;r<s;){var o=Wn[r];Wn[r++]=null;var u=Wn[r];Wn[r++]=null;var f=Wn[r];Wn[r++]=null;var g=Wn[r];if(Wn[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&Pv(o,f,g)}}function ch(s,r,o,u){Wn[oo++]=s,Wn[oo++]=r,Wn[oo++]=o,Wn[oo++]=u,om|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function lm(s,r,o,u){return ch(s,r,o,u),hh(s)}function lo(s,r){return ch(s,null,null,r),hh(s)}function Pv(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=s.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(f=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,f&&r!==null&&(f=31-fn(o),s=g.hiddenUpdates,u=s[f],u===null?s[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function hh(s){if(50<pu)throw pu=0,mp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var uo={};function AC(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(s,r,o,u){return new AC(s,r,o,u)}function um(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fi(s,r){var o=s.alternate;return o===null?(o=Pn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function kv(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function fh(s,r,o,u,f,g){var E=0;if(u=s,typeof s=="function")um(s)&&(E=1);else if(typeof s=="string")E=C2(s,o,ve.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case N:return s=Pn(31,o,r,f),s.elementType=N,s.lanes=g,s;case k:return oa(o.children,f,g,r);case D:E=8,f|=24;break;case j:return s=Pn(12,o,r,f|2),s.elementType=j,s.lanes=g,s;case W:return s=Pn(13,o,r,f),s.elementType=W,s.lanes=g,s;case ue:return s=Pn(19,o,r,f),s.elementType=ue,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:case K:E=10;break e;case Y:E=9;break e;case J:E=11;break e;case P:E=14;break e;case S:E=16,u=null;break e}E=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Pn(E,o,r,f),r.elementType=s,r.type=u,r.lanes=g,r}function oa(s,r,o,u){return s=Pn(7,s,u,r),s.lanes=o,s}function cm(s,r,o){return s=Pn(6,s,null,r),s.lanes=o,s}function hm(s,r,o){return r=Pn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var co=[],ho=0,dh=null,mh=0,Zn=[],Jn=0,la=null,di=1,mi="";function ua(s,r){co[ho++]=mh,co[ho++]=dh,dh=s,mh=r}function Ov(s,r,o){Zn[Jn++]=di,Zn[Jn++]=mi,Zn[Jn++]=la,la=s;var u=di;s=mi;var f=32-fn(u)-1;u&=~(1<<f),o+=1;var g=32-fn(r)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,di=1<<32-fn(r)+f|o<<f|u,mi=g+s}else di=1<<g|o<<f|u,mi=s}function fm(s){s.return!==null&&(ua(s,1),Ov(s,1,0))}function dm(s){for(;s===dh;)dh=co[--ho],co[ho]=null,mh=co[--ho],co[ho]=null;for(;s===la;)la=Zn[--Jn],Zn[Jn]=null,mi=Zn[--Jn],Zn[Jn]=null,di=Zn[--Jn],Zn[Jn]=null}var xn=null,bt=null,Xe=!1,ca=null,Ms=!1,mm=Error(i(519));function ha(s){var r=Error(i(418,""));throw $l(Xn(r,s)),mm}function jv(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Ft]=s,r[Mt]=u,o){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(o=0;o<yu.length;o++)Ue(yu[o],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),Qr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Qa(r);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),Xr(r,u.value,u.defaultValue,u.children),Qa(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||eb(r.textContent,o)?(u.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),u.onScroll!=null&&Ue("scroll",r),u.onScrollEnd!=null&&Ue("scrollend",r),u.onClick!=null&&(r.onclick=Yh),r=!0):r=!1,r||ha(s)}function Lv(s){for(xn=s.return;xn;)switch(xn.tag){case 5:case 13:Ms=!1;return;case 27:case 3:Ms=!0;return;default:xn=xn.return}}function Gl(s){if(s!==xn)return!1;if(!Xe)return Lv(s),Xe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Ip(s.type,s.memoizedProps)),o=!o),o&&bt&&ha(s),Lv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(o=s.data,o==="/$"){if(r===0){bt=ds(s.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;s=s.nextSibling}bt=null}}else r===27?(r=bt,lr(s.type)?(s=Pp,Pp=null,bt=s):bt=r):bt=xn?ds(s.stateNode.nextSibling):null;return!0}function Kl(){bt=xn=null,Xe=!1}function Uv(){var s=ca;return s!==null&&(An===null?An=s:An.push.apply(An,s),ca=null),s}function $l(s){ca===null?ca=[s]:ca.push(s)}var pm=te(null),fa=null,pi=null;function $i(s,r,o){ae(pm,r._currentValue),r._currentValue=o}function gi(s){s._currentValue=pm.current,le(pm)}function gm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function ym(s,r,o,u){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=f;for(var O=0;O<r.length;O++)if(w.context===r[O]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),gm(g.return,o,s),u||(E=null);break e}g=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),gm(E,o,s),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===s){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Yl(s,r,o,u){s=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var w=f.type;Vn(f.pendingProps.value,E.value)||(s!==null?s.push(w):s=[w])}}else if(f===ht.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(Eu):s=[Eu])}f=f.return}s!==null&&ym(r,s,o,u),r.flags|=262144}function ph(s){for(s=s.firstContext;s!==null;){if(!Vn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function da(s){fa=s,pi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function dn(s){return Bv(fa,s)}function gh(s,r){return fa===null&&da(s),Bv(s,r)}function Bv(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},pi===null){if(s===null)throw Error(i(308));pi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else pi=pi.next=r;return o}var RC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},CC=t.unstable_scheduleCallback,NC=t.unstable_NormalPriority,Kt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vm(){return{controller:new RC,data:new Map,refCount:0}}function Ql(s){s.refCount--,s.refCount===0&&CC(NC,function(){s.controller.abort()})}var Xl=null,_m=0,fo=0,mo=null;function IC(s,r){if(Xl===null){var o=Xl=[];_m=0,fo=bp(),mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return _m++,r.then(zv,zv),r}function zv(){if(--_m===0&&Xl!==null){mo!==null&&(mo.status="fulfilled");var s=Xl;Xl=null,fo=0,mo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function DC(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var qv=Q.S;Q.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&IC(s,r),qv!==null&&qv(s,r)};var ma=te(null);function Tm(){var s=ma.current;return s!==null?s:lt.pooledCache}function yh(s,r){r===null?ae(ma,ma.current):ae(ma,r.pool)}function Fv(){var s=Tm();return s===null?null:{parent:Kt._currentValue,pool:s}}var Wl=Error(i(460)),Hv=Error(i(474)),vh=Error(i(542)),bm={then:function(){}};function Gv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function _h(){}function Kv(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(_h,_h),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Yv(s),s;default:if(typeof r.status=="string")r.then(_h,_h);else{if(s=lt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Yv(s),s}throw Zl=r,Wl}}var Zl=null;function $v(){if(Zl===null)throw Error(i(459));var s=Zl;return Zl=null,s}function Yv(s){if(s===Wl||s===vh)throw Error(i(483))}var Yi=!1;function xm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Em(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Qi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Xi(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(tt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=hh(s),Pv(s,null,o),r}return ch(s,u,r,o),hh(s)}function Jl(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Rl(s,o)}}function wm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Sm=!1;function eu(){if(Sm){var s=mo;if(s!==null)throw s}}function tu(s,r,o,u){Sm=!1;var f=s.updateQueue;Yi=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,G=O.next;O.next=null,E===null?g=G:E.next=G,E=O;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,w=ne.lastBaseUpdate,w!==E&&(w===null?ne.firstBaseUpdate=G:w.next=G,ne.lastBaseUpdate=O))}if(g!==null){var re=f.baseState;E=0,ne=G=O=null,w=g;do{var $=w.lane&-536870913,X=$!==w.lane;if(X?(Ke&$)===$:(u&$)===$){$!==0&&$===fo&&(Sm=!0),ne!==null&&(ne=ne.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ie=s,we=w;$=r;var at=o;switch(we.tag){case 1:if(Ie=we.payload,typeof Ie=="function"){re=Ie.call(at,re,$);break e}re=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=we.payload,$=typeof Ie=="function"?Ie.call(at,re,$):Ie,$==null)break e;re=y({},re,$);break e;case 2:Yi=!0}}$=w.callback,$!==null&&(s.flags|=64,X&&(s.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ne===null?(G=ne=X,O=re):ne=ne.next=X,E|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;X=w,w=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);ne===null&&(O=re),f.baseState=O,f.firstBaseUpdate=G,f.lastBaseUpdate=ne,g===null&&(f.shared.lanes=0),ir|=E,s.lanes=E,s.memoizedState=re}}function Qv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Xv(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Qv(o[s],r)}var po=te(null),Th=te(0);function Wv(s,r){s=Ei,ae(Th,s),ae(po,r),Ei=s|r.baseLanes}function Am(){ae(Th,Ei),ae(po,po.current)}function Rm(){Ei=Th.current,le(po),le(Th)}var Wi=0,Oe=null,it=null,Pt=null,bh=!1,go=!1,pa=!1,xh=0,nu=0,yo=null,MC=0;function St(){throw Error(i(321))}function Cm(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Vn(s[o],r[o]))return!1;return!0}function Nm(s,r,o,u,f,g){return Wi=g,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=s===null||s.memoizedState===null?P_:k_,pa=!1,g=o(u,f),pa=!1,go&&(g=Jv(r,o,u,f)),Zv(s),g}function Zv(s){Q.H=Ch;var r=it!==null&&it.next!==null;if(Wi=0,Pt=it=Oe=null,bh=!1,nu=0,yo=null,r)throw Error(i(300));s===null||Wt||(s=s.dependencies,s!==null&&ph(s)&&(Wt=!0))}function Jv(s,r,o,u){Oe=s;var f=0;do{if(go&&(yo=null),nu=0,go=!1,25<=f)throw Error(i(301));if(f+=1,Pt=it=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=UC,g=r(o,u)}while(go);return g}function VC(){var s=Q.H,r=s.useState()[0];return r=typeof r.then=="function"?su(r):r,s=s.useState()[0],(it!==null?it.memoizedState:null)!==s&&(Oe.flags|=1024),r}function Im(){var s=xh!==0;return xh=0,s}function Dm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Mm(s){if(bh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}bh=!1}Wi=0,Pt=it=Oe=null,go=!1,nu=xh=0,yo=null}function wn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Oe.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function kt(){if(it===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=it.next;var r=Pt===null?Oe.memoizedState:Pt.next;if(r!==null)Pt=r,it=s;else{if(s===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));it=s,s={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Pt===null?Oe.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}function Vm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(s){var r=nu;return nu+=1,yo===null&&(yo=[]),s=Kv(yo,s,r),r=Oe,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?P_:k_),s}function Eh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return su(s);if(s.$$typeof===K)return dn(s)}throw Error(i(438,String(s)))}function Pm(s){var r=null,o=Oe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Vm(),Oe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=V;return r.index++,o}function yi(s,r){return typeof r=="function"?r(s):r}function wh(s){var r=kt();return km(r,it,s)}function km(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=s.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}r.baseQueue=f=g,u.pending=null}if(g=s.baseState,f===null)s.memoizedState=g;else{r=f.next;var w=E=null,O=null,G=r,ne=!1;do{var re=G.lane&-536870913;if(re!==G.lane?(Ke&re)===re:(Wi&re)===re){var $=G.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),re===fo&&(ne=!0);else if((Wi&$)===$){G=G.next,$===fo&&(ne=!0);continue}else re={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(w=O=re,E=g):O=O.next=re,Oe.lanes|=$,ir|=$;re=G.action,pa&&o(g,re),g=G.hasEagerState?G.eagerState:o(g,re)}else $={lane:re,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(w=O=$,E=g):O=O.next=$,Oe.lanes|=re,ir|=re;G=G.next}while(G!==null&&G!==r);if(O===null?E=g:O.next=w,!Vn(g,s.memoizedState)&&(Wt=!0,ne&&(o=mo,o!==null)))throw o;s.memoizedState=g,s.baseState=E,s.baseQueue=O,u.lastRenderedState=g}return f===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Om(s){var r=kt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=s(g,E.action),E=E.next;while(E!==f);Vn(g,r.memoizedState)||(Wt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function e_(s,r,o){var u=Oe,f=kt(),g=Xe;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var E=!Vn((it||f).memoizedState,o);E&&(f.memoizedState=o,Wt=!0),f=f.queue;var w=s_.bind(null,u,f,s);if(iu(2048,8,w,[s]),f.getSnapshot!==r||E||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,vo(9,Sh(),n_.bind(null,u,f,o,r),null),lt===null)throw Error(i(349));g||(Wi&124)!==0||t_(u,r,o)}return o}function t_(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r=Vm(),Oe.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function n_(s,r,o,u){r.value=o,r.getSnapshot=u,i_(r)&&r_(s)}function s_(s,r,o){return o(function(){i_(r)&&r_(s)})}function i_(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Vn(s,o)}catch{return!0}}function r_(s){var r=lo(s,2);r!==null&&Un(r,s,2)}function jm(s){var r=wn();if(typeof s=="function"){var o=s;if(s=o(),pa){Dn(!0);try{o()}finally{Dn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:s},r}function a_(s,r,o,u){return s.baseState=o,km(s,it,typeof u=="function"?u:yi)}function PC(s,r,o,u,f){if(Rh(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};Q.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,o_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function o_(s,r){var o=r.action,u=r.payload,f=s.state;if(r.isTransition){var g=Q.T,E={};Q.T=E;try{var w=o(f,u),O=Q.S;O!==null&&O(E,w),l_(s,r,w)}catch(G){Lm(s,r,G)}finally{Q.T=g}}else try{g=o(f,u),l_(s,r,g)}catch(G){Lm(s,r,G)}}function l_(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){u_(s,r,u)},function(u){return Lm(s,r,u)}):u_(s,r,o)}function u_(s,r,o){r.status="fulfilled",r.value=o,c_(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,o_(s,o)))}function Lm(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,c_(r),r=r.next;while(r!==u)}s.action=null}function c_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function h_(s,r){return r}function f_(s,r){if(Xe){var o=lt.formState;if(o!==null){e:{var u=Oe;if(Xe){if(bt){t:{for(var f=bt,g=Ms;f.nodeType!==8;){if(!g){f=null;break t}if(f=ds(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){bt=ds(f.nextSibling),u=f.data==="F!";break e}}ha(u)}u=!1}u&&(r=o[0])}}return o=wn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h_,lastRenderedState:r},o.queue=u,o=D_.bind(null,Oe,u),u.dispatch=o,u=jm(!1),g=Fm.bind(null,Oe,!1,u.queue),u=wn(),f={state:r,dispatch:null,action:s,pending:null},u.queue=f,o=PC.bind(null,Oe,f,g,o),f.dispatch=o,u.memoizedState=s,[r,o,!1]}function d_(s){var r=kt();return m_(r,it,s)}function m_(s,r,o){if(r=km(s,r,h_)[0],s=wh(yi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=su(r)}catch(E){throw E===Wl?vh:E}else u=r;r=kt();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Oe.flags|=2048,vo(9,Sh(),kC.bind(null,f,o),null)),[u,g,s]}function kC(s,r){s.action=r}function p_(s){var r=kt(),o=it;if(o!==null)return m_(r,o,s);kt(),r=r.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function vo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Vm(),Oe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function Sh(){return{destroy:void 0,resource:void 0}}function g_(){return kt().memoizedState}function Ah(s,r,o,u){var f=wn();u=u===void 0?null:u,Oe.flags|=s,f.memoizedState=vo(1|r,Sh(),o,u)}function iu(s,r,o,u){var f=kt();u=u===void 0?null:u;var g=f.memoizedState.inst;it!==null&&u!==null&&Cm(u,it.memoizedState.deps)?f.memoizedState=vo(r,g,o,u):(Oe.flags|=s,f.memoizedState=vo(1|r,g,o,u))}function y_(s,r){Ah(8390656,8,s,r)}function v_(s,r){iu(2048,8,s,r)}function __(s,r){return iu(4,2,s,r)}function T_(s,r){return iu(4,4,s,r)}function b_(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function x_(s,r,o){o=o!=null?o.concat([s]):null,iu(4,4,b_.bind(null,r,s),o)}function Um(){}function E_(s,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Cm(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function w_(s,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Cm(r,u[1]))return u[0];if(u=s(),pa){Dn(!0);try{s()}finally{Dn(!1)}}return o.memoizedState=[u,r],u}function Bm(s,r,o){return o===void 0||(Wi&1073741824)!==0?s.memoizedState=r:(s.memoizedState=o,s=RT(),Oe.lanes|=s,ir|=s,o)}function S_(s,r,o,u){return Vn(o,r)?o:po.current!==null?(s=Bm(s,o,u),Vn(s,r)||(Wt=!0),s):(Wi&42)===0?(Wt=!0,s.memoizedState=o):(s=RT(),Oe.lanes|=s,ir|=s,r)}function A_(s,r,o,u,f){var g=Z.p;Z.p=g!==0&&8>g?g:8;var E=Q.T,w={};Q.T=w,Fm(s,!1,r,o);try{var O=f(),G=Q.S;if(G!==null&&G(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=DC(O,u);ru(s,r,ne,Ln(s))}else ru(s,r,u,Ln(s))}catch(re){ru(s,r,{then:function(){},status:"rejected",reason:re},Ln())}finally{Z.p=g,Q.T=E}}function OC(){}function zm(s,r,o,u){if(s.tag!==5)throw Error(i(476));var f=R_(s).queue;A_(s,f,r,ce,o===null?OC:function(){return C_(s),o(u)})}function R_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:ce},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function C_(s){var r=R_(s).next.queue;ru(s,r,{},Ln())}function qm(){return dn(Eu)}function N_(){return kt().memoizedState}function I_(){return kt().memoizedState}function jC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ln();s=Qi(o);var u=Xi(r,s,o);u!==null&&(Un(u,r,o),Jl(u,r,o)),r={cache:vm()},s.payload=r;return}r=r.return}}function LC(s,r,o){var u=Ln();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Rh(s)?M_(r,o):(o=lm(s,r,o,u),o!==null&&(Un(o,s,u),V_(o,r,u)))}function D_(s,r,o){var u=Ln();ru(s,r,o,u)}function ru(s,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rh(s))M_(r,f);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var E=r.lastRenderedState,w=g(E,o);if(f.hasEagerState=!0,f.eagerState=w,Vn(w,E))return ch(s,r,f,0),lt===null&&uh(),!1}catch{}finally{}if(o=lm(s,r,f,u),o!==null)return Un(o,s,u),V_(o,r,u),!0}return!1}function Fm(s,r,o,u){if(u={lane:2,revertLane:bp(),action:u,hasEagerState:!1,eagerState:null,next:null},Rh(s)){if(r)throw Error(i(479))}else r=lm(s,o,u,2),r!==null&&Un(r,s,2)}function Rh(s){var r=s.alternate;return s===Oe||r!==null&&r===Oe}function M_(s,r){go=bh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function V_(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Rl(s,o)}}var Ch={readContext:dn,use:Eh,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},P_={readContext:dn,use:Eh,useCallback:function(s,r){return wn().memoizedState=[s,r===void 0?null:r],s},useContext:dn,useEffect:y_,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Ah(4194308,4,b_.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Ah(4194308,4,s,r)},useInsertionEffect:function(s,r){Ah(4,2,s,r)},useMemo:function(s,r){var o=wn();r=r===void 0?null:r;var u=s();if(pa){Dn(!0);try{s()}finally{Dn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=wn();if(o!==void 0){var f=o(r);if(pa){Dn(!0);try{o(r)}finally{Dn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},u.queue=s,s=s.dispatch=LC.bind(null,Oe,s),[u.memoizedState,s]},useRef:function(s){var r=wn();return s={current:s},r.memoizedState=s},useState:function(s){s=jm(s);var r=s.queue,o=D_.bind(null,Oe,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Um,useDeferredValue:function(s,r){var o=wn();return Bm(o,s,r)},useTransition:function(){var s=jm(!1);return s=A_.bind(null,Oe,s.queue,!0,!1),wn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Oe,f=wn();if(Xe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),lt===null)throw Error(i(349));(Ke&124)!==0||t_(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,y_(s_.bind(null,u,g,s),[s]),u.flags|=2048,vo(9,Sh(),n_.bind(null,u,g,o,r),null),o},useId:function(){var s=wn(),r=lt.identifierPrefix;if(Xe){var o=mi,u=di;o=(u&~(1<<32-fn(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=xh++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=MC++,r="«"+r+"r"+o.toString(32)+"»";return s.memoizedState=r},useHostTransitionStatus:qm,useFormState:f_,useActionState:f_,useOptimistic:function(s){var r=wn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Fm.bind(null,Oe,!0,o),o.dispatch=r,[s,r]},useMemoCache:Pm,useCacheRefresh:function(){return wn().memoizedState=jC.bind(null,Oe)}},k_={readContext:dn,use:Eh,useCallback:E_,useContext:dn,useEffect:v_,useImperativeHandle:x_,useInsertionEffect:__,useLayoutEffect:T_,useMemo:w_,useReducer:wh,useRef:g_,useState:function(){return wh(yi)},useDebugValue:Um,useDeferredValue:function(s,r){var o=kt();return S_(o,it.memoizedState,s,r)},useTransition:function(){var s=wh(yi)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:su(s),r]},useSyncExternalStore:e_,useId:N_,useHostTransitionStatus:qm,useFormState:d_,useActionState:d_,useOptimistic:function(s,r){var o=kt();return a_(o,it,s,r)},useMemoCache:Pm,useCacheRefresh:I_},UC={readContext:dn,use:Eh,useCallback:E_,useContext:dn,useEffect:v_,useImperativeHandle:x_,useInsertionEffect:__,useLayoutEffect:T_,useMemo:w_,useReducer:Om,useRef:g_,useState:function(){return Om(yi)},useDebugValue:Um,useDeferredValue:function(s,r){var o=kt();return it===null?Bm(o,s,r):S_(o,it.memoizedState,s,r)},useTransition:function(){var s=Om(yi)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:su(s),r]},useSyncExternalStore:e_,useId:N_,useHostTransitionStatus:qm,useFormState:p_,useActionState:p_,useOptimistic:function(s,r){var o=kt();return it!==null?a_(o,it,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Pm,useCacheRefresh:I_},_o=null,au=0;function Nh(s){var r=au;return au+=1,_o===null&&(_o=[]),Kv(_o,s,r)}function ou(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Ih(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function O_(s){var r=s._init;return r(s._payload)}function j_(s){function r(q,z){if(s){var H=q.deletions;H===null?(q.deletions=[z],q.flags|=16):H.push(z)}}function o(q,z){if(!s)return null;for(;z!==null;)r(q,z),z=z.sibling;return null}function u(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function f(q,z){return q=fi(q,z),q.index=0,q.sibling=null,q}function g(q,z,H){return q.index=H,s?(H=q.alternate,H!==null?(H=H.index,H<z?(q.flags|=67108866,z):H):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function E(q){return s&&q.alternate===null&&(q.flags|=67108866),q}function w(q,z,H,ie){return z===null||z.tag!==6?(z=cm(H,q.mode,ie),z.return=q,z):(z=f(z,H),z.return=q,z)}function O(q,z,H,ie){var _e=H.type;return _e===k?ne(q,z,H.props.children,ie,H.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&O_(_e)===z.type)?(z=f(z,H.props),ou(z,H),z.return=q,z):(z=fh(H.type,H.key,H.props,null,q.mode,ie),ou(z,H),z.return=q,z)}function G(q,z,H,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=hm(H,q.mode,ie),z.return=q,z):(z=f(z,H.children||[]),z.return=q,z)}function ne(q,z,H,ie,_e){return z===null||z.tag!==7?(z=oa(H,q.mode,ie,_e),z.return=q,z):(z=f(z,H),z.return=q,z)}function re(q,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=cm(""+z,q.mode,H),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return H=fh(z.type,z.key,z.props,null,q.mode,H),ou(H,z),H.return=q,H;case C:return z=hm(z,q.mode,H),z.return=q,z;case S:var ie=z._init;return z=ie(z._payload),re(q,z,H)}if(ye(z)||B(z))return z=oa(z,q.mode,H,null),z.return=q,z;if(typeof z.then=="function")return re(q,Nh(z),H);if(z.$$typeof===K)return re(q,gh(q,z),H);Ih(q,z)}return null}function $(q,z,H,ie){var _e=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:w(q,z,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===_e?O(q,z,H,ie):null;case C:return H.key===_e?G(q,z,H,ie):null;case S:return _e=H._init,H=_e(H._payload),$(q,z,H,ie)}if(ye(H)||B(H))return _e!==null?null:ne(q,z,H,ie,null);if(typeof H.then=="function")return $(q,z,Nh(H),ie);if(H.$$typeof===K)return $(q,z,gh(q,H),ie);Ih(q,H)}return null}function X(q,z,H,ie,_e){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return q=q.get(H)||null,w(z,q,""+ie,_e);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return q=q.get(ie.key===null?H:ie.key)||null,O(z,q,ie,_e);case C:return q=q.get(ie.key===null?H:ie.key)||null,G(z,q,ie,_e);case S:var je=ie._init;return ie=je(ie._payload),X(q,z,H,ie,_e)}if(ye(ie)||B(ie))return q=q.get(H)||null,ne(z,q,ie,_e,null);if(typeof ie.then=="function")return X(q,z,H,Nh(ie),_e);if(ie.$$typeof===K)return X(q,z,H,gh(z,ie),_e);Ih(z,ie)}return null}function Ie(q,z,H,ie){for(var _e=null,je=null,be=z,Re=z=0,Jt=null;be!==null&&Re<H.length;Re++){be.index>Re?(Jt=be,be=null):Jt=be.sibling;var Qe=$(q,be,H[Re],ie);if(Qe===null){be===null&&(be=Jt);break}s&&be&&Qe.alternate===null&&r(q,be),z=g(Qe,z,Re),je===null?_e=Qe:je.sibling=Qe,je=Qe,be=Jt}if(Re===H.length)return o(q,be),Xe&&ua(q,Re),_e;if(be===null){for(;Re<H.length;Re++)be=re(q,H[Re],ie),be!==null&&(z=g(be,z,Re),je===null?_e=be:je.sibling=be,je=be);return Xe&&ua(q,Re),_e}for(be=u(be);Re<H.length;Re++)Jt=X(be,q,Re,H[Re],ie),Jt!==null&&(s&&Jt.alternate!==null&&be.delete(Jt.key===null?Re:Jt.key),z=g(Jt,z,Re),je===null?_e=Jt:je.sibling=Jt,je=Jt);return s&&be.forEach(function(dr){return r(q,dr)}),Xe&&ua(q,Re),_e}function we(q,z,H,ie){if(H==null)throw Error(i(151));for(var _e=null,je=null,be=z,Re=z=0,Jt=null,Qe=H.next();be!==null&&!Qe.done;Re++,Qe=H.next()){be.index>Re?(Jt=be,be=null):Jt=be.sibling;var dr=$(q,be,Qe.value,ie);if(dr===null){be===null&&(be=Jt);break}s&&be&&dr.alternate===null&&r(q,be),z=g(dr,z,Re),je===null?_e=dr:je.sibling=dr,je=dr,be=Jt}if(Qe.done)return o(q,be),Xe&&ua(q,Re),_e;if(be===null){for(;!Qe.done;Re++,Qe=H.next())Qe=re(q,Qe.value,ie),Qe!==null&&(z=g(Qe,z,Re),je===null?_e=Qe:je.sibling=Qe,je=Qe);return Xe&&ua(q,Re),_e}for(be=u(be);!Qe.done;Re++,Qe=H.next())Qe=X(be,q,Re,Qe.value,ie),Qe!==null&&(s&&Qe.alternate!==null&&be.delete(Qe.key===null?Re:Qe.key),z=g(Qe,z,Re),je===null?_e=Qe:je.sibling=Qe,je=Qe);return s&&be.forEach(function(B2){return r(q,B2)}),Xe&&ua(q,Re),_e}function at(q,z,H,ie){if(typeof H=="object"&&H!==null&&H.type===k&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var _e=H.key;z!==null;){if(z.key===_e){if(_e=H.type,_e===k){if(z.tag===7){o(q,z.sibling),ie=f(z,H.props.children),ie.return=q,q=ie;break e}}else if(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&O_(_e)===z.type){o(q,z.sibling),ie=f(z,H.props),ou(ie,H),ie.return=q,q=ie;break e}o(q,z);break}else r(q,z);z=z.sibling}H.type===k?(ie=oa(H.props.children,q.mode,ie,H.key),ie.return=q,q=ie):(ie=fh(H.type,H.key,H.props,null,q.mode,ie),ou(ie,H),ie.return=q,q=ie)}return E(q);case C:e:{for(_e=H.key;z!==null;){if(z.key===_e)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){o(q,z.sibling),ie=f(z,H.children||[]),ie.return=q,q=ie;break e}else{o(q,z);break}else r(q,z);z=z.sibling}ie=hm(H,q.mode,ie),ie.return=q,q=ie}return E(q);case S:return _e=H._init,H=_e(H._payload),at(q,z,H,ie)}if(ye(H))return Ie(q,z,H,ie);if(B(H)){if(_e=B(H),typeof _e!="function")throw Error(i(150));return H=_e.call(H),we(q,z,H,ie)}if(typeof H.then=="function")return at(q,z,Nh(H),ie);if(H.$$typeof===K)return at(q,z,gh(q,H),ie);Ih(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(o(q,z.sibling),ie=f(z,H),ie.return=q,q=ie):(o(q,z),ie=cm(H,q.mode,ie),ie.return=q,q=ie),E(q)):o(q,z)}return function(q,z,H,ie){try{au=0;var _e=at(q,z,H,ie);return _o=null,_e}catch(be){if(be===Wl||be===vh)throw be;var je=Pn(29,be,null,q.mode);return je.lanes=ie,je.return=q,je}finally{}}}var To=j_(!0),L_=j_(!1),es=te(null),Vs=null;function Zi(s){var r=s.alternate;ae($t,$t.current&1),ae(es,s),Vs===null&&(r===null||po.current!==null||r.memoizedState!==null)&&(Vs=s)}function U_(s){if(s.tag===22){if(ae($t,$t.current),ae(es,s),Vs===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(Vs=s)}}else Ji()}function Ji(){ae($t,$t.current),ae(es,es.current)}function vi(s){le(es),Vs===s&&(Vs=null),le($t)}var $t=te(0);function Dh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Vp(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Hm(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Gm={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Ln(),f=Qi(u);f.payload=r,o!=null&&(f.callback=o),r=Xi(s,f,u),r!==null&&(Un(r,s,u),Jl(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Ln(),f=Qi(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Xi(s,f,u),r!==null&&(Un(r,s,u),Jl(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Ln(),u=Qi(o);u.tag=2,r!=null&&(u.callback=r),r=Xi(s,u,o),r!==null&&(Un(r,s,o),Jl(r,s,o))}};function B_(s,r,o,u,f,g,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,g,E):r.prototype&&r.prototype.isPureReactComponent?!Fl(o,u)||!Fl(f,g):!0}function z_(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&Gm.enqueueReplaceState(r,r.state,null)}function ga(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=y({},o));for(var f in s)o[f]===void 0&&(o[f]=s[f])}return o}var Mh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function q_(s){Mh(s)}function F_(s){console.error(s)}function H_(s){Mh(s)}function Vh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function G_(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Km(s,r,o){return o=Qi(o),o.tag=3,o.payload={element:null},o.callback=function(){Vh(s,r)},o}function K_(s){return s=Qi(s),s.tag=3,s}function $_(s,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;s.payload=function(){return f(g)},s.callback=function(){G_(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){G_(r,o,u),typeof f!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function BC(s,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Yl(r,o,f,!0),o=es.current,o!==null){switch(o.tag){case 13:return Vs===null?gp():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===bm?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),vp(s,u,f)),!1;case 22:return o.flags|=65536,u===bm?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),vp(s,u,f)),!1}throw Error(i(435,o.tag))}return vp(s,u,f),gp(),!1}if(Xe)return r=es.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==mm&&(s=Error(i(422),{cause:u}),$l(Xn(s,o)))):(u!==mm&&(r=Error(i(423),{cause:u}),$l(Xn(r,o))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,u=Xn(u,o),f=Km(s.stateNode,u,f),wm(s,f),xt!==4&&(xt=2)),!1;var g=Error(i(520),{cause:u});if(g=Xn(g,o),mu===null?mu=[g]:mu.push(g),xt!==4&&(xt=2),r===null)return!0;u=Xn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=f&-f,o.lanes|=s,s=Km(o.stateNode,u,s),wm(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rr===null||!rr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=K_(f),$_(f,s,o,u),wm(o,f),!1}o=o.return}while(o!==null);return!1}var Y_=Error(i(461)),Wt=!1;function sn(s,r,o,u){r.child=s===null?L_(r,null,o,u):To(r,s.child,o,u)}function Q_(s,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return da(r),u=Nm(s,r,o,E,g,f),w=Im(),s!==null&&!Wt?(Dm(s,r,f),_i(s,r,f)):(Xe&&w&&fm(r),r.flags|=1,sn(s,r,u,f),r.child)}function X_(s,r,o,u,f){if(s===null){var g=o.type;return typeof g=="function"&&!um(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,W_(s,r,g,u,f)):(s=fh(o.type,null,u,r,r.mode,f),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!ep(s,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Fl,o(E,u)&&s.ref===r.ref)return _i(s,r,f)}return r.flags|=1,s=fi(g,u),s.ref=r.ref,s.return=r,r.child=s}function W_(s,r,o,u,f){if(s!==null){var g=s.memoizedProps;if(Fl(g,u)&&s.ref===r.ref)if(Wt=!1,r.pendingProps=u=g,ep(s,f))(s.flags&131072)!==0&&(Wt=!0);else return r.lanes=s.lanes,_i(s,r,f)}return $m(s,r,o,u,f)}function Z_(s,r,o){var u=r.pendingProps,f=u.children,g=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,s!==null){for(f=r.child=s.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return J_(s,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&yh(r,g!==null?g.cachePool:null),g!==null?Wv(r,g):Am(),U_(r);else return r.lanes=r.childLanes=536870912,J_(s,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(yh(r,g.cachePool),Wv(r,g),Ji(),r.memoizedState=null):(s!==null&&yh(r,null),Am(),Ji());return sn(s,r,f,o),r.child}function J_(s,r,o,u){var f=Tm();return f=f===null?null:{parent:Kt._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},s!==null&&yh(r,null),Am(),U_(r),s!==null&&Yl(s,r,u,!0),null}function Ph(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function $m(s,r,o,u,f){return da(r),o=Nm(s,r,o,u,void 0,f),u=Im(),s!==null&&!Wt?(Dm(s,r,f),_i(s,r,f)):(Xe&&u&&fm(r),r.flags|=1,sn(s,r,o,f),r.child)}function eT(s,r,o,u,f,g){return da(r),r.updateQueue=null,o=Jv(r,u,o,f),Zv(s),u=Im(),s!==null&&!Wt?(Dm(s,r,g),_i(s,r,g)):(Xe&&u&&fm(r),r.flags|=1,sn(s,r,o,g),r.child)}function tT(s,r,o,u,f){if(da(r),r.stateNode===null){var g=uo,E=o.contextType;typeof E=="object"&&E!==null&&(g=dn(E)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},xm(r),E=o.contextType,g.context=typeof E=="object"&&E!==null?dn(E):uo,g.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Hm(r,o,E,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Gm.enqueueReplaceState(g,g.state,null),tu(r,u,g,f),eu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){g=r.stateNode;var w=r.memoizedProps,O=ga(o,w);g.props=O;var G=g.context,ne=o.contextType;E=uo,typeof ne=="object"&&ne!==null&&(E=dn(ne));var re=o.getDerivedStateFromProps;ne=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||G!==E)&&z_(r,g,u,E),Yi=!1;var $=r.memoizedState;g.state=$,tu(r,u,g,f),eu(),G=r.memoizedState,w||$!==G||Yi?(typeof re=="function"&&(Hm(r,o,re,u),G=r.memoizedState),(O=Yi||B_(r,o,O,u,$,G,E))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),g.props=u,g.state=G,g.context=E,u=O):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Em(s,r),E=r.memoizedProps,ne=ga(o,E),g.props=ne,re=r.pendingProps,$=g.context,G=o.contextType,O=uo,typeof G=="object"&&G!==null&&(O=dn(G)),w=o.getDerivedStateFromProps,(G=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==re||$!==O)&&z_(r,g,u,O),Yi=!1,$=r.memoizedState,g.state=$,tu(r,u,g,f),eu();var X=r.memoizedState;E!==re||$!==X||Yi||s!==null&&s.dependencies!==null&&ph(s.dependencies)?(typeof w=="function"&&(Hm(r,o,w,u),X=r.memoizedState),(ne=Yi||B_(r,o,ne,u,$,X,O)||s!==null&&s.dependencies!==null&&ph(s.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,O)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=O,u=ne):(typeof g.componentDidUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),u=!1)}return g=u,Ph(s,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&u?(r.child=To(r,s.child,null,f),r.child=To(r,null,o,f)):sn(s,r,o,f),r.memoizedState=g.state,s=r.child):s=_i(s,r,f),s}function nT(s,r,o,u){return Kl(),r.flags|=256,sn(s,r,o,u),r.child}var Ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qm(s){return{baseLanes:s,cachePool:Fv()}}function Xm(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=ts),s}function sT(s,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,E;if((E=g)||(E=s!==null&&s.memoizedState===null?!1:($t.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,s===null){if(Xe){if(f?Zi(r):Ji(),Xe){var w=bt,O;if(O=w){e:{for(O=w,w=Ms;O.nodeType!==8;){if(!w){w=null;break e}if(O=ds(O.nextSibling),O===null){w=null;break e}}w=O}w!==null?(r.memoizedState={dehydrated:w,treeContext:la!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},O=Pn(18,null,null,0),O.stateNode=w,O.return=r,r.child=O,xn=r,bt=null,O=!0):O=!1}O||ha(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Vp(w)?r.lanes=32:r.lanes=536870912,null;vi(r)}return w=u.children,u=u.fallback,f?(Ji(),f=r.mode,w=kh({mode:"hidden",children:w},f),u=oa(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,f=r.child,f.memoizedState=Qm(o),f.childLanes=Xm(s,E,o),r.memoizedState=Ym,u):(Zi(r),Wm(r,w))}if(O=s.memoizedState,O!==null&&(w=O.dehydrated,w!==null)){if(g)r.flags&256?(Zi(r),r.flags&=-257,r=Zm(s,r,o)):r.memoizedState!==null?(Ji(),r.child=s.child,r.flags|=128,r=null):(Ji(),f=u.fallback,w=r.mode,u=kh({mode:"visible",children:u.children},w),f=oa(f,w,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,To(r,s.child,null,o),u=r.child,u.memoizedState=Qm(o),u.childLanes=Xm(s,E,o),r.memoizedState=Ym,r=f);else if(Zi(r),Vp(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var G=E.dgst;E=G,u=Error(i(419)),u.stack="",u.digest=E,$l({value:u,source:null,stack:null}),r=Zm(s,r,o)}else if(Wt||Yl(s,r,o,!1),E=(o&s.childLanes)!==0,Wt||E){if(E=lt,E!==null&&(u=o&-o,u=(u&42)!==0?1:Bi(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,lo(s,u),Un(E,s,u),Y_;w.data==="$?"||gp(),r=Zm(s,r,o)}else w.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=O.treeContext,bt=ds(w.nextSibling),xn=r,Xe=!0,ca=null,Ms=!1,s!==null&&(Zn[Jn++]=di,Zn[Jn++]=mi,Zn[Jn++]=la,di=s.id,mi=s.overflow,la=r),r=Wm(r,u.children),r.flags|=4096);return r}return f?(Ji(),f=u.fallback,w=r.mode,O=s.child,G=O.sibling,u=fi(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,G!==null?f=fi(G,f):(f=oa(f,w,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,w=s.child.memoizedState,w===null?w=Qm(o):(O=w.cachePool,O!==null?(G=Kt._currentValue,O=O.parent!==G?{parent:G,pool:G}:O):O=Fv(),w={baseLanes:w.baseLanes|o,cachePool:O}),f.memoizedState=w,f.childLanes=Xm(s,E,o),r.memoizedState=Ym,u):(Zi(r),o=s.child,s=o.sibling,o=fi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(E=r.deletions,E===null?(r.deletions=[s],r.flags|=16):E.push(s)),r.child=o,r.memoizedState=null,o)}function Wm(s,r){return r=kh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function kh(s,r){return s=Pn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Zm(s,r,o){return To(r,s.child,null,o),s=Wm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function iT(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),gm(s.return,r,o)}function Jm(s,r,o,u,f){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function rT(s,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(sn(s,r,u.children,o),u=$t.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&iT(s,o,r);else if(s.tag===19)iT(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(ae($t,u),f){case"forwards":for(o=r.child,f=null;o!==null;)s=o.alternate,s!==null&&Dh(s)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Jm(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(s=f.alternate,s!==null&&Dh(s)===null){r.child=f;break}s=f.sibling,f.sibling=o,o=f,f=s}Jm(r,!0,o,null,g);break;case"together":Jm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function _i(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),ir|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Yl(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=fi(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=fi(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function ep(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&ph(s)))}function zC(s,r,o){switch(r.tag){case 3:he(r,r.stateNode.containerInfo),$i(r,Kt,s.memoizedState.cache),Kl();break;case 27:case 5:Be(r);break;case 4:he(r,r.stateNode.containerInfo);break;case 10:$i(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Zi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?sT(s,r,o):(Zi(r),s=_i(s,r,o),s!==null?s.sibling:null);Zi(r);break;case 19:var f=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Yl(s,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return rT(s,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae($t,$t.current),u)break;return null;case 22:case 23:return r.lanes=0,Z_(s,r,o);case 24:$i(r,Kt,s.memoizedState.cache)}return _i(s,r,o)}function aT(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Wt=!0;else{if(!ep(s,o)&&(r.flags&128)===0)return Wt=!1,zC(s,r,o);Wt=(s.flags&131072)!==0}else Wt=!1,Xe&&(r.flags&1048576)!==0&&Ov(r,mh,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")um(u)?(s=ga(u,s),r.tag=1,r=tT(null,r,u,s,o)):(r.tag=0,r=$m(null,r,u,s,o));else{if(u!=null){if(f=u.$$typeof,f===J){r.tag=11,r=Q_(null,r,u,s,o);break e}else if(f===P){r.tag=14,r=X_(null,r,u,s,o);break e}}throw r=fe(u)||u,Error(i(306,r,""))}}return r;case 0:return $m(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=ga(u,r.pendingProps),tT(s,r,u,f,o);case 3:e:{if(he(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,Em(s,r),tu(r,u,null,o);var E=r.memoizedState;if(u=E.cache,$i(r,Kt,u),u!==g.cache&&ym(r,[Kt],o,!0),eu(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=nT(s,r,u,o);break e}else if(u!==f){f=Xn(Error(i(424)),r),$l(f),r=nT(s,r,u,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(bt=ds(s.firstChild),xn=r,Xe=!0,ca=null,Ms=!0,o=L_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Kl(),u===f){r=_i(s,r,o);break e}sn(s,r,u,o)}r=r.child}return r;case 26:return Ph(s,r),s===null?(o=cb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Xe||(o=r.type,s=r.pendingProps,u=Qh(Ae.current).createElement(o),u[Ft]=r,u[Mt]=s,an(u,o,s),wt(u),r.stateNode=u):r.memoizedState=cb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Be(r),s===null&&Xe&&(u=r.stateNode=ob(r.type,r.pendingProps,Ae.current),xn=r,Ms=!0,f=bt,lr(r.type)?(Pp=f,bt=ds(u.firstChild)):bt=f),sn(s,r,r.pendingProps.children,o),Ph(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Xe&&((f=u=bt)&&(u=p2(u,r.type,r.pendingProps,Ms),u!==null?(r.stateNode=u,xn=r,bt=ds(u.firstChild),Ms=!1,f=!0):f=!1),f||ha(r)),Be(r),f=r.type,g=r.pendingProps,E=s!==null?s.memoizedProps:null,u=g.children,Ip(f,g)?u=null:E!==null&&Ip(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Nm(s,r,VC,null,null,o),Eu._currentValue=f),Ph(s,r),sn(s,r,u,o),r.child;case 6:return s===null&&Xe&&((s=o=bt)&&(o=g2(o,r.pendingProps,Ms),o!==null?(r.stateNode=o,xn=r,bt=null,s=!0):s=!1),s||ha(r)),null;case 13:return sT(s,r,o);case 4:return he(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=To(r,null,u,o):sn(s,r,u,o),r.child;case 11:return Q_(s,r,r.type,r.pendingProps,o);case 7:return sn(s,r,r.pendingProps,o),r.child;case 8:return sn(s,r,r.pendingProps.children,o),r.child;case 12:return sn(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,$i(r,r.type,u.value),sn(s,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,da(r),f=dn(f),u=u(f),r.flags|=1,sn(s,r,u,o),r.child;case 14:return X_(s,r,r.type,r.pendingProps,o);case 15:return W_(s,r,r.type,r.pendingProps,o);case 19:return rT(s,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},s===null?(o=kh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=fi(s.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return Z_(s,r,o);case 24:return da(r),u=dn(Kt),s===null?(f=Tm(),f===null&&(f=lt,g=vm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},xm(r),$i(r,Kt,f)):((s.lanes&o)!==0&&(Em(s,r),tu(r,null,null,o),eu()),f=s.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),$i(r,Kt,u)):(u=g.cache,$i(r,Kt,u),u!==f.cache&&ym(r,[Kt],o,!0))),sn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ti(s){s.flags|=4}function oT(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!pb(r)){if(r=es.current,r!==null&&((Ke&4194048)===Ke?Vs!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||r!==Vs))throw Zl=bm,Hv;s.flags|=8192}}function Oh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Sl():536870912,s.lanes|=r,wo|=r)}function lu(s,r){if(!Xe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function gt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var f=s.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function qC(s,r,o){var u=r.pendingProps;switch(dm(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),gi(Kt),Te(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Gl(r)?Ti(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Uv())),gt(r),null;case 26:return o=r.memoizedState,s===null?(Ti(r),o!==null?(gt(r),oT(r,o)):(gt(r),r.flags&=-16777217)):o?o!==s.memoizedState?(Ti(r),gt(r),oT(r,o)):(gt(r),r.flags&=-16777217):(s.memoizedProps!==u&&Ti(r),gt(r),r.flags&=-16777217),null;case 27:Ye(r),o=Ae.current;var f=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ti(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return gt(r),null}s=ve.current,Gl(r)?jv(r):(s=ob(f,u,o),r.stateNode=s,Ti(r))}return gt(r),null;case 5:if(Ye(r),o=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ti(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return gt(r),null}if(s=ve.current,Gl(r))jv(r);else{switch(f=Qh(Ae.current),s){case 1:s=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:s=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":s=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":s=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":s=f.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}s[Ft]=r,s[Mt]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=s;e:switch(an(s,o,u),o){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ti(r)}}return gt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Ti(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ae.current,Gl(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,f=xn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}s[Ft]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||eb(s.nodeValue,o)),s||ha(r)}else s=Qh(s).createTextNode(u),s[Ft]=r,r.stateNode=s}return gt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=Gl(r),u!==null&&u.dehydrated!==null){if(s===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Ft]=r}else Kl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),f=!1}else f=Uv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(vi(r),r):(vi(r),null)}if(vi(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,s=s!==null&&s.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==s&&o&&(r.child.flags|=8192),Oh(r,r.updateQueue),gt(r),null;case 4:return Te(),s===null&&Sp(r.stateNode.containerInfo),gt(r),null;case 10:return gi(r.type),gt(r),null;case 19:if(le($t),f=r.memoizedState,f===null)return gt(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)lu(f,!1);else{if(xt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=Dh(s),g!==null){for(r.flags|=128,lu(f,!1),s=g.updateQueue,r.updateQueue=s,Oh(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)kv(o,s),o=o.sibling;return ae($t,$t.current&1|2),r.child}s=s.sibling}f.tail!==null&&Hn()>Uh&&(r.flags|=128,u=!0,lu(f,!1),r.lanes=4194304)}else{if(!u)if(s=Dh(g),s!==null){if(r.flags|=128,u=!0,s=s.updateQueue,r.updateQueue=s,Oh(r,s),lu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Xe)return gt(r),null}else 2*Hn()-f.renderingStartTime>Uh&&o!==536870912&&(r.flags|=128,u=!0,lu(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(s=f.last,s!==null?s.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Hn(),r.sibling=null,s=$t.current,ae($t,u?s&1|2:s&1),r):(gt(r),null);case 22:case 23:return vi(r),Rm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),o=r.updateQueue,o!==null&&Oh(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&le(ma),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),gi(Kt),gt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function FC(s,r){switch(dm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return gi(Kt),Te(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Ye(r),null;case 13:if(vi(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Kl()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return le($t),null;case 4:return Te(),null;case 10:return gi(r.type),null;case 22:case 23:return vi(r),Rm(),s!==null&&le(ma),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return gi(Kt),null;case 25:return null;default:return null}}function lT(s,r){switch(dm(r),r.tag){case 3:gi(Kt),Te();break;case 26:case 27:case 5:Ye(r);break;case 4:Te();break;case 13:vi(r);break;case 19:le($t);break;case 10:gi(r.type);break;case 22:case 23:vi(r),Rm(),s!==null&&le(ma);break;case 24:gi(Kt)}}function uu(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&s)===s){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(w){ot(r,r.return,w)}}function er(s,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&s)===s){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=r;var O=o,G=w;try{G()}catch(ne){ot(f,O,ne)}}}u=u.next}while(u!==g)}}catch(ne){ot(r,r.return,ne)}}function uT(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Xv(r,o)}catch(u){ot(s,s.return,u)}}}function cT(s,r,o){o.props=ga(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){ot(s,r,u)}}function cu(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(f){ot(s,r,f)}}function Ps(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ot(s,r,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ot(s,r,f)}else o.current=null}function hT(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ot(s,s.return,f)}}function tp(s,r,o){try{var u=s.stateNode;c2(u,s.type,o,r),u[Mt]=r}catch(f){ot(s,s.return,f)}}function fT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&lr(s.type)||s.tag===4}function np(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||fT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&lr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function sp(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Yh));else if(u!==4&&(u===27&&lr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(sp(s,r,o),s=s.sibling;s!==null;)sp(s,r,o),s=s.sibling}function jh(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&lr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(jh(s,r,o),s=s.sibling;s!==null;)jh(s,r,o),s=s.sibling}function dT(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);an(r,u,o),r[Ft]=s,r[Mt]=o}catch(g){ot(s,s.return,g)}}var bi=!1,At=!1,ip=!1,mT=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function HC(s,r){if(s=s.containerInfo,Cp=tf,s=Sv(s),nm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,w=-1,O=-1,G=0,ne=0,re=s,$=null;t:for(;;){for(var X;re!==o||f!==0&&re.nodeType!==3||(w=E+f),re!==g||u!==0&&re.nodeType!==3||(O=E+u),re.nodeType===3&&(E+=re.nodeValue.length),(X=re.firstChild)!==null;)$=re,re=X;for(;;){if(re===s)break t;if($===o&&++G===f&&(w=E),$===g&&++ne===u&&(O=E),(X=re.nextSibling)!==null)break;re=$,$=re.parentNode}re=X}o=w===-1||O===-1?null:{start:w,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Np={focusedElem:s,selectionRange:o},tf=!1,Zt=r;Zt!==null;)if(r=Zt,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Zt=s;else for(;Zt!==null;){switch(r=Zt,g=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ie=ga(o.type,f,o.elementType===o.type);s=u.getSnapshotBeforeUpdate(Ie,g),u.__reactInternalSnapshotBeforeUpdate=s}catch(we){ot(o,o.return,we)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Mp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Mp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Zt=s;break}Zt=r.return}}function pT(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:tr(s,o),u&4&&uu(5,o);break;case 1:if(tr(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(E){ot(o,o.return,E)}else{var f=ga(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(f,r,s.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(o,o.return,E)}}u&64&&uT(o),u&512&&cu(o,o.return);break;case 3:if(tr(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Xv(s,r)}catch(E){ot(o,o.return,E)}}break;case 27:r===null&&u&4&&dT(o);case 26:case 5:tr(s,o),r===null&&u&4&&hT(o),u&512&&cu(o,o.return);break;case 12:tr(s,o);break;case 13:tr(s,o),u&4&&vT(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=JC.bind(null,o),y2(s,o))));break;case 22:if(u=o.memoizedState!==null||bi,!u){r=r!==null&&r.memoizedState!==null||At,f=bi;var g=At;bi=u,(At=r)&&!g?nr(s,o,(o.subtreeFlags&8772)!==0):tr(s,o),bi=f,At=g}break;case 30:break;default:tr(s,o)}}function gT(s){var r=s.alternate;r!==null&&(s.alternate=null,gT(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Fi(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var dt=null,Sn=!1;function xi(s,r,o){for(o=o.child;o!==null;)yT(s,r,o),o=o.sibling}function yT(s,r,o){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Tt,o)}catch{}switch(o.tag){case 26:At||Ps(o,r),xi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:At||Ps(o,r);var u=dt,f=Sn;lr(o.type)&&(dt=o.stateNode,Sn=!1),xi(s,r,o),_u(o.stateNode),dt=u,Sn=f;break;case 5:At||Ps(o,r);case 6:if(u=dt,f=Sn,dt=null,xi(s,r,o),dt=u,Sn=f,dt!==null)if(Sn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(g){ot(o,r,g)}else try{dt.removeChild(o.stateNode)}catch(g){ot(o,r,g)}break;case 18:dt!==null&&(Sn?(s=dt,rb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Ru(s)):rb(dt,o.stateNode));break;case 4:u=dt,f=Sn,dt=o.stateNode.containerInfo,Sn=!0,xi(s,r,o),dt=u,Sn=f;break;case 0:case 11:case 14:case 15:At||er(2,o,r),At||er(4,o,r),xi(s,r,o);break;case 1:At||(Ps(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&cT(o,r,u)),xi(s,r,o);break;case 21:xi(s,r,o);break;case 22:At=(u=At)||o.memoizedState!==null,xi(s,r,o),At=u;break;default:xi(s,r,o)}}function vT(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ru(s)}catch(o){ot(r,r.return,o)}}function GC(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new mT),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new mT),r;default:throw Error(i(435,s.tag))}}function rp(s,r){var o=GC(s);r.forEach(function(u){var f=e2.bind(null,s,u);o.has(u)||(o.add(u),u.then(f,f))})}function kn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=s,E=r,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(lr(w.type)){dt=w.stateNode,Sn=!1;break e}break;case 5:dt=w.stateNode,Sn=!1;break e;case 3:case 4:dt=w.stateNode.containerInfo,Sn=!0;break e}w=w.return}if(dt===null)throw Error(i(160));yT(g,E,f),dt=null,Sn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)_T(r,s),r=r.sibling}var fs=null;function _T(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:kn(r,s),On(s),u&4&&(er(3,s,s.return),uu(3,s),er(5,s,s.return));break;case 1:kn(r,s),On(s),u&512&&(At||o===null||Ps(o,o.return)),u&64&&bi&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=fs;if(kn(r,s),On(s),u&512&&(At||o===null||Ps(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Gr]||g[Ft]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),an(g,u,o),g[Ft]=s,wt(g),u=g;break e;case"link":var E=db("link","href",f).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(g=E[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}g=f.createElement(u),an(g,u,o),f.head.appendChild(g);break;case"meta":if(E=db("meta","content",f).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(g=E[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}g=f.createElement(u),an(g,u,o),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[Ft]=s,wt(g),u=g}s.stateNode=u}else mb(f,s.type,s.stateNode);else s.stateNode=fb(f,u,s.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?mb(f,s.type,s.stateNode):fb(f,u,s.memoizedProps)):u===null&&s.stateNode!==null&&tp(s,s.memoizedProps,o.memoizedProps)}break;case 27:kn(r,s),On(s),u&512&&(At||o===null||Ps(o,o.return)),o!==null&&u&4&&tp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(kn(r,s),On(s),u&512&&(At||o===null||Ps(o,o.return)),s.flags&32){f=s.stateNode;try{Kn(f,"")}catch(X){ot(s,s.return,X)}}u&4&&s.stateNode!=null&&(f=s.memoizedProps,tp(s,f,o!==null?o.memoizedProps:f)),u&1024&&(ip=!0);break;case 6:if(kn(r,s),On(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(X){ot(s,s.return,X)}}break;case 3:if(Zh=null,f=fs,fs=Xh(r.containerInfo),kn(r,s),fs=f,On(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ru(r.containerInfo)}catch(X){ot(s,s.return,X)}ip&&(ip=!1,TT(s));break;case 4:u=fs,fs=Xh(s.stateNode.containerInfo),kn(r,s),On(s),fs=u;break;case 12:kn(r,s),On(s);break;case 13:kn(r,s),On(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(hp=Hn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,rp(s,u)));break;case 22:f=s.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,G=bi,ne=At;if(bi=G||f,At=ne||O,kn(r,s),At=ne,bi=G,On(s),u&8192)e:for(r=s.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||bi||At||ya(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(g=O.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=O.stateNode;var re=O.memoizedProps.style,$=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(X){ot(O,O.return,X)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(X){ot(O,O.return,X)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,rp(s,o))));break;case 19:kn(r,s),On(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,rp(s,u)));break;case 30:break;case 21:break;default:kn(r,s),On(s)}}function On(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(fT(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=np(s);jh(s,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Kn(E,""),o.flags&=-33);var w=np(s);jh(s,w,E);break;case 3:case 4:var O=o.stateNode.containerInfo,G=np(s);sp(s,G,O);break;default:throw Error(i(161))}}catch(ne){ot(s,s.return,ne)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function TT(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;TT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function tr(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)pT(s,r.alternate,r),r=r.sibling}function ya(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:er(4,r,r.return),ya(r);break;case 1:Ps(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&cT(r,r.return,o),ya(r);break;case 27:_u(r.stateNode);case 26:case 5:Ps(r,r.return),ya(r);break;case 22:r.memoizedState===null&&ya(r);break;case 30:ya(r);break;default:ya(r)}s=s.sibling}}function nr(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=s,g=r,E=g.flags;switch(g.tag){case 0:case 11:case 15:nr(f,g,o),uu(4,g);break;case 1:if(nr(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){ot(u,u.return,G)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Qv(O[f],w)}catch(G){ot(u,u.return,G)}}o&&E&64&&uT(g),cu(g,g.return);break;case 27:dT(g);case 26:case 5:nr(f,g,o),o&&u===null&&E&4&&hT(g),cu(g,g.return);break;case 12:nr(f,g,o);break;case 13:nr(f,g,o),o&&E&4&&vT(f,g);break;case 22:g.memoizedState===null&&nr(f,g,o),cu(g,g.return);break;case 30:break;default:nr(f,g,o)}r=r.sibling}}function ap(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Ql(o))}function op(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ql(s))}function ks(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)bT(s,r,o,u),r=r.sibling}function bT(s,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ks(s,r,o,u),f&2048&&uu(9,r);break;case 1:ks(s,r,o,u);break;case 3:ks(s,r,o,u),f&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ql(s)));break;case 12:if(f&2048){ks(s,r,o,u),s=r.stateNode;try{var g=r.memoizedProps,E=g.id,w=g.onPostCommit;typeof w=="function"&&w(E,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){ot(r,r.return,O)}}else ks(s,r,o,u);break;case 13:ks(s,r,o,u);break;case 23:break;case 22:g=r.stateNode,E=r.alternate,r.memoizedState!==null?g._visibility&2?ks(s,r,o,u):hu(s,r):g._visibility&2?ks(s,r,o,u):(g._visibility|=2,bo(s,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&ap(E,r);break;case 24:ks(s,r,o,u),f&2048&&op(r.alternate,r);break;default:ks(s,r,o,u)}}function bo(s,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=s,E=r,w=o,O=u,G=E.flags;switch(E.tag){case 0:case 11:case 15:bo(g,E,w,O,f),uu(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?bo(g,E,w,O,f):hu(g,E):(ne._visibility|=2,bo(g,E,w,O,f)),f&&G&2048&&ap(E.alternate,E);break;case 24:bo(g,E,w,O,f),f&&G&2048&&op(E.alternate,E);break;default:bo(g,E,w,O,f)}r=r.sibling}}function hu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,f=u.flags;switch(u.tag){case 22:hu(o,u),f&2048&&ap(u.alternate,u);break;case 24:hu(o,u),f&2048&&op(u.alternate,u);break;default:hu(o,u)}r=r.sibling}}var fu=8192;function xo(s){if(s.subtreeFlags&fu)for(s=s.child;s!==null;)xT(s),s=s.sibling}function xT(s){switch(s.tag){case 26:xo(s),s.flags&fu&&s.memoizedState!==null&&I2(fs,s.memoizedState,s.memoizedProps);break;case 5:xo(s);break;case 3:case 4:var r=fs;fs=Xh(s.stateNode.containerInfo),xo(s),fs=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=fu,fu=16777216,xo(s),fu=r):xo(s));break;default:xo(s)}}function ET(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function du(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Zt=u,ST(u,s)}ET(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wT(s),s=s.sibling}function wT(s){switch(s.tag){case 0:case 11:case 15:du(s),s.flags&2048&&er(9,s,s.return);break;case 3:du(s);break;case 12:du(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Lh(s)):du(s);break;default:du(s)}}function Lh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Zt=u,ST(u,s)}ET(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:er(8,r,r.return),Lh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Lh(r));break;default:Lh(r)}s=s.sibling}}function ST(s,r){for(;Zt!==null;){var o=Zt;switch(o.tag){case 0:case 11:case 15:er(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ql(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Zt=u;else e:for(o=s;Zt!==null;){u=Zt;var f=u.sibling,g=u.return;if(gT(u),u===o){Zt=null;break e}if(f!==null){f.return=g,Zt=f;break e}Zt=g}}}var KC={getCacheForType:function(s){var r=dn(Kt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o}},$C=typeof WeakMap=="function"?WeakMap:Map,tt=0,lt=null,Le=null,Ke=0,nt=0,jn=null,sr=!1,Eo=!1,lp=!1,Ei=0,xt=0,ir=0,va=0,up=0,ts=0,wo=0,mu=null,An=null,cp=!1,hp=0,Uh=1/0,Bh=null,rr=null,rn=0,ar=null,So=null,Ao=0,fp=0,dp=null,AT=null,pu=0,mp=null;function Ln(){if((tt&2)!==0&&Ke!==0)return Ke&-Ke;if(Q.T!==null){var s=fo;return s!==0?s:bp()}return zi()}function RT(){ts===0&&(ts=(Ke&536870912)===0||Xe?wl():536870912);var s=es.current;return s!==null&&(s.flags|=32),ts}function Un(s,r,o){(s===lt&&(nt===2||nt===9)||s.cancelPendingCommit!==null)&&(Ro(s,0),or(s,Ke,ts,!1)),ti(s,o),((tt&2)===0||s!==lt)&&(s===lt&&((tt&2)===0&&(va|=o),xt===4&&or(s,Ke,ts,!1)),Os(s))}function CT(s,r,o){if((tt&6)!==0)throw Error(i(327));var u=!o&&(r&124)===0&&(r&s.expiredLanes)===0||Hr(s,r),f=u?XC(s,r):yp(s,r,!0),g=u;do{if(f===0){Eo&&!u&&or(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!YC(o)){f=yp(s,r,!1),g=!1;continue}if(f===2){if(g=r,s.errorRecoveryDisabledLanes&g)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var w=s;f=mu;var O=w.current.memoizedState.isDehydrated;if(O&&(Ro(w,E).flags|=256),E=yp(w,E,!1),E!==2){if(lp&&!O){w.errorRecoveryDisabledLanes|=g,va|=g,f=4;break e}g=An,An=f,g!==null&&(An===null?An=g:An.push.apply(An,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){Ro(s,0),or(s,r,0,!0);break}e:{switch(u=s,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:or(u,r,ts,!sr);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=hp+300-Hn(),10<f)){if(or(u,r,ts,!sr),Fa(u,0,!0)!==0)break e;u.timeoutHandle=sb(NT.bind(null,u,o,An,Bh,cp,r,ts,va,wo,sr,g,2,-0,0),f);break e}NT(u,o,An,Bh,cp,r,ts,va,wo,sr,g,0,-0,0)}}break}while(!0);Os(s)}function NT(s,r,o,u,f,g,E,w,O,G,ne,re,$,X){if(s.timeoutHandle=-1,re=r.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(xu={stylesheets:null,count:0,unsuspend:N2},xT(r),re=D2(),re!==null)){s.cancelPendingCommit=re(OT.bind(null,s,r,g,o,u,f,E,w,O,ne,1,$,X)),or(s,g,E,!G);return}OT(s,r,g,o,u,f,E,w,O)}function YC(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Vn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(s,r,o,u){r&=~up,r&=~va,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var f=r;0<f;){var g=31-fn(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&bs(s,o,r)}function zh(){return(tt&6)===0?(gu(0),!1):!0}function pp(){if(Le!==null){if(nt===0)var s=Le.return;else s=Le,pi=fa=null,Mm(s),_o=null,au=0,s=Le;for(;s!==null;)lT(s.alternate,s),s=s.return;Le=null}}function Ro(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,f2(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),pp(),lt=s,Le=o=fi(s.current,null),Ke=r,nt=0,jn=null,sr=!1,Eo=Hr(s,r),lp=!1,wo=ts=up=va=ir=xt=0,An=mu=null,cp=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var f=31-fn(u),g=1<<f;r|=s[f],u&=~g}return Ei=r,uh(),o}function IT(s,r){Oe=null,Q.H=Ch,r===Wl||r===vh?(r=$v(),nt=3):r===Hv?(r=$v(),nt=4):nt=r===Y_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jn=r,Le===null&&(xt=1,Vh(s,Xn(r,s.current)))}function DT(){var s=Q.H;return Q.H=Ch,s===null?Ch:s}function MT(){var s=Q.A;return Q.A=KC,s}function gp(){xt=4,sr||(Ke&4194048)!==Ke&&es.current!==null||(Eo=!0),(ir&134217727)===0&&(va&134217727)===0||lt===null||or(lt,Ke,ts,!1)}function yp(s,r,o){var u=tt;tt|=2;var f=DT(),g=MT();(lt!==s||Ke!==r)&&(Bh=null,Ro(s,r)),r=!1;var E=xt;e:do try{if(nt!==0&&Le!==null){var w=Le,O=jn;switch(nt){case 8:pp(),E=6;break e;case 3:case 2:case 9:case 6:es.current===null&&(r=!0);var G=nt;if(nt=0,jn=null,Co(s,w,O,G),o&&Eo){E=0;break e}break;default:G=nt,nt=0,jn=null,Co(s,w,O,G)}}QC(),E=xt;break}catch(ne){IT(s,ne)}while(!0);return r&&s.shellSuspendCounter++,pi=fa=null,tt=u,Q.H=f,Q.A=g,Le===null&&(lt=null,Ke=0,uh()),E}function QC(){for(;Le!==null;)VT(Le)}function XC(s,r){var o=tt;tt|=2;var u=DT(),f=MT();lt!==s||Ke!==r?(Bh=null,Uh=Hn()+500,Ro(s,r)):Eo=Hr(s,r);e:do try{if(nt!==0&&Le!==null){r=Le;var g=jn;t:switch(nt){case 1:nt=0,jn=null,Co(s,r,g,1);break;case 2:case 9:if(Gv(g)){nt=0,jn=null,PT(r);break}r=function(){nt!==2&&nt!==9||lt!==s||(nt=7),Os(s)},g.then(r,r);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Gv(g)?(nt=0,jn=null,PT(r)):(nt=0,jn=null,Co(s,r,g,7));break;case 5:var E=null;switch(Le.tag){case 26:E=Le.memoizedState;case 5:case 27:var w=Le;if(!E||pb(E)){nt=0,jn=null;var O=w.sibling;if(O!==null)Le=O;else{var G=w.return;G!==null?(Le=G,qh(G)):Le=null}break t}}nt=0,jn=null,Co(s,r,g,5);break;case 6:nt=0,jn=null,Co(s,r,g,6);break;case 8:pp(),xt=6;break e;default:throw Error(i(462))}}WC();break}catch(ne){IT(s,ne)}while(!0);return pi=fa=null,Q.H=u,Q.A=f,tt=o,Le!==null?0:(lt=null,Ke=0,uh(),xt)}function WC(){for(;Le!==null&&!Fn();)VT(Le)}function VT(s){var r=aT(s.alternate,s,Ei);s.memoizedProps=s.pendingProps,r===null?qh(s):Le=r}function PT(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=eT(o,r,r.pendingProps,r.type,void 0,Ke);break;case 11:r=eT(o,r,r.pendingProps,r.type.render,r.ref,Ke);break;case 5:Mm(r);default:lT(o,r),r=Le=kv(r,Ei),r=aT(o,r,Ei)}s.memoizedProps=s.pendingProps,r===null?qh(s):Le=r}function Co(s,r,o,u){pi=fa=null,Mm(r),_o=null,au=0;var f=r.return;try{if(BC(s,f,r,o,Ke)){xt=1,Vh(s,Xn(o,s.current)),Le=null;return}}catch(g){if(f!==null)throw Le=f,g;xt=1,Vh(s,Xn(o,s.current)),Le=null;return}r.flags&32768?(Xe||u===1?s=!0:Eo||(Ke&536870912)!==0?s=!1:(sr=s=!0,(u===2||u===9||u===3||u===6)&&(u=es.current,u!==null&&u.tag===13&&(u.flags|=16384))),kT(r,s)):qh(r)}function qh(s){var r=s;do{if((r.flags&32768)!==0){kT(r,sr);return}s=r.return;var o=qC(r.alternate,r,Ei);if(o!==null){Le=o;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=s}while(r!==null);xt===0&&(xt=5)}function kT(s,r){do{var o=FC(s.alternate,s);if(o!==null){o.flags&=32767,Le=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Le=s;return}Le=s=o}while(s!==null);xt=6,Le=null}function OT(s,r,o,u,f,g,E,w,O){s.cancelPendingCommit=null;do Fh();while(rn!==0);if((tt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=om,Al(s,o,g,E,w,O),s===lt&&(Le=lt=null,Ke=0),So=r,ar=s,Ao=o,fp=g,dp=f,AT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,t2(Br,function(){return zT(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,f=Z.p,Z.p=2,E=tt,tt|=4;try{HC(s,r,o)}finally{tt=E,Z.p=f,Q.T=u}}rn=1,jT(),LT(),UT()}}function jT(){if(rn===1){rn=0;var s=ar,r=So,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=Z.p;Z.p=2;var f=tt;tt|=4;try{_T(r,s);var g=Np,E=Sv(s.containerInfo),w=g.focusedElem,O=g.selectionRange;if(E!==w&&w&&w.ownerDocument&&wv(w.ownerDocument.documentElement,w)){if(O!==null&&nm(w)){var G=O.start,ne=O.end;if(ne===void 0&&(ne=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(ne,w.value.length);else{var re=w.ownerDocument||document,$=re&&re.defaultView||window;if($.getSelection){var X=$.getSelection(),Ie=w.textContent.length,we=Math.min(O.start,Ie),at=O.end===void 0?we:Math.min(O.end,Ie);!X.extend&&we>at&&(E=at,at=we,we=E);var q=Ev(w,we),z=Ev(w,at);if(q&&z&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var H=re.createRange();H.setStart(q.node,q.offset),X.removeAllRanges(),we>at?(X.addRange(H),X.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),X.addRange(H))}}}}for(re=[],X=w;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var ie=re[w];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}tf=!!Cp,Np=Cp=null}finally{tt=f,Z.p=u,Q.T=o}}s.current=r,rn=2}}function LT(){if(rn===2){rn=0;var s=ar,r=So,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=Z.p;Z.p=2;var f=tt;tt|=4;try{pT(s,r.alternate,r)}finally{tt=f,Z.p=u,Q.T=o}}rn=3}}function UT(){if(rn===4||rn===3){rn=0,Js();var s=ar,r=So,o=Ao,u=AT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?rn=5:(rn=0,So=ar=null,BT(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(rr=null),Ha(o),r=r.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Tt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Q.T,f=Z.p,Z.p=2,Q.T=null;try{for(var g=s.onRecoverableError,E=0;E<u.length;E++){var w=u[E];g(w.value,{componentStack:w.stack})}}finally{Q.T=r,Z.p=f}}(Ao&3)!==0&&Fh(),Os(s),f=s.pendingLanes,(o&4194090)!==0&&(f&42)!==0?s===mp?pu++:(pu=0,mp=s):pu=0,gu(0)}}function BT(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Ql(r)))}function Fh(s){return jT(),LT(),UT(),zT()}function zT(){if(rn!==5)return!1;var s=ar,r=fp;fp=0;var o=Ha(Ao),u=Q.T,f=Z.p;try{Z.p=32>o?32:o,Q.T=null,o=dp,dp=null;var g=ar,E=Ao;if(rn=0,So=ar=null,Ao=0,(tt&6)!==0)throw Error(i(331));var w=tt;if(tt|=4,wT(g.current),bT(g,g.current,E,o),tt=w,gu(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Tt,g)}catch{}return!0}finally{Z.p=f,Q.T=u,BT(s,r)}}function qT(s,r,o){r=Xn(o,r),r=Km(s.stateNode,r,2),s=Xi(s,r,2),s!==null&&(ti(s,2),Os(s))}function ot(s,r,o){if(s.tag===3)qT(s,s,o);else for(;r!==null;){if(r.tag===3){qT(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rr===null||!rr.has(u))){s=Xn(o,s),o=K_(2),u=Xi(r,o,2),u!==null&&($_(o,u,r,s),ti(u,2),Os(u));break}}r=r.return}}function vp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new $C;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(lp=!0,f.add(o),s=ZC.bind(null,s,r,o),r.then(s,s))}function ZC(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,lt===s&&(Ke&o)===o&&(xt===4||xt===3&&(Ke&62914560)===Ke&&300>Hn()-hp?(tt&2)===0&&Ro(s,0):up|=o,wo===Ke&&(wo=0)),Os(s)}function FT(s,r){r===0&&(r=Sl()),s=lo(s,r),s!==null&&(ti(s,r),Os(s))}function JC(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),FT(s,o)}function e2(s,r){var o=0;switch(s.tag){case 13:var u=s.stateNode,f=s.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),FT(s,o)}function t2(s,r){return It(s,r)}var Hh=null,No=null,_p=!1,Gh=!1,Tp=!1,_a=0;function Os(s){s!==No&&s.next===null&&(No===null?Hh=No=s:No=No.next=s),Gh=!0,_p||(_p=!0,s2())}function gu(s,r){if(!Tp&&Gh){Tp=!0;do for(var o=!1,u=Hh;u!==null;){if(s!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-fn(42|s)+1)-1,g&=f&~(E&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,$T(u,g))}else g=Ke,g=Fa(u,u===lt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Hr(u,g)||(o=!0,$T(u,g));u=u.next}while(o);Tp=!1}}function n2(){HT()}function HT(){Gh=_p=!1;var s=0;_a!==0&&(h2()&&(s=_a),_a=0);for(var r=Hn(),o=null,u=Hh;u!==null;){var f=u.next,g=GT(u,r);g===0?(u.next=null,o===null?Hh=f:o.next=f,f===null&&(No=o)):(o=u,(s!==0||(g&3)!==0)&&(Gh=!0)),u=f}gu(s)}function GT(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,f=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var E=31-fn(g),w=1<<E,O=f[E];O===-1?((w&o)===0||(w&u)!==0)&&(f[E]=El(w,r)):O<=r&&(s.expiredLanes|=w),g&=~w}if(r=lt,o=Ke,o=Fa(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(nt===2||nt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Dt(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Hr(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&Dt(u),Ha(o)){case 2:case 8:o=za;break;case 32:o=Br;break;case 268435456:o=qa;break;default:o=Br}return u=KT.bind(null,s),o=It(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&Dt(u),s.callbackPriority=2,s.callbackNode=null,2}function KT(s,r){if(rn!==0&&rn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Fh()&&s.callbackNode!==o)return null;var u=Ke;return u=Fa(s,s===lt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(CT(s,u,r),GT(s,Hn()),s.callbackNode!=null&&s.callbackNode===o?KT.bind(null,s):null)}function $T(s,r){if(Fh())return null;CT(s,r,!0)}function s2(){d2(function(){(tt&6)!==0?It(bl,n2):HT()})}function bp(){return _a===0&&(_a=wl()),_a}function YT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xa(""+s)}function QT(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function i2(s,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=YT((f[Mt]||null).action),E=u.submitter;E&&(r=(r=E[Mt]||null)?YT(r.formAction):E.getAttribute("formAction"),r!==null&&(g=r,E=null));var w=new Wa("action","action",null,u,f);s.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(_a!==0){var O=E?QT(f,E):new FormData(f);zm(o,{pending:!0,data:O,method:f.method,action:g},null,O)}}else typeof g=="function"&&(w.preventDefault(),O=E?QT(f,E):new FormData(f),zm(o,{pending:!0,data:O,method:f.method,action:g},g,O))},currentTarget:f}]})}}for(var xp=0;xp<am.length;xp++){var Ep=am[xp],r2=Ep.toLowerCase(),a2=Ep[0].toUpperCase()+Ep.slice(1);hs(r2,"on"+a2)}hs(Cv,"onAnimationEnd"),hs(Nv,"onAnimationIteration"),hs(Iv,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(EC,"onTransitionRun"),hs(wC,"onTransitionStart"),hs(SC,"onTransitionCancel"),hs(Dv,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),us("onBeforeInput",["compositionend","keypress","textInput","paste"]),us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yu));function XT(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var E=u.length-1;0<=E;E--){var w=u[E],O=w.instance,G=w.currentTarget;if(w=w.listener,O!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=G;try{g(f)}catch(ne){Mh(ne)}f.currentTarget=null,g=O}else for(E=0;E<u.length;E++){if(w=u[E],O=w.instance,G=w.currentTarget,w=w.listener,O!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=G;try{g(f)}catch(ne){Mh(ne)}f.currentTarget=null,g=O}}}}function Ue(s,r){var o=r[Cl];o===void 0&&(o=r[Cl]=new Set);var u=s+"__bubble";o.has(u)||(WT(r,s,2,!1),o.add(u))}function wp(s,r,o){var u=0;r&&(u|=4),WT(o,s,u,r)}var Kh="_reactListening"+Math.random().toString(36).slice(2);function Sp(s){if(!s[Kh]){s[Kh]=!0,Nl.forEach(function(o){o!=="selectionchange"&&(o2.has(o)||wp(o,!1,s),wp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Kh]||(r[Kh]=!0,wp("selectionchange",!1,r))}}function WT(s,r,o,u){switch(bb(r)){case 2:var f=P2;break;case 8:f=k2;break;default:f=Up}o=f.bind(null,r,o,s),f=void 0,!Yn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?s.addEventListener(r,o,{capture:!0,passive:f}):s.addEventListener(r,o,!0):f!==void 0?s.addEventListener(r,o,{passive:f}):s.addEventListener(r,o,!1)}function Ap(s,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=u.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=ni(w),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){u=g=E;continue e}w=w.parentNode}}u=u.return}Yc(function(){var G=g,ne=$n(o),re=[];e:{var $=Mv.get(s);if($!==void 0){var X=Wa,Ie=s;switch(s){case"keypress":if(Rs(o)===0)break e;case"keydown":case"keyup":X=so;break;case"focusin":Ie="focus",X=eo;break;case"focusout":Ie="blur",X=eo;break;case"beforeblur":case"afterblur":X=eo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Zd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=nh;break;case Cv:case Nv:case Iv:X=to;break;case Dv:X=ih;break;case"scroll":case"scrollend":X=Qc;break;case"wheel":X=io;break;case"copy":case"cut":case"paste":X=no;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=zl;break;case"toggle":case"beforetoggle":X=ah}var we=(r&4)!==0,at=!we&&(s==="scroll"||s==="scrollend"),q=we?$!==null?$+"Capture":null:$;we=[];for(var z=G,H;z!==null;){var ie=z;if(H=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||H===null||q===null||(ie=Zr(z,q),ie!=null&&we.push(vu(z,ie,H))),at)break;z=z.return}0<we.length&&($=new X($,Ie,null,o,ne),re.push({event:$,listeners:we}))}}if((r&7)===0){e:{if($=s==="mouseover"||s==="pointerover",X=s==="mouseout"||s==="pointerout",$&&o!==ai&&(Ie=o.relatedTarget||o.fromElement)&&(ni(Ie)||Ie[Gn]))break e;if((X||$)&&($=ne.window===ne?ne:($=ne.ownerDocument)?$.defaultView||$.parentWindow:window,X?(Ie=o.relatedTarget||o.toElement,X=G,Ie=Ie?ni(Ie):null,Ie!==null&&(at=l(Ie),we=Ie.tag,Ie!==at||we!==5&&we!==27&&we!==6)&&(Ie=null)):(X=null,Ie=G),X!==Ie)){if(we=Qn,ie="onMouseLeave",q="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(we=zl,ie="onPointerLeave",q="onPointerEnter",z="pointer"),at=X==null?$:Es(X),H=Ie==null?$:Es(Ie),$=new we(ie,z+"leave",X,o,ne),$.target=at,$.relatedTarget=H,ie=null,ni(ne)===G&&(we=new we(q,z+"enter",Ie,o,ne),we.target=H,we.relatedTarget=at,ie=we),at=ie,X&&Ie)t:{for(we=X,q=Ie,z=0,H=we;H;H=Io(H))z++;for(H=0,ie=q;ie;ie=Io(ie))H++;for(;0<z-H;)we=Io(we),z--;for(;0<H-z;)q=Io(q),H--;for(;z--;){if(we===q||q!==null&&we===q.alternate)break t;we=Io(we),q=Io(q)}we=null}else we=null;X!==null&&ZT(re,$,X,we,!1),Ie!==null&&at!==null&&ZT(re,at,Ie,we,!0)}}e:{if($=G?Es(G):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var _e=yv;else if(Gt($))if(vv)_e=TC;else{_e=vC;var je=yC}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&Pl(G.elementType)&&(_e=yv):_e=_C;if(_e&&(_e=_e(s,G))){hi(re,_e,o,ne);break e}je&&je(s,$,G),s==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Gi($,"number",$.value)}switch(je=G?Es(G):window,s){case"focusin":(Gt(je)||je.contentEditable==="true")&&(ro=je,sm=G,Hl=null);break;case"focusout":Hl=sm=ro=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,Av(re,o,ne);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":Av(re,o,ne)}var be;if(Is)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else He?ee(s,o)&&(Re="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Re="onCompositionStart");Re&&(b&&o.locale!=="ko"&&(He||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&He&&(be=Ol()):(As=ne,Ki="value"in As?As.value:As.textContent,He=!0)),je=$h(G,Re),0<je.length&&(Re=new Ul(Re,s,null,o,ne),re.push({event:Re,listeners:je}),be?Re.data=be:(be=de(o),be!==null&&(Re.data=be)))),(be=_?Ht(s,o):Ge(s,o))&&(Re=$h(G,"onBeforeInput"),0<Re.length&&(je=new Ul("onBeforeInput","beforeinput",null,o,ne),re.push({event:je,listeners:Re}),je.data=be)),i2(re,s,G,o,ne)}XT(re,r)})}function vu(s,r,o){return{instance:s,listener:r,currentTarget:o}}function $h(s,r){for(var o=r+"Capture",u=[];s!==null;){var f=s,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Zr(s,o),f!=null&&u.unshift(vu(s,f,g)),f=Zr(s,r),f!=null&&u.push(vu(s,f,g))),s.tag===3)return u;s=s.return}return[]}function Io(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function ZT(s,r,o,u,f){for(var g=r._reactName,E=[];o!==null&&o!==u;){var w=o,O=w.alternate,G=w.stateNode;if(w=w.tag,O!==null&&O===u)break;w!==5&&w!==26&&w!==27||G===null||(O=G,f?(G=Zr(o,g),G!=null&&E.unshift(vu(o,G,O))):f||(G=Zr(o,g),G!=null&&E.push(vu(o,G,O)))),o=o.return}E.length!==0&&s.push({event:r,listeners:E})}var l2=/\r\n?/g,u2=/\u0000|\uFFFD/g;function JT(s){return(typeof s=="string"?s:""+s).replace(l2,`
`).replace(u2,"")}function eb(s,r){return r=JT(r),JT(s)===r}function Yh(){}function rt(s,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Kn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Kn(s,""+u);break;case"className":ws(s,"class",u);break;case"tabIndex":ws(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(s,o,u);break;case"style":Vl(s,u,g);break;case"data":if(r!=="object"){ws(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Xa(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&rt(s,r,"name",f.name,f,null),rt(s,r,"formEncType",f.formEncType,f,null),rt(s,r,"formMethod",f.formMethod,f,null),rt(s,r,"formTarget",f.formTarget,f,null)):(rt(s,r,"encType",f.encType,f,null),rt(s,r,"method",f.method,f,null),rt(s,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Xa(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Yh);break;case"onScroll":u!=null&&Ue("scroll",s);break;case"onScrollEnd":u!=null&&Ue("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=Xa(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Ue("beforetoggle",s),Ue("toggle",s),Hi(s,"popover",u);break;case"xlinkActuate":tn(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":tn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":tn(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":tn(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":tn(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":tn(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":tn(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":tn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":tn(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Hi(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Xd.get(o)||o,Hi(s,o,u))}}function Rp(s,r,o,u,f,g){switch(o){case"style":Vl(s,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Kn(s,u):(typeof u=="number"||typeof u=="bigint")&&Kn(s,""+u);break;case"onScroll":u!=null&&Ue("scroll",s);break;case"onScrollEnd":u!=null&&Ue("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ga.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=s[Mt]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,f);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):Hi(s,o,u)}}}function an(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",s),Ue("load",s);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:rt(s,r,g,E,o,null)}}f&&rt(s,r,"srcSet",o.srcSet,o,null),u&&rt(s,r,"src",o.src,o,null);return;case"input":Ue("invalid",s);var w=g=E=f=null,O=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":f=ne;break;case"type":E=ne;break;case"checked":O=ne;break;case"defaultChecked":G=ne;break;case"value":g=ne;break;case"defaultValue":w=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,r));break;default:rt(s,r,u,ne,o,null)}}Qr(s,g,w,O,G,E,f,!1),Qa(s);return;case"select":Ue("invalid",s),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:rt(s,r,f,w,o,null)}r=g,o=E,s.multiple=!!u,r!=null?ri(s,!!u,r,!1):o!=null&&ri(s,!!u,o,!0);return;case"textarea":Ue("invalid",s),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:rt(s,r,E,w,o,null)}Xr(s,u,f,g),Qa(s);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:rt(s,r,O,u,o,null)}return;case"dialog":Ue("beforetoggle",s),Ue("toggle",s),Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":Ue("load",s);break;case"video":case"audio":for(u=0;u<yu.length;u++)Ue(yu[u],s);break;case"image":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"embed":case"source":case"link":Ue("error",s),Ue("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:rt(s,r,G,u,o,null)}return;default:if(Pl(r)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Rp(s,r,ne,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&rt(s,r,w,u,o,null))}function c2(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,w=null,O=null,G=null,ne=null;for(X in o){var re=o[X];if(o.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=re;default:u.hasOwnProperty(X)||rt(s,r,X,null,u,re)}}for(var $ in u){var X=u[$];if(re=o[$],u.hasOwnProperty($)&&(X!=null||re!=null))switch($){case"type":g=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":ne=X;break;case"value":E=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:X!==re&&rt(s,r,$,X,u,re)}}Mn(s,E,w,O,G,ne,g,f);return;case"select":X=E=w=$=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":X=O;default:u.hasOwnProperty(g)||rt(s,r,g,null,u,O)}for(f in u)if(g=u[f],O=o[f],u.hasOwnProperty(f)&&(g!=null||O!=null))switch(f){case"value":$=g;break;case"defaultValue":w=g;break;case"multiple":E=g;default:g!==O&&rt(s,r,f,g,u,O)}r=w,o=E,u=X,$!=null?ri(s,!!o,$,!1):!!u!=!!o&&(r!=null?ri(s,!!o,r,!0):ri(s,!!o,o?[]:"",!1));return;case"textarea":X=$=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:rt(s,r,w,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&rt(s,r,E,f,u,g)}st(s,$,X);return;case"option":for(var Ie in o)if($=o[Ie],o.hasOwnProperty(Ie)&&$!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":s.selected=!1;break;default:rt(s,r,Ie,null,u,$)}for(O in u)if($=u[O],X=o[O],u.hasOwnProperty(O)&&$!==X&&($!=null||X!=null))switch(O){case"selected":s.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:rt(s,r,O,$,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)$=o[we],o.hasOwnProperty(we)&&$!=null&&!u.hasOwnProperty(we)&&rt(s,r,we,null,u,$);for(G in u)if($=u[G],X=o[G],u.hasOwnProperty(G)&&$!==X&&($!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:rt(s,r,G,$,u,X)}return;default:if(Pl(r)){for(var at in o)$=o[at],o.hasOwnProperty(at)&&$!==void 0&&!u.hasOwnProperty(at)&&Rp(s,r,at,void 0,u,$);for(ne in u)$=u[ne],X=o[ne],!u.hasOwnProperty(ne)||$===X||$===void 0&&X===void 0||Rp(s,r,ne,$,u,X);return}}for(var q in o)$=o[q],o.hasOwnProperty(q)&&$!=null&&!u.hasOwnProperty(q)&&rt(s,r,q,null,u,$);for(re in u)$=u[re],X=o[re],!u.hasOwnProperty(re)||$===X||$==null&&X==null||rt(s,r,re,$,u,X)}var Cp=null,Np=null;function Qh(s){return s.nodeType===9?s:s.ownerDocument}function tb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nb(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Ip(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Dp=null;function h2(){var s=window.event;return s&&s.type==="popstate"?s===Dp?!1:(Dp=s,!0):(Dp=null,!1)}var sb=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,ib=typeof Promise=="function"?Promise:void 0,d2=typeof queueMicrotask=="function"?queueMicrotask:typeof ib<"u"?function(s){return ib.resolve(null).then(s).catch(m2)}:sb;function m2(s){setTimeout(function(){throw s})}function lr(s){return s==="head"}function rb(s,r){var o=r,u=0,f=0;do{var g=o.nextSibling;if(s.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=s.ownerDocument;if(o&1&&_u(E.documentElement),o&2&&_u(E.body),o&4)for(o=E.head,_u(o),E=o.firstChild;E;){var w=E.nextSibling,O=E.nodeName;E[Gr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=w}}if(f===0){s.removeChild(g),Ru(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Ru(r)}function Mp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Mp(o),Fi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function p2(s,r,o,u){for(;s.nodeType===1;){var f=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Gr])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=ds(s.nextSibling),s===null)break}return null}function g2(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ds(s.nextSibling),s===null))return null;return s}function Vp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function y2(s,r){var o=s.ownerDocument;if(s.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ds(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Pp=null;function ab(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return s;r--}else o==="/$"&&r++}s=s.previousSibling}return null}function ob(s,r,o){switch(r=Qh(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function _u(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Fi(s)}var ns=new Map,lb=new Set;function Xh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var wi=Z.d;Z.d={f:v2,r:_2,D:T2,C:b2,L:x2,m:E2,X:S2,S:w2,M:A2};function v2(){var s=wi.f(),r=zh();return s||r}function _2(s){var r=xs(s);r!==null&&r.tag===5&&r.type==="form"?C_(r):wi.r(s)}var Do=typeof document>"u"?null:document;function ub(s,r,o){var u=Do;if(u&&typeof r=="string"&&r){var f=Vt(r);f='link[rel="'+s+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),lb.has(f)||(lb.add(f),s={rel:s,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),an(r,"link",s),wt(r),u.head.appendChild(r)))}}function T2(s){wi.D(s),ub("dns-prefetch",s,null)}function b2(s,r){wi.C(s,r),ub("preconnect",s,r)}function x2(s,r,o){wi.L(s,r,o);var u=Do;if(u&&s&&r){var f='link[rel="preload"][as="'+Vt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Vt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Vt(o.imageSizes)+'"]')):f+='[href="'+Vt(s)+'"]';var g=f;switch(r){case"style":g=Mo(s);break;case"script":g=Vo(s)}ns.has(g)||(s=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ns.set(g,s),u.querySelector(f)!==null||r==="style"&&u.querySelector(Tu(g))||r==="script"&&u.querySelector(bu(g))||(r=u.createElement("link"),an(r,"link",s),wt(r),u.head.appendChild(r)))}}function E2(s,r){wi.m(s,r);var o=Do;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Vt(u)+'"][href="'+Vt(s)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Vo(s)}if(!ns.has(g)&&(s=y({rel:"modulepreload",href:s},r),ns.set(g,s),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(bu(g)))return}u=o.createElement("link"),an(u,"link",s),wt(u),o.head.appendChild(u)}}}function w2(s,r,o){wi.S(s,r,o);var u=Do;if(u&&s){var f=_n(u).hoistableStyles,g=Mo(s);r=r||"default";var E=f.get(g);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(Tu(g)))w.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ns.get(g))&&kp(s,o);var O=E=u.createElement("link");wt(O),an(O,"link",s),O._p=new Promise(function(G,ne){O.onload=G,O.onerror=ne}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Wh(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(g,E)}}}function S2(s,r){wi.X(s,r);var o=Do;if(o&&s){var u=_n(o).hoistableScripts,f=Vo(s),g=u.get(f);g||(g=o.querySelector(bu(f)),g||(s=y({src:s,async:!0},r),(r=ns.get(f))&&Op(s,r),g=o.createElement("script"),wt(g),an(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function A2(s,r){wi.M(s,r);var o=Do;if(o&&s){var u=_n(o).hoistableScripts,f=Vo(s),g=u.get(f);g||(g=o.querySelector(bu(f)),g||(s=y({src:s,async:!0,type:"module"},r),(r=ns.get(f))&&Op(s,r),g=o.createElement("script"),wt(g),an(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function cb(s,r,o,u){var f=(f=Ae.current)?Xh(f):null;if(!f)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Mo(o.href),o=_n(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Mo(o.href);var g=_n(f).hoistableStyles,E=g.get(s);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,E),(g=f.querySelector(Tu(s)))&&!g._p&&(E.instance=g,E.state.loading=5),ns.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ns.set(s,o),g||R2(f,s,o,E.state))),r&&u===null)throw Error(i(528,""));return E}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vo(o),o=_n(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Mo(s){return'href="'+Vt(s)+'"'}function Tu(s){return'link[rel="stylesheet"]['+s+"]"}function hb(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function R2(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),an(r,"link",o),wt(r),s.head.appendChild(r))}function Vo(s){return'[src="'+Vt(s)+'"]'}function bu(s){return"script[async]"+s}function fb(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Vt(o.href)+'"]');if(u)return r.instance=u,wt(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),wt(u),an(u,"style",f),Wh(u,o.precedence,s),r.instance=u;case"stylesheet":f=Mo(o.href);var g=s.querySelector(Tu(f));if(g)return r.state.loading|=4,r.instance=g,wt(g),g;u=hb(o),(f=ns.get(f))&&kp(u,f),g=(s.ownerDocument||s).createElement("link"),wt(g);var E=g;return E._p=new Promise(function(w,O){E.onload=w,E.onerror=O}),an(g,"link",u),r.state.loading|=4,Wh(g,o.precedence,s),r.instance=g;case"script":return g=Vo(o.src),(f=s.querySelector(bu(g)))?(r.instance=f,wt(f),f):(u=o,(f=ns.get(g))&&(u=y({},o),Op(u,f)),s=s.ownerDocument||s,f=s.createElement("script"),wt(f),an(f,"link",u),s.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Wh(u,o.precedence,s));return r.instance}function Wh(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===r)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function kp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Op(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Zh=null;function db(s,r,o){if(Zh===null){var u=new Map,f=Zh=new Map;f.set(o,u)}else f=Zh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),f=0;f<o.length;f++){var g=o[f];if(!(g[Gr]||g[Ft]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(r)||"";E=s+E;var w=u.get(E);w?w.push(g):u.set(E,[g])}}return u}function mb(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function C2(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function pb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var xu=null;function N2(){}function I2(s,r,o){if(xu===null)throw Error(i(475));var u=xu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Mo(o.href),g=s.querySelector(Tu(f));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Jh.bind(u),s.then(u,u)),r.state.loading|=4,r.instance=g,wt(g);return}g=s.ownerDocument||s,o=hb(o),(f=ns.get(f))&&kp(o,f),g=g.createElement("link"),wt(g);var E=g;E._p=new Promise(function(w,O){E.onload=w,E.onerror=O}),an(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Jh.bind(u),s.addEventListener("load",r),s.addEventListener("error",r))}}function D2(){if(xu===null)throw Error(i(475));var s=xu;return s.stylesheets&&s.count===0&&jp(s,s.stylesheets),0<s.count?function(r){var o=setTimeout(function(){if(s.stylesheets&&jp(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(o)}}:null}function Jh(){if(this.count--,this.count===0){if(this.stylesheets)jp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ef=null;function jp(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ef=new Map,r.forEach(M2,s),ef=null,Jh.call(s))}function M2(s,r){if(!(r.state.loading&4)){var o=ef.get(s);if(o)var u=o.get(null);else{o=new Map,ef.set(s,o);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=Jh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),r.state.loading|=4}}var Eu={$$typeof:K,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function V2(s,r,o,u,f,g,E,w){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function gb(s,r,o,u,f,g,E,w,O,G,ne,re){return s=new V2(s,r,o,E,w,O,G,re),r=1,g===!0&&(r|=24),g=Pn(3,null,null,r),s.current=g,g.stateNode=s,r=vm(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},xm(g),s}function yb(s){return s?(s=uo,s):uo}function vb(s,r,o,u,f,g){f=yb(f),u.context===null?u.context=f:u.pendingContext=f,u=Qi(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Xi(s,u,r),o!==null&&(Un(o,s,r),Jl(o,s,r))}function _b(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Lp(s,r){_b(s,r),(s=s.alternate)&&_b(s,r)}function Tb(s){if(s.tag===13){var r=lo(s,67108864);r!==null&&Un(r,s,67108864),Lp(s,67108864)}}var tf=!0;function P2(s,r,o,u){var f=Q.T;Q.T=null;var g=Z.p;try{Z.p=2,Up(s,r,o,u)}finally{Z.p=g,Q.T=f}}function k2(s,r,o,u){var f=Q.T;Q.T=null;var g=Z.p;try{Z.p=8,Up(s,r,o,u)}finally{Z.p=g,Q.T=f}}function Up(s,r,o,u){if(tf){var f=Bp(u);if(f===null)Ap(s,r,u,nf,o),xb(s,u);else if(j2(f,s,r,o,u))u.stopPropagation();else if(xb(s,u),r&4&&-1<O2.indexOf(s)){for(;f!==null;){var g=xs(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=ls(g.pendingLanes);if(E!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var O=1<<31-fn(E);w.entanglements[1]|=O,E&=~O}Os(g),(tt&6)===0&&(Uh=Hn()+500,gu(0))}}break;case 13:w=lo(g,2),w!==null&&Un(w,g,2),zh(),Lp(g,2)}if(g=Bp(u),g===null&&Ap(s,r,u,nf,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Ap(s,r,u,null,o)}}function Bp(s){return s=$n(s),zp(s)}var nf=null;function zp(s){if(nf=null,s=ni(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return nf=s,null}function bb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hd()){case bl:return 2;case za:return 8;case Br:case Gd:return 32;case qa:return 268435456;default:return 32}default:return 32}}var qp=!1,ur=null,cr=null,hr=null,wu=new Map,Su=new Map,fr=[],O2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xb(s,r){switch(s){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":wu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(r.pointerId)}}function Au(s,r,o,u,f,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=xs(r),r!==null&&Tb(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),s)}function j2(s,r,o,u,f){switch(r){case"focusin":return ur=Au(ur,s,r,o,u,f),!0;case"dragenter":return cr=Au(cr,s,r,o,u,f),!0;case"mouseover":return hr=Au(hr,s,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return wu.set(g,Au(wu.get(g)||null,s,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Su.set(g,Au(Su.get(g)||null,s,r,o,u,f)),!0}return!1}function Eb(s){var r=ni(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,zc(s.priority,function(){if(o.tag===13){var u=Ln();u=Bi(u);var f=lo(o,u);f!==null&&Un(f,o,u),Lp(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function sf(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Bp(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);ai=u,o.target.dispatchEvent(u),ai=null}else return r=xs(o),r!==null&&Tb(r),s.blockedOn=o,!1;r.shift()}return!0}function wb(s,r,o){sf(s)&&o.delete(r)}function L2(){qp=!1,ur!==null&&sf(ur)&&(ur=null),cr!==null&&sf(cr)&&(cr=null),hr!==null&&sf(hr)&&(hr=null),wu.forEach(wb),Su.forEach(wb)}function rf(s,r){s.blockedOn===r&&(s.blockedOn=null,qp||(qp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,L2)))}var af=null;function Sb(s){af!==s&&(af=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){af===s&&(af=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],f=s[r+2];if(typeof u!="function"){if(zp(u||o)===null)continue;break}var g=xs(o);g!==null&&(s.splice(r,3),r-=3,zm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ru(s){function r(O){return rf(O,s)}ur!==null&&rf(ur,s),cr!==null&&rf(cr,s),hr!==null&&rf(hr,s),wu.forEach(r),Su.forEach(r);for(var o=0;o<fr.length;o++){var u=fr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<fr.length&&(o=fr[0],o.blockedOn===null);)Eb(o),o.blockedOn===null&&fr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[Mt]||null;if(typeof g=="function")E||Sb(o);else if(E){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[Mt]||null)w=E.formAction;else if(zp(f)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),Sb(o)}}}function Fp(s){this._internalRoot=s}of.prototype.render=Fp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Ln();vb(o,u,s,r,null,null)},of.prototype.unmount=Fp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;vb(s.current,2,null,s,null,null),zh(),r[Gn]=null}};function of(s){this._internalRoot=s}of.prototype.unstable_scheduleHydration=function(s){if(s){var r=zi();s={blockedOn:null,target:s,priority:r};for(var o=0;o<fr.length&&r!==0&&r<fr[o].priority;o++);fr.splice(o,0,s),o===0&&Eb(s)}};var Ab=e.version;if(Ab!=="19.1.1")throw Error(i(527,Ab,"19.1.1"));Z.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var U2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{Tt=lf.inject(U2),et=lf}catch{}}return Nu.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",f=q_,g=F_,E=H_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=gb(s,1,!1,null,null,o,u,f,g,E,w,null),s[Gn]=r.current,Sp(s),new Fp(r)},Nu.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,f="",g=q_,E=F_,w=H_,O=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),r=gb(s,1,!0,r,o??null,u,f,g,E,w,O,G),r.context=yb(null),o=r.current,u=Ln(),u=Bi(u),f=Qi(u),f.callback=null,Xi(o,f,u),o=u,r.current.lanes=o,ti(r,o),Os(r),s[Gn]=r.current,Sp(s),new of(r)},Nu.version="19.1.1",Nu}var Ob;function Q2(){if(Ob)return Kp.exports;Ob=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kp.exports=Y2(),Kp.exports}var X2=Q2();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jb="popstate";function W2(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Mg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Wu(a)}return J2(e,n,null,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z2(){return Math.random().toString(36).substring(2,10)}function Lb(t,e){return{usr:t.state,key:t.key,idx:e}}function Mg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:n,key:e&&e.key||i||Z2()}}function Wu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function J2(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function T(){d="POP";let j=y(),U=j==null?null:j-p;p=j,m&&m({action:d,location:D.location,delta:U})}function x(j,U){d="PUSH";let Y=Mg(D.location,j,U);p=y()+1;let K=Lb(Y,p),J=D.createHref(Y);try{c.pushState(K,"",J)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(J)}l&&m&&m({action:d,location:D.location,delta:1})}function C(j,U){d="REPLACE";let Y=Mg(D.location,j,U);p=y();let K=Lb(Y,p),J=D.createHref(Y);c.replaceState(K,"",J),l&&m&&m({action:d,location:D.location,delta:0})}function k(j){return eN(j)}let D={get action(){return d},get location(){return t(a,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(jb,T),m=j,()=>{a.removeEventListener(jb,T),m=null}},createHref(j){return e(a,j)},createURL:k,encodeLocation(j){let U=k(j);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:x,replace:C,go(j){return c.go(j)}};return D}function eN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Wu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function H1(t,e,n="/"){return tN(t,e,n,!1)}function tN(t,e,n,i){let a=typeof e=="string"?al(e):e,l=Ii(a.pathname||"/",n);if(l==null)return null;let c=G1(t);nN(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=dN(l);d=hN(c[m],p,i)}return d}function G1(t,e=[],n=[],i="",a=!1){let l=(c,d,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&m)return;pt(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let T=Ci([i,y.relativePath]),x=n.concat(y);c.children&&c.children.length>0&&(pt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),G1(c.children,e,x,T,m)),!(c.path==null&&!c.index)&&e.push({path:T,score:uN(T,c.index),routesMeta:x})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of K1(c.path))l(c,d,!0,m)}),e}function K1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=K1(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function nN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var sN=/^:[\w-]+$/,iN=3,rN=2,aN=1,oN=10,lN=-2,Ub=t=>t==="*";function uN(t,e){let n=t.split("/"),i=n.length;return n.some(Ub)&&(i+=lN),e&&(i+=rN),n.filter(a=>!Ub(a)).reduce((a,l)=>a+(sN.test(l)?iN:l===""?aN:oN),i)}function cN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function hN(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",T=Ff({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),x=m.route;if(!T&&p&&n&&!i[i.length-1].route.index&&(T=Ff({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:Ci([l,T.pathname]),pathnameBase:yN(Ci([l,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(l=Ci([l,T.pathnameBase]))}return c}function Ff(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=fN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:T},x)=>{if(y==="*"){let k=d[x]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const C=d[x];return T&&!C?p[y]=void 0:p[y]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function fN(t,e=!1,n=!0){gs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function dN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ii(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function mN(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?al(t):t;return{pathname:n?n.startsWith("/")?n:pN(n,e):e,search:vN(i),hash:_N(a)}}function pN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Xp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dy(t){let e=gN(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function My(t,e,n,i=!1){let a;typeof t=="string"?a=al(t):(a={...t},pt(!a.pathname||!a.pathname.includes("?"),Xp("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),Xp("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),Xp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let T=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),T-=1;a.pathname=x.join("/")}d=T>=0?e[T]:"/"}let m=mN(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ci=t=>t.join("/").replace(/\/\/+/g,"/"),yN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_N=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var $1=["POST","PUT","PATCH","DELETE"];new Set($1);var bN=["GET",...$1];new Set(bN);var ol=I.createContext(null);ol.displayName="DataRouter";var gd=I.createContext(null);gd.displayName="DataRouterState";I.createContext(!1);var Y1=I.createContext({isTransitioning:!1});Y1.displayName="ViewTransition";var xN=I.createContext(new Map);xN.displayName="Fetchers";var EN=I.createContext(null);EN.displayName="Await";var Ts=I.createContext(null);Ts.displayName="Navigation";var pc=I.createContext(null);pc.displayName="Location";var Zs=I.createContext({outlet:null,matches:[],isDataRoute:!1});Zs.displayName="Route";var Vy=I.createContext(null);Vy.displayName="RouteError";function wN(t,{relative:e}={}){pt(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=I.useContext(Ts),{hash:a,pathname:l,search:c}=gc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Ci([n,l])),i.createHref({pathname:d,search:c,hash:a})}function ll(){return I.useContext(pc)!=null}function Li(){return pt(ll(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(pc).location}var Q1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X1(t){I.useContext(Ts).static||I.useLayoutEffect(t)}function ul(){let{isDataRoute:t}=I.useContext(Zs);return t?jN():SN()}function SN(){pt(ll(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(ol),{basename:e,navigator:n}=I.useContext(Ts),{matches:i}=I.useContext(Zs),{pathname:a}=Li(),l=JSON.stringify(Dy(i)),c=I.useRef(!1);return X1(()=>{c.current=!0}),I.useCallback((m,p={})=>{if(gs(c.current,Q1),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=My(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ci([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}I.createContext(null);function gc(t,{relative:e}={}){let{matches:n}=I.useContext(Zs),{pathname:i}=Li(),a=JSON.stringify(Dy(n));return I.useMemo(()=>My(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function AN(t,e){return W1(t,e)}function W1(t,e,n,i){pt(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=I.useContext(Ts),{matches:l}=I.useContext(Zs),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let U=y&&y.path||"";Z1(m,!y||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=Li(),x;if(e){let U=typeof e=="string"?al(e):e;pt(p==="/"||U.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),x=U}else x=T;let C=x.pathname||"/",k=C;if(p!=="/"){let U=p.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(U.length).join("/")}let D=H1(t,{pathname:k});gs(y||D!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),gs(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=DN(D&&D.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:Ci([p,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:Ci([p,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,n,i);return e&&j?I.createElement(pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function RN(){let t=ON(),e=TN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,c)}var CN=I.createElement(RN,null),NN=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(Zs.Provider,{value:this.props.routeContext},I.createElement(Vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IN({routeContext:t,match:e,children:n}){let i=I.useContext(ol);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Zs.Provider,{value:t},n)}function DN(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);pt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:T}=n,x=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let T,x=!1,C=null,k=null;n&&(T=l&&p.route.id?l[p.route.id]:void 0,C=p.route.errorElement||CN,c&&(d<0&&y===0?(Z1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,k=null):d===y&&(x=!0,k=p.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,y+1)),j=()=>{let U;return T?U=C:x?U=k:p.route.Component?U=I.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=m,I.createElement(IN,{match:p,routeContext:{outlet:m,matches:D,isDataRoute:n!=null},children:U})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?I.createElement(NN,{location:n.location,revalidation:n.revalidation,component:C,error:T,children:j(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):j()},null)}function Py(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MN(t){let e=I.useContext(ol);return pt(e,Py(t)),e}function VN(t){let e=I.useContext(gd);return pt(e,Py(t)),e}function PN(t){let e=I.useContext(Zs);return pt(e,Py(t)),e}function ky(t){let e=PN(t),n=e.matches[e.matches.length-1];return pt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kN(){return ky("useRouteId")}function ON(){let t=I.useContext(Vy),e=VN("useRouteError"),n=ky("useRouteError");return t!==void 0?t:e.errors?.[n]}function jN(){let{router:t}=MN("useNavigate"),e=ky("useNavigate"),n=I.useRef(!1);return X1(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{gs(n.current,Q1),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Bb={};function Z1(t,e,n){!e&&!Bb[t]&&(Bb[t]=!0,gs(!1,n))}I.memo(LN);function LN({routes:t,future:e,state:n}){return W1(t,void 0,n,e)}function Sf({to:t,replace:e,state:n,relative:i}){pt(ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(Ts);gs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(Zs),{pathname:c}=Li(),d=ul(),m=My(t,Dy(l),c,i==="path"),p=JSON.stringify(m);return I.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function Si(t){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UN({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){pt(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=al(n));let{pathname:m="/",search:p="",hash:y="",state:T=null,key:x="default"}=n,C=I.useMemo(()=>{let k=Ii(m,c);return k==null?null:{location:{pathname:k,search:p,hash:y,state:T,key:x},navigationType:i}},[c,m,p,y,T,x,i]);return gs(C!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:I.createElement(Ts.Provider,{value:d},I.createElement(pc.Provider,{children:e,value:C}))}function BN({children:t,location:e}){return AN(Vg(t),e)}function Vg(t,e=[]){let n=[];return I.Children.forEach(t,(i,a)=>{if(!I.isValidElement(i))return;let l=[...e,a];if(i.type===I.Fragment){n.push.apply(n,Vg(i.props.children,l));return}pt(i.type===Si,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Vg(i.props.children,l)),n.push(c)}),n}var Af="get",Rf="application/x-www-form-urlencoded";function yd(t){return t!=null&&typeof t.tagName=="string"}function zN(t){return yd(t)&&t.tagName.toLowerCase()==="button"}function qN(t){return yd(t)&&t.tagName.toLowerCase()==="form"}function FN(t){return yd(t)&&t.tagName.toLowerCase()==="input"}function HN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GN(t,e){return t.button===0&&(!e||e==="_self")&&!HN(t)}var uf=null;function KN(){if(uf===null)try{new FormData(document.createElement("form"),0),uf=!1}catch{uf=!0}return uf}var $N=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wp(t){return t!=null&&!$N.has(t)?(gs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):t}function YN(t,e){let n,i,a,l,c;if(qN(t)){let d=t.getAttribute("action");i=d?Ii(d,e):null,n=t.getAttribute("method")||Af,a=Wp(t.getAttribute("enctype"))||Rf,l=new FormData(t)}else if(zN(t)||FN(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(i=m?Ii(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Af,a=Wp(t.getAttribute("formenctype"))||Wp(d.getAttribute("enctype"))||Rf,l=new FormData(d,t),!KN()){let{name:p,type:y,value:T}=t;if(y==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,T)}}else{if(yd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Af,i=null,a=Rf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Oy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function QN(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Ii(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function XN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZN(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await XN(l,n);return c.links?c.links():[]}return[]}));return nI(i.flat(1).filter(WN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function zb(t,e,n,i,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let y=i.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function JN(t,e,{includeHydrateFallback:n}={}){return eI(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function eI(t){return[...new Set(t)]}function tI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function nI(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(tI(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function J1(){let t=I.useContext(ol);return Oy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sI(){let t=I.useContext(gd);return Oy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jy=I.createContext(void 0);jy.displayName="FrameworkContext";function ew(){let t=I.useContext(jy);return Oy(t,"You must render this element inside a <HydratedRouter> element"),t}function iI(t,e){let n=I.useContext(jy),[i,a]=I.useState(!1),[l,c]=I.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:T}=e,x=I.useRef(null);I.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=U=>{U.forEach(Y=>{c(Y.isIntersecting)})},j=new IntersectionObserver(D,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[t]),I.useEffect(()=>{if(i){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[i]);let C=()=>{a(!0)},k=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Iu(d,C),onBlur:Iu(m,k),onMouseEnter:Iu(p,C),onMouseLeave:Iu(y,k),onTouchStart:Iu(T,C)}]:[!1,x,{}]}function Iu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function rI({page:t,...e}){let{router:n}=J1(),i=I.useMemo(()=>H1(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?I.createElement(oI,{page:t,matches:i,...e}):null}function aI(t){let{manifest:e,routeModules:n}=ew(),[i,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return ZN(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function oI({page:t,matches:e,...n}){let i=Li(),{manifest:a,routeModules:l}=ew(),{basename:c}=J1(),{loaderData:d,matches:m}=sI(),p=I.useMemo(()=>zb(t,e,m,a,i,"data"),[t,e,m,a,i]),y=I.useMemo(()=>zb(t,e,m,a,i,"assets"),[t,e,m,a,i]),T=I.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let k=new Set,D=!1;if(e.forEach(U=>{let Y=a.routes[U.route.id];!Y||!Y.hasLoader||(!p.some(K=>K.route.id===U.route.id)&&U.route.id in d&&l[U.route.id]?.shouldRevalidate||Y.hasClientLoader?D=!0:k.add(U.route.id))}),k.size===0)return[];let j=QN(t,c,"data");return D&&k.size>0&&j.searchParams.set("_routes",e.filter(U=>k.has(U.route.id)).map(U=>U.route.id).join(",")),[j.pathname+j.search]},[c,d,i,a,p,e,t,l]),x=I.useMemo(()=>JN(y,a),[y,a]),C=aI(y);return I.createElement(I.Fragment,null,T.map(k=>I.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),x.map(k=>I.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),C.map(({key:k,link:D})=>I.createElement("link",{key:k,nonce:n.nonce,...D})))}function lI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tw&&(window.__reactRouterVersion="7.8.1")}catch{}function uI({basename:t,children:e,window:n}){let i=I.useRef();i.current==null&&(i.current=W2({window:n,v5Compat:!0}));let a=i.current,[l,c]=I.useState({action:a.action,location:a.location}),d=I.useCallback(m=>{I.startTransition(()=>c(m))},[c]);return I.useLayoutEffect(()=>a.listen(d),[a,d]),I.createElement(UN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hf=I.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:T,...x},C){let{basename:k}=I.useContext(Ts),D=typeof p=="string"&&nw.test(p),j,U=!1;if(typeof p=="string"&&D&&(j=p,tw))try{let N=new URL(window.location.href),V=p.startsWith("//")?new URL(N.protocol+p):new URL(p),L=Ii(V.pathname,k);V.origin===N.origin&&L!=null?p=L+V.search+V.hash:U=!0}catch{gs(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=wN(p,{relative:a}),[K,J,W]=iI(i,x),ue=dI(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:T});function P(N){e&&e(N),N.defaultPrevented||ue(N)}let S=I.createElement("a",{...x,...W,href:j||Y,onClick:U||l?e:P,ref:lI(C,J),target:m,"data-discover":!D&&n==="render"?"true":void 0});return K&&!D?I.createElement(I.Fragment,null,S,I.createElement(rI,{page:Y})):S});Hf.displayName="Link";var cI=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let T=gc(c,{relative:p.relative}),x=Li(),C=I.useContext(gd),{navigator:k,basename:D}=I.useContext(Ts),j=C!=null&&vI(T)&&d===!0,U=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,Y=x.pathname,K=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),K=K?K.toLowerCase():null,U=U.toLowerCase()),K&&D&&(K=Ii(K,D)||K);const J=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let W=Y===U||!a&&Y.startsWith(U)&&Y.charAt(J)==="/",ue=K!=null&&(K===U||!a&&K.startsWith(U)&&K.charAt(U.length)==="/"),P={isActive:W,isPending:ue,isTransitioning:j},S=W?e:void 0,N;typeof i=="function"?N=i(P):N=[i,W?"active":null,ue?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(P):l;return I.createElement(Hf,{...p,"aria-current":S,className:N,ref:y,style:V,to:c,viewTransition:d},typeof m=="function"?m(P):m)});cI.displayName="NavLink";var hI=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Af,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:T,...x},C)=>{let k=gI(),D=yI(d,{relative:p}),j=c.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&nw.test(d),Y=K=>{if(m&&m(K),K.defaultPrevented)return;K.preventDefault();let J=K.nativeEvent.submitter,W=J?.getAttribute("formmethod")||c;k(J||K.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:T})};return I.createElement("form",{ref:C,method:j,action:D,onSubmit:i?m:Y,...x,"data-discover":!U&&t==="render"?"true":void 0})});hI.displayName="Form";function fI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sw(t){let e=I.useContext(ol);return pt(e,fI(t)),e}function dI(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=ul(),m=Li(),p=gc(t,{relative:l});return I.useCallback(y=>{if(GN(y,e)){y.preventDefault();let T=n!==void 0?n:Wu(m)===Wu(p);d(t,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,i,e,t,a,l,c])}var mI=0,pI=()=>`__${String(++mI)}__`;function gI(){let{router:t}=sw("useSubmit"),{basename:e}=I.useContext(Ts),n=kN();return I.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=YN(i,e);if(a.navigate===!1){let y=a.fetcherKey||pI();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function yI(t,{relative:e}={}){let{basename:n}=I.useContext(Ts),i=I.useContext(Zs);pt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...gc(t||".",{relative:e})},c=Li();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ci([n,l.pathname])),Wu(l)}function vI(t,{relative:e}={}){let n=I.useContext(Y1);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=sw("useViewTransitionState"),a=gc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ii(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ii(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ff(a.pathname,c)!=null||Ff(a.pathname,l)!=null}const _I=()=>{};var qb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},TI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},rw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,T=(l&3)<<4|d>>4;let x=(d&15)<<2|p>>6,C=p&63;m||(C=64,c||(x=64)),i.push(n[y],n[T],n[x],n[C])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new bI;const x=l<<2|d>>4;if(i.push(x),p!==64){const C=d<<4&240|p>>2;if(i.push(C),T!==64){const k=p<<6&192|T;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xI=function(t){const e=iw(t);return rw.encodeByteArray(e,!0)},aw=function(t){return xI(t).replace(/\./g,"")},ow=function(t){try{return rw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=()=>EI().__FIREBASE_DEFAULTS__,SI=()=>{if(typeof process>"u"||typeof qb>"u")return;const t=qb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ow(t[1]);return e&&JSON.parse(e)},vd=()=>{try{return _I()||wI()||SI()||AI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RI=t=>vd()?.emulatorHosts?.[t],lw=()=>vd()?.config,uw=t=>vd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cw(t){return(await fetch(t,{credentials:"include"})).ok}const Uu={};function NI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Uu))Uu[e]?t.emulator.push(e):t.prod.push(e);return t}function II(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Fb=!1;function DI(t,e){if(typeof window>"u"||typeof document>"u"||!cl(window.location.host)||Uu[t]===e||Uu[t]||Fb)return;Uu[t]=e;function n(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=NI().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,C){x.setAttribute("width","24"),x.setAttribute("id",C),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Fb=!0,c()},x}function y(x,C){x.setAttribute("id",C),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=II(i),C=n("text"),k=document.getElementById(C)||document.createElement("span"),D=n("learnmore"),j=document.getElementById(D)||document.createElement("a"),U=n("preprendIcon"),Y=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const K=x.element;d(K),y(j,D);const J=p();m(Y,U),K.append(Y,k,j,J),document.body.appendChild(K)}l?(k.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function VI(){const t=vd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jI(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LI(){return!VI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UI(){try{return typeof indexedDB=="object"}catch{return!1}}function BI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="FirebaseError";class Ui extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=zI,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?qI(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ui(a,d,i)}}function qI(t,e){return t.replace(FI,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const FI=/\{\$([^}]+)}/g;function HI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ia(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(Hb(l)&&Hb(c)){if(!Ia(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Hb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Vu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function GI(t,e){const n=new KI(t,e);return n.subscribe.bind(n)}class KI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");$I(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Zp),a.error===void 0&&(a.error=Zp),a.complete===void 0&&(a.complete=Zp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $I(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Da{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new CI;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XI(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QI(t){return t===ba?void 0:t}function XI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const ZI={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},JI=ze.INFO,eD={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},tD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=eD[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ly{constructor(e){this.name=e,this._logLevel=JI,this._logHandler=tD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const nD=(t,e)=>e.some(n=>t instanceof n);let Gb,Kb;function sD(){return Gb||(Gb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iD(){return Kb||(Kb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hw=new WeakMap,Pg=new WeakMap,fw=new WeakMap,Jp=new WeakMap,Uy=new WeakMap;function rD(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(xr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&hw.set(n,t)}).catch(()=>{}),Uy.set(e,t),e}function aD(t){if(Pg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Pg.set(t,e)}let kg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oD(t){kg=t(kg)}function lD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(eg(this),e,...n);return fw.set(i,e.sort?e.sort():[e]),xr(i)}:iD().includes(t)?function(...e){return t.apply(eg(this),e),xr(hw.get(this))}:function(...e){return xr(t.apply(eg(this),e))}}function uD(t){return typeof t=="function"?lD(t):(t instanceof IDBTransaction&&aD(t),nD(t,sD())?new Proxy(t,kg):t)}function xr(t){if(t instanceof IDBRequest)return rD(t);if(Jp.has(t))return Jp.get(t);const e=uD(t);return e!==t&&(Jp.set(t,e),Uy.set(e,t)),e}const eg=t=>Uy.get(t);function cD(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=xr(c);return i&&c.addEventListener("upgradeneeded",m=>{i(xr(c.result),m.oldVersion,m.newVersion,xr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const hD=["get","getKey","getAll","getAllKeys","count"],fD=["put","add","delete","clear"],tg=new Map;function $b(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=fD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||hD.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return tg.set(e,l),l}oD(t=>({...t,get:(e,n,i)=>$b(e,n)||t.get(e,n,i),has:(e,n)=>!!$b(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function mD(t){return t.getComponent()?.type==="VERSION"}const Og="@firebase/app",Yb="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Ly("@firebase/app"),pD="@firebase/app-compat",gD="@firebase/analytics-compat",yD="@firebase/analytics",vD="@firebase/app-check-compat",_D="@firebase/app-check",TD="@firebase/auth",bD="@firebase/auth-compat",xD="@firebase/database",ED="@firebase/data-connect",wD="@firebase/database-compat",SD="@firebase/functions",AD="@firebase/functions-compat",RD="@firebase/installations",CD="@firebase/installations-compat",ND="@firebase/messaging",ID="@firebase/messaging-compat",DD="@firebase/performance",MD="@firebase/performance-compat",VD="@firebase/remote-config",PD="@firebase/remote-config-compat",kD="@firebase/storage",OD="@firebase/storage-compat",jD="@firebase/firestore",LD="@firebase/ai",UD="@firebase/firestore-compat",BD="firebase",zD="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="[DEFAULT]",qD={[Og]:"fire-core",[pD]:"fire-core-compat",[yD]:"fire-analytics",[gD]:"fire-analytics-compat",[_D]:"fire-app-check",[vD]:"fire-app-check-compat",[TD]:"fire-auth",[bD]:"fire-auth-compat",[xD]:"fire-rtdb",[ED]:"fire-data-connect",[wD]:"fire-rtdb-compat",[SD]:"fire-fn",[AD]:"fire-fn-compat",[RD]:"fire-iid",[CD]:"fire-iid-compat",[ND]:"fire-fcm",[ID]:"fire-fcm-compat",[DD]:"fire-perf",[MD]:"fire-perf-compat",[VD]:"fire-rc",[PD]:"fire-rc-compat",[kD]:"fire-gcs",[OD]:"fire-gcs-compat",[jD]:"fire-fst",[UD]:"fire-fst-compat",[LD]:"fire-vertex","fire-js":"fire-js",[BD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Map,FD=new Map,Lg=new Map;function Qb(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zo(t){const e=t.name;if(Lg.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Lg.set(e,t);for(const n of Gf.values())Qb(n,t);for(const n of FD.values())Qb(n,t);return!0}function By(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new yc("app","Firebase",HD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=zD;function zy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:jg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Er.create("bad-app-name",{appName:String(a)});if(n||(n=lw()),!n)throw Er.create("no-options");const l=Gf.get(a);if(l){if(Ia(n,l.options)&&Ia(i,l.config))return l;throw Er.create("duplicate-app",{appName:a})}const c=new WI(a);for(const m of Lg.values())c.addComponent(m);const d=new GD(n,i,c);return Gf.set(a,d),d}function KD(t=jg){const e=Gf.get(t);if(!e&&t===jg&&lw())return zy();if(!e)throw Er.create("no-app",{appName:t});return e}function wr(t,e,n){let i=qD[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(c.join(" "));return}Zo(new Da(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firebase-heartbeat-database",YD=1,Zu="firebase-heartbeat-store";let ng=null;function dw(){return ng||(ng=cD($D,YD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),ng}async function QD(t){try{const n=(await dw()).transaction(Zu),i=await n.objectStore(Zu).get(mw(t));return await n.done,i}catch(e){if(e instanceof Ui)Di.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e?.message});Di.warn(n.message)}}}async function Xb(t,e){try{const i=(await dw()).transaction(Zu,"readwrite");await i.objectStore(Zu).put(e,mw(t)),await i.done}catch(n){if(n instanceof Ui)Di.warn(n.message);else{const i=Er.create("idb-set",{originalErrorMessage:n?.message});Di.warn(i.message)}}}function mw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=1024,WD=30;class ZD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eM(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Wb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>WD){const a=tM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Di.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Wb(),{heartbeatsToSend:n,unsentEntries:i}=JD(this._heartbeatsCache.heartbeats),a=aw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Di.warn(e),""}}}function Wb(){return new Date().toISOString().substring(0,10)}function JD(t,e=XD){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Zb(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Zb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class eM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UI()?BI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Xb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Xb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Zb(t){return aw(JSON.stringify({version:2,heartbeats:t})).length}function tM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){Zo(new Da("platform-logger",e=>new dD(e),"PRIVATE")),Zo(new Da("heartbeat",e=>new ZD(e),"PRIVATE")),wr(Og,Yb,t),wr(Og,Yb,"esm2020"),wr("fire-js","")}nM("");function pw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sM=pw,gw=new yc("auth","Firebase",pw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Ly("@firebase/auth");function iM(t,...e){Kf.logLevel<=ze.WARN&&Kf.warn(`Auth (${hl}): ${t}`,...e)}function Cf(t,...e){Kf.logLevel<=ze.ERROR&&Kf.error(`Auth (${hl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,...e){throw qy(t,...e)}function Bs(t,...e){return qy(t,...e)}function yw(t,e,n){const i={...sM(),[e]:n};return new yc("auth","Firebase",i).create(e,{appName:t.name})}function Ni(t){return yw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return gw.create(t,...e)}function Ce(t,e,...n){if(!t)throw qy(e,...n)}function Ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cf(e),new Error(e)}function Mi(t,e){t||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(){return typeof self<"u"&&self.location?.href||""}function rM(){return Jb()==="http:"||Jb()==="https:"}function Jb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rM()||kI()||"connection"in navigator)?navigator.onLine:!0}function oM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=MI()||OI()}get(){return aM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cM=new _c(3e4,6e4);function kr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Or(t,e,n,i,a={}){return _w(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=vc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return PI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&cl(t.emulatorConfig.host)&&(p.credentials="include"),vw.fetch()(await Tw(t,t.config.apiHost,n,d),p)})}async function _w(t,e,n){t._canInitEmulator=!1;const i={...lM,...e};try{const a=new fM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw cf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw cf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw cf(t,"user-disabled",c);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw yw(t,y,p);ys(t,y)}}catch(a){if(a instanceof Ui)throw a;ys(t,"network-request-failed",{message:String(a)})}}async function Tc(t,e,n,i,a={}){const l=await Or(t,e,n,i,a);return"mfaPendingCredential"in l&&ys(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Tw(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?Fy(t.config,a):`${t.config.apiScheme}://${a}`;return uM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function hM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Bs(this.auth,"network-request-failed")),cM.get())})}}function cf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Bs(t,e,i);return a.customData._tokenResponse=n,a}function ex(t){return t!==void 0&&t.enterprise!==void 0}class dM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mM(t,e){return Or(t,"GET","/v2/recaptchaConfig",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e){return Or(t,"POST","/v1/accounts:delete",e)}async function $f(t,e){return Or(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bw(t,e=!1){const n=Nt(t),i=await n.getIdToken(e),a=Hy(i);Ce(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Bu(sg(a.auth_time)),issuedAtTime:Bu(sg(a.iat)),expirationTime:Bu(sg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function sg(t){return Number(t)*1e3}function Hy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const a=ow(n);return a?JSON.parse(a):(Cf("Failed to decode base64 JWT payload"),null)}catch(a){return Cf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function tx(t){const e=Hy(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ui&&gM(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function gM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t){const e=t.auth,n=await t.getIdToken(),i=await Ju(t,$f(e,{idToken:n}));Ce(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?xw(a.providerUserInfo):[],c=_M(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Bg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function vM(t){const e=Nt(t);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _M(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function xw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,e){const n=await _w(t,{},async()=>{const i=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await Tw(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return t.emulatorConfig&&cl(t.emulatorConfig.host)&&(m.credentials="include"),vw.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bM(t,e){return Or(t,"POST","/v2/accounts:revokeToken",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=tx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await TM(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new Ko;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ce(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ps{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new yM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Bg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ju(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bw(this,e)}reload(){return vM(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ps({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await Ju(this,pM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:x,isAnonymous:C,providerData:k,stsTokenManager:D}=n;Ce(T&&D,e,"internal-error");const j=Ko.fromJSON(this.name,D);Ce(typeof T=="string",e,"internal-error"),mr(i,e.name),mr(a,e.name),Ce(typeof x=="boolean",e,"internal-error"),Ce(typeof C=="boolean",e,"internal-error"),mr(l,e.name),mr(c,e.name),mr(d,e.name),mr(m,e.name),mr(p,e.name),mr(y,e.name);const U=new ps({uid:T,auth:e,email:a,emailVerified:x,displayName:i,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:p,lastLoginAt:y});return k&&Array.isArray(k)&&(U.providerData=k.map(Y=>({...Y}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,i=!1){const a=new Ko;a.updateFromServerResponse(n);const l=new ps({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Yf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?xw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Ko;d.updateFromIdToken(i);const m=new ps({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Bg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Map;function Ri(t){Mi(t instanceof Function,"Expected a class definition");let e=nx.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ew.type="NONE";const sx=Ew;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t,e,n){return`firebase:${t}:${e}:${n}`}class $o{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Nf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Nf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await $f(this.auth,{idToken:e}).catch(()=>{});return n?ps._fromGetAccountInfoResponse(this.auth,n,e):null}return ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new $o(Ri(sx),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ri(sx);const c=Nf(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let T;if(typeof y=="string"){const x=await $f(e,{idToken:y}).catch(()=>{});if(!x)break;T=await ps._fromGetAccountInfoResponse(e,x,y)}else T=ps._fromJSON(e,y);p!==l&&(d=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new $o(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new $o(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ww(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nw(e))return"Blackberry";if(Iw(e))return"Webos";if(Sw(e))return"Safari";if((e.includes("chrome/")||Aw(e))&&!e.includes("edge/"))return"Chrome";if(Cw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function ww(t=vn()){return/firefox\//i.test(t)}function Sw(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Aw(t=vn()){return/crios\//i.test(t)}function Rw(t=vn()){return/iemobile/i.test(t)}function Cw(t=vn()){return/android/i.test(t)}function Nw(t=vn()){return/blackberry/i.test(t)}function Iw(t=vn()){return/webos/i.test(t)}function Gy(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xM(t=vn()){return Gy(t)&&!!window.navigator?.standalone}function EM(){return jI()&&document.documentMode===10}function Dw(t=vn()){return Gy(t)||Cw(t)||Iw(t)||Nw(t)||/windows phone/i.test(t)||Rw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e=[]){let n;switch(t){case"Browser":n=ix(vn());break;case"Worker":n=`${ix(vn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(t,e={}){return Or(t,"GET","/v2/passwordPolicy",kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=6;class RM{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rx(this),this.idTokenSubscription=new rx(this),this.beforeStateQueue=new wM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ri(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $f(this,{idToken:e}),i=await ps._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(rs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rs(this.app))return Promise.reject(Ni(this));const n=e?Nt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rs(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SM(this),n=new RM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await bM(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ri(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&iM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oa(t){return Nt(t)}class rx{constructor(e){this.auth=e,this.observer=null,this.addObserver=GI(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NM(t){_d=t}function Vw(t){return _d.loadJS(t)}function IM(){return _d.recaptchaEnterpriseScript}function DM(){return _d.gapiScript}function MM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class VM{constructor(){this.enterprise=new PM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class PM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const kM="recaptcha-enterprise",Pw="NO_RECAPTCHA";class OM{constructor(e){this.type=kM,this.auth=Oa(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{mM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new dM(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;ex(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Pw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!n&&ex(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=IM();m.length!==0&&(m+=d),Vw(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function ax(t,e,n,i=!1,a=!1){const l=new OM(t);let c;if(a)c=Pw;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function zg(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ax(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await ax(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t,e){const n=By(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ia(l,e??{}))return a;ys(a,"already-initialized")}return n.initialize({options:e})}function LM(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ri);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function UM(t,e,n){const i=Oa(t);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=kw(e),{host:c,port:d}=BM(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(Ia(p,i.config.emulator)&&Ia(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,cl(c)?(cw(`${l}//${c}${m}`),DI("Auth",!0)):zM()}function kw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BM(t){const e=kw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:ox(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:ox(c)}}}function ox(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function qM(t,e){return Or(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(t,e){return Tc(t,"POST","/v1/accounts:signInWithPassword",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(t,e){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))}async function GM(t,e){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends Ky{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new ec(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new ec(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zg(e,n,"signInWithPassword",FM);case"emailLink":return HM(e,{email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zg(e,i,"signUpPassword",qM);case"emailLink":return GM(e,{idToken:n,email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return Tc(t,"POST","/v1/accounts:signInWithIdp",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="http://localhost";class Ma extends Ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new Ma(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Yo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:KM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YM(t){const e=Mu(Vu(t)).link,n=e?Mu(Vu(e)).deep_link_id:null,i=Mu(Vu(t)).deep_link_id;return(i?Mu(Vu(i)).link:null)||i||n||e||t}class $y{constructor(e){const n=Mu(Vu(e)),i=n.apiKey??null,a=n.oobCode??null,l=$M(n.mode??null);Ce(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=YM(e);try{return new $y(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,n){return ec._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=$y.parseLink(n);return Ce(i,"argument-error"),ec._fromEmailAndCode(e,i.code,i.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Ow{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends bc{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ma._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return yr.credential(n,i)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends bc{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends bc{constructor(){super("twitter.com")}static credential(e,n){return Ma._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return _r.credential(n,i)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e){return Tc(t,"POST","/v1/accounts:signUp",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await ps._fromIdTokenResponse(e,i,a),c=lx(i);return new Va({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=lx(i);return new Va({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function lx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends Ui{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Qf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Qf(e,n,i,a)}}function jw(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qf._fromErrorAndOperation(t,l,e,i):l})}async function XM(t,e,n=!1){const i=await Ju(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Va._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e,n=!1){const{auth:i}=t;if(rs(i.app))return Promise.reject(Ni(i));const a="reauthenticate";try{const l=await Ju(t,jw(i,a,e,t),n);Ce(l.idToken,i,"internal-error");const c=Hy(l.idToken);Ce(c,i,"internal-error");const{sub:d}=c;return Ce(t.uid===d,i,"user-mismatch"),Va._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ys(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw(t,e,n=!1){if(rs(t.app))return Promise.reject(Ni(t));const i="signIn",a=await jw(t,i,e),l=await Va._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function ZM(t,e){return Lw(Oa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(t){const e=Oa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JM(t,e,n){if(rs(t.app))return Promise.reject(Ni(t));const i=Oa(t),c=await zg(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QM).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Uw(t),m}),d=await Va._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function eV(t,e,n){return rs(t.app)?Promise.reject(Ni(t)):ZM(Nt(t),fl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Uw(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t,e){return Nt(t).setPersistence(e)}function nV(t,e,n,i){return Nt(t).onIdTokenChanged(e,n,i)}function sV(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function iV(t,e,n,i){return Nt(t).onAuthStateChanged(e,n,i)}function rV(t){return Nt(t).signOut()}const Xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xf,"1"),this.storage.removeItem(Xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=1e3,oV=10;class zw extends Bw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);EM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,oV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},aV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zw.type="LOCAL";const qw=zw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw extends Bw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Fw.type="SESSION";const Yy=Fw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Td(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await lV(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Qy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const x=T;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(){return window}function cV(t){zs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){return typeof zs().WorkerGlobalScope<"u"&&typeof zs().importScripts=="function"}async function hV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fV(){return navigator?.serviceWorker?.controller||null}function dV(){return Hw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firebaseLocalStorageDb",mV=1,Wf="firebaseLocalStorage",Kw="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bd(t,e){return t.transaction([Wf],e?"readwrite":"readonly").objectStore(Wf)}function pV(){const t=indexedDB.deleteDatabase(Gw);return new xc(t).toPromise()}function qg(){const t=indexedDB.open(Gw,mV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Wf,{keyPath:Kw})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Wf)?e(i):(i.close(),await pV(),e(await qg()))})})}async function ux(t,e,n){const i=bd(t,!0).put({[Kw]:e,value:n});return new xc(i).toPromise()}async function gV(t,e){const n=bd(t,!1).get(e),i=await new xc(n).toPromise();return i===void 0?null:i.value}function cx(t,e){const n=bd(t,!0).delete(e);return new xc(n).toPromise()}const yV=800,vV=3;class $w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>vV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Td._getInstance(dV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hV(),!this.activeServiceWorker)return;this.sender=new uV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qg();return await ux(e,Xf,"1"),await cx(e,Xf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>ux(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>gV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=bd(a,!1).getAll();return new xc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$w.type="LOCAL";const _V=$w;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t,e){return e?Ri(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy extends Ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bV(t){return Lw(t.auth,new Xy(t),t.bypassAuthState)}function xV(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),WM(n,new Xy(t),t.bypassAuthState)}async function EV(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),XM(n,new Xy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bV;case"linkViaPopup":case"linkViaRedirect":return EV;case"reauthViaPopup":case"reauthViaRedirect":return xV;default:ys(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new _c(2e3,1e4);class Uo extends Yw{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Mi(this.filter.length===1,"Popup operations only handle one event");const e=Qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wV.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV="pendingRedirect",If=new Map;class AV extends Yw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=If.get(this.auth._key());if(!e){try{const i=await RV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}If.set(this.auth._key(),e)}return this.bypassAuthState||If.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RV(t,e){const n=IV(e),i=NV(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function CV(t,e){If.set(t._key(),e)}function NV(t){return Ri(t._redirectPersistence)}function IV(t){return Nf(SV,t.config.apiKey,t.name)}async function DV(t,e,n=!1){if(rs(t.app))return Promise.reject(Ni(t));const i=Oa(t),a=TV(i,e),c=await new AV(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=600*1e3;class VV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Qw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MV&&this.cachedEventUids.clear(),this.cachedEventUids.has(hx(e))}saveEventToCache(e){this.cachedEventUids.add(hx(e)),this.lastProcessedEventTime=Date.now()}}function hx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Qw({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function PV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(t,e={}){return Or(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jV=/^https?/;async function LV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kV(t);for(const n of e)try{if(UV(n))return}catch{}ys(t,"unauthorized-domain")}function UV(t){const e=Ug(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!jV.test(n))return!1;if(OV.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new _c(3e4,6e4);function fx(){const t=zs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zV(t){return new Promise((e,n)=>{function i(){fx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fx(),n(Bs(t,"network-request-failed"))},timeout:BV.get()})}if(zs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zs().gapi?.load)i();else{const a=MM("iframefcb");return zs()[a]=()=>{gapi.load?i():n(Bs(t,"network-request-failed"))},Vw(`${DM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Df=null,e})}let Df=null;function qV(t){return Df=Df||zV(t),Df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=new _c(5e3,15e3),HV="__/auth/iframe",GV="emulator/auth/iframe",KV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$V=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YV(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fy(e,GV):`https://${t.config.authDomain}/${HV}`,i={apiKey:e.apiKey,appName:t.name,v:hl},a=$V.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${vc(i).slice(1)}`}async function QV(t){const e=await qV(t),n=zs().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:YV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KV,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Bs(t,"network-request-failed"),d=zs().setTimeout(()=>{l(c)},FV.get());function m(){zs().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WV=500,ZV=600,JV="_blank",eP="http://localhost";class dx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tP(t,e,n,i=WV,a=ZV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...XV,width:i.toString(),height:a.toString(),top:l,left:c},p=vn().toLowerCase();n&&(d=Aw(p)?JV:n),ww(p)&&(e=e||eP,m.scrollbars="yes");const y=Object.entries(m).reduce((x,[C,k])=>`${x}${C}=${k},`,"");if(xM(p)&&d!=="_self")return nP(e||"",d),new dx(null);const T=window.open(e||"",d,y);Ce(T,t,"popup-blocked");try{T.focus()}catch{}return new dx(T)}function nP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="__/auth/handler",iP="emulator/auth/handler",rP=encodeURIComponent("fac");async function mx(t,e,n,i,a,l){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:hl,eventId:a};if(e instanceof Ow){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",HI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(e instanceof bc){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),p=m?`#${rP}=${encodeURIComponent(m)}`:"";return`${aP(t)}?${vc(d).slice(1)}${p}`}function aP({config:t}){return t.emulator?Fy(t,iP):`https://${t.authDomain}/${sP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="webStorageSupport";class oP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yy,this._completeRedirectFn=DV,this._overrideRedirectResult=CV}async _openPopup(e,n,i,a){Mi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await mx(e,n,i,Ug(),a);return tP(e,l,Qy())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await mx(e,n,i,Ug(),a);return cV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Mi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await QV(e),i=new VV(e);return n.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ig,{type:ig},a=>{const l=a?.[0]?.[ig];l!==void 0&&n(!!l),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Dw()||Sw()||Gy()}}const lP=oP;var px="@firebase/auth",gx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hP(t){Zo(new Da("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mw(t)},p=new CM(i,a,l,m);return LM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Zo(new Da("auth-internal",e=>{const n=Oa(e.getProvider("auth").getImmediate());return(i=>new uP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(px,gx,cP(t)),wr(px,gx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=300,dP=uw("authIdTokenMaxAge")||fP;let yx=null;const mP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>dP)return;const a=n?.token;yx!==a&&(yx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Xw(t=KD()){const e=By(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jM(t,{popupRedirectResolver:lP,persistence:[_V,qw,Yy]}),i=uw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=mP(l.toString());sV(n,c,()=>c(n.currentUser)),nV(n,d=>c(d))}}const a=RI("auth");return a&&UM(n,`http://${a}`),n}function pP(){return document.getElementsByTagName("head")?.[0]??document}NM({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Bs("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",pP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hP("Browser");var gP="firebase",yP="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(gP,yP,"app");var vx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sr,Ww;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function N(){}N.prototype=S.prototype,P.D=S.prototype,P.prototype=new N,P.prototype.constructor=P,P.C=function(V,L,B){for(var R=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)R[fe-2]=arguments[fe];return S.prototype[L].apply(V,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,S,N){N||(N=0);var V=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)V[L]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(L=0;16>L;++L)V[L]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=P.g[0],N=P.g[1],L=P.g[2];var B=P.g[3],R=S+(B^N&(L^B))+V[0]+3614090360&4294967295;S=N+(R<<7&4294967295|R>>>25),R=B+(L^S&(N^L))+V[1]+3905402710&4294967295,B=S+(R<<12&4294967295|R>>>20),R=L+(N^B&(S^N))+V[2]+606105819&4294967295,L=B+(R<<17&4294967295|R>>>15),R=N+(S^L&(B^S))+V[3]+3250441966&4294967295,N=L+(R<<22&4294967295|R>>>10),R=S+(B^N&(L^B))+V[4]+4118548399&4294967295,S=N+(R<<7&4294967295|R>>>25),R=B+(L^S&(N^L))+V[5]+1200080426&4294967295,B=S+(R<<12&4294967295|R>>>20),R=L+(N^B&(S^N))+V[6]+2821735955&4294967295,L=B+(R<<17&4294967295|R>>>15),R=N+(S^L&(B^S))+V[7]+4249261313&4294967295,N=L+(R<<22&4294967295|R>>>10),R=S+(B^N&(L^B))+V[8]+1770035416&4294967295,S=N+(R<<7&4294967295|R>>>25),R=B+(L^S&(N^L))+V[9]+2336552879&4294967295,B=S+(R<<12&4294967295|R>>>20),R=L+(N^B&(S^N))+V[10]+4294925233&4294967295,L=B+(R<<17&4294967295|R>>>15),R=N+(S^L&(B^S))+V[11]+2304563134&4294967295,N=L+(R<<22&4294967295|R>>>10),R=S+(B^N&(L^B))+V[12]+1804603682&4294967295,S=N+(R<<7&4294967295|R>>>25),R=B+(L^S&(N^L))+V[13]+4254626195&4294967295,B=S+(R<<12&4294967295|R>>>20),R=L+(N^B&(S^N))+V[14]+2792965006&4294967295,L=B+(R<<17&4294967295|R>>>15),R=N+(S^L&(B^S))+V[15]+1236535329&4294967295,N=L+(R<<22&4294967295|R>>>10),R=S+(L^B&(N^L))+V[1]+4129170786&4294967295,S=N+(R<<5&4294967295|R>>>27),R=B+(N^L&(S^N))+V[6]+3225465664&4294967295,B=S+(R<<9&4294967295|R>>>23),R=L+(S^N&(B^S))+V[11]+643717713&4294967295,L=B+(R<<14&4294967295|R>>>18),R=N+(B^S&(L^B))+V[0]+3921069994&4294967295,N=L+(R<<20&4294967295|R>>>12),R=S+(L^B&(N^L))+V[5]+3593408605&4294967295,S=N+(R<<5&4294967295|R>>>27),R=B+(N^L&(S^N))+V[10]+38016083&4294967295,B=S+(R<<9&4294967295|R>>>23),R=L+(S^N&(B^S))+V[15]+3634488961&4294967295,L=B+(R<<14&4294967295|R>>>18),R=N+(B^S&(L^B))+V[4]+3889429448&4294967295,N=L+(R<<20&4294967295|R>>>12),R=S+(L^B&(N^L))+V[9]+568446438&4294967295,S=N+(R<<5&4294967295|R>>>27),R=B+(N^L&(S^N))+V[14]+3275163606&4294967295,B=S+(R<<9&4294967295|R>>>23),R=L+(S^N&(B^S))+V[3]+4107603335&4294967295,L=B+(R<<14&4294967295|R>>>18),R=N+(B^S&(L^B))+V[8]+1163531501&4294967295,N=L+(R<<20&4294967295|R>>>12),R=S+(L^B&(N^L))+V[13]+2850285829&4294967295,S=N+(R<<5&4294967295|R>>>27),R=B+(N^L&(S^N))+V[2]+4243563512&4294967295,B=S+(R<<9&4294967295|R>>>23),R=L+(S^N&(B^S))+V[7]+1735328473&4294967295,L=B+(R<<14&4294967295|R>>>18),R=N+(B^S&(L^B))+V[12]+2368359562&4294967295,N=L+(R<<20&4294967295|R>>>12),R=S+(N^L^B)+V[5]+4294588738&4294967295,S=N+(R<<4&4294967295|R>>>28),R=B+(S^N^L)+V[8]+2272392833&4294967295,B=S+(R<<11&4294967295|R>>>21),R=L+(B^S^N)+V[11]+1839030562&4294967295,L=B+(R<<16&4294967295|R>>>16),R=N+(L^B^S)+V[14]+4259657740&4294967295,N=L+(R<<23&4294967295|R>>>9),R=S+(N^L^B)+V[1]+2763975236&4294967295,S=N+(R<<4&4294967295|R>>>28),R=B+(S^N^L)+V[4]+1272893353&4294967295,B=S+(R<<11&4294967295|R>>>21),R=L+(B^S^N)+V[7]+4139469664&4294967295,L=B+(R<<16&4294967295|R>>>16),R=N+(L^B^S)+V[10]+3200236656&4294967295,N=L+(R<<23&4294967295|R>>>9),R=S+(N^L^B)+V[13]+681279174&4294967295,S=N+(R<<4&4294967295|R>>>28),R=B+(S^N^L)+V[0]+3936430074&4294967295,B=S+(R<<11&4294967295|R>>>21),R=L+(B^S^N)+V[3]+3572445317&4294967295,L=B+(R<<16&4294967295|R>>>16),R=N+(L^B^S)+V[6]+76029189&4294967295,N=L+(R<<23&4294967295|R>>>9),R=S+(N^L^B)+V[9]+3654602809&4294967295,S=N+(R<<4&4294967295|R>>>28),R=B+(S^N^L)+V[12]+3873151461&4294967295,B=S+(R<<11&4294967295|R>>>21),R=L+(B^S^N)+V[15]+530742520&4294967295,L=B+(R<<16&4294967295|R>>>16),R=N+(L^B^S)+V[2]+3299628645&4294967295,N=L+(R<<23&4294967295|R>>>9),R=S+(L^(N|~B))+V[0]+4096336452&4294967295,S=N+(R<<6&4294967295|R>>>26),R=B+(N^(S|~L))+V[7]+1126891415&4294967295,B=S+(R<<10&4294967295|R>>>22),R=L+(S^(B|~N))+V[14]+2878612391&4294967295,L=B+(R<<15&4294967295|R>>>17),R=N+(B^(L|~S))+V[5]+4237533241&4294967295,N=L+(R<<21&4294967295|R>>>11),R=S+(L^(N|~B))+V[12]+1700485571&4294967295,S=N+(R<<6&4294967295|R>>>26),R=B+(N^(S|~L))+V[3]+2399980690&4294967295,B=S+(R<<10&4294967295|R>>>22),R=L+(S^(B|~N))+V[10]+4293915773&4294967295,L=B+(R<<15&4294967295|R>>>17),R=N+(B^(L|~S))+V[1]+2240044497&4294967295,N=L+(R<<21&4294967295|R>>>11),R=S+(L^(N|~B))+V[8]+1873313359&4294967295,S=N+(R<<6&4294967295|R>>>26),R=B+(N^(S|~L))+V[15]+4264355552&4294967295,B=S+(R<<10&4294967295|R>>>22),R=L+(S^(B|~N))+V[6]+2734768916&4294967295,L=B+(R<<15&4294967295|R>>>17),R=N+(B^(L|~S))+V[13]+1309151649&4294967295,N=L+(R<<21&4294967295|R>>>11),R=S+(L^(N|~B))+V[4]+4149444226&4294967295,S=N+(R<<6&4294967295|R>>>26),R=B+(N^(S|~L))+V[11]+3174756917&4294967295,B=S+(R<<10&4294967295|R>>>22),R=L+(S^(B|~N))+V[2]+718787259&4294967295,L=B+(R<<15&4294967295|R>>>17),R=N+(B^(L|~S))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+B&4294967295}i.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var N=S-this.blockSize,V=this.B,L=this.h,B=0;B<S;){if(L==0)for(;B<=N;)a(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<S;)if(V[L++]=P.charCodeAt(B++),L==this.blockSize){a(this,V),L=0;break}}else for(;B<S;)if(V[L++]=P[B++],L==this.blockSize){a(this,V),L=0;break}}this.h=L,this.o+=S},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var N=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=N&255,N/=256;for(this.u(P),P=Array(16),S=N=0;4>S;++S)for(var V=0;32>V;V+=8)P[N++]=this.g[S]>>>V&255;return P};function l(P,S){var N=d;return Object.prototype.hasOwnProperty.call(N,P)?N[P]:N[P]=S(P)}function c(P,S){this.h=S;for(var N=[],V=!0,L=P.length-1;0<=L;L--){var B=P[L]|0;V&&B==S||(N[L]=B,V=!1)}this.g=N}var d={};function m(P){return-128<=P&&128>P?l(P,function(S){return new c([S|0],0>S?-1:0)}):new c([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return j(p(-P));for(var S=[],N=1,V=0;P>=N;V++)S[V]=P/N|0,N*=4294967296;return new c(S,0)}function y(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return j(y(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(S,8)),V=T,L=0;L<P.length;L+=8){var B=Math.min(8,P.length-L),R=parseInt(P.substring(L,L+B),S);8>B?(B=p(Math.pow(S,B)),V=V.j(B).add(p(R))):(V=V.j(N),V=V.add(p(R)))}return V}var T=m(0),x=m(1),C=m(16777216);t=c.prototype,t.m=function(){if(D(this))return-j(this).m();for(var P=0,S=1,N=0;N<this.g.length;N++){var V=this.i(N);P+=(0<=V?V:4294967296+V)*S,S*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(k(this))return"0";if(D(this))return"-"+j(this).toString(P);for(var S=p(Math.pow(P,6)),N=this,V="";;){var L=J(N,S).g;N=U(N,L.j(S));var B=((0<N.g.length?N.g[0]:N.h)>>>0).toString(P);if(N=L,k(N))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function k(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function D(P){return P.h==-1}t.l=function(P){return P=U(this,P),D(P)?-1:k(P)?0:1};function j(P){for(var S=P.g.length,N=[],V=0;V<S;V++)N[V]=~P.g[V];return new c(N,~P.h).add(x)}t.abs=function(){return D(this)?j(this):this},t.add=function(P){for(var S=Math.max(this.g.length,P.g.length),N=[],V=0,L=0;L<=S;L++){var B=V+(this.i(L)&65535)+(P.i(L)&65535),R=(B>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);V=R>>>16,B&=65535,R&=65535,N[L]=R<<16|B}return new c(N,N[N.length-1]&-2147483648?-1:0)};function U(P,S){return P.add(j(S))}t.j=function(P){if(k(this)||k(P))return T;if(D(this))return D(P)?j(this).j(j(P)):j(j(this).j(P));if(D(P))return j(this.j(j(P)));if(0>this.l(C)&&0>P.l(C))return p(this.m()*P.m());for(var S=this.g.length+P.g.length,N=[],V=0;V<2*S;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<P.g.length;L++){var B=this.i(V)>>>16,R=this.i(V)&65535,fe=P.i(L)>>>16,ye=P.i(L)&65535;N[2*V+2*L]+=R*ye,Y(N,2*V+2*L),N[2*V+2*L+1]+=B*ye,Y(N,2*V+2*L+1),N[2*V+2*L+1]+=R*fe,Y(N,2*V+2*L+1),N[2*V+2*L+2]+=B*fe,Y(N,2*V+2*L+2)}for(V=0;V<S;V++)N[V]=N[2*V+1]<<16|N[2*V];for(V=S;V<2*S;V++)N[V]=0;return new c(N,0)};function Y(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function K(P,S){this.g=P,this.h=S}function J(P,S){if(k(S))throw Error("division by zero");if(k(P))return new K(T,T);if(D(P))return S=J(j(P),S),new K(j(S.g),j(S.h));if(D(S))return S=J(P,j(S)),new K(j(S.g),S.h);if(30<P.g.length){if(D(P)||D(S))throw Error("slowDivide_ only works with positive integers.");for(var N=x,V=S;0>=V.l(P);)N=W(N),V=W(V);var L=ue(N,1),B=ue(V,1);for(V=ue(V,2),N=ue(N,2);!k(V);){var R=B.add(V);0>=R.l(P)&&(L=L.add(N),B=R),V=ue(V,1),N=ue(N,1)}return S=U(P,L.j(S)),new K(L,S)}for(L=T;0<=P.l(S);){for(N=Math.max(1,Math.floor(P.m()/S.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=p(N),R=B.j(S);D(R)||0<R.l(P);)N-=V,B=p(N),R=B.j(S);k(B)&&(B=x),L=L.add(B),P=U(P,R)}return new K(L,P)}t.A=function(P){return J(this,P).h},t.and=function(P){for(var S=Math.max(this.g.length,P.g.length),N=[],V=0;V<S;V++)N[V]=this.i(V)&P.i(V);return new c(N,this.h&P.h)},t.or=function(P){for(var S=Math.max(this.g.length,P.g.length),N=[],V=0;V<S;V++)N[V]=this.i(V)|P.i(V);return new c(N,this.h|P.h)},t.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),N=[],V=0;V<S;V++)N[V]=this.i(V)^P.i(V);return new c(N,this.h^P.h)};function W(P){for(var S=P.g.length+1,N=[],V=0;V<S;V++)N[V]=P.i(V)<<1|P.i(V-1)>>>31;return new c(N,P.h)}function ue(P,S){var N=S>>5;S%=32;for(var V=P.g.length-N,L=[],B=0;B<V;B++)L[B]=0<S?P.i(B+N)>>>S|P.i(B+N+1)<<32-S:P.i(B+N);return new c(L,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ww=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Sr=c}).apply(typeof vx<"u"?vx:typeof self<"u"?self:typeof window<"u"?window:{});var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zw,Pu,Jw,Mf,Fg,eS,tS,nS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,b){return h==Array.prototype||h==Object.prototype||(h[_]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof hf=="object"&&hf];for(var _=0;_<h.length;++_){var b=h[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function a(h,_){if(_)e:{var b=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in b))break e;b=b[F]}h=h[h.length-1],A=b[h],_=_(A),_!=A&&_!=null&&e(b,h,{configurable:!0,writable:!0,value:_})}}function l(h,_){h instanceof String&&(h+="");var b=0,A=!1,F={next:function(){if(!A&&b<h.length){var ee=b++;return{value:_(ee,h[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(h){return h||function(){return l(this,function(_,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function p(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function y(h,_,b){return h.call.apply(h.bind,arguments)}function T(h,_,b){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),h.apply(_,F)}}return function(){return h.apply(_,arguments)}}function x(h,_,b){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,x.apply(null,arguments)}function C(h,_){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function k(h,_){function b(){}b.prototype=_.prototype,h.aa=_.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(A,F,ee){for(var de=Array(arguments.length-2),He=2;He<arguments.length;He++)de[He-2]=arguments[He];return _.prototype[F].apply(A,de)}}function D(h){const _=h.length;if(0<_){const b=Array(_);for(let A=0;A<_;A++)b[A]=h[A];return b}return[]}function j(h,_){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(m(A)){const F=h.length||0,ee=A.length||0;h.length=F+ee;for(let de=0;de<ee;de++)h[F+de]=A[de]}else h.push(A)}}class U{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function Y(h){return/^[\s\xa0]*$/.test(h)}function K(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function J(h){return J[" "](h),h}J[" "]=function(){};var W=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ue(h,_,b){for(const A in h)_.call(b,h[A],A,h)}function P(h,_){for(const b in h)_.call(void 0,h[b],b,h)}function S(h){const _={};for(const b in h)_[b]=h[b];return _}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,_){let b,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(b in A)h[b]=A[b];for(let ee=0;ee<N.length;ee++)b=N[ee],Object.prototype.hasOwnProperty.call(A,b)&&(h[b]=A[b])}}function L(h){var _=1;h=h.split(":");const b=[];for(;0<_&&h.length;)b.push(h.shift()),_--;return h.length&&b.push(h.join(":")),b}function B(h){d.setTimeout(()=>{throw h},0)}function R(){var h=pe;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class fe{constructor(){this.h=this.g=null}add(_,b){const A=ye.get();A.set(_,b),this.h?this.h.next=A:this.g=A,this.h=A}}var ye=new U(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ce=!1,pe=new fe,M=()=>{const h=d.Promise.resolve(void 0);Z=()=>{h.then(te)}};var te=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(b){B(b)}var _=ye;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}ce=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ve=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};d.addEventListener("test",b,_),d.removeEventListener("test",b,_)}catch{}return h})();function xe(h,_){if(ae.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(W){e:{try{J(_.nodeName);var F=!0;break e}catch{}F=!1}F||(_=null)}}else b=="mouseover"?_=h.fromElement:b=="mouseout"&&(_=h.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ae[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&xe.aa.h.call(this)}}k(xe,ae);var Ae={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),he=0;function Te(h,_,b,A,F){this.listener=h,this.proxy=null,this.src=_,this.type=b,this.capture=!!A,this.ha=F,this.key=++he,this.da=this.fa=!1}function Be(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ye(h){this.src=h,this.g={},this.h=0}Ye.prototype.add=function(h,_,b,A,F){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var de=It(h,_,A,F);return-1<de?(_=h[de],b||(_.fa=!1)):(_=new Te(_,this.src,ee,!!A,F),_.fa=b,h.push(_)),_};function qt(h,_){var b=_.type;if(b in h.g){var A=h.g[b],F=Array.prototype.indexOf.call(A,_,void 0),ee;(ee=0<=F)&&Array.prototype.splice.call(A,F,1),ee&&(Be(_),h.g[b].length==0&&(delete h.g[b],h.h--))}}function It(h,_,b,A){for(var F=0;F<h.length;++F){var ee=h[F];if(!ee.da&&ee.listener==_&&ee.capture==!!b&&ee.ha==A)return F}return-1}var Dt="closure_lm_"+(1e6*Math.random()|0),Fn={};function Js(h,_,b,A,F){if(Array.isArray(_)){for(var ee=0;ee<_.length;ee++)Js(h,_[ee],b,A,F);return null}return b=Uc(b),h&&h[ht]?h.K(_,b,p(A)?!!A.capture:!1,F):Hn(h,_,b,!1,A,F)}function Hn(h,_,b,A,F,ee){if(!_)throw Error("Invalid event type");var de=p(F)?!!F.capture:!!F,He=qa(h);if(He||(h[Dt]=He=new Ye(h)),b=He.add(_,b,A,de,ee),b.proxy)return b;if(A=Hd(),b.proxy=A,A.src=h,A.listener=b,h.addEventListener)ve||(F=de),F===void 0&&(F=!1),h.addEventListener(_.toString(),A,F);else if(h.attachEvent)h.attachEvent(Br(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Hd(){function h(b){return _.call(h.src,h.listener,b)}const _=Gd;return h}function bl(h,_,b,A,F){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)bl(h,_[ee],b,A,F);else A=p(A)?!!A.capture:!!A,b=Uc(b),h&&h[ht]?(h=h.i,_=String(_).toString(),_ in h.g&&(ee=h.g[_],b=It(ee,b,A,F),-1<b&&(Be(ee[b]),Array.prototype.splice.call(ee,b,1),ee.length==0&&(delete h.g[_],h.h--)))):h&&(h=qa(h))&&(_=h.g[_.toString()],h=-1,_&&(h=It(_,b,A,F)),(b=-1<h?_[h]:null)&&za(b))}function za(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ht])qt(_.i,h);else{var b=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(b,A,h.capture):_.detachEvent?_.detachEvent(Br(b),A):_.addListener&&_.removeListener&&_.removeListener(A),(b=qa(_))?(qt(b,h),b.h==0&&(b.src=null,_[Dt]=null)):Be(h)}}}function Br(h){return h in Fn?Fn[h]:Fn[h]="on"+h}function Gd(h,_){if(h.da)h=!0;else{_=new xe(_,this);var b=h.listener,A=h.ha||h.src;h.fa&&za(h),h=b.call(A,_)}return h}function qa(h){return h=h[Dt],h instanceof Ye?h:null}var xl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uc(h){return typeof h=="function"?h:(h[xl]||(h[xl]=function(_){return h.handleEvent(_)}),h[xl])}function Tt(){le.call(this),this.i=new Ye(this),this.M=this,this.F=null}k(Tt,le),Tt.prototype[ht]=!0,Tt.prototype.removeEventListener=function(h,_,b,A){bl(this,h,_,b,A)};function et(h,_){var b,A=h.F;if(A)for(b=[];A;A=A.F)b.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new ae(_,h);else if(_ instanceof ae)_.target=_.target||h;else{var F=_;_=new ae(A,h),V(_,F)}if(F=!0,b)for(var ee=b.length-1;0<=ee;ee--){var de=_.g=b[ee];F=Dn(de,A,!0,_)&&F}if(de=_.g=h,F=Dn(de,A,!0,_)&&F,F=Dn(de,A,!1,_)&&F,b)for(ee=0;ee<b.length;ee++)de=_.g=b[ee],F=Dn(de,A,!1,_)&&F}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var b=h.g[_],A=0;A<b.length;A++)Be(b[A]);delete h.g[_],h.h--}}this.F=null},Tt.prototype.K=function(h,_,b,A){return this.i.add(String(h),_,!1,b,A)},Tt.prototype.L=function(h,_,b,A){return this.i.add(String(h),_,!0,b,A)};function Dn(h,_,b,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var F=!0,ee=0;ee<_.length;++ee){var de=_[ee];if(de&&!de.da&&de.capture==b){var He=de.listener,Ht=de.ha||de.src;de.fa&&qt(h.i,de),F=He.call(Ht,A)!==!1&&F}}return F&&!A.defaultPrevented}function fn(h,_,b){if(typeof h=="function")b&&(h=x(h,b));else if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(h,_||0)}function Bc(h){h.g=fn(()=>{h.g=null,h.i&&(h.i=!1,Bc(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Kd extends le{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Bc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(h){le.call(this),this.h=h,this.g={}}k(zr,le);var qr=[];function Fr(h){ue(h.g,function(_,b){this.g.hasOwnProperty(b)&&za(_)},h),h.g={}}zr.prototype.N=function(){zr.aa.N.call(this),Fr(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=d.JSON.stringify,Fa=d.JSON.parse,Hr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function El(){}El.prototype.h=null;function wl(h){return h.h||(h.h=h.i())}function Sl(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ti(){ae.call(this,"d")}k(ti,ae);function Al(){ae.call(this,"c")}k(Al,ae);var bs={},Rl=null;function Bi(){return Rl=Rl||new Tt}bs.La="serverreachability";function Ha(h){ae.call(this,bs.La,h)}k(Ha,ae);function zi(h){const _=Bi();et(_,new Ha(_))}bs.STAT_EVENT="statevent";function zc(h,_){ae.call(this,bs.STAT_EVENT,h),this.stat=_}k(zc,ae);function ft(h){const _=Bi();et(_,new zc(_,h))}bs.Ma="timingevent";function Ft(h,_){ae.call(this,bs.Ma,h),this.size=_}k(Ft,ae);function Mt(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},_)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function Cl(h,_,b,A,F,ee){h.info(function(){if(h.g)if(ee)for(var de="",He=ee.split("&"),Ht=0;Ht<He.length;Ht++){var Ge=He[Ht].split("=");if(1<Ge.length){var Xt=Ge[0];Ge=Ge[1];var Gt=Xt.split("_");de=2<=Gt.length&&Gt[1]=="type"?de+(Xt+"="+Ge+"&"):de+(Xt+"=redacted&")}}else de=null;else de=ee;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+_+`
`+b+`
`+de})}function $d(h,_,b,A,F,ee,de){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+_+`
`+b+`
`+ee+" "+de})}function qi(h,_,b,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Gr(h,b)+(A?" "+A:"")})}function qc(h,_){h.info(function(){return"TIMEOUT: "+_})}Gn.prototype.info=function(){};function Gr(h,_){if(!h.g)return _;if(!_)return null;try{var b=JSON.parse(_);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var A=b[h];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var ee=F[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var de=1;de<F.length;de++)F[de]=""}}}}return ls(b)}catch{return _}}var Fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xs;function Es(){}k(Es,El),Es.prototype.g=function(){return new XMLHttpRequest},Es.prototype.i=function(){return{}},xs=new Es;function _n(h,_,b,A){this.j=h,this.i=_,this.l=b,this.R=A||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var Nl={},Ga={};function us(h,_,b){h.L=1,h.v=Xr(Mn(_)),h.m=b,h.P=!0,si(h,null)}function si(h,_){h.F=Date.now(),Kr(h),h.A=Mn(h.v);var b=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),kl(b.i,"t",A),h.C=0,b=h.j.J,h.h=new wt,h.g=ih(h.j,b?_:null,!h.m),0<h.O&&(h.M=new Kd(x(h.Y,h,h.g),h.O)),_=h.U,b=h.g,A=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(qr[0]=F.toString()),F=qr);for(var ee=0;ee<F.length;ee++){var de=Js(b,F[ee],A||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),zi(),Cl(h.i,h.u,h.A,h.l,h.R,h.m)}_n.prototype.ca=function(h){h=h.target;const _=this.M;_&&Qn(h)==3?_.j():this.Y(h)},_n.prototype.Y=function(h){try{if(h==this.g)e:{const Gt=Qn(this.g);var _=this.g.Ba();const hi=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Xc(this.g)))){this.J||Gt!=4||_==7||(_==8||0>=hi?zi(3):zi(2)),Hi(this);var b=this.g.Z();this.X=b;t:if(Fc(this)){var A=Xc(this.g);h="";var F=A.length,ee=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),ws(this);var de="";break t}this.h.i=new d.TextDecoder}for(_=0;_<F;_++)this.h.h=!0,h+=this.h.i.decode(A[_],{stream:!(ee&&_==F-1)});A.length=0,this.h.g+=h,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=b==200,$d(this.i,this.u,this.A,this.l,this.R,Gt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Ht=this.g;if((He=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(He)){var Ge=He;break t}}Ge=null}if(b=Ge)qi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$r(this,b);else{this.o=!1,this.s=3,ft(12),tn(this),ws(this);break e}}if(this.P){b=!0;let nn;for(;!this.J&&this.C<de.length;)if(nn=Hc(this,de),nn==Ga){Gt==4&&(this.s=4,ft(14),b=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Nl){this.s=4,ft(15),qi(this.i,this.l,de,"[Invalid Chunk]"),b=!1;break}else qi(this.i,this.l,nn,null),$r(this,nn);if(Fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||de.length!=0||this.h.h||(this.s=1,ft(16),b=!1),this.o=this.o&&b,!b)qi(this.i,this.l,de,"[Invalid Chunked Response]"),tn(this),ws(this);else if(0<de.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),ia(Xt),Xt.M=!0,ft(11))}}else qi(this.i,this.l,de,null),$r(this,de);Gt==4&&tn(this),this.o&&!this.J&&(Gt==4?th(this.j,this):(this.o=!1,Kr(this)))}else Zd(this.g),b==400&&0<de.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),tn(this),ws(this)}}}catch{}finally{}};function Fc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Hc(h,_){var b=h.C,A=_.indexOf(`
`,b);return A==-1?Ga:(b=Number(_.substring(b,A)),isNaN(b)?Nl:(A+=1,A+b>_.length?Ga:(_=_.slice(A,A+b),h.C=A+b,_)))}_n.prototype.cancel=function(){this.J=!0,tn(this)};function Kr(h){h.S=Date.now()+h.I,Gc(h,h.I)}function Gc(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Mt(x(h.ba,h),_)}function Hi(h){h.B&&(d.clearTimeout(h.B),h.B=null)}_n.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(qc(this.i,this.A),this.L!=2&&(zi(),ft(17)),tn(this),this.s=2,ws(this)):Gc(this,this.S-h)};function ws(h){h.j.G==0||h.J||th(h.j,h)}function tn(h){Hi(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Fr(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function $r(h,_){try{var b=h.j;if(b.G!=0&&(b.g==h||Il(b.h,h))){if(!h.K&&Il(b.h,h)&&b.G==3){try{var A=b.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)so(b),to(b);else break e;Bl(b),ft(18)}}else b.za=F[1],0<b.za-b.T&&37500>F[2]&&b.F&&b.v==0&&!b.C&&(b.C=Mt(x(b.Za,b),6e3));if(1>=$a(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ci(b,11)}else if((h.K||b.g==h)&&so(b),!Y(_))for(F=b.Da.g.parse(_),_=0;_<F.length;_++){let Ge=F[_];if(b.T=Ge[0],Ge=Ge[1],b.G==2)if(Ge[0]=="c"){b.K=Ge[1],b.ia=Ge[2];const Xt=Ge[3];Xt!=null&&(b.la=Xt,b.j.info("VER="+b.la));const Gt=Ge[4];Gt!=null&&(b.Aa=Gt,b.j.info("SVER="+b.Aa));const hi=Ge[5];hi!=null&&typeof hi=="number"&&0<hi&&(A=1.5*hi,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const nn=h.g;if(nn){const Ds=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var ee=A.h;ee.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ya(ee,ee.h),ee.h=null))}if(A.D){const ql=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(A.ya=ql,st(A.I,A.D,ql))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var de=h;if(A.qa=sh(A,A.J?A.ia:null,A.W),de.K){Tn(A.h,de);var He=de,Ht=A.L;Ht&&(He.I=Ht),He.B&&(Hi(He),Kr(He)),A.g=de}else Jc(A);0<b.i.length&&no(b)}else Ge[0]!="stop"&&Ge[0]!="close"||ci(b,7);else b.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?ci(b,7):Ll(b):Ge[0]!="noop"&&b.l&&b.l.ta(Ge),b.v=0)}}zi(4)}catch{}}var Kc=class{constructor(h,_){this.g=h,this.map=_}};function ii(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ka(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $a(h){return h.h?1:h.g?h.g.size:0}function Il(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ya(h,_){h.g?h.g.add(_):h.h=_}function Tn(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ii.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Dl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const b of h.g.values())_=_.concat(b.D);return _}return D(h.i)}function Yd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var _=[],b=h.length,A=0;A<b;A++)_.push(h[A]);return _}_=[],b=0;for(A in h)_[b++]=h[A];return _}function Qa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var _=[];h=h.length;for(var b=0;b<h;b++)_.push(b);return _}_=[],b=0;for(const A in h)_[b++]=A;return _}}}function Ml(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var b=Qa(h),A=Yd(h),F=A.length,ee=0;ee<F;ee++)_.call(void 0,A[ee],b&&b[ee],h)}var Yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qd(h,_){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var A=h[b].indexOf("="),F=null;if(0<=A){var ee=h[b].substring(0,A);F=h[b].substring(A+1)}else ee=h[b];_(ee,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Vt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Vt){this.h=h.h,Qr(this,h.j),this.o=h.o,this.g=h.g,Gi(this,h.s),this.l=h.l;var _=h.i,b=new ai;b.i=_.i,_.g&&(b.g=new Map(_.g),b.h=_.h),ri(this,b),this.m=h.m}else h&&(_=String(h).match(Yr))?(this.h=!1,Qr(this,_[1]||"",!0),this.o=Kn(_[2]||""),this.g=Kn(_[3]||"",!0),Gi(this,_[4]),this.l=Kn(_[5]||"",!0),ri(this,_[6]||"",!0),this.m=Kn(_[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}Vt.prototype.toString=function(){var h=[],_=this.j;_&&h.push(Wr(_,Vl,!0),":");var b=this.g;return(b||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Wr(_,Vl,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Wr(b,b.charAt(0)=="/"?Xd:Pl,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Wr(b,Xa)),h.join("")};function Mn(h){return new Vt(h)}function Qr(h,_,b){h.j=b?Kn(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Gi(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function ri(h,_,b){_ instanceof ai?(h.i=_,Yc(h.i,h.h)):(b||(_=Wr(_,Wd)),h.i=new ai(_,h.h))}function st(h,_,b){h.i.set(_,b)}function Xr(h){return st(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Kn(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Wr(h,_,b){return typeof h=="string"?(h=encodeURI(h).replace(_,$c),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function $c(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Vl=/[#\/\?@]/g,Pl=/[#\?:]/g,Xd=/[#\?]/g,Wd=/[#\?@]/g,Xa=/#/g;function ai(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function $n(h){h.g||(h.g=new Map,h.h=0,h.i&&Qd(h.i,function(_,b){h.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}t=ai.prototype,t.add=function(h,_){$n(this),this.i=null,h=Ss(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(_),this.h+=1,this};function oi(h,_){$n(h),_=Ss(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function li(h,_){return $n(h),_=Ss(h,_),h.g.has(_)}t.forEach=function(h,_){$n(this),this.g.forEach(function(b,A){b.forEach(function(F){h.call(_,F,A,this)},this)},this)},t.na=function(){$n(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),b=[];for(let A=0;A<_.length;A++){const F=h[A];for(let ee=0;ee<F.length;ee++)b.push(_[A])}return b},t.V=function(h){$n(this);let _=[];if(typeof h=="string")li(this,h)&&(_=_.concat(this.g.get(Ss(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)_=_.concat(h[b])}return _},t.set=function(h,_){return $n(this),this.i=null,h=Ss(this,h),li(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function kl(h,_,b){oi(h,_),0<b.length&&(h.i=null,h.g.set(Ss(h,_),D(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var b=0;b<_.length;b++){var A=_[b];const ee=encodeURIComponent(String(A)),de=this.V(A);for(A=0;A<de.length;A++){var F=ee;de[A]!==""&&(F+="="+encodeURIComponent(String(de[A]))),h.push(F)}}return this.i=h.join("&")};function Ss(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Yc(h,_){_&&!h.j&&($n(h),h.i=null,h.g.forEach(function(b,A){var F=A.toLowerCase();A!=F&&(oi(this,A),kl(this,F,b))},h)),h.j=_}function Zr(h,_){const b=new Gn;if(d.Image){const A=new Image;A.onload=C(Yn,b,"TestLoadImage: loaded",!0,_,A),A.onerror=C(Yn,b,"TestLoadImage: error",!1,_,A),A.onabort=C(Yn,b,"TestLoadImage: abort",!1,_,A),A.ontimeout=C(Yn,b,"TestLoadImage: timeout",!1,_,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function cs(h,_){const b=new Gn,A=new AbortController,F=setTimeout(()=>{A.abort(),Yn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(ee=>{clearTimeout(F),ee.ok?Yn(b,"TestPingServer: ok",!0,_):Yn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),Yn(b,"TestPingServer: error",!1,_)})}function Yn(h,_,b,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(b)}catch{}}function Jr(){this.g=new Hr}function As(h,_,b){const A=b||"";try{Ml(h,function(F,ee){let de=F;p(F)&&(de=ls(F)),_.push(A+ee+"="+encodeURIComponent(de))})}catch(F){throw _.push(A+"type="+encodeURIComponent("_badmap")),F}}function Ki(h){this.l=h.Ub||null,this.j=h.eb||!1}k(Ki,El),Ki.prototype.g=function(){return new ui(this.l,this.j)},Ki.prototype.i=(function(h){return function(){return h}})({});function ui(h,_){Tt.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(ui,Tt),t=ui.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Cs(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Cs(this)),this.g&&(this.readyState=3,Cs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Rs(this):Cs(this),this.readyState==3&&Ol(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Rs(this))},t.Qa=function(h){this.g&&(this.response=h,Rs(this))},t.ga=function(){this.g&&Rs(this)};function Rs(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Cs(h)}t.setRequestHeader=function(h,_){this.u.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=_.next();return h.join(`\r
`)};function Cs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jl(h){let _="";return ue(h,function(b,A){_+=A,_+=":",_+=b,_+=`\r
`}),_}function Qt(h,_,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=jl(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):st(h,_,b))}function Ze(h){Tt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ze,Tt);var Wa=/^https?$/i,ea=["POST","PUT"];t=Ze.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,_,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xs.g(),this.v=this.o?wl(this.o):wl(xs),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ee){Qc(this,ee);return}if(h=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)b.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())b.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(ee=>ee.toLowerCase()=="content-type"),F=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ea,_,void 0))||A||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,de]of b)this.g.setRequestHeader(ee,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ta(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){Qc(this,ee)}};function Qc(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,Za(h),Ns(h)}function Za(h){h.A||(h.A=!0,et(h,"complete"),et(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,et(this,"complete"),et(this,"abort"),Ns(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ns(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},t.bb=function(){Ja(this)};function Ja(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Qn(h)!=4||h.Z()!=2)){if(h.u&&Qn(h)==4)fn(h.Ea,0,h);else if(et(h,"readystatechange"),Qn(h)==4){h.h=!1;try{const de=h.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var A;if(A=de===0){var F=String(h.D).match(Yr)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),A=!Wa.test(F?F.toLowerCase():"")}b=A}if(b)et(h,"complete"),et(h,"success");else{h.m=6;try{var ee=2<Qn(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",Za(h)}}finally{Ns(h)}}}}function Ns(h,_){if(h.g){ta(h);const b=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||et(h,"ready");try{b.onreadystatechange=A}catch{}}}function ta(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Qn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Fa(_)}};function Xc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Zd(h){const _={};h=(h.g&&2<=Qn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(Y(h[A]))continue;var b=L(h[A]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ee=_[F]||[];_[F]=ee,ee.push(b)}P(_,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(h,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||_}function eo(h){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,h),this.cb=na("retryDelaySeedMs",1e4,h),this.Wa=na("forwardChannelMaxRetries",2,h),this.wa=na("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ii(h&&h.concurrentRequestLimit),this.Da=new Jr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eo.prototype,t.la=8,t.G=1,t.connect=function(h,_,b,A){ft(0),this.W=h,this.H=_||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=sh(this,null,this.W),no(this)};function Ll(h){if(Wc(h),h.G==3){var _=h.U++,b=Mn(h.I);if(st(b,"SID",h.K),st(b,"RID",_),st(b,"TYPE","terminate"),sa(h,b),_=new _n(h,h.j,_),_.L=2,_.v=Xr(Mn(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=_.v,b=!0),b||(_.g=ih(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Kr(_)}nh(h)}function to(h){h.g&&(ia(h),h.g.cancel(),h.g=null)}function Wc(h){to(h),h.u&&(d.clearTimeout(h.u),h.u=null),so(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function no(h){if(!Ka(h.h)&&!h.s){h.s=!0;var _=h.Ga;Z||M(),ce||(Z(),ce=!0),pe.add(_,h),h.B=0}}function Jd(h,_){return $a(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Mt(x(h.Ga,h,_),zl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new _n(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=S(ee),V(ee,this.S)):ee=this.S),this.m!==null||this.O||(F.H=ee,ee=null),this.P)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=Zc(this,F,_),b=Mn(this.I),st(b,"RID",h),st(b,"CVER",22),this.D&&st(b,"X-HTTP-Session-Id",this.D),sa(this,b),ee&&(this.O?_="headers="+encodeURIComponent(String(jl(ee)))+"&"+_:this.m&&Qt(b,this.m,ee)),Ya(this.h,F),this.Ua&&st(b,"TYPE","init"),this.P?(st(b,"$req",_),st(b,"SID","null"),F.T=!0,us(F,b,null)):us(F,b,_),this.G=2}}else this.G==3&&(h?Ul(this,h):this.i.length==0||Ka(this.h)||Ul(this))};function Ul(h,_){var b;_?b=_.l:b=h.U++;const A=Mn(h.I);st(A,"SID",h.K),st(A,"RID",b),st(A,"AID",h.T),sa(h,A),h.m&&h.o&&Qt(A,h.m,h.o),b=new _n(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),_&&(h.i=_.D.concat(h.i)),_=Zc(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ya(h.h,b),us(b,A,_)}function sa(h,_){h.H&&ue(h.H,function(b,A){st(_,A,b)}),h.l&&Ml({},function(b,A){st(_,A,b)})}function Zc(h,_,b){b=Math.min(h.i.length,b);var A=h.l?x(h.l.Na,h.l,h):null;e:{var F=h.i;let ee=-1;for(;;){const de=["count="+b];ee==-1?0<b?(ee=F[0].g,de.push("ofs="+ee)):ee=0:de.push("ofs="+ee);let He=!0;for(let Ht=0;Ht<b;Ht++){let Ge=F[Ht].g;const Xt=F[Ht].map;if(Ge-=ee,0>Ge)ee=Math.max(0,F[Ht].g-100),He=!1;else try{As(Xt,de,"req"+Ge+"_")}catch{A&&A(Xt)}}if(He){A=de.join("&");break e}}}return h=h.i.splice(0,b),_.D=h,A}function Jc(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;Z||M(),ce||(Z(),ce=!0),pe.add(_,h),h.v=0}}function Bl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Mt(x(h.Fa,h),zl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Mt(x(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),to(this),eh(this))};function ia(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function eh(h){h.g=new _n(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Mn(h.qa);st(_,"RID","rpc"),st(_,"SID",h.K),st(_,"AID",h.T),st(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&st(_,"TO",h.ja),st(_,"TYPE","xmlhttp"),sa(h,_),h.m&&h.o&&Qt(_,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=Xr(Mn(_)),b.m=null,b.P=!0,si(b,h)}t.Za=function(){this.C!=null&&(this.C=null,to(this),Bl(this),ft(19))};function so(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function th(h,_){var b=null;if(h.g==_){so(h),ia(h),h.g=null;var A=2}else if(Il(h.h,_))b=_.D,Tn(h.h,_),A=1;else return;if(h.G!=0){if(_.o)if(A==1){b=_.m?_.m.length:0,_=Date.now()-_.F;var F=h.B;A=Bi(),et(A,new Ft(A,b)),no(h)}else Jc(h);else if(F=_.s,F==3||F==0&&0<_.X||!(A==1&&Jd(h,_)||A==2&&Bl(h)))switch(b&&0<b.length&&(_=h.h,_.i=_.i.concat(b)),F){case 1:ci(h,5);break;case 4:ci(h,10);break;case 3:ci(h,6);break;default:ci(h,2)}}}function zl(h,_){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*_}function ci(h,_){if(h.j.info("Error code "+_),_==2){var b=x(h.fb,h),A=h.Xa;const F=!A;A=new Vt(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qr(A,"https"),Xr(A),F?Zr(A.toString(),b):cs(A.toString(),b)}else ft(2);h.G=0,h.l&&h.l.sa(_),nh(h),Wc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function nh(h){if(h.G=0,h.ka=[],h.l){const _=Dl(h.h);(_.length!=0||h.i.length!=0)&&(j(h.ka,_),j(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function sh(h,_,b){var A=b instanceof Vt?Mn(b):new Vt(b);if(A.g!="")_&&(A.g=_+"."+A.g),Gi(A,A.s);else{var F=d.location;A=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;var ee=new Vt(null);A&&Qr(ee,A),_&&(ee.g=_),F&&Gi(ee,F),b&&(ee.l=b),A=ee}return b=h.D,_=h.ya,b&&_&&st(A,b,_),st(A,"VER",h.la),sa(h,A),A}function ih(h,_,b){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new Ze(new Ki({eb:b})):new Ze(h.pa),_.Ha(h.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rh(){}t=rh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function io(){}io.prototype.g=function(h,_){return new bn(h,_)};function bn(h,_){Tt.call(this),this.g=new eo(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!Y(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!Y(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Is(this)}k(bn,Tt),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Ll(this.g)},bn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=ls(h),h=b);_.i.push(new Kc(_.Ya++,h)),_.G==3&&no(_)},bn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,bn.aa.N.call(this)};function ah(h){ti.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const b in _){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}k(ah,ti);function oh(){Al.call(this),this.status=1}k(oh,Al);function Is(h){this.g=h}k(Is,rh),Is.prototype.ua=function(){et(this.g,"a")},Is.prototype.ta=function(h){et(this.g,new ah(h))},Is.prototype.sa=function(h){et(this.g,new oh)},Is.prototype.ra=function(){et(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,nS=function(){return new io},tS=function(){return Bi()},eS=bs,Fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,Mf=Fi,ni.COMPLETE="complete",Jw=ni,Sl.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Pu=Sl,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Zw=Ze}).apply(typeof hf<"u"?hf:typeof self<"u"?self:typeof window<"u"?window:{});const _x="@firebase/firestore",Tx="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new Ly("@firebase/firestore");function Oo(){return Pa.logLevel}function ge(t,...e){if(Pa.logLevel<=ze.DEBUG){const n=e.map(Wy);Pa.debug(`Firestore (${dl}): ${t}`,...n)}}function Vi(t,...e){if(Pa.logLevel<=ze.ERROR){const n=e.map(Wy);Pa.error(`Firestore (${dl}): ${t}`,...n)}}function tc(t,...e){if(Pa.logLevel<=ze.WARN){const n=e.map(Wy);Pa.warn(`Firestore (${dl}): ${t}`,...n)}}function Wy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,sS(t,i,n)}function sS(t,e,n){let i=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Vi(i),new Error(i)}function We(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||sS(e,a,i)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _P{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class TP{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new qs,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new qs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new vP(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class bP{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xP{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new bP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=wP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function qe(t,e){return t<e?-1:t>e?1:0}function Hg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return rg(a)===rg(l)?qe(a,l):rg(a)?1:-1}return qe(t.length,e.length)}const SP=55296,AP=57343;function rg(t){const e=t.charCodeAt(0);return e>=SP&&e<=AP}function Jo(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="__name__";class js{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ne(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return js.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof js?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=js.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const i=js.isNumericId(e),a=js.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?js.extractNumericId(e).compare(js.extractNumericId(n)):Hg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class ut extends js{construct(e,n,i){return new ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const RP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends js{construct(e,n,i){return new cn(e,n,i)}static isValidIdentifier(e){return RP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xx}static keyField(){return new cn([xx])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new me(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ut.fromString(e))}static fromName(e){return new Ee(ut.fromString(e).popFirst(5))}static empty(){return new Ee(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t,e,n){if(!n)throw new me(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CP(t,e,n,i){if(e===!0&&i===!0)throw new me(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ex(t){if(!Ee.isDocumentKey(t))throw new me(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wx(t){if(Ee.isDocumentKey(t))throw new me(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xd(t);throw new me(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ec(t,e){if(!rS(t))throw new me(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new me(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=-62135596800,Ax=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Ax);return new ct(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Sx)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ax}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ec(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Bt("string",ct._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new ct(0,0))}static max(){return new Ve(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;function NP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(i===1e9?new ct(n+1,0):new ct(n,i));return new Rr(a,Ee.empty(),e)}function IP(t){return new Rr(t.readTime,t.key,nc)}class Rr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Rr(Ve.min(),Ee.empty(),nc)}static max(){return new Rr(Ve.max(),Ee.empty(),nc)}}function DP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==MP)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,i)=>{n(e)}))}static reject(e){return new oe(((n,i)=>{i(e)}))}static waitFor(e){return new oe(((n,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const i of e)n=n.next((a=>a?oe.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new oe(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{c[p]=y,++d,d===l&&i(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new oe(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function PP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ed.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-1;function wd(t){return t==null}function Zf(t){return t===0&&1/t==-1/0}function kP(t){return typeof t=="number"&&Number.isInteger(t)&&!Zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="";function OP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Rx(e)),e=jP(t.get(n),e);return Rx(e)}function jP(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case aS:n+="";break;default:n+=l}}return n}function Rx(t){return t+aS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LP(t,e){const n=[];for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.push(e(t[i],i,t));return n}function oS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ff(this.root,e,this.comparator,!0)}}class ff{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??ln.RED,this.left=a??ln.EMPTY,this.right=l??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new ln(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return ln.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nx(this.data.getIterator())}getIteratorFrom(e){return new Nx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class Nx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Yt(cn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new lS("Invalid base64 string: "+l):l}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const UP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=UP.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nr(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="server_timestamp",cS="__type__",hS="__previous_value__",fS="__local_write_time__";function e0(t){return(t?.mapValue?.fields||{})[cS]?.stringValue===uS}function Sd(t){const e=t.mapValue.fields[hS];return e0(e)?Sd(e):e}function sc(t){const e=Cr(t.mapValue.fields[fS].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n,i,a,l,c,d,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Jf="(default)";class ic{constructor(e,n){this.projectId=e,this.database=n||Jf}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="__type__",zP="__max__",df={mapValue:{}},mS="__vector__",ed="value";function Ir(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?e0(t)?4:FP(t)?9007199254740991:qP(t)?10:11:Ne(28295,{value:t})}function Ws(t,e){if(t===e)return!0;const n=Ir(t);if(n!==Ir(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sc(t).isEqual(sc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Cr(a.timestampValue),d=Cr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Nr(a.bytesValue).isEqual(Nr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ct(a.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ct(a.integerValue)===Ct(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ct(a.doubleValue),d=Ct(l.doubleValue);return c===d?Zf(c)===Zf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Cx(c)!==Cx(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ws(c[m],d[m])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function rc(t,e){return(t.values||[]).find((n=>Ws(n,e)))!==void 0}function el(t,e){if(t===e)return 0;const n=Ir(t),i=Ir(e);if(n!==i)return qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Ct(l.integerValue||l.doubleValue),m=Ct(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return Ix(t.timestampValue,e.timestampValue);case 4:return Ix(sc(t),sc(e));case 5:return Hg(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Nr(l),m=Nr(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=qe(d[p],m[p]);if(y!==0)return y}return qe(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=qe(Ct(l.latitude),Ct(c.latitude));return d!==0?d:qe(Ct(l.longitude),Ct(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Dx(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[ed]?.arrayValue,y=m[ed]?.arrayValue,T=qe(p?.values?.length||0,y?.values?.length||0);return T!==0?T:Dx(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===df.mapValue&&c===df.mapValue)return 0;if(l===df.mapValue)return 1;if(c===df.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const x=Hg(m[T],y[T]);if(x!==0)return x;const C=el(d[m[T]],p[y[T]]);if(C!==0)return C}return qe(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function Ix(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Cr(t),i=Cr(e),a=qe(n.seconds,i.seconds);return a!==0?a:qe(n.nanos,i.nanos)}function Dx(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=el(n[a],i[a]);if(l)return l}return qe(n.length,i.length)}function tl(t){return Gg(t)}function Gg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Cr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Nr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Gg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Gg(n.fields[c])}`;return a+"}"})(t.mapValue):Ne(61005,{value:t})}function Vf(t){switch(Ir(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(t);return e?16+Vf(e):16;case 5:return 2*t.stringValue.length;case 6:return Nr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Vf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return jr(i.fields,((l,c)=>{a+=l.length+Vf(c)})),a})(t.mapValue);default:throw Ne(13486,{value:t})}}function Mx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kg(t){return!!t&&"integerValue"in t}function t0(t){return!!t&&"arrayValue"in t}function Vx(t){return!!t&&"nullValue"in t}function Px(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pf(t){return!!t&&"mapValue"in t}function qP(t){return(t?.mapValue?.fields||{})[dS]?.stringValue===mS}function zu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return jr(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=zu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return{...t}}function FP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===zP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=cn.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=zu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){jr(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Nn(zu(this.value))}}function pS(t){const e=[];return jr(t.fields,((n,i)=>{const a=new cn([n]);if(Pf(i)){const l=pS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new gn(e,0,Ve.min(),Ve.min(),Ve.min(),Nn.empty(),0)}static newFoundDocument(e,n,i,a){return new gn(e,1,n,Ve.min(),i,a,0)}static newNoDocument(e,n){return new gn(e,2,n,Ve.min(),Ve.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Ve.min(),Ve.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this.position=e,this.inclusive=n}}function kx(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),n.key):i=el(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ox(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ws(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function HP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{}class Ut extends gS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new KP(e,n,i):n==="array-contains"?new QP(e,i):n==="in"?new XP(e,i):n==="not-in"?new WP(e,i):n==="array-contains-any"?new ZP(e,i):new Ut(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new $P(e,i):new YP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(el(n,this.value)):n!==null&&Ir(this.value)===Ir(n)&&this.matchesComparison(el(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vs extends gS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vs(e,n)}matches(e){return yS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yS(t){return t.op==="and"}function vS(t){return GP(t)&&yS(t)}function GP(t){for(const e of t.filters)if(e instanceof vs)return!1;return!0}function $g(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+tl(t.value);if(vS(t))return t.filters.map((e=>$g(e))).join(",");{const e=t.filters.map((n=>$g(n))).join(",");return`${t.op}(${e})`}}function _S(t,e){return t instanceof Ut?(function(i,a){return a instanceof Ut&&i.op===a.op&&i.field.isEqual(a.field)&&Ws(i.value,a.value)})(t,e):t instanceof vs?(function(i,a){return a instanceof vs&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&_S(c,a.filters[d])),!0):!1})(t,e):void Ne(19439)}function TS(t){return t instanceof Ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${tl(n.value)}`})(t):t instanceof vs?(function(n){return n.op.toString()+" {"+n.getFilters().map(TS).join(" ,")+"}"})(t):"Filter"}class KP extends Ut{constructor(e,n,i){super(e,n,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class $P extends Ut{constructor(e,n){super(e,"in",n),this.keys=bS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class YP extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=bS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bS(t,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class QP extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return t0(n)&&rc(n.arrayValue,this.value)}}class XP extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class WP extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rc(this.value.arrayValue,n)}}class ZP extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!t0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>rc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function jx(t,e=null,n=[],i=[],a=null,l=null,c=null){return new JP(t,e,n,i,a,l,c)}function n0(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>$g(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),wd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>tl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>tl(i))).join(",")),e.Te=n}return e.Te}function s0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_S(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ox(t.startAt,e.startAt)&&Ox(t.endAt,e.endAt)}function Yg(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ek(t,e,n,i,a,l,c,d){return new wc(t,e,n,i,a,l,c,d)}function i0(t){return new wc(t)}function Lx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xS(t){return t.collectionGroup!==null}function qu(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Yt(cn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new nd(l,i))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new nd(cn.keyField(),i))}return e.Ie}function Fs(t){const e=Me(t);return e.Ee||(e.Ee=ES(e,qu(t))),e.Ee}function tk(t){const e=Me(t);return e.de||(e.de=ES(e,t.explicitOrderBy)),e.de}function ES(t,e){if(t.limitType==="F")return jx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new nd(a.field,l)}));const n=t.endAt?new td(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new td(t.startAt.position,t.startAt.inclusive):null;return jx(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Qg(t,e){const n=t.filters.concat([e]);return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sd(t,e,n){return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ad(t,e){return s0(Fs(t),Fs(e))&&t.limitType===e.limitType}function wS(t){return`${n0(Fs(t))}|lt:${t.limitType}`}function jo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>TS(a))).join(", ")}]`),wd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>tl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>tl(a))).join(",")),`Target(${i})`})(Fs(t))}; limitType=${t.limitType})`}function Rd(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ee.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of qu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,m){const p=kx(c,d,m);return c.inclusive?p<=0:p<0})(i.startAt,qu(i),a)||i.endAt&&!(function(c,d,m){const p=kx(c,d,m);return c.inclusive?p>=0:p>0})(i.endAt,qu(i),a))})(t,e)}function nk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SS(t){return(e,n)=>{let i=!1;for(const a of qu(t)){const l=sk(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function sk(t,e,n){const i=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?el(m,p):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){jr(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return oS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new vt(Ee.comparator);function ki(){return ik}const AS=new vt(Ee.comparator);function ku(...t){let e=AS;for(const n of t)e=e.insert(n.key,n);return e}function RS(t){let e=AS;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ea(){return Fu()}function CS(){return Fu()}function Fu(){return new ja((t=>t.toString()),((t,e)=>t.isEqual(e)))}const rk=new vt(Ee.comparator),ak=new Yt(Ee.comparator);function Fe(...t){let e=ak;for(const n of t)e=e.add(n);return e}const ok=new Yt(qe);function lk(){return ok}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function NS(t){return{integerValue:""+t}}function uk(t,e){return kP(e)?NS(e):r0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this._=void 0}}function ck(t,e,n){return t instanceof ac?(function(a,l){const c={fields:{[cS]:{stringValue:uS},[fS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&e0(l)&&(l=Sd(l)),l&&(c.fields[hS]=l),{mapValue:c}})(n,e):t instanceof oc?DS(t,e):t instanceof lc?MS(t,e):(function(a,l){const c=IS(a,l),d=Ux(c)+Ux(a.Ae);return Kg(c)&&Kg(a.Ae)?NS(d):r0(a.serializer,d)})(t,e)}function hk(t,e,n){return t instanceof oc?DS(t,e):t instanceof lc?MS(t,e):n}function IS(t,e){return t instanceof id?(function(i){return Kg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class ac extends Cd{}class oc extends Cd{constructor(e){super(),this.elements=e}}function DS(t,e){const n=VS(e);for(const i of t.elements)n.some((a=>Ws(a,i)))||n.push(i);return{arrayValue:{values:n}}}class lc extends Cd{constructor(e){super(),this.elements=e}}function MS(t,e){let n=VS(e);for(const i of t.elements)n=n.filter((a=>!Ws(a,i)));return{arrayValue:{values:n}}}class id extends Cd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ux(t){return Ct(t.integerValue||t.doubleValue)}function VS(t){return t0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n){this.field=e,this.transform=n}}function dk(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof oc&&a instanceof oc||i instanceof lc&&a instanceof lc?Jo(i.elements,a.elements,Ws):i instanceof id&&a instanceof id?Ws(i.Ae,a.Ae):i instanceof ac&&a instanceof ac})(t.transform,e.transform)}class mk{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nd{}function PS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new a0(t.key,qn.none()):new Sc(t.key,t.data,qn.none());{const n=t.data,i=Nn.empty();let a=new Yt(cn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Lr(t.key,i,new zn(a.toArray()),qn.none())}}function pk(t,e,n){t instanceof Sc?(function(a,l,c){const d=a.value.clone(),m=zx(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Lr?(function(a,l,c){if(!kf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=zx(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(kS(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Hu(t,e,n,i){return t instanceof Sc?(function(l,c,d,m){if(!kf(l.precondition,c))return d;const p=l.value.clone(),y=qx(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof Lr?(function(l,c,d,m){if(!kf(l.precondition,c))return d;const p=qx(l.fieldTransforms,m,c),y=c.data;return y.setAll(kS(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(t,e,n,i):(function(l,c,d){return kf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function gk(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=IS(i.transform,a||null);l!=null&&(n===null&&(n=Nn.empty()),n.set(i.field,l))}return n||null}function Bx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Jo(i,a,((l,c)=>dk(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sc extends Nd{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Lr extends Nd{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function kS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function zx(t,e,n){const i=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,hk(c,d,n[a]))}return i}function qx(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,ck(l,c,e))}return i}class a0 extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yk extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&pk(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Hu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Hu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=CS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=PS(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ve.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,((n,i)=>Bx(n,i)))&&Jo(this.baseMutations,e.baseMutations,((n,i)=>Bx(n,i)))}}class o0{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){We(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return rk})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new o0(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,i){this.alias=e,this.aggregateType=n,this.fieldPath=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,$e;function xk(t){switch(t){case se.OK:return Ne(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function OS(t){if(t===void 0)return Vi("GRPC error has no .code"),se.UNKNOWN;switch(t){case Ot.OK:return se.OK;case Ot.CANCELLED:return se.CANCELLED;case Ot.UNKNOWN:return se.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return se.INTERNAL;case Ot.UNAVAILABLE:return se.UNAVAILABLE;case Ot.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ot.NOT_FOUND:return se.NOT_FOUND;case Ot.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ot.ABORTED:return se.ABORTED;case Ot.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ot.DATA_LOSS:return se.DATA_LOSS;default:return Ne(39323,{code:t})}}($e=Ot||(Ot={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=new Sr([4294967295,4294967295],0);function Fx(t){const e=Ek().encode(t),n=new Ww;return n.update(e),new Uint8Array(n.digest())}function Hx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Sr([n,i],0),new Sr([a,l],0)]}class l0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ou(`Invalid padding: ${n}`);if(i<0)throw new Ou(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Sr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Sr.fromNumber(i)));return a.compare(wk)===1&&(a=new Sr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Fx(e),[i,a]=Hx(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new l0(l,a,n);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=Fx(e),[i,a]=Hx(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Id(Ve.min(),a,new vt(qe),ki(),Fe())}}class Ac{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ac(i,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class jS{constructor(e,n){this.targetId=e,this.Ce=n}}class LS{constructor(e,n,i=hn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Gx{constructor(){this.ve=0,this.Fe=Kx(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),i=Fe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ne(38017,{changeType:l})}})),new Ac(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Kx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Sk{constructor(e){this.Ge=e,this.ze=new Map,this.je=ki(),this.Je=mf(),this.He=mf(),this.Ye=new vt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Yg(l))if(i===0){const c=new Ee(l.path);this.et(n,c,gn.newNoDocument(c,Ve.min()))}else We(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Nr(i).toUint8Array()}catch(m){if(m instanceof lS)return tc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new l0(c,a,l)}catch(m){return tc(m instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Yg(d.target)){const m=new Ee(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,gn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=Fe();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Id(e,n,this.Ye,this.je,i);return this.je=ki(),this.Je=mf(),this.He=mf(),this.Ye=new vt(qe),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Gx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Yt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Yt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mf(){return new vt(Ee.comparator)}function Kx(){return new vt(Ee.comparator)}const Ak={asc:"ASCENDING",desc:"DESCENDING"},Rk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ck={and:"AND",or:"OR"};class Nk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xg(t,e){return t.useProto3Json||wd(e)?e:{value:e}}function rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function US(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ik(t,e){return rd(t,e.toTimestamp())}function Hs(t){return We(!!t,49232),Ve.fromTimestamp((function(n){const i=Cr(n);return new ct(i.seconds,i.nanos)})(t))}function u0(t,e){return Wg(t,e).canonicalString()}function Wg(t,e){const n=(function(a){return new ut(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function BS(t){const e=ut.fromString(t);return We(KS(e),10190,{key:e.toString()}),e}function Zg(t,e){return u0(t.databaseId,e.path)}function ag(t,e){const n=BS(e);if(n.get(1)!==t.databaseId.projectId)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(qS(n))}function zS(t,e){return u0(t.databaseId,e)}function Dk(t){const e=BS(t);return e.length===4?ut.emptyPath():qS(e)}function Jg(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qS(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $x(t,e,n){return{name:Zg(t,e),fields:n.value.mapValue.fields}}function Mk(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ne(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(We(y===void 0||typeof y=="string",58123),hn.fromBase64String(y||"")):(We(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),hn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?se.UNKNOWN:OS(p.code);return new me(y,p.message||"")})(c);n=new LS(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=ag(t,i.document.name),l=Hs(i.document.updateTime),c=i.document.createTime?Hs(i.document.createTime):Ve.min(),d=new Nn({mapValue:{fields:i.document.fields}}),m=gn.newFoundDocument(a,l,c,d),p=i.targetIds||[],y=i.removedTargetIds||[];n=new Of(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=ag(t,i.document),l=i.readTime?Hs(i.readTime):Ve.min(),c=gn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Of([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=ag(t,i.document),l=i.removedTargetIds||[];n=new Of([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new bk(a,l),d=i.targetId;n=new jS(d,c)}}return n}function Vk(t,e){let n;if(e instanceof Sc)n={update:$x(t,e.key,e.value)};else if(e instanceof a0)n={delete:Zg(t,e.key)};else if(e instanceof Lr)n={update:$x(t,e.key,e.data),updateMask:qk(e.fieldMask)};else{if(!(e instanceof yk))return Ne(16599,{Vt:e.type});n={verify:Zg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof ac)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof oc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof lc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof id)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ne(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Ik(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)})(t,e.precondition)),n}function Pk(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Hs(a.updateTime):Hs(l);return c.isEqual(Ve.min())&&(c=Hs(l)),new mk(c,a.transformResults||[])})(n,e)))):[]}function kk(t,e){return{documents:[zS(t,e.path)]}}function FS(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=zS(t,a);const l=(function(p){if(p.length!==0)return GS(vs.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(x){return{field:Tr(x.field),direction:Uk(x.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Xg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function Ok(t,e,n,i){const{ft:a,parent:l}=FS(t,e),c={},d=[];let m=0;return n.forEach((p=>{const y="aggregate_"+m++;c[y]=p.alias,p.aggregateType==="count"?d.push({alias:y,count:{}}):p.aggregateType==="avg"?d.push({alias:y,avg:{field:Tr(p.fieldPath)}}):p.aggregateType==="sum"&&d.push({alias:y,sum:{field:Tr(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:d,structuredQuery:a.structuredQuery},parent:a.parent},gt:c,parent:l}}function jk(t){let e=Dk(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){We(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(T){const x=HS(T);return x instanceof vs&&vS(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((x=>(function(k){return new nd(Lo(k.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let x;return x=typeof T=="object"?T.value:T,wd(x)?null:x})(n.limit));let m=null;n.startAt&&(m=(function(T){const x=!!T.before,C=T.values||[];return new td(C,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const x=!T.before,C=T.values||[];return new td(C,x)})(n.endAt)),ek(e,a,c,l,d,"F",m,p)}function Lk(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Lo(n.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(n.unaryFilter.field);return Ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(n.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(n.unaryFilter.field);return Ut.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ut.create(Lo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return vs.create(n.compositeFilter.filters.map((i=>HS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function Uk(t){return Ak[t]}function Bk(t){return Rk[t]}function zk(t){return Ck[t]}function Tr(t){return{fieldPath:t.canonicalString()}}function Lo(t){return cn.fromServerFormat(t.fieldPath)}function GS(t){return t instanceof Ut?(function(n){if(n.op==="=="){if(Px(n.value))return{unaryFilter:{field:Tr(n.field),op:"IS_NAN"}};if(Vx(n.value))return{unaryFilter:{field:Tr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Px(n.value))return{unaryFilter:{field:Tr(n.field),op:"IS_NOT_NAN"}};if(Vx(n.value))return{unaryFilter:{field:Tr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tr(n.field),op:Bk(n.op),value:n.value}}})(t):t instanceof vs?(function(n){const i=n.getFilters().map((a=>GS(a)));return i.length===1?i[0]:{compositeFilter:{op:zk(n.op),filters:i}}})(t):Ne(54877,{filter:t})}function qk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,i,a,l=Ve.min(),c=Ve.min(),d=hn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.yt=e}}function Hk(t){const e=jk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.Cn=new Kk}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Rr.min())}updateCollectionGroup(e,n,i){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class Kk{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Yt(ut.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Yt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$S=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn($S,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="LruGarbageCollector",YS=1048576;function Xx([t,e],[n,i]){const a=qe(t,n);return a===0?qe(e,i):a}class $k{constructor(e){this.Ir=e,this.buffer=new Yt(Xx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Xx(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Yk{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(Qx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pl(n)?ge(Qx,"Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.Vr(3e5)}))}}class Qk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Ed.ce);const i=new $k(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(Yx)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yx):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(i=T,d=Date.now(),this.removeTargets(e,i,n)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(p=Date.now(),Oo()<=ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function Xk(t,e){return new Qk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.changes=new ja((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?oe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Hu(i.mutation,a,zn.empty(),ct.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Fe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Fe()){const a=Ea();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=ku();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Ea();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Fe())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,i,a){let l=ki();const c=Fu(),d=(function(){return Fu()})();return n.forEach(((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Lr)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Hu(y.mutation,p,y.mutation.getFieldMask(),ct.now())):c.set(p.key,zn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new Zk(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=Fu();let a=new vt(((c,d)=>c-d)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=i.get(m)||zn.empty();y=d.applyToLocalView(p,y),i.set(m,y);const T=(a.get(d.batchId)||Fe()).add(m);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,T=CS();y.forEach((x=>{if(!l.has(x)){const C=PS(n.get(x),i.get(x));C!==null&&T.set(x,C),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return oe.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):oe.resolve(Ea());let d=nc,m=l;return c.next((p=>oe.forEach(p,((y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{m=m.insert(y,x)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Fe()))).next((y=>({batchId:d,changes:RS(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((i=>{let a=ku();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=ku();return this.indexManager.getCollectionParents(e,l).next((d=>oe.forEach(d,(m=>{const p=(function(T,x){return new wc(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((y=>{y.forEach(((T,x)=>{c=c.insert(T,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,gn.newInvalidDocument(y)))}));let d=ku();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Hu(y.mutation,p,zn.empty(),ct.now()),Rd(n,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Hs(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:Hk(a.bundledQuery),readTime:Hs(a.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.overlays=new vt(Ee.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ea();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),oe.resolve()}getOverlaysForCollection(e,n,i){const a=Ea(),l=n.length+1,c=new Ee(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new vt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Ea(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Ea(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return oe.resolve(d)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new _k(n,i));let l=this.qr.get(n);l===void 0&&(l=Fe(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.Qr=new Yt(en.$r),this.Ur=new Yt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new en(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new en(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ee(new ut([])),i=new en(n,e),a=new en(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new ut([])),i=new en(n,e),a=new en(n,e+1);let l=Fe();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new en(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class en{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(en.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new vk(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new en(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Jy:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new en(n,0),a=new en(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Yt(qe);return n.forEach((a=>{const l=new en(a,0),c=new en(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),oe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ee.isDocumentKey(l)||(l=l.child(""));const c=new en(new Ee(l),0);let d=new Yt(qe);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),c),oe.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return oe.forEach(n.mutations,(a=>{const l=new en(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new en(n,0),a=this.Zr.firstAfterOrEqual(i);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.ri=e,this.docs=(function(){return new vt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return oe.resolve(i?i.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let i=ki();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():gn.newInvalidDocument(a))})),oe.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=ki();const c=n.path,d=new Ee(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||DP(IP(y),i)<=0||(a.has(y.key)||Rd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ne(9500)}ii(e,n){return oe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new r4(this)}getSize(e){return oe.resolve(this.size)}}class r4 extends Wk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.persistence=e,this.si=new ja((n=>n0(n)),s0),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new c0,this.targetCount=0,this.ai=nl.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new nl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return oe.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),oe.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return oe.resolve(i)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ed(0),this.li=!1,this.li=!0,this.hi=new n4,this.referenceDelegate=e(this),this.Pi=new a4(this),this.indexManager=new Gk,this.remoteDocumentCache=(function(a){return new i4(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Fk(n),this.Ii=new e4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new s4(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ge("MemoryPersistence","Starting transaction:",e);const a=new o4(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return oe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class o4 extends VP{constructor(e){super(),this.currentSequenceNumber=e}}class h0{constructor(e){this.persistence=e,this.Ri=new c0,this.Vi=null}static mi(e){return new h0(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),oe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(i=>{const a=Ee.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ad{constructor(e,n){this.persistence=e,this.pi=new ja((i=>OP(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=Xk(this,n)}static mi(e,n){return new ad(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(i++,l.removeEntry(c,Ve.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vf(e.data.value)),n}br(e,n,i){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Fe(),a=Fe();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new f0(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LI()?8:PP(vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new l4;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(Oo()<=ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Oo()<=ze.DEBUG&&ge("QueryEngine","Query:",jo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Oo()<=ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fs(n))):oe.resolve())}ys(e,n){if(Lx(n))return oe.resolve(null);let i=Fs(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=sd(n,null,"F"),i=Fs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Fe(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.Ds(n,d);return this.Cs(n,p,c,m.readTime)?this.ys(e,sd(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,i,a){return Lx(n)||a.isEqual(Ve.min())?oe.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,a)?oe.resolve(null):(Oo()<=ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jo(n)),this.vs(e,c,n,NP(a,nc)).next((d=>d)))}))}Ds(e,n){let i=new Yt(SS(e));return n.forEach(((a,l)=>{Rd(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return Oo()<=ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",jo(n)),this.ps.getDocumentsMatchingQuery(e,n,Rr.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="LocalStore",c4=3e8;class h4{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new vt(qe),this.xs=new ja((l=>n0(l)),s0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function f4(t,e,n,i){return new h4(t,e,n,i)}async function XS(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let m=Fe();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function d4(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const T=p.batch,x=T.keys();let C=oe.resolve();return x.forEach((k=>{C=C.next((()=>y.getEntry(m,k))).next((D=>{const j=p.docVersions.get(k);We(j!==null,48541),D.version.compareTo(j)<0&&(T.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),y.addEntry(D)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Fe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function WS(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function m4(t,e){const n=Me(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((y,T)=>{const x=a.get(T);if(!x)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,T))));let C=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(hn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,i)),a=a.insert(T,C),(function(D,j,U){return D.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=c4?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(x,C,y)&&d.push(n.Pi.updateTargetData(l,C))}));let m=ki(),p=Fe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(p4(l,c,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!i.isEqual(Ve.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(y)}return oe.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function p4(t,e,n){let i=Fe(),a=Fe();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=ki();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ve.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ge(d0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function g4(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Jy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function y4(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,oe.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new br(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function ey(t,e,n){const i=Me(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!pl(c))throw c;ge(d0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Wx(t,e,n){const i=Me(t);let a=Ve.min(),l=Fe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const T=Me(m),x=T.xs.get(y);return x!==void 0?oe.resolve(T.Ms.get(x)):T.Pi.getTargetData(p,y)})(i,c,Fs(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?a:Ve.min(),n?l:Fe()))).next((d=>(v4(i,nk(e),d),{documents:d,Qs:l})))))}function v4(t,e,n){let i=t.Os.get(e)||Ve.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class Zx{constructor(){this.activeTargetIds=lk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _4{constructor(){this.Mo=new Zx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Zx,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="ConnectivityMonitor";class eE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(Jx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(Jx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf=null;function ty(){return pf===null?pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():pf++,"0x"+pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="RestConnection",b4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Jf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const c=ty(),d=this.zo(e,n.toUriEncodedString());ge(og,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),y=cl(p);return this.Jo(e,d,m,i,y).then((T=>(ge(og,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw tc(og,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",i),T}))}Ho(e,n,i,a,l,c){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=b4[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class w4 extends x4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const c=ty();return new Promise(((d,m)=>{const p=new Zw;p.setWithCredentials(!0),p.listenOnce(Jw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Mf.NO_ERROR:const T=p.getResponseJson();ge(pn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Mf.TIMEOUT:ge(pn,`RPC '${e}' ${c} timed out`),m(new me(se.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const x=p.getStatus();if(ge(pn,`RPC '${e}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const k=C?.error;if(k&&k.status&&k.message){const D=(function(U){const Y=U.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(Y)>=0?Y:se.UNKNOWN})(k.status);m(new me(D,k.message))}else m(new me(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(se.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(pn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);ge(pn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,i,15)}))}T_(e,n,i){const a=ty(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=nS(),d=tS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const y=l.join("");ge(pn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);this.I_(T);let x=!1,C=!1;const k=new E4({Yo:j=>{C?ge(pn,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(x||(ge(pn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),x=!0),ge(pn,`RPC '${e}' stream ${a} sending:`,j),T.send(j))},Zo:()=>T.close()}),D=(j,U,Y)=>{j.listen(U,(K=>{try{Y(K)}catch(J){setTimeout((()=>{throw J}),0)}}))};return D(T,Pu.EventType.OPEN,(()=>{C||(ge(pn,`RPC '${e}' stream ${a} transport opened.`),k.o_())})),D(T,Pu.EventType.CLOSE,(()=>{C||(C=!0,ge(pn,`RPC '${e}' stream ${a} transport closed`),k.a_(),this.E_(T))})),D(T,Pu.EventType.ERROR,(j=>{C||(C=!0,tc(pn,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),k.a_(new me(se.UNAVAILABLE,"The operation could not be completed")))})),D(T,Pu.EventType.MESSAGE,(j=>{if(!C){const U=j.data[0];We(!!U,16349);const Y=U,K=Y?.error||Y[0]?.error;if(K){ge(pn,`RPC '${e}' stream ${a} received error:`,K);const J=K.status;let W=(function(S){const N=Ot[S];if(N!==void 0)return OS(N)})(J),ue=K.message;W===void 0&&(W=se.INTERNAL,ue="Unknown error status: "+J+" with message "+K.message),C=!0,k.a_(new me(W,ue)),T.close()}else ge(pn,`RPC '${e}' stream ${a} received:`,U),k.u_(U)}})),D(d,eS.STAT_EVENT,(j=>{j.stat===Fg.PROXY?ge(pn,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===Fg.NOPROXY&&ge(pn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){return new Nk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="PersistentStream";class JS{constructor(e,n,i,a,l,c,d,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Vi(n.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new me(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(tE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class S4 extends JS{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Mk(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?Hs(c.readTime):Ve.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Jg(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Yg(m)?{documents:kk(l,m)}:{query:FS(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=US(l,c.resumeToken);const p=Xg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ve.min())>0){d.readTime=rd(l,c.snapshotVersion.toTimestamp());const p=Xg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=Lk(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Jg(this.serializer),n.removeTarget=e,this.q_(n)}}class A4 extends JS{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Pk(e.writeResults,e.commitTime),i=Hs(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Jg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>Vk(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{}class C4 extends R4{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Wg(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(se.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Wg(n,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class N4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vi(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="RemoteStore";class I4{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{La(this)&&(ge(ka,"Restarting streams for network reachability change."),await(async function(m){const p=Me(m);p.Ea.add(4),await Rc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Md(p)})(this))}))})),this.Ra=new N4(i,a)}}async function Md(t){if(La(t))for(const e of t.da)await e(!0)}async function Rc(t){for(const e of t.da)await e(!1)}function eA(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),y0(n)?g0(n):gl(n).O_()&&p0(n,e))}function m0(t,e){const n=Me(t),i=gl(n);n.Ia.delete(e),i.O_()&&tA(n,e),n.Ia.size===0&&(i.O_()?i.L_():La(n)&&n.Ra.set("Unknown"))}function p0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gl(t).Y_(e)}function tA(t,e){t.Va.Ue(e),gl(t).Z_(e)}function g0(t){t.Va=new Sk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),gl(t).start(),t.Ra.ua()}function y0(t){return La(t)&&!gl(t).x_()&&t.Ia.size>0}function La(t){return Me(t).Ea.size===0}function nA(t){t.Va=void 0}async function D4(t){t.Ra.set("Online")}async function M4(t){t.Ia.forEach(((e,n)=>{p0(t,e)}))}async function V4(t,e){nA(t),y0(t)?(t.Ra.ha(e),g0(t)):t.Ra.set("Unknown")}async function P4(t,e,n){if(t.Ra.set("Online"),e instanceof LS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(i){ge(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await od(t,i)}else if(e instanceof Of?t.Va.Ze(e):e instanceof jS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const i=await WS(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(hn.EMPTY_BYTE_STRING,y.snapshotVersion)),tA(l,m);const T=new br(y.target,m,p,y.sequenceNumber);p0(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){ge(ka,"Failed to raise snapshot:",i),await od(t,i)}}async function od(t,e,n){if(!pl(e))throw e;t.Ea.add(1),await Rc(t),t.Ra.set("Offline"),n||(n=()=>WS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(ka,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Md(t)}))}function sA(t,e){return e().catch((n=>od(t,n,e)))}async function Vd(t){const e=Me(t),n=Dr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jy;for(;k4(e);)try{const a=await g4(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,O4(e,a)}catch(a){await od(e,a)}iA(e)&&rA(e)}function k4(t){return La(t)&&t.Ta.length<10}function O4(t,e){t.Ta.push(e);const n=Dr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function iA(t){return La(t)&&!Dr(t).x_()&&t.Ta.length>0}function rA(t){Dr(t).start()}async function j4(t){Dr(t).ra()}async function L4(t){const e=Dr(t);for(const n of t.Ta)e.ea(n.mutations)}async function U4(t,e,n){const i=t.Ta.shift(),a=o0.from(i,e,n);await sA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Vd(t)}async function B4(t,e){e&&Dr(t).X_&&await(async function(i,a){if((function(c){return xk(c)&&c!==se.ABORTED})(a.code)){const l=i.Ta.shift();Dr(i).B_(),await sA(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Vd(i)}})(t,e),iA(t)&&rA(t)}async function nE(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ge(ka,"RemoteStore received new credentials");const i=La(n);n.Ea.add(3),await Rc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Md(n)}async function z4(t,e){const n=Me(t);e?(n.Ea.delete(2),await Md(n)):e||(n.Ea.add(2),await Rc(n),n.Ra.set("Unknown"))}function gl(t){return t.ma||(t.ma=(function(n,i,a){const l=Me(n);return l.sa(),new S4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:D4.bind(null,t),t_:M4.bind(null,t),r_:V4.bind(null,t),H_:P4.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),y0(t)?g0(t):t.Ra.set("Unknown")):(await t.ma.stop(),nA(t))}))),t.ma}function Dr(t){return t.fa||(t.fa=(function(n,i,a){const l=Me(n);return l.sa(),new A4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:j4.bind(null,t),r_:B4.bind(null,t),ta:L4.bind(null,t),na:U4.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Vd(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(ka,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new v0(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _0(t,e){if(Vi("AsyncQueue",`${e}: ${t}`),pl(t))return new me(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ee.comparator(n.key,i.key):(n,i)=>Ee.comparator(n.key,i.key),this.keyedMap=ku(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Qo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.ga=new vt(Ee.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class sl{constructor(e,n,i,a,l,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new sl(e,n,Qo.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class F4{constructor(){this.queries=iE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Me(n),l=a.queries;a.queries=iE(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(i)}))})(this,new me(se.ABORTED,"Firestore shutting down"))}}function iE(){return new ja((t=>wS(t)),Ad)}async function aA(t,e){const n=Me(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new q4,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=_0(c,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&T0(n)}async function oA(t,e){const n=Me(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function H4(t,e){const n=Me(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&T0(n)}function G4(t,e,n){const i=Me(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function T0(t){t.Ca.forEach((e=>{e.next()}))}var ny,rE;(rE=ny||(ny={})).Ma="default",rE.Cache="cache";class lA{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new sl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ny.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.key=e}}class cA{constructor(e){this.key=e}}class K4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=SS(e),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new sE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,T)=>{const x=a.get(y),C=Rd(this.query,T)?T:null,k=!!x&&this.mutatedKeys.has(x.key),D=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let j=!1;x&&C?x.data.isEqual(C.data)?k!==D&&(i.track({type:3,doc:C}),j=!0):this.su(x,C)||(i.track({type:2,doc:C}),j=!0,(m&&this.eu(C,m)>0||p&&this.eu(C,p)<0)&&(d=!0)):!x&&C?(i.track({type:0,doc:C}),j=!0):x&&!C&&(i.track({type:1,doc:x}),j=!0,(m||p)&&(d=!0)),j&&(C?(c=c.add(C),l=D?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,T)=>(function(C,k){const D=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:j})}};return D(C)-D(k)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new sl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new cA(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new uA(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const b0="SyncEngine";class $4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Y4{constructor(e){this.key=e,this.hu=!1}}class Q4{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ja((d=>wS(d)),Ad),this.Iu=new Map,this.Eu=new Set,this.du=new vt(Ee.comparator),this.Au=new Map,this.Ru=new c0,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function X4(t,e,n=!0){const i=gA(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await hA(i,e,n,!0),a}async function W4(t,e){const n=gA(t);await hA(n,e,!0,!1)}async function hA(t,e,n,i){const a=await y4(t.localStore,Fs(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await Z4(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&eA(t.remoteStore,a),d}async function Z4(t,e,n,i,a){t.pu=(T,x,C)=>(async function(D,j,U,Y){let K=j.view.ru(U);K.Cs&&(K=await Wx(D.localStore,j.query,!1).then((({documents:P})=>j.view.ru(P,K))));const J=Y&&Y.targetChanges.get(j.targetId),W=Y&&Y.targetMismatches.get(j.targetId)!=null,ue=j.view.applyChanges(K,D.isPrimaryClient,J,W);return oE(D,j.targetId,ue.au),ue.snapshot})(t,T,x,C);const l=await Wx(t.localStore,e,!0),c=new K4(e,l.Qs),d=c.ru(l.documents),m=Ac.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,m);oE(t,n,p.au);const y=new $4(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function J4(t,e,n){const i=Me(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Ad(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ey(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&m0(i.remoteStore,a.targetId),sy(i,a.targetId)})).catch(ml)):(sy(i,a.targetId),await ey(i.localStore,a.targetId,!0))}async function eO(t,e){const n=Me(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),m0(n.remoteStore,i.targetId))}async function tO(t,e,n){const i=lO(t);try{const a=await(function(c,d){const m=Me(c),p=ct.now(),y=d.reduce(((C,k)=>C.add(k.key)),Fe());let T,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let k=ki(),D=Fe();return m.Ns.getEntries(C,y).next((j=>{k=j,k.forEach(((U,Y)=>{Y.isValidDocument()||(D=D.add(U))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,k))).next((j=>{T=j;const U=[];for(const Y of d){const K=gk(Y,T.get(Y.key).overlayedDocument);K!=null&&U.push(new Lr(Y.key,K,pS(K.value.mapValue),qn.exists(!0)))}return m.mutationQueue.addMutationBatch(C,p,U,d)})).next((j=>{x=j;const U=j.applyToLocalDocumentSet(T,D);return m.documentOverlayCache.saveOverlays(C,j.batchId,U)}))})).then((()=>({batchId:x.batchId,changes:RS(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new vt(qe)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(i,a.batchId,n),await Cc(i,a.changes),await Vd(i.remoteStore)}catch(a){const l=_0(a,"Failed to persist write");n.reject(l)}}async function fA(t,e){const n=Me(t);try{const i=await m4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?We(c.hu,14607):a.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))})),await Cc(n,i,e)}catch(i){await ml(i)}}function aE(t,e,n){const i=Me(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Me(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,T)=>{for(const x of T.Sa)x.va(d)&&(p=!0)})),p&&T0(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function nO(t,e,n){const i=Me(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new vt(Ee.comparator);c=c.insert(l,gn.newNoDocument(l,Ve.min()));const d=Fe().add(l),m=new Id(Ve.min(),new Map,new vt(qe),c,d);await fA(i,m),i.du=i.du.remove(l),i.Au.delete(e),x0(i)}else await ey(i.localStore,e,!1).then((()=>sy(i,e,n))).catch(ml)}async function sO(t,e){const n=Me(t),i=e.batch.batchId;try{const a=await d4(n.localStore,e);mA(n,i,null),dA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Cc(n,a)}catch(a){await ml(a)}}async function iO(t,e,n){const i=Me(t);try{const a=await(function(c,d){const m=Me(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((T=>(We(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(p,T)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(i.localStore,e);mA(i,e,n),dA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Cc(i,a)}catch(a){await ml(a)}}function dA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function mA(t,e,n){const i=Me(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||pA(t,i)}))}function pA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(m0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),x0(t))}function oE(t,e,n){for(const i of n)i instanceof uA?(t.Ru.addReference(i.key,e),rO(t,i)):i instanceof cA?(ge(b0,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||pA(t,i.key)):Ne(19791,{wu:i})}function rO(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(ge(b0,"New document in limbo: "+n),t.Eu.add(i),x0(t))}function x0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ee(ut.fromString(e)),i=t.fu.next();t.Au.set(i,new Y4(n)),t.du=t.du.insert(n,i),eA(t.remoteStore,new br(Fs(i0(n.path)),i,"TargetPurposeLimboResolution",Ed.ce))}}async function Cc(t,e,n){const i=Me(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{c.push(i.pu(m,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=f0.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,p){const y=Me(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>oe.forEach(p,(x=>oe.forEach(x.Es,(C=>y.persistence.referenceDelegate.addReference(T,x.targetId,C))).next((()=>oe.forEach(x.ds,(C=>y.persistence.referenceDelegate.removeReference(T,x.targetId,C)))))))))}catch(T){if(!pl(T))throw T;ge(d0,"Failed to update sequence numbers: "+T)}for(const T of p){const x=T.targetId;if(!T.fromCache){const C=y.Ms.get(x),k=C.snapshotVersion,D=C.withLastLimboFreeSnapshotVersion(k);y.Ms=y.Ms.insert(x,D)}}})(i.localStore,l))}async function aO(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ge(b0,"User change. New user:",e.toKey());const i=await XS(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new me(se.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Cc(n,i.Ls)}}function oO(t,e){const n=Me(t),i=n.Au.get(e);if(i&&i.hu)return Fe().add(i.key);{let a=Fe();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function gA(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nO.bind(null,e),e.Pu.H_=H4.bind(null,e.eventManager),e.Pu.yu=G4.bind(null,e.eventManager),e}function lO(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iO.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return f4(this.persistence,new u4,e.initialUser,this.serializer)}Cu(e){return new QS(h0.mi,this.serializer)}Du(e){return new _4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class uO extends ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof ad,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Yk(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new QS((i=>ad.mi(i,n)),this.serializer)}}class iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>aE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=aO.bind(null,this.syncEngine),await z4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new F4})()}createDatastore(e){const n=Dd(e.databaseInfo.databaseId),i=(function(l){return new w4(l)})(e.databaseInfo);return(function(l,c,d,m){return new C4(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,d){return new I4(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>aE(this.syncEngine,n,0)),(function(){return eE.v()?new eE:new T4})())}createSyncEngine(e,n){return(function(a,l,c,d,m,p,y){const T=new Q4(a,l,c,d,m,p);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Me(n);ge(ka,"RemoteStore shutting down."),i.Ea.add(5),await Rc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}iy.provider={build:()=>new iy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="FirestoreClient";class cO{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Rn.UNAUTHENTICATED,this.clientId=Zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ge(Mr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ge(Mr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=_0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ug(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Mr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await XS(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function lE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hO(t);ge(Mr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>nE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>nE(e.remoteStore,a))),t._onlineComponents=e}async function hO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Mr,"Using user provided OfflineComponentProvider");try{await ug(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;tc("Error using user provided cache. Falling back to memory cache: "+n),await ug(t,new ld)}}else ge(Mr,"Using default OfflineComponentProvider"),await ug(t,new uO(void 0));return t._offlineComponents}async function E0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Mr,"Using user provided OnlineComponentProvider"),await lE(t,t._uninitializedComponentsProvider._online)):(ge(Mr,"Using default OnlineComponentProvider"),await lE(t,new iy))),t._onlineComponents}function fO(t){return E0(t).then((e=>e.syncEngine))}function dO(t){return E0(t).then((e=>e.datastore))}async function vA(t){const e=await E0(t),n=e.eventManager;return n.onListen=X4.bind(null,e.syncEngine),n.onUnlisten=J4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=W4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eO.bind(null,e.syncEngine),n}function mO(t,e,n={}){const i=new qs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new yA({next:x=>{y.Nu(),c.enqueueAndForget((()=>oA(l,T)));const C=x.docs.has(d);!C&&x.fromCache?p.reject(new me(se.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&x.fromCache&&m&&m.source==="server"?p.reject(new me(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),T=new lA(i0(d.path),y,{includeMetadataChanges:!0,qa:!0});return aA(l,T)})(await vA(t),t.asyncQueue,e,n,i))),i.promise}function pO(t,e,n={}){const i=new qs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new yA({next:x=>{y.Nu(),c.enqueueAndForget((()=>oA(l,T))),x.fromCache&&m.source==="server"?p.reject(new me(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),T=new lA(d,y,{includeMetadataChanges:!0,qa:!0});return aA(l,T)})(await vA(t),t.asyncQueue,e,n,i))),i.promise}function gO(t,e,n){const i=new qs;return t.asyncQueue.enqueueAndForget((async()=>{try{const a=await dO(t);i.resolve((async function(c,d,m){const p=Me(c),{request:y,gt:T,parent:x}=Ok(p.serializer,tk(d),m);p.connection.$o||delete y.parent;const C=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,x,y,1)).filter((D=>!!D.result));We(C.length===1,64727);const k=C[0].result?.aggregateFields;return Object.keys(k).reduce(((D,j)=>(D[T[j]]=k[j],D)),{})})(a,e,n))}catch(a){i.reject(a)}})),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="firestore.googleapis.com",cE=!0;class hE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yO,this.ssl=cE}else this.host=e.host,this.ssl=e.ssl??cE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$S;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YS)throw new me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_A(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class w0{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new _P;switch(i.type){case"firstParty":return new xP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=uE.get(n);i&&(ge("ComponentProvider","Removing Datastore"),uE.delete(n),i.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ua(this.firestore,e,this._query)}}class zt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Ec(n,zt._jsonSchema))return new zt(e,i||null,new Ee(ut.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Bt("string",zt._jsonSchemaVersion),referencePath:Bt("string")};class Ar extends Ua{constructor(e,n,i){super(e,n,i0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Ee(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function ke(t,e,...n){if(t=Nt(t),iS("collection","path",e),t instanceof w0){const i=ut.fromString(e,...n);return wx(i),new Ar(t,null,i)}{if(!(t instanceof zt||t instanceof Ar))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return wx(i),new Ar(t.firestore,null,i)}}function Gs(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=Zy.newId()),iS("doc","path",e),t instanceof w0){const i=ut.fromString(e,...n);return Ex(i),new zt(t,null,new Ee(i))}{if(!(t instanceof zt||t instanceof Ar))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return Ex(i),new zt(t.firestore,t instanceof Ar?t.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="AsyncQueue";class dE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZS(this,"async_queue_retry"),this._c=()=>{const i=lg();i&&ge(fE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=lg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;ge(fE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Vi("INTERNAL UNHANDLED ERROR: ",mE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=v0.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:mE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ba extends w0{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new dE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dE(e),this._firestoreClient=void 0,await e}}}function vO(t,e,n){n||(n=Jf);const i=By(t,"firestore");if(i.isInitialized(n)){const a=i.getImmediate({identifier:n}),l=i.getOptions(n);if(Ia(l,e))return a;throw new me(se.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new me(se.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YS)throw new me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&cl(e.host)&&cw(e.host),i.initialize({options:e,instanceIdentifier:n})}function Nc(t){if(t._terminated)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_O(t),t._firestoreClient}function _O(t){const e=t._freezeSettings(),n=(function(a,l,c,d){return new BP(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,_A(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new cO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class bO{constructor(e,n,i){this._userDataWriter=n,this._data=i,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this._byteString=e}static fromBase64String(e){try{return new as(hn.fromBase64String(e))}catch(n){throw new me(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new as(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:as._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ec(e,as._jsonSchema))return as.fromBase64String(e.bytes)}}as._jsonSchemaVersion="firestore/bytes/1.0",as._jsonSchema={type:Bt("string",as._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ks._jsonSchemaVersion}}static fromJSON(e){if(Ec(e,Ks._jsonSchema))return new Ks(e.latitude,e.longitude)}}Ks._jsonSchemaVersion="firestore/geoPoint/1.0",Ks._jsonSchema={type:Bt("string",Ks._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ec(e,$s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $s(e.vectorValues);throw new me(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:Bt("string",$s._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^__.*__$/;class EO{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sc(e,this.data,n,this.fieldTransforms)}}class TA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class S0{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new S0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bA(this.Ac)&&xO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wO{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Dd(e)}Cc(e,n,i,a=!1){return new S0({Ac:e,methodName:n,Dc:i,path:cn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kd(t){const e=t._freezeSettings(),n=Dd(t._databaseId);return new wO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xA(t,e,n,i,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);R0("Data must be an object, but it was:",c,i);const d=SA(i,c);let m,p;if(l.merge)m=new zn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const x=ry(e,T,n);if(!c.contains(x))throw new me(se.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);RA(y,x)||y.push(x)}m=new zn(y),p=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,p=c.fieldTransforms;return new EO(new Nn(d),m,p)}class Od extends Pd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Od}}class A0 extends Pd{_toFieldTransform(e){return new fk(e.path,new ac)}isEqual(e){return e instanceof A0}}function EA(t,e,n,i){const a=t.Cc(1,e,n);R0("Data must be an object, but it was:",a,i);const l=[],c=Nn.empty();jr(i,((m,p)=>{const y=C0(e,m,n);p=Nt(p);const T=a.yc(y);if(p instanceof Od)l.push(y);else{const x=Dc(p,T);x!=null&&(l.push(y),c.set(y,x))}}));const d=new zn(l);return new TA(c,d,a.fieldTransforms)}function wA(t,e,n,i,a,l){const c=t.Cc(1,e,n),d=[ry(e,i,n)],m=[a];if(l.length%2!=0)throw new me(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)d.push(ry(e,l[x])),m.push(l[x+1]);const p=[],y=Nn.empty();for(let x=d.length-1;x>=0;--x)if(!RA(p,d[x])){const C=d[x];let k=m[x];k=Nt(k);const D=c.yc(C);if(k instanceof Od)p.push(C);else{const j=Dc(k,D);j!=null&&(p.push(C),y.set(C,j))}}const T=new zn(p);return new TA(y,T,c.fieldTransforms)}function SO(t,e,n,i=!1){return Dc(n,t.Cc(i?4:3,e))}function Dc(t,e){if(AA(t=Nt(t)))return R0("Unsupported field value:",e,t),SA(t,e);if(t instanceof Pd)return(function(i,a){if(!bA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let m=Dc(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Nt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uk(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ct.fromDate(i);return{timestampValue:rd(a.serializer,l)}}if(i instanceof ct){const l=new ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rd(a.serializer,l)}}if(i instanceof Ks)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof as)return{bytesValue:US(a.serializer,i._byteString)};if(i instanceof zt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:u0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof $s)return(function(c,d){return{mapValue:{fields:{[dS]:{stringValue:mS},[ed]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return r0(d.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${xd(i)}`)})(t,e)}function SA(t,e){const n={};return oS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jr(t,((i,a)=>{const l=Dc(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function AA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof Ks||t instanceof as||t instanceof zt||t instanceof Pd||t instanceof $s)}function R0(t,e,n){if(!AA(n)||!rS(n)){const i=xd(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function ry(t,e,n){if((e=Nt(e))instanceof Ic)return e._internalPath;if(typeof e=="string")return C0(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const AO=new RegExp("[~\\*/\\[\\]]");function C0(t,e,n){if(e.search(AO)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ic(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new me(se.INVALID_ARGUMENT,d+t+m)}function RA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(N0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RO extends CA{data(){return super.data()}}function N0(t,e){return typeof e=="string"?C0(t,e):e instanceof Ic?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I0{}class NA extends I0{}function un(t,e,...n){let i=[];e instanceof I0&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((m=>m instanceof D0)).length,d=l.filter((m=>m instanceof jd)).length;if(c>1||c>0&&d>0)throw new me(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class jd extends NA{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new jd(e,n,i)}_apply(e){const n=this._parse(e);return IA(e._query,n),new Ua(e.firestore,e.converter,Qg(e._query,n))}_parse(e){const n=kd(e.firestore);return(function(l,c,d,m,p,y,T){let x;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new me(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){gE(T,y);const k=[];for(const D of T)k.push(pE(m,l,D));x={arrayValue:{values:k}}}else x=pE(m,l,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||gE(T,y),x=SO(d,c,T,y==="in"||y==="not-in");return Ut.create(p,y,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lt(t,e,n){const i=e,a=N0("where",t);return jd._create(a,i,n)}class D0 extends I0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new D0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:vs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)IA(c,m),c=Qg(c,m)})(e._query,n),new Ua(e.firestore,e.converter,Qg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class M0 extends NA{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new M0(e,n,i)}_apply(e){return new Ua(e.firestore,e.converter,sd(e._query,this._limit,this._limitType))}}function V0(t){return M0._create("limit",t,"F")}function pE(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xS(e)&&n.indexOf("/")!==-1)throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ut.fromString(n));if(!Ee.isDocumentKey(i))throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Mx(t,new Ee(i))}if(n instanceof zt)return Mx(t,n._key);throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xd(n)}.`)}function gE(t,e){if(!Array.isArray(t)||t.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IA(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class NO{convertValue(e,n="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return jr(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[ed].arrayValue?.values?.map((i=>Ct(i.doubleValue)));return new $s(n)}convertGeoPoint(e){return new Ks(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Sd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const n=Cr(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ut.fromString(e);We(KS(i),9688,{name:e});const a=new ic(i.get(1),i.get(3)),l=new Ee(i.popFirst(5));return a.isEqual(n)||Vi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}function IO(){return new TO("count")}class ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends CA{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(N0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Bt("string",Aa._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class jf extends Aa{data(e={}){return super.data(e)}}class Xo{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ju(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new jf(this._firestore,this._userDataWriter,i.key,i,new ju(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new jf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ju(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new jf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ju(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:DO(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t){t=Pi(t,zt);const e=Pi(t.firestore,Ba);return mO(Nc(e),t._key).then((n=>MO(e,t,n)))}Xo._jsonSchemaVersion="firestore/querySnapshot/1.0",Xo._jsonSchema={type:Bt("string",Xo._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class P0 extends NO{constructor(e){super(),this.firestore=e}convertBytes(e){return new as(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function Je(t){t=Pi(t,Ua);const e=Pi(t.firestore,Ba),n=Nc(e),i=new P0(e);return CO(t._query),pO(n,t._query).then((a=>new Xo(e,i,t,a)))}function yE(t,e,n,...i){t=Pi(t,zt);const a=Pi(t.firestore,Ba),l=kd(a);let c;return c=typeof(e=Nt(e))=="string"||e instanceof Ic?wA(l,"updateDoc",t._key,e,n,i):EA(l,"updateDoc",t._key,e),k0(a,[c.toMutation(t._key,qn.exists(!0))])}function Ls(t,e){const n=Pi(t.firestore,Ba),i=Gs(t),a=DA(t.converter,e);return k0(n,[xA(kd(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,qn.exists(!1))]).then((()=>i))}function k0(t,e){return(function(i,a){const l=new qs;return i.asyncQueue.enqueueAndForget((async()=>tO(await fO(i),a,l))),l.promise})(Nc(t),e)}function MO(t,e,n){const i=n.docs.get(e._key),a=new P0(t);return new Aa(t,a,e._key,i,new ju(n.hasPendingWrites,n.fromCache),e.converter)}function vE(t){return VO(t,{count:IO()})}function VO(t,e){const n=Pi(t.firestore,Ba),i=Nc(n),a=LP(e,((l,c)=>new Tk(c,l.aggregateType,l._internalFieldPath)));return gO(i,t._query,a).then((l=>(function(d,m,p){const y=new P0(d);return new bO(m,y,p)})(n,t,l)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=kd(e)}set(e,n,i){this._verifyNotCommitted();const a=cg(e,this._firestore),l=DA(a.converter,n,i),c=xA(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,qn.none())),this}update(e,n,i,...a){this._verifyNotCommitted();const l=cg(e,this._firestore);let c;return c=typeof(n=Nt(n))=="string"||n instanceof Ic?wA(this._dataReader,"WriteBatch.update",l._key,n,i,a):EA(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,qn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=cg(e,this._firestore);return this._mutations=this._mutations.concat(new a0(n._key,qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cg(t,e){if((t=Nt(t)).firestore!==e)throw new me(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Us(){return new A0("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){return Nc(t=Pi(t,Ba)),new PO(t,(e=>k0(t,e)))}(function(e,n=!0){(function(a){dl=a})(hl),Zo(new Da("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Ba(new TP(i.getProvider("auth-internal")),new EP(c,i.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),wr(_x,Tx,e),wr(_x,Tx,"esm2020")})();const MA={apiKey:"AIzaSyDUCyCMuw1WxUsO52rf3K5a01CRbI2Qgrg",authDomain:"stdserver-94bec.firebaseapp.com",projectId:"stdserver-94bec",storageBucket:"stdserver-94bec.firebasestorage.app",messagingSenderId:"104857912312",appId:"1:104857912312:web:0f9468476fec38151acc0d",measurementId:"G-B4RR6XWWDK"},VA=zy(MA),cd=Xw(VA),OO=zy(MA,"Secondary"),jO=Xw(OO),Se=vO(VA,{experimentalAutoDetectLongPolling:!0}),PA=I.createContext(void 0);function LO({children:t}){const[e,n]=I.useState(null),[i,a]=I.useState(!0);I.useEffect(()=>{const p=iV(cd,y=>{n(y),a(!1)});return()=>p()},[]);const m={user:e,loading:i,startLoading:()=>a(!0),stopLoading:()=>a(!1),signOut:()=>rV(cd)};return v.jsx(PA.Provider,{value:m,children:i?v.jsx("div",{className:"flex h-screen items-center justify-center bg-[#0d0d0d]",children:v.jsx("p",{className:"text-gray-400",children:"Yükleniyor…"})}):t})}function Mc(){const t=I.useContext(PA);if(!t)throw new Error("useAuth, AuthProvider içinde kullanılmalıdır.");return t}/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),_E=t=>{const e=BO(t);return e.charAt(0).toUpperCase()+e.slice(1)},kA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),zO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},m)=>I.createElement("svg",{ref:m,...qO,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:kA("lucide",a),...!l&&!zO(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>I.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(t,e)=>{const n=I.forwardRef(({className:i,...a},l)=>I.createElement(FO,{ref:l,iconNode:e,className:kA(`lucide-${UO(_E(t))}`,`lucide-${t}`,i),...a}));return n.displayName=_E(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ud=_t("book-open",HO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],KO=_t("calendar-clock",GO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],O0=_t("chart-column",$O);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Bd=_t("chevron-down",YO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ra=_t("clipboard-list",QO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],yl=_t("external-link",XO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ZO=_t("eye-off",WO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e3=_t("eye",JO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],j0=_t("file-text",t3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],s3=_t("funnel",n3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ay=_t("layers",i3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],a3=_t("lock",r3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],l3=_t("mail",o3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],c3=_t("presentation",u3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],f3=_t("refresh-cw",h3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],m3=_t("search",d3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],OA=_t("send",p3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],TE=_t("square-check-big",g3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 7v10",key:"d5nglc"}],["path",{d:"M11 7v10",key:"pptsnr"}],["path",{d:"m15 7 2 10",key:"1m7qm5"}]],L0=_t("square-library",y3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],bE=_t("square",v3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],T3=_t("target",_3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],x3=_t("user-round",b3);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oy=_t("users",E3),w3="/assets/logo-BMvlc10b.png",jA=I.createContext({});function S3(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const U0=typeof window<"u",A3=U0?I.useLayoutEffect:I.useEffect,B0=I.createContext(null);function z0(t,e){t.indexOf(e)===-1&&t.push(e)}function q0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Oi=(t,e,n)=>n>e?e:n<t?t:n;let F0=()=>{};const ji={},LA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function UA(t){return typeof t=="object"&&t!==null}const BA=t=>/^0[^.\s]+$/u.test(t);function H0(t){let e;return()=>(e===void 0&&(e=t()),e)}const os=t=>t,R3=(t,e)=>n=>e(t(n)),Vc=(...t)=>t.reduce(R3),uc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class G0{constructor(){this.subscriptions=[]}add(e){return z0(this.subscriptions,e),()=>q0(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ys=t=>t*1e3,Qs=t=>t/1e3;function zA(t,e){return e?t*(1e3/e):0}const qA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,C3=1e-7,N3=12;function I3(t,e,n,i,a){let l,c,d=0;do c=e+(n-e)/2,l=qA(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>C3&&++d<N3);return c}function Pc(t,e,n,i){if(t===e&&n===i)return os;const a=l=>I3(l,0,1,t,n);return l=>l===0||l===1?l:qA(a(l),e,i)}const FA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HA=t=>e=>1-t(1-e),GA=Pc(.33,1.53,.69,.99),K0=HA(GA),KA=FA(K0),$A=t=>(t*=2)<1?.5*K0(t):.5*(2-Math.pow(2,-10*(t-1))),$0=t=>1-Math.sin(Math.acos(t)),YA=HA($0),QA=FA($0),D3=Pc(.42,0,1,1),M3=Pc(0,0,.58,1),XA=Pc(.42,0,.58,1),V3=t=>Array.isArray(t)&&typeof t[0]!="number",WA=t=>Array.isArray(t)&&typeof t[0]=="number",P3={linear:os,easeIn:D3,easeInOut:XA,easeOut:M3,circIn:$0,circInOut:QA,circOut:YA,backIn:K0,backInOut:KA,backOut:GA,anticipate:$A},k3=t=>typeof t=="string",xE=t=>{if(WA(t)){F0(t.length===4);const[e,n,i,a]=t;return Pc(e,n,i,a)}else if(k3(t))return P3[t];return t},gf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function O3(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,T=!1,x=!1)=>{const k=x&&a?n:i;return T&&c.add(y),k.has(y)||k.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const j3=40;function ZA(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=gf.reduce((K,J)=>(K[J]=O3(l),K),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:T,preRender:x,render:C,postRender:k}=c,D=()=>{const K=ji.useManualTiming?a.timestamp:performance.now();n=!1,ji.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(K-a.timestamp,j3),1)),a.timestamp=K,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),T.process(a),x.process(a),C.process(a),k.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(D))},j=()=>{n=!0,i=!0,a.isProcessing||t(D)};return{schedule:gf.reduce((K,J)=>{const W=c[J];return K[J]=(ue,P=!1,S=!1)=>(n||j(),W.schedule(ue,P,S)),K},{}),cancel:K=>{for(let J=0;J<gf.length;J++)c[gf[J]].cancel(K)},state:a,steps:c}}const{schedule:mt,cancel:Vr,state:on,steps:hg}=ZA(typeof requestAnimationFrame<"u"?requestAnimationFrame:os,!0);let Lf;function L3(){Lf=void 0}const In={now:()=>(Lf===void 0&&In.set(on.isProcessing||ji.useManualTiming?on.timestamp:performance.now()),Lf),set:t=>{Lf=t,queueMicrotask(L3)}},JA=t=>e=>typeof e=="string"&&e.startsWith(t),Y0=JA("--"),U3=JA("var(--"),Q0=t=>U3(t)?B3.test(t.split("/*")[0].trim()):!1,B3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cc={...vl,transform:t=>Oi(0,1,t)},yf={...vl,default:1},Gu=t=>Math.round(t*1e5)/1e5,X0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function z3(t){return t==null}const q3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,W0=(t,e)=>n=>!!(typeof n=="string"&&q3.test(n)&&n.startsWith(t)||e&&!z3(n)&&Object.prototype.hasOwnProperty.call(n,e)),eR=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(X0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},F3=t=>Oi(0,255,t),fg={...vl,transform:t=>Math.round(F3(t))},wa={test:W0("rgb","red"),parse:eR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+fg.transform(t)+", "+fg.transform(e)+", "+fg.transform(n)+", "+Gu(cc.transform(i))+")"};function H3(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const ly={test:W0("#"),parse:H3,transform:wa.transform},kc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pr=kc("deg"),Xs=kc("%"),De=kc("px"),G3=kc("vh"),K3=kc("vw"),EE={...Xs,parse:t=>Xs.parse(t)/100,transform:t=>Xs.transform(t*100)},Bo={test:W0("hsl","hue"),parse:eR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Xs.transform(Gu(e))+", "+Xs.transform(Gu(n))+", "+Gu(cc.transform(i))+")"},jt={test:t=>wa.test(t)||ly.test(t)||Bo.test(t),parse:t=>wa.test(t)?wa.parse(t):Bo.test(t)?Bo.parse(t):ly.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wa.transform(t):Bo.transform(t),getAnimatableNone:t=>{const e=jt.parse(t);return e.alpha=0,jt.transform(e)}},$3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Y3(t){return isNaN(t)&&typeof t=="string"&&(t.match(X0)?.length||0)+(t.match($3)?.length||0)>0}const tR="number",nR="color",Q3="var",X3="var(",wE="${}",W3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(W3,m=>(jt.test(m)?(i.color.push(l),a.push(nR),n.push(jt.parse(m))):m.startsWith(X3)?(i.var.push(l),a.push(Q3),n.push(m)):(i.number.push(l),a.push(tR),n.push(parseFloat(m))),++l,wE)).split(wE);return{values:n,split:d,indexes:i,types:a}}function sR(t){return hc(t).values}function iR(t){const{split:e,types:n}=hc(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===tR?l+=Gu(a[c]):d===nR?l+=jt.transform(a[c]):l+=a[c]}return l}}const Z3=t=>typeof t=="number"?0:jt.test(t)?jt.getAnimatableNone(t):t;function J3(t){const e=sR(t);return iR(t)(e.map(Z3))}const Pr={test:Y3,parse:sR,createTransformer:iR,getAnimatableNone:J3};function dg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ej({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=dg(m,d,t+1/3),l=dg(m,d,t),c=dg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function hd(t,e){return n=>n>0?e:t}const yt=(t,e,n)=>t+(e-t)*n,mg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},tj=[ly,wa,Bo],nj=t=>tj.find(e=>e.test(t));function SE(t){const e=nj(t);if(!e)return!1;let n=e.parse(t);return e===Bo&&(n=ej(n)),n}const AE=(t,e)=>{const n=SE(t),i=SE(e);if(!n||!i)return hd(t,e);const a={...n};return l=>(a.red=mg(n.red,i.red,l),a.green=mg(n.green,i.green,l),a.blue=mg(n.blue,i.blue,l),a.alpha=yt(n.alpha,i.alpha,l),wa.transform(a))},uy=new Set(["none","hidden"]);function sj(t,e){return uy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ij(t,e){return n=>yt(t,e,n)}function Z0(t){return typeof t=="number"?ij:typeof t=="string"?Q0(t)?hd:jt.test(t)?AE:oj:Array.isArray(t)?rR:typeof t=="object"?jt.test(t)?AE:rj:hd}function rR(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>Z0(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function rj(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Z0(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function aj(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],d=t.values[c]??0;n[a]=d,i[l]++}return n}const oj=(t,e)=>{const n=Pr.createTransformer(e),i=hc(t),a=hc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?uy.has(t)&&!a.values.length||uy.has(e)&&!i.values.length?sj(t,e):Vc(rR(aj(i,a),a.values),n):hd(t,e)};function aR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?yt(t,e,n):Z0(t)(t,e)}const lj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>mt.update(e,n),stop:()=>Vr(e),now:()=>on.isProcessing?on.timestamp:In.now()}},oR=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},fd=2e4;function J0(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<fd;)e+=n,i=t.next(e);return e>=fd?1/0:e}function uj(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(J0(i),fd);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Qs(a)}}const cj=5;function lR(t,e,n){const i=Math.max(e-cj,0);return zA(n-t(i),e-i)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pg=.001;function hj({duration:t=Et.duration,bounce:e=Et.bounce,velocity:n=Et.velocity,mass:i=Et.mass}){let a,l,c=1-e;c=Oi(Et.minDamping,Et.maxDamping,c),t=Oi(Et.minDuration,Et.maxDuration,Qs(t)),c<1?(a=p=>{const y=p*c,T=y*t,x=y-n,C=cy(p,c),k=Math.exp(-T);return pg-x/C*k},l=p=>{const T=p*c*t,x=T*n+n,C=Math.pow(c,2)*Math.pow(p,2)*t,k=Math.exp(-T),D=cy(Math.pow(p,2),c);return(-a(p)+pg>0?-1:1)*((x-C)*k)/D}):(a=p=>{const y=Math.exp(-p*t),T=(p-n)*t+1;return-pg+y*T},l=p=>{const y=Math.exp(-p*t),T=(n-p)*(t*t);return y*T});const d=5/t,m=dj(a,l,d);if(t=Ys(t),isNaN(m))return{stiffness:Et.stiffness,damping:Et.damping,duration:t};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const fj=12;function dj(t,e,n){let i=n;for(let a=1;a<fj;a++)i=i-t(i)/e(i);return i}function cy(t,e){return t*Math.sqrt(1-e*e)}const mj=["duration","bounce"],pj=["stiffness","damping","mass"];function RE(t,e){return e.some(n=>t[n]!==void 0)}function gj(t){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...t};if(!RE(t,pj)&&RE(t,mj))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Oi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Et.mass,stiffness:a,damping:l}}else{const n=hj(t);e={...e,...n,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function dd(t=Et.visualDuration,e=Et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:T,velocity:x,isResolvedFromDuration:C}=gj({...n,velocity:-Qs(n.velocity||0)}),k=x||0,D=p/(2*Math.sqrt(m*y)),j=c-l,U=Qs(Math.sqrt(m/y)),Y=Math.abs(j)<5;i||(i=Y?Et.restSpeed.granular:Et.restSpeed.default),a||(a=Y?Et.restDelta.granular:Et.restDelta.default);let K;if(D<1){const W=cy(U,D);K=ue=>{const P=Math.exp(-D*U*ue);return c-P*((k+D*U*j)/W*Math.sin(W*ue)+j*Math.cos(W*ue))}}else if(D===1)K=W=>c-Math.exp(-U*W)*(j+(k+U*j)*W);else{const W=U*Math.sqrt(D*D-1);K=ue=>{const P=Math.exp(-D*U*ue),S=Math.min(W*ue,300);return c-P*((k+D*U*j)*Math.sinh(S)+W*j*Math.cosh(S))/W}}const J={calculatedDuration:C&&T||null,next:W=>{const ue=K(W);if(C)d.done=W>=T;else{let P=W===0?k:0;D<1&&(P=W===0?Ys(k):lR(K,W,ue));const S=Math.abs(P)<=i,N=Math.abs(c-ue)<=a;d.done=S&&N}return d.value=d.done?c:ue,d},toString:()=>{const W=Math.min(J0(J),fd),ue=oR(P=>J.next(W*P).value,W,30);return W+"ms "+ue},toTransition:()=>{}};return J}dd.applyToOptions=t=>{const e=uj(t,100,dd);return t.ease=e.ease,t.duration=Ys(e.duration),t.type="keyframes",t};function hy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const T=t[0],x={done:!1,value:T},C=S=>d!==void 0&&S<d||m!==void 0&&S>m,k=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let D=n*e;const j=T+D,U=c===void 0?j:c(j);U!==j&&(D=U-T);const Y=S=>-D*Math.exp(-S/i),K=S=>U+Y(S),J=S=>{const N=Y(S),V=K(S);x.done=Math.abs(N)<=p,x.value=x.done?U:V};let W,ue;const P=S=>{C(x.value)&&(W=S,ue=dd({keyframes:[x.value,k(x.value)],velocity:lR(K,S,x.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return P(0),{calculatedDuration:null,next:S=>{let N=!1;return!ue&&W===void 0&&(N=!0,J(S),P(S)),W!==void 0&&S>=W?ue.next(S-W):(!N&&J(S),x)}}}function yj(t,e,n){const i=[],a=n||ji.mix||aR,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||os:e;d=Vc(m,d)}i.push(d)}return i}function vj(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(F0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=yj(e,i,a),m=d.length,p=y=>{if(c&&y<t[0])return e[0];let T=0;if(m>1)for(;T<t.length-2&&!(y<t[T+1]);T++);const x=uc(t[T],t[T+1],y);return d[T](x)};return n?y=>p(Oi(t[0],t[l-1],y)):p}function _j(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=uc(0,e,i);t.push(yt(n,1,a))}}function Tj(t){const e=[0];return _j(e,t.length-1),e}function bj(t,e){return t.map(n=>n*e)}function xj(t,e){return t.map(()=>e||XA).splice(0,t.length-1)}function Ku({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=V3(i)?i.map(xE):xE(i),l={done:!1,value:e[0]},c=bj(n&&n.length===e.length?n:Tj(e),t),d=vj(c,e,{ease:Array.isArray(a)?a:xj(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const Ej=t=>t!==null;function ev(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(Ej),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const wj={decay:hy,inertia:hy,tween:Ku,keyframes:Ku,spring:dd};function uR(t){typeof t.type=="string"&&(t.type=wj[t.type])}class tv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Sj=t=>t/100;class nv extends tv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==In.now()&&this.tick(In.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;uR(e);const{type:n=Ku,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const m=n||Ku;m!==Ku&&typeof d[0]!="number"&&(this.mixKeyframes=Vc(Sj,aR(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=J0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:T,repeatType:x,repeatDelay:C,type:k,onUpdate:D,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,J=i;if(T){const S=Math.min(this.currentTime,a)/d;let N=Math.floor(S),V=S%1;!V&&S>=1&&(V=1),V===1&&N--,N=Math.min(N,T+1),!!(N%2)&&(x==="reverse"?(V=1-V,C&&(V-=C/d)):x==="mirror"&&(J=c)),K=Oi(0,1,V)*d}const W=Y?{done:!1,value:y[0]}:J.next(K);l&&(W.value=l(W.value));let{done:ue}=W;!Y&&m!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return P&&k!==hy&&(W.value=ev(y,this.options,j,this.speed)),D&&D(W.value),P&&this.finish(),W}then(e,n){return this.finished.then(e,n)}get duration(){return Qs(this.calculatedDuration)}get time(){return Qs(this.currentTime)}set time(e){e=Ys(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(In.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Qs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=lj,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(In.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Aj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Sa=t=>t*180/Math.PI,fy=t=>{const e=Sa(Math.atan2(t[1],t[0]));return dy(e)},Rj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:fy,rotateZ:fy,skewX:t=>Sa(Math.atan(t[1])),skewY:t=>Sa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},dy=t=>(t=t%360,t<0&&(t+=360),t),CE=fy,NE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),IE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Cj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:NE,scaleY:IE,scale:t=>(NE(t)+IE(t))/2,rotateX:t=>dy(Sa(Math.atan2(t[6],t[5]))),rotateY:t=>dy(Sa(Math.atan2(-t[2],t[0]))),rotateZ:CE,rotate:CE,skewX:t=>Sa(Math.atan(t[4])),skewY:t=>Sa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function my(t){return t.includes("scale")?1:0}function py(t,e){if(!t||t==="none")return my(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=Cj,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Rj,a=d}if(!a)return my(e);const l=i[e],c=a[1].split(",").map(Ij);return typeof l=="function"?l(c):c[l]}const Nj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return py(n,e)};function Ij(t){return parseFloat(t.trim())}const _l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tl=new Set(_l),DE=t=>t===vl||t===De,Dj=new Set(["x","y","z"]),Mj=_l.filter(t=>!Dj.has(t));function Vj(t){const e=[];return Mj.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ca={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>py(e,"x"),y:(t,{transform:e})=>py(e,"y")};Ca.translateX=Ca.x;Ca.translateY=Ca.y;const Na=new Set;let gy=!1,yy=!1,vy=!1;function cR(){if(yy){const t=Array.from(Na).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=Vj(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}yy=!1,gy=!1,Na.forEach(t=>t.complete(vy)),Na.clear()}function hR(){Na.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yy=!0)})}function Pj(){vy=!0,hR(),cR(),vy=!1}class sv{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Na.add(this),gy||(gy=!0,mt.read(hR),mt.resolveKeyframes(cR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}Aj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Na.delete(this)}cancel(){this.state==="scheduled"&&(Na.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kj=t=>t.startsWith("--");function Oj(t,e,n){kj(e)?t.style.setProperty(e,n):t.style[e]=n}const jj=H0(()=>window.ScrollTimeline!==void 0),Lj={};function Uj(t,e){const n=H0(t);return()=>Lj[e]??n()}const fR=Uj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,ME={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lu([0,.65,.55,1]),circOut:Lu([.55,0,1,.45]),backIn:Lu([.31,.01,.66,-.59]),backOut:Lu([.33,1.53,.69,.99])};function dR(t,e){if(t)return typeof t=="function"?fR()?oR(t,e):"ease-out":WA(t)?Lu(t):Array.isArray(t)?t.map(n=>dR(n,e)||ME.easeOut):ME[t]}function Bj(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const T=dR(d,a);Array.isArray(T)&&(y.easing=T);const x={delay:i,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(y,x)}function mR(t){return typeof t=="function"&&"applyToOptions"in t}function zj({type:t,...e}){return mR(t)&&fR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class qj extends tv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,F0(typeof e.type!="string");const p=zj(e);this.animation=Bj(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=ev(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):Oj(n,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Qs(Number(e))}get time(){return Qs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ys(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&jj()?(this.animation.timeline=e,os):n(this)}}const pR={anticipate:$A,backInOut:KA,circInOut:QA};function Fj(t){return t in pR}function Hj(t){typeof t.ease=="string"&&Fj(t.ease)&&(t.ease=pR[t.ease])}const VE=10;class Gj extends qj{constructor(e){Hj(e),uR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new nv({...c,autoplay:!1}),m=Ys(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-VE).value,d.sample(m).value,VE),d.stop()}}const PE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pr.test(t)||t==="0")&&!t.startsWith("url("));function Kj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $j(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=PE(a,e),d=PE(l,e);return!c||!d?!1:Kj(t)||(n==="spring"||mR(n))&&i}function _y(t){t.duration=0,t.type}const Yj=new Set(["opacity","clipPath","filter","transform"]),Qj=H0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Xj(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return Qj()&&n&&Yj.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const Wj=40;class Zj extends tv{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=In.now();const x={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,...T},C=y?.KeyframeResolver||sv;this.keyframeResolver=new C(d,(k,D,j)=>this.onKeyframesResolved(k,D,x,!j),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=i;this.resolvedAt=In.now(),$j(e,l,c,d)||((ji.instantAnimations||!m)&&y?.(ev(e,i,n)),e[0]=e[e.length-1],_y(i),i.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Wj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},C=!p&&Xj(x)?new Gj({...x,element:x.motionValue.owner.current}):new nv(x);C.finished.then(()=>this.notifyFinished()).catch(os),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Pj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Jj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eL(t){const e=Jj.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function gR(t,e,n=1){const[i,a]=eL(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return LA(c)?parseFloat(c):c}return Q0(a)?gR(a,e,n+1):a}function iv(t,e){return t?.[e]??t?.default??t}const yR=new Set(["width","height","top","left","right","bottom",..._l]),tL={test:t=>t==="auto",parse:t=>t},vR=t=>e=>e.test(t),_R=[vl,De,Xs,pr,K3,G3,tL],kE=t=>_R.find(vR(t));function nL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||BA(t):!0}const sL=new Set(["brightness","contrast","saturate","opacity"]);function iL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(X0)||[];if(!i)return t;const a=n.replace(i,"");let l=sL.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const rL=/\b([a-z-]*)\(.*?\)/gu,Ty={...Pr,getAnimatableNone:t=>{const e=t.match(rL);return e?e.map(iL).join(" "):t}},OE={...vl,transform:Math.round},aL={rotate:pr,rotateX:pr,rotateY:pr,rotateZ:pr,scale:yf,scaleX:yf,scaleY:yf,scaleZ:yf,skew:pr,skewX:pr,skewY:pr,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:cc,originX:EE,originY:EE,originZ:De},rv={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...aL,zIndex:OE,fillOpacity:cc,strokeOpacity:cc,numOctaves:OE},oL={...rv,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:Ty,WebkitFilter:Ty},TR=t=>oL[t];function bR(t,e){let n=TR(t);return n!==Ty&&(n=Pr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const lL=new Set(["auto","none","0"]);function uL(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!lL.has(l)&&hc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=bR(n,a)}class cL extends sv{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),Q0(p))){const y=gR(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!yR.has(i)||e.length!==2)return;const[a,l]=e,c=kE(a),d=kE(l);if(c!==d)if(DE(c)&&DE(d))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Ca[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||nL(e[a]))&&i.push(a);i.length&&uL(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ca[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Ca[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function hL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const xR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function fL(t){return UA(t)&&"offsetHeight"in t}const jE=30,dL=t=>!isNaN(parseFloat(t));class mL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=In.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=In.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new G0);const i=this.events[e].add(n);return e==="change"?()=>{i(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=In.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jE);return zA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function il(t,e){return new mL(t,e)}const{schedule:av}=ZA(queueMicrotask,!1),ms={x:!1,y:!1};function ER(){return ms.x||ms.y}function pL(t){return t==="x"||t==="y"?ms[t]?null:(ms[t]=!0,()=>{ms[t]=!1}):ms.x||ms.y?null:(ms.x=ms.y=!0,()=>{ms.x=ms.y=!1})}function wR(t,e){const n=hL(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function LE(t){return!(t.pointerType==="touch"||ER())}function gL(t,e,n={}){const[i,a,l]=wR(t,n),c=d=>{if(!LE(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const y=T=>{LE(T)&&(p(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return i.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const SR=(t,e)=>e?t===e?!0:SR(t,e.parentElement):!1,ov=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,yL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vL(t){return yL.has(t.tagName)||t.tabIndex!==-1}const Uf=new WeakSet;function UE(t){return e=>{e.key==="Enter"&&t(e)}}function gg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _L=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=UE(()=>{if(Uf.has(n))return;gg(n,"down");const a=UE(()=>{gg(n,"up")}),l=()=>gg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function BE(t){return ov(t)&&!ER()}function TL(t,e,n={}){const[i,a,l]=wR(t,n),c=d=>{const m=d.currentTarget;if(!BE(d))return;Uf.add(m);const p=e(m,d),y=(C,k)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",x),Uf.has(m)&&Uf.delete(m),BE(C)&&typeof p=="function"&&p(C,{success:k})},T=C=>{y(C,m===window||m===document||n.useGlobalTarget||SR(m,C.target))},x=C=>{y(C,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",x,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),fL(d)&&(d.addEventListener("focus",p=>_L(p,a)),!vL(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function AR(t){return UA(t)&&"ownerSVGElement"in t}function bL(t){return AR(t)&&t.tagName==="svg"}const yn=t=>!!(t&&t.getVelocity),xL=[..._R,jt,Pr],EL=t=>xL.find(vR(t)),RR=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function wL(t=!0){const e=I.useContext(B0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const c=I.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const CR=I.createContext({strict:!1}),zE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rl={};for(const t in zE)rl[t]={isEnabled:e=>zE[t].some(n=>!!e[n])};function SL(t){for(const e in t)rl[e]={...rl[e],...t[e]}}const AL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function md(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||AL.has(t)}let NR=t=>!md(t);function RL(t){typeof t=="function"&&(NR=e=>e.startsWith("on")?!md(e):t(e))}try{RL(require("@emotion/is-prop-valid").default)}catch{}function CL(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(NR(a)||n===!0&&md(a)||!e&&!md(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const zd=I.createContext({});function qd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function fc(t){return typeof t=="string"||Array.isArray(t)}const lv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uv=["initial",...lv];function Fd(t){return qd(t.animate)||uv.some(e=>fc(t[e]))}function IR(t){return!!(Fd(t)||t.variants)}function NL(t,e){if(Fd(t)){const{initial:n,animate:i}=t;return{initial:n===!1||fc(n)?n:void 0,animate:fc(i)?i:void 0}}return t.inherit!==!1?e:{}}function IL(t){const{initial:e,animate:n}=NL(t,I.useContext(zd));return I.useMemo(()=>({initial:e,animate:n}),[qE(e),qE(n)])}function qE(t){return Array.isArray(t)?t.join(" "):t}const dc={};function DL(t){for(const e in t)dc[e]=t[e],Y0(e)&&(dc[e].isCSSVariable=!0)}function DR(t,{layout:e,layoutId:n}){return Tl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dc[t]||t==="opacity")}const ML={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VL=_l.length;function PL(t,e,n){let i="",a=!0;for(let l=0;l<VL;l++){const c=_l[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=xR(d,rv[c]);if(!m){a=!1;const y=ML[c]||c;i+=`${y}(${p}) `}n&&(e[c]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function cv(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const p=e[m];if(Tl.has(m)){c=!0;continue}else if(Y0(m)){a[m]=p;continue}else{const y=xR(p,rv[m]);m.startsWith("origin")?(d=!0,l[m]=y):i[m]=y}}if(e.transform||(c||n?i.transform=PL(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${p} ${y}`}}const hv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MR(t,e,n){for(const i in e)!yn(e[i])&&!DR(i,n)&&(t[i]=e[i])}function kL({transformTemplate:t},e){return I.useMemo(()=>{const n=hv();return cv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function OL(t,e){const n=t.style||{},i={};return MR(i,n,t),Object.assign(i,kL(t,e)),i}function jL(t,e){const n={},i=OL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const LL={offset:"stroke-dashoffset",array:"stroke-dasharray"},UL={offset:"strokeDashoffset",array:"strokeDasharray"};function BL(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?LL:UL;t[l.offset]=De.transform(-i);const c=De.transform(e),d=De.transform(n);t[l.array]=`${c} ${d}`}function VR(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if(cv(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:x}=t;T.transform&&(x.transform=T.transform,delete T.transform),(x.transform||T.transformOrigin)&&(x.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),i!==void 0&&(T.scale=i),a!==void 0&&BL(T,a,l,c,!1)}const PR=()=>({...hv(),attrs:{}}),kR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zL(t,e,n,i){const a=I.useMemo(()=>{const l=PR();return VR(l,e,kR(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};MR(l,t.style,t),a.style={...l,...a.style}}return a}const qL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fv(t){return typeof t!="string"||t.includes("-")?!1:!!(qL.indexOf(t)>-1||/[A-Z]/u.test(t))}function FL(t,e,n,{latestValues:i},a,l=!1){const d=(fv(t)?zL:jL)(e,i,a,t),m=CL(e,typeof t=="string",l),p=t!==I.Fragment?{...m,...d,ref:n}:{},{children:y}=e,T=I.useMemo(()=>yn(y)?y.get():y,[y]);return I.createElement(t,{...p,children:T})}function FE(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function dv(t,e,n,i){if(typeof e=="function"){const[a,l]=FE(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=FE(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Bf(t){return yn(t)?t.get():t}function HL({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:GL(n,i,a,t),renderState:e()}}function GL(t,e,n,i){const a={},l=i(t,{});for(const x in l)a[x]=Bf(l[x]);let{initial:c,animate:d}=t;const m=Fd(t),p=IR(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?d:c;if(T&&typeof T!="boolean"&&!qd(T)){const x=Array.isArray(T)?T:[T];for(let C=0;C<x.length;C++){const k=dv(t,x[C]);if(k){const{transitionEnd:D,transition:j,...U}=k;for(const Y in U){let K=U[Y];if(Array.isArray(K)){const J=y?K.length-1:0;K=K[J]}K!==null&&(a[Y]=K)}for(const Y in D)a[Y]=D[Y]}}}return a}const OR=t=>(e,n)=>{const i=I.useContext(zd),a=I.useContext(B0),l=()=>HL(t,e,i,a);return n?l():S3(l)};function mv(t,e,n){const{style:i}=t,a={};for(const l in i)(yn(i[l])||e.style&&yn(e.style[l])||DR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const KL=OR({scrapeMotionValuesFromProps:mv,createRenderState:hv});function jR(t,e,n){const i=mv(t,e,n);for(const a in t)if(yn(t[a])||yn(e[a])){const l=_l.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const $L=OR({scrapeMotionValuesFromProps:jR,createRenderState:PR}),YL=Symbol.for("motionComponentSymbol");function zo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QL(t,e,n){return I.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):zo(n)&&(n.current=i))},[e])}const pv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XL="framerAppearId",LR="data-"+pv(XL),UR=I.createContext({});function WL(t,e,n,i,a){const{visualElement:l}=I.useContext(zd),c=I.useContext(CR),d=I.useContext(B0),m=I.useContext(RR).reducedMotion,p=I.useRef(null);i=i||c.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,T=I.useContext(UR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&ZL(p.current,n,a,T);const x=I.useRef(!1);I.useInsertionEffect(()=>{y&&x.current&&y.update(n,d)});const C=n[LR],k=I.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return A3(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),k.current&&y.animationState&&y.animationState.animateChanges())}),I.useEffect(()=>{y&&(!k.current&&y.animationState&&y.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),k.current=!1),y.enteringChildren=void 0)}),y}function ZL(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&zo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:p})}function BR(t){if(t)return t.options.allowProjection!==!1?t.projection:BR(t.parent)}function yg(t,{forwardMotionProps:e=!1}={},n,i){n&&SL(n);const a=fv(t)?$L:KL;function l(d,m){let p;const y={...I.useContext(RR),...d,layoutId:JL(d)},{isStatic:T}=y,x=IL(d),C=a(d,T);if(!T&&U0){e6();const k=t6(y);p=k.MeasureLayout,x.visualElement=WL(t,C,y,i,k.ProjectionNode)}return v.jsxs(zd.Provider,{value:x,children:[p&&x.visualElement?v.jsx(p,{visualElement:x.visualElement,...y}):null,FL(t,d,QL(C,x.visualElement,m),C,T,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=I.forwardRef(l);return c[YL]=t,c}function JL({layoutId:t}){const e=I.useContext(jA).id;return e&&t!==void 0?e+"-"+t:t}function e6(t,e){I.useContext(CR).strict}function t6(t){const{drag:e,layout:n}=rl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function n6(t,e){if(typeof Proxy>"u")return yg;const n=new Map,i=(l,c)=>yg(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,yg(c,void 0,t,e)),n.get(c))})}function zR({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function s6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function i6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function vg(t){return t===void 0||t===1}function by({scale:t,scaleX:e,scaleY:n}){return!vg(t)||!vg(e)||!vg(n)}function xa(t){return by(t)||qR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function qR(t){return HE(t.x)||HE(t.y)}function HE(t){return t&&t!=="0%"}function pd(t,e,n){const i=t-n,a=e*i;return n+a}function GE(t,e,n,i,a){return a!==void 0&&(t=pd(t,a,i)),pd(t,n,i)+e}function xy(t,e=0,n=1,i,a){t.min=GE(t.min,e,n,i,a),t.max=GE(t.max,e,n,i,a)}function FR(t,{x:e,y:n}){xy(t.x,e.translate,e.scale,e.originPoint),xy(t.y,n.translate,n.scale,n.originPoint)}const KE=.999999999999,$E=1.0000000000001;function r6(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Fo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,FR(t,c)),i&&xa(l.latestValues)&&Fo(t,l.latestValues))}e.x<$E&&e.x>KE&&(e.x=1),e.y<$E&&e.y>KE&&(e.y=1)}function qo(t,e){t.min=t.min+e,t.max=t.max+e}function YE(t,e,n,i,a=.5){const l=yt(t.min,t.max,a);xy(t,e,n,l,i)}function Fo(t,e){YE(t.x,e.x,e.scaleX,e.scale,e.originX),YE(t.y,e.y,e.scaleY,e.scale,e.originY)}function HR(t,e){return zR(i6(t.getBoundingClientRect(),e))}function a6(t,e,n){const i=HR(t,n),{scroll:a}=e;return a&&(qo(i.x,a.offset.x),qo(i.y,a.offset.y)),i}const QE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:QE(),y:QE()}),XE=()=>({min:0,max:0}),Rt=()=>({x:XE(),y:XE()}),Ey={current:null},GR={current:!1};function o6(){if(GR.current=!0,!!U0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ey.current=t.matches;t.addEventListener("change",e),e()}else Ey.current=!1}const l6=new WeakMap;function u6(t,e,n){for(const i in e){const a=e[i],l=n[i];if(yn(a))t.addValue(i,a);else if(yn(l))t.addValue(i,il(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,il(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const WE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class c6{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=In.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,mt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Fd(n),this.isVariantNode=IR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in T){const C=T[x];m[x]!==void 0&&yn(C)&&C.set(m[x])}}mount(e){this.current=e,l6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),GR.current||o6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ey.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vr(this.notifyUpdate),Vr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Tl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&mt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rl){const n=rl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<WE.length;i++){const a=WE[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=u6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=il(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(LA(i)||BA(i))?i=parseFloat(i):!EL(i)&&Pr.test(n)&&(i=bR(e,n)),this.setBaseTarget(e,yn(i)?i.get():i)),yn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=dv(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!yn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new G0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){av.render(this.render)}}class KR extends c6{constructor(){super(...arguments),this.KeyframeResolver=cL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $R(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function h6(t){return window.getComputedStyle(t)}class f6 extends KR{constructor(){super(...arguments),this.type="html",this.renderInstance=$R}readValueFromInstance(e,n){if(Tl.has(n))return this.projection?.isProjecting?my(n):Nj(e,n);{const i=h6(e),a=(Y0(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return HR(e,n)}build(e,n,i){cv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return mv(e,n,i)}}const YR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function d6(t,e,n,i){$R(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(YR.has(a)?a:pv(a),e.attrs[a])}class m6 extends KR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Tl.has(n)){const i=TR(n);return i&&i.default||0}return n=YR.has(n)?n:pv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return jR(e,n,i)}build(e,n,i){VR(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){d6(e,n,i,a)}mount(e){this.isSVGTag=kR(e.tagName),super.mount(e)}}const p6=(t,e)=>fv(t)?new m6(e):new f6(e,{allowProjection:t!==I.Fragment});function Wo(t,e,n){const i=t.getProps();return dv(i,e,n!==void 0?n:i.custom,t)}const wy=t=>Array.isArray(t);function g6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,il(n))}function y6(t){return wy(t)?t[t.length-1]||0:t}function v6(t,e){const n=Wo(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const d=y6(l[c]);g6(t,c,d)}}function _6(t){return!!(yn(t)&&t.add)}function Sy(t,e){const n=t.getValue("willChange");if(_6(n))return n.add(e);if(!n&&ji.WillChange){const i=new ji.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function QR(t){return t.props[LR]}const T6=t=>t!==null;function b6(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(T6),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const x6={type:"spring",stiffness:500,damping:25,restSpeed:10},E6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),w6={type:"keyframes",duration:.8},S6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},A6=(t,{keyframes:e})=>e.length>2?w6:Tl.has(t)?t.startsWith("scale")?E6(e[1]):x6:S6;function R6({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const gv=(t,e,n,i={},a,l)=>c=>{const d=iv(i,t)||{},m=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ys(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};R6(d)||Object.assign(y,A6(t,y)),y.duration&&(y.duration=Ys(y.duration)),y.repeatDelay&&(y.repeatDelay=Ys(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(_y(y),y.delay===0&&(T=!0)),(ji.instantAnimations||ji.skipAnimations)&&(T=!0,_y(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,T&&!l&&e.get()!==void 0){const x=b6(y.keyframes,d);if(x!==void 0){mt.update(()=>{y.onUpdate(x),y.onComplete()});return}}return d.isSync?new nv(y):new Zj(y)};function C6({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function XR(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const T=t.getValue(y,t.latestValues[y]??null),x=d[y];if(x===void 0||p&&C6(p,y))continue;const C={delay:n,...iv(l||{},y)},k=T.get();if(k!==void 0&&!T.isAnimating&&!Array.isArray(x)&&x===k&&!C.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const U=QR(t);if(U){const Y=window.MotionHandoffAnimation(U,y,mt);Y!==null&&(C.startTime=Y,D=!0)}}Sy(t,y),T.start(gv(y,T,x,t.shouldReduceMotion&&yR.has(y)?{type:!1}:C,t,D));const j=T.animation;j&&m.push(j)}return c&&Promise.all(m).then(()=>{mt.update(()=>{c&&v6(t,c)})}),m}function WR(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:d-l*i}function Ay(t,e,n={}){const i=Wo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(XR(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:T}=a;return N6(t,e,m,p,y,T,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function N6(t,e,n=0,i=0,a=0,l=1,c){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Ay(m,e,{...c,delay:n+(typeof i=="function"?0:i)+WR(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function I6(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Ay(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Ay(t,e,n);else{const a=typeof e=="function"?Wo(t,e,n.custom):e;i=Promise.all(XR(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function ZR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const D6=uv.length;function JR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?JR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<D6;n++){const i=uv[n],a=t.props[i];(fc(a)||a===!1)&&(e[i]=a)}return e}const M6=[...lv].reverse(),V6=lv.length;function P6(t){return e=>Promise.all(e.map(({animation:n,options:i})=>I6(t,n,i)))}function k6(t){let e=P6(t),n=ZE(),i=!0;const a=m=>(p,y)=>{const T=Wo(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:x,transitionEnd:C,...k}=T;p={...p,...k,...C}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=JR(t.parent)||{},T=[],x=new Set;let C={},k=1/0;for(let j=0;j<V6;j++){const U=M6[j],Y=n[U],K=p[U]!==void 0?p[U]:y[U],J=fc(K),W=U===m?Y.isActive:null;W===!1&&(k=j);let ue=K===y[U]&&K!==p[U]&&J;if(ue&&i&&t.manuallyAnimateOnMount&&(ue=!1),Y.protectedKeys={...C},!Y.isActive&&W===null||!K&&!Y.prevProp||qd(K)||typeof K=="boolean")continue;const P=O6(Y.prevProp,K);let S=P||U===m&&Y.isActive&&!ue&&J||j>k&&J,N=!1;const V=Array.isArray(K)?K:[K];let L=V.reduce(a(U),{});W===!1&&(L={});const{prevResolvedValues:B={}}=Y,R={...B,...L},fe=Z=>{S=!0,x.has(Z)&&(N=!0,x.delete(Z)),Y.needsAnimating[Z]=!0;const ce=t.getValue(Z);ce&&(ce.liveStyle=!1)};for(const Z in R){const ce=L[Z],pe=B[Z];if(C.hasOwnProperty(Z))continue;let M=!1;wy(ce)&&wy(pe)?M=!ZR(ce,pe):M=ce!==pe,M?ce!=null?fe(Z):x.add(Z):ce!==void 0&&x.has(Z)?fe(Z):Y.protectedKeys[Z]=!0}Y.prevProp=K,Y.prevResolvedValues=L,Y.isActive&&(C={...C,...L}),i&&t.blockInitialAnimation&&(S=!1);const ye=ue&&P;S&&(!ye||N)&&T.push(...V.map(Z=>{const ce={type:U};if(typeof Z=="string"&&i&&!ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:pe}=t,M=Wo(pe,Z);if(pe.enteringChildren&&M){const{delayChildren:te}=M.transition||{};ce.delay=WR(pe.enteringChildren,t,te)}}return{animation:Z,options:ce}}))}if(x.size){const j={};if(typeof p.initial!="boolean"){const U=Wo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(j.transition=U.transition)}x.forEach(U=>{const Y=t.getBaseTarget(U),K=t.getValue(U);K&&(K.liveStyle=!0),j[U]=Y??null}),T.push({animation:j})}let D=!!T.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),i=!1,D?e(T):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ZE(),i=!0}}}function O6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ZR(e,t):!1}function Ta(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZE(){return{animate:Ta(!0),whileInView:Ta(),whileHover:Ta(),whileTap:Ta(),whileDrag:Ta(),whileFocus:Ta(),exit:Ta()}}class Ur{constructor(e){this.isMounted=!1,this.node=e}update(){}}class j6 extends Ur{constructor(e){super(e),e.animationState||(e.animationState=k6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let L6=0;class U6 extends Ur{constructor(){super(...arguments),this.id=L6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const B6={animation:{Feature:j6},exit:{Feature:U6}};function mc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Oc(t){return{point:{x:t.pageX,y:t.pageY}}}const z6=t=>e=>ov(e)&&t(e,Oc(e));function $u(t,e,n,i){return mc(t,e,z6(n),i)}const eC=1e-4,q6=1-eC,F6=1+eC,tC=.01,H6=0-tC,G6=0+tC;function En(t){return t.max-t.min}function K6(t,e,n){return Math.abs(t-e)<=n}function JE(t,e,n,i=.5){t.origin=i,t.originPoint=yt(e.min,e.max,t.origin),t.scale=En(n)/En(e),t.translate=yt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=q6&&t.scale<=F6||isNaN(t.scale))&&(t.scale=1),(t.translate>=H6&&t.translate<=G6||isNaN(t.translate))&&(t.translate=0)}function Yu(t,e,n,i){JE(t.x,e.x,n.x,i?i.originX:void 0),JE(t.y,e.y,n.y,i?i.originY:void 0)}function e1(t,e,n){t.min=n.min+e.min,t.max=t.min+En(e)}function $6(t,e,n){e1(t.x,e.x,n.x),e1(t.y,e.y,n.y)}function t1(t,e,n){t.min=e.min-n.min,t.max=t.min+En(e)}function Qu(t,e,n){t1(t.x,e.x,n.x),t1(t.y,e.y,n.y)}function is(t){return[t("x"),t("y")]}const nC=({current:t})=>t?t.ownerDocument.defaultView:null,n1=(t,e)=>Math.abs(t-e);function Y6(t,e){const n=n1(t.x,e.x),i=n1(t.y,e.y);return Math.sqrt(n**2+i**2)}class sC{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Tg(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,k=Y6(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!k)return;const{point:D}=x,{timestamp:j}=on;this.history.push({...D,timestamp:j});const{onStart:U,onMove:Y}=this.handlers;C||(U&&U(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,x)},this.handlePointerMove=(x,C)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=_g(C,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(x,C)=>{this.end();const{onEnd:k,onSessionEnd:D,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=Tg(x.type==="pointercancel"?this.lastMoveEventInfo:_g(C,this.transformPagePoint),this.history);this.startEvent&&k&&k(x,U),D&&D(x,U)},!ov(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const d=Oc(e),m=_g(d,this.transformPagePoint),{point:p}=m,{timestamp:y}=on;this.history=[{...p,timestamp:y}];const{onSessionStart:T}=n;T&&T(e,Tg(m,this.history)),this.removeListeners=Vc($u(this.contextWindow,"pointermove",this.handlePointerMove),$u(this.contextWindow,"pointerup",this.handlePointerUp),$u(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vr(this.updatePoint)}}function _g(t,e){return e?{point:e(t.point)}:t}function s1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tg({point:t},e){return{point:t,delta:s1(t,iC(e)),offset:s1(t,Q6(e)),velocity:X6(e,.1)}}function Q6(t){return t[0]}function iC(t){return t[t.length-1]}function X6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=iC(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Ys(e)));)n--;if(!i)return{x:0,y:0};const l=Qs(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function W6(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?yt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?yt(n,t,i.max):Math.min(t,n)),t}function i1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Z6(t,{top:e,left:n,bottom:i,right:a}){return{x:i1(t.x,n,a),y:i1(t.y,e,i)}}function r1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function J6(t,e){return{x:r1(t.x,e.x),y:r1(t.y,e.y)}}function e5(t,e){let n=.5;const i=En(t),a=En(e);return a>i?n=uc(e.min,e.max-i,t.min):i>a&&(n=uc(t.min,t.max-a,e.min)),Oi(0,1,n)}function t5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ry=.35;function n5(t=Ry){return t===!1?t=0:t===!0&&(t=Ry),{x:a1(t,"left","right"),y:a1(t,"top","bottom")}}function a1(t,e,n){return{min:o1(t,e),max:o1(t,n)}}function o1(t,e){return typeof t=="number"?t:t[e]||0}const s5=new WeakMap;class i5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Oc(T).point)},c=(T,x)=>{const{drag:C,dragPropagation:k,onDragStart:D}=this.getProps();if(C&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pL(C),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),is(U=>{let Y=this.getAxisMotionValue(U).get()||0;if(Xs.test(Y)){const{projection:K}=this.visualElement;if(K&&K.layout){const J=K.layout.layoutBox[U];J&&(Y=En(J)*(parseFloat(Y)/100))}}this.originPoint[U]=Y}),D&&mt.postRender(()=>D(T,x)),Sy(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},d=(T,x)=>{this.latestPointerEvent=T,this.latestPanInfo=x;const{dragPropagation:C,dragDirectionLock:k,onDirectionLock:D,onDrag:j}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:U}=x;if(k&&this.currentDirection===null){this.currentDirection=r5(U),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",x.point,U),this.updateAxis("y",x.point,U),this.visualElement.render(),j&&j(T,x)},m=(T,x)=>{this.latestPointerEvent=T,this.latestPanInfo=x,this.stop(T,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>is(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new sC(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:nC(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&mt.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!vf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=W6(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&zo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Z6(i.layoutBox,e):this.constraints=!1,this.elastic=n5(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&is(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=t5(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=a6(i,a.root,this.visualElement.getTransformPagePoint());let c=J6(a.layout.layoutBox,l);if(n){const d=n(s6(c));this.hasMutatedConstraints=!!d,d&&(c=zR(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=is(y=>{if(!vf(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const x=a?200:1e6,C=a?40:1e7,k={type:"inertia",velocity:i?e[y]:0,bounceStiffness:x,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,k)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Sy(this.visualElement,e),i.start(gv(e,i,0,n,this.visualElement,!1))}stopAnimation(){is(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){is(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){is(n=>{const{drag:i}=this.getProps();if(!vf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-yt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!zo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};is(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=e5({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),is(c=>{if(!vf(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(yt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;s5.set(this.visualElement,this);const e=this.visualElement.current,n=$u(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();zo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),mt.read(i);const c=mc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(is(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ry,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function vf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function r5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class a5 extends Ur{constructor(e){super(e),this.removeGroupControls=os,this.removeListeners=os,this.controls=new i5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||os}unmount(){this.removeGroupControls(),this.removeListeners()}}const l1=t=>(e,n)=>{t&&mt.postRender(()=>t(e,n))};class o5 extends Ur{constructor(){super(...arguments),this.removePointerDownListener=os}onPointerDown(e){this.session=new sC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:l1(e),onStart:l1(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&mt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=$u(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function u1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Du={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=u1(t,e.target.x),i=u1(t,e.target.y);return`${n}% ${i}%`}},l5={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Pr.parse(t);if(a.length>5)return i;const l=Pr.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const p=yt(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let bg=!1;class u5 extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;DL(c5),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),bg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),zf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,bg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||mt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),av.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;bg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rC(t){const[e,n]=wL(),i=I.useContext(jA);return v.jsx(u5,{...t,layoutGroup:i,switchLayoutGroup:I.useContext(UR),isPresent:e,safeToRemove:n})}const c5={borderRadius:{...Du,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Du,borderTopRightRadius:Du,borderBottomLeftRadius:Du,borderBottomRightRadius:Du,boxShadow:l5};function h5(t,e,n){const i=yn(t)?t:il(t);return i.start(gv("",i,e,n)),i.animation}const f5=(t,e)=>t.depth-e.depth;class d5{constructor(){this.children=[],this.isDirty=!1}add(e){z0(this.children,e),this.isDirty=!0}remove(e){q0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(f5),this.isDirty=!1,this.children.forEach(e)}}function m5(t,e){const n=In.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Vr(i),t(l-e))};return mt.setup(i,!0),()=>Vr(i)}const aC=["TopLeft","TopRight","BottomLeft","BottomRight"],p5=aC.length,c1=t=>typeof t=="string"?parseFloat(t):t,h1=t=>typeof t=="number"||De.test(t);function g5(t,e,n,i,a,l){a?(t.opacity=yt(0,n.opacity??1,y5(i)),t.opacityExit=yt(e.opacity??1,0,v5(i))):l&&(t.opacity=yt(e.opacity??1,n.opacity??1,i));for(let c=0;c<p5;c++){const d=`border${aC[c]}Radius`;let m=f1(e,d),p=f1(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||h1(m)===h1(p)?(t[d]=Math.max(yt(c1(m),c1(p),i),0),(Xs.test(p)||Xs.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=yt(e.rotate||0,n.rotate||0,i))}function f1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const y5=oC(0,.5,YA),v5=oC(.5,.95,os);function oC(t,e,n){return i=>i<t?0:i>e?1:n(uc(t,e,i))}function d1(t,e){t.min=e.min,t.max=e.max}function ss(t,e){d1(t.x,e.x),d1(t.y,e.y)}function m1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function p1(t,e,n,i,a){return t-=e,t=pd(t,1/n,i),a!==void 0&&(t=pd(t,1/a,i)),t}function _5(t,e=0,n=1,i=.5,a,l=t,c=t){if(Xs.test(e)&&(e=parseFloat(e),e=yt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=yt(l.min,l.max,i);t===l&&(d-=e),t.min=p1(t.min,e,n,d,a),t.max=p1(t.max,e,n,d,a)}function g1(t,e,[n,i,a],l,c){_5(t,e[n],e[i],e[a],e.scale,l,c)}const T5=["x","scaleX","originX"],b5=["y","scaleY","originY"];function y1(t,e,n,i){g1(t.x,e,T5,n?n.x:void 0,i?i.x:void 0),g1(t.y,e,b5,n?n.y:void 0,i?i.y:void 0)}function v1(t){return t.translate===0&&t.scale===1}function lC(t){return v1(t.x)&&v1(t.y)}function _1(t,e){return t.min===e.min&&t.max===e.max}function x5(t,e){return _1(t.x,e.x)&&_1(t.y,e.y)}function T1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function uC(t,e){return T1(t.x,e.x)&&T1(t.y,e.y)}function b1(t){return En(t.x)/En(t.y)}function x1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class E5{constructor(){this.members=[]}add(e){z0(this.members,e),e.scheduleRender()}remove(e){if(q0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function w5(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:T,rotateY:x,skewX:C,skewY:k}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),T&&(i+=`rotateX(${T}deg) `),x&&(i+=`rotateY(${x}deg) `),C&&(i+=`skewX(${C}deg) `),k&&(i+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(i+=`scale(${d}, ${m})`),i||"none"}const xg=["","X","Y","Z"],S5=1e3;let A5=0;function Eg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function cC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=QR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&cC(i)}function hC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=A5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(N5),this.nodes.forEach(V5),this.nodes.forEach(P5),this.nodes.forEach(I5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new d5)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new G0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=AR(c)&&!bL(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let y,T=0;const x=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{T=window.innerWidth}),t(c,()=>{const C=window.innerWidth;C!==T&&(T=C,this.root.updateBlockedByResize=!0,y&&y(),y=m5(x,250),zf.hasAnimatedSinceResize&&(zf.hasAnimatedSinceResize=!1,this.nodes.forEach(S1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:x,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||U5,{onLayoutAnimationStart:D,onLayoutAnimationComplete:j}=p.getProps(),U=!this.targetLayout||!uC(this.targetLayout,C),Y=!T&&x;if(this.options.layoutRoot||this.resumeFrom||Y||T&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...iv(k,"layout"),onPlay:D,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,Y)}else T||S1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(w1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(M5),this.nodes.forEach(R5),this.nodes.forEach(C5)):this.nodes.forEach(w1),this.clearAllSnapshots();const d=In.now();on.delta=Oi(0,1e3/60,d-on.timestamp),on.timestamp=d,on.isProcessing=!0,hg.update.process(on),hg.preRender.process(on),hg.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,av.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D5),this.sharedNodes.forEach(O5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!lC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||xa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),B5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Rt();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(z5))){const{scroll:p}=this.root;p&&(qo(d.x,p.offset.x),qo(d.y,p.offset.y))}return d}removeElementScroll(c){const d=Rt();if(ss(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:T}=p;p!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&ss(d,c),qo(d.x,y.offset.x),qo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=Rt();ss(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Fo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),xa(y.latestValues)&&Fo(m,y.latestValues)}return xa(this.latestValues)&&Fo(m,this.latestValues),m}removeTransform(c){const d=Rt();ss(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!xa(p.latestValues))continue;by(p.latestValues)&&p.updateSnapshot();const y=Rt(),T=p.measurePageBox();ss(y,T),y1(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return xa(this.latestValues)&&y1(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=on.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Qu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ss(this.target,this.layout.layoutBox),FR(this.target,this.targetDelta)):ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Qu(this.relativeTargetOrigin,this.target,x.target),ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||by(this.parent.latestValues)||qR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===on.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ss(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,x=this.treeScale.y;r6(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Rt());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m1(this.prevProjectionDelta.x,this.projectionDelta.x),m1(this.prevProjectionDelta.y,this.projectionDelta.y)),Yu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==x||!x1(this.projectionDelta.x,this.prevProjectionDelta.x)||!x1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},T=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=Rt(),C=m?m.source:void 0,k=this.layout?this.layout.source:void 0,D=C!==k,j=this.getStack(),U=!j||j.members.length<=1,Y=!!(D&&!U&&this.options.crossfade===!0&&!this.path.some(L5));this.animationProgress=0;let K;this.mixTargetDelta=J=>{const W=J/1e3;A1(T.x,c.x,W),A1(T.y,c.y,W),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j5(this.relativeTarget,this.relativeTargetOrigin,x,W),K&&x5(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=Rt()),ss(K,this.relativeTarget)),D&&(this.animationValues=y,g5(y,p,this.latestValues,W,Y,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{zf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=il(0)),this.currentAnimation=h5(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&fC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Rt();const T=En(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const x=En(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+x}ss(d,m),Fo(d,y),Yu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new E5),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Eg("z",c,p,this.animationValues);for(let y=0;y<xg.length;y++)Eg(`rotate${xg[y]}`,c,p,this.animationValues),Eg(`skew${xg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Bf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Bf(d?.pointerEvents)||""),this.hasProjected&&!xa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=w5(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x,y:C}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const k in dc){if(y[k]===void 0)continue;const{correct:D,applyTo:j,isCSSVariable:U}=dc[k],Y=T==="none"?y[k]:D(y[k],p);if(j){const K=j.length;for(let J=0;J<K;J++)c[j[J]]=Y}else U?this.options.visualElement.renderState.vars[k]=Y:c[k]=Y}this.options.layoutId&&(c.pointerEvents=p===this?Bf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(E1),this.root.sharedNodes.clear()}}}function R5(t){t.updateLayout()}function C5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?is(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],x=En(T);T.min=n[y].min,T.max=T.min+x}):fC(a,e.layoutBox,n)&&is(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],x=En(n[y]);T.max=T.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+x)});const c=Ho();Yu(c,n,e.layoutBox);const d=Ho();l?Yu(d,t.applyTransform(i,!0),e.measuredBox):Yu(d,n,e.layoutBox);const m=!lC(c);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:x}=y;if(T&&x){const C=Rt();Qu(C,e.layoutBox,T.layoutBox);const k=Rt();Qu(k,n,x.layoutBox),uC(C,k)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function N5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function I5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function D5(t){t.clearSnapshot()}function E1(t){t.clearMeasurements()}function w1(t){t.isLayoutDirty=!1}function M5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function S1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function V5(t){t.resolveTargetDelta()}function P5(t){t.calcProjection()}function k5(t){t.resetSkewAndRotation()}function O5(t){t.removeLeadSnapshot()}function A1(t,e,n){t.translate=yt(e.translate,0,n),t.scale=yt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function R1(t,e,n,i){t.min=yt(e.min,n.min,i),t.max=yt(e.max,n.max,i)}function j5(t,e,n,i){R1(t.x,e.x,n.x,i),R1(t.y,e.y,n.y,i)}function L5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const U5={duration:.45,ease:[.4,0,.1,1]},C1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),N1=C1("applewebkit/")&&!C1("chrome/")?Math.round:os;function I1(t){t.min=N1(t.min),t.max=N1(t.max)}function B5(t){I1(t.x),I1(t.y)}function fC(t,e,n){return t==="position"||t==="preserve-aspect"&&!K6(b1(e),b1(n),.2)}function z5(t){return t!==t.root&&t.scroll?.wasRoot}const q5=hC({attachResizeListener:(t,e)=>mc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wg={current:void 0},dC=hC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wg.current){const t=new q5({});t.mount(window),t.setOptions({layoutScroll:!0}),wg.current=t}return wg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),F5={pan:{Feature:o5},drag:{Feature:a5,ProjectionNode:dC,MeasureLayout:rC}};function D1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&mt.postRender(()=>l(e,Oc(e)))}class H5 extends Ur{mount(){const{current:e}=this.node;e&&(this.unmount=gL(e,(n,i)=>(D1(this.node,i,"Start"),a=>D1(this.node,a,"End"))))}unmount(){}}class G5 extends Ur{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vc(mc(this.node.current,"focus",()=>this.onFocus()),mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function M1(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&mt.postRender(()=>l(e,Oc(e)))}class K5 extends Ur{mount(){const{current:e}=this.node;e&&(this.unmount=TL(e,(n,i)=>(M1(this.node,i,"Start"),(a,{success:l})=>M1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cy=new WeakMap,Sg=new WeakMap,$5=t=>{const e=Cy.get(t.target);e&&e(t)},Y5=t=>{t.forEach($5)};function Q5({root:t,...e}){const n=t||document;Sg.has(n)||Sg.set(n,{});const i=Sg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(Y5,{root:t,...e})),i[a]}function X5(t,e,n){const i=Q5(e);return Cy.set(t,n),i.observe(t),()=>{Cy.delete(t),i.unobserve(t)}}const W5={some:0,all:1};class Z5 extends Ur{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:W5[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),x=p?y:T;x&&x(m)};return X5(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(J5(e,n))&&this.startObserver()}unmount(){}}function J5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const e9={inView:{Feature:Z5},tap:{Feature:K5},focus:{Feature:G5},hover:{Feature:H5}},t9={layout:{ProjectionNode:dC,MeasureLayout:rC}},n9={...B6,...e9,...F5,...t9},_s=n6(n9,p6),V1=[5,6,7,8];function s9({active:t,onSelect:e}){const n=Math.max(V1.indexOf(t),0);return v.jsx("nav",{className:"fixed bottom-6 left-1/2 z-50 w-[80%] -translate-x-1/2",children:v.jsxs("div",{className:"relative mx-auto h-16 rounded-3xl bg-neutral-900 shadow-lg px-4",children:[v.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 flex flex-col items-center",children:v.jsx("div",{className:"h-12 w-28 rounded-full bg-neutral-900 flex items-center justify-center",children:v.jsx("span",{className:"text-sm font-medium text-white",children:"Sınıf Seçimi"})})}),v.jsx(_s.div,{layoutId:"notch",className:"absolute -top-3 h-16 w-16 rounded-full bg-neutral-900",style:{left:`calc(${n*25}% + 12.5% - 2rem)`},transition:{type:"spring",stiffness:500,damping:30}}),v.jsx("ul",{className:"relative z-10 grid h-full grid-cols-4",children:V1.map(i=>v.jsx("li",{className:"flex items-center justify-center",children:v.jsx("button",{"aria-label":`${i}. sınıf`,onClick:()=>e(i),className:"relative flex h-full w-full items-center justify-center text-gray-400",children:t===i?v.jsx(_s.span,{layoutId:"pill",className:"absolute -top-4 flex h-14 w-14 items-center justify-center rounded-full bg-blue-500 text-lg font-semibold text-white shadow-xl",transition:{type:"spring",stiffness:500,damping:30},children:i}):v.jsx("span",{className:"text-lg font-medium",children:i})})},i))})]})})}function Po({size:t=24,label:e,className:n=""}){return v.jsxs("div",{className:`flex items-center gap-2 ${n}`,role:"status","aria-live":"polite",children:[v.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"animate-spin","aria-label":e||"Yükleniyor",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.25"}),v.jsx("path",{d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeLinecap:"round"})]}),e?v.jsx("span",{className:"text-sm",children:e}):null]})}const i9="admin@mail.com",r9={indigo:"bg-indigo-500/10 text-indigo-300 ring-indigo-400/20",emerald:"bg-emerald-500/10 text-emerald-300 ring-emerald-400/20",rose:"bg-rose-500/10 text-rose-300 ring-rose-400/20",slate:"bg-white/5 text-slate-200 ring-white/10"},mC={indigo:"text-indigo-300",emerald:"text-emerald-300",rose:"text-rose-300"},jc=({color:t="indigo",children:e,className:n=""})=>v.jsx("span",{className:`inline-flex m-1 h-7 w-7 items-center justify-center rounded-full ring-1 ${r9[t]} ${n}`,children:e}),P1=({icon:t,color:e="indigo",children:n})=>v.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[v.jsx(jc,{color:e,children:v.jsx(t,{className:"h-4 w-4"})}),v.jsx("h2",{className:`text-base font-semibold ${mC[e]}`,children:n})]}),qf=({className:t="",children:e})=>v.jsx("div",{className:`rounded-xl border border-white/10 bg-neutral-900 shadow-sm ${t}`,children:e}),k1=({title:t,icon:e,color:n="indigo",children:i})=>{const[a,l]=I.useState(!1),[c,d]=I.useState(0),m=I.useRef(null);return I.useEffect(()=>{const p=m.current;if(!p)return;const y=()=>d(p.scrollHeight);y();const T=new ResizeObserver(y);T.observe(p);const x=setTimeout(y,50);return()=>{T.disconnect(),clearTimeout(x)}},[i,a]),v.jsxs(qf,{children:[v.jsxs("button",{onClick:()=>l(p=>!p),"aria-expanded":a,className:"flex w-full items-center justify-between rounded-xl border-b border-white/10 px-4 py-3 text-left text-[15px] font-semibold text-slate-200 hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[v.jsxs("span",{className:"inline-flex items-center gap-2",children:[v.jsx(jc,{color:n,children:v.jsx(e,{className:"h-4 w-4"})}),t]}),v.jsx(_s.span,{animate:{rotate:a?180:0},transition:{duration:.25},className:"text-slate-400",children:"▼"})]}),v.jsx(_s.div,{initial:!1,animate:a?{maxHeight:c,opacity:1}:{maxHeight:0,opacity:0},transition:{duration:.28,ease:[.22,1,.36,1]},className:"overflow-hidden",children:v.jsx("div",{ref:m,className:"max-h-72 overflow-y-auto px-4 pb-4 pt-3",children:i})})]})},pC=({title:t,icon:e,color:n="indigo",children:i,defaultOpen:a=!1})=>{const[l,c]=I.useState(a),[d,m]=I.useState(0),p=I.useRef(null);return I.useEffect(()=>{const y=p.current;if(!y)return;const T=()=>m(y.scrollHeight);T();const x=new ResizeObserver(T);x.observe(y);const C=setTimeout(T,50);return()=>{x.disconnect(),clearTimeout(C)}},[i,l]),v.jsxs("div",{className:"rounded-lg border border-white/10 bg-neutral-900/60",children:[v.jsxs("button",{onClick:()=>c(y=>!y),"aria-expanded":l,className:"flex w-full items-center justify-between gap-2 rounded-lg px-3 py-2 text-left text-sm font-semibold text-slate-200 hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[v.jsxs("span",{className:"inline-flex items-center gap-2",children:[v.jsx(jc,{color:n,children:v.jsx(e,{className:"h-4 w-4"})}),v.jsx("span",{className:mC[n],children:t})]}),v.jsx(_s.span,{animate:{rotate:l?180:0},transition:{duration:.22},className:"text-slate-400",children:v.jsx(Bd,{className:"h-4 w-4"})})]}),v.jsx(_s.div,{initial:!1,animate:l?{maxHeight:d,opacity:1}:{maxHeight:0,opacity:0},transition:{duration:.28,ease:[.22,1,.36,1]},className:"overflow-hidden",children:v.jsx("div",{ref:p,className:"px-3 pb-3 pt-1",children:i})})]})},O1=({items:t=[]})=>t.length?v.jsx("div",{className:"space-y-2",children:t.map(e=>v.jsx(pC,{title:e.category,icon:Ud,color:"indigo",defaultOpen:!1,children:v.jsx("ul",{className:"space-y-1.5 text-sm leading-6 text-slate-300",children:e.slides.map((n,i)=>v.jsxs("li",{className:"flex items-center gap-2",children:[v.jsx(jc,{color:"indigo",className:"h-6 w-6",children:v.jsx(j0,{className:"h-3.5 w-3.5"})}),n.link?v.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline decoration-indigo-700/40 underline-offset-2 hover:text-indigo-300",children:[n.name,v.jsx(yl,{className:"h-3.5 w-3.5"})]}):n.name]},i))})},e.category))}):v.jsx("p",{className:"text-xs text-slate-400",children:"Bu sınıf için slayt yok."}),j1=({items:t=[]})=>t.length?v.jsx("div",{className:"space-y-2",children:t.map(e=>v.jsx(pC,{title:e.category,icon:L0,color:"emerald",defaultOpen:!1,children:v.jsx("ul",{className:"space-y-1.5 text-sm leading-6 text-slate-300",children:e.tests.map((n,i)=>v.jsxs("li",{className:"flex items-center gap-2",children:[v.jsx(jc,{color:"emerald",className:"h-6 w-6",children:v.jsx(Ra,{className:"h-3.5 w-3.5"})}),n.link?v.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline decoration-emerald-700/40 underline-offset-2 hover:text-emerald-300",children:[n.name,v.jsx(yl,{className:"h-3.5 w-3.5"})]}):n.name]},i))})},e.category))}):v.jsx("p",{className:"text-xs text-slate-400",children:"Bu sınıf için test yok."}),a9=new Intl.Collator("tr",{sensitivity:"base",numeric:!0}),_f=(t="",e="")=>a9.compare(t,e),L1=t=>String(t??"").trim().toLowerCase();function o9(){const t=ul(),{startLoading:e,stopLoading:n}=Mc(),[i,a]=I.useState({email:"",password:""}),[l,c]=I.useState(!1),[d,m]=I.useState(!1),[p,y]=I.useState(!1),[T,x]=I.useState(""),[C,k]=I.useState([]),[D,j]=I.useState([]),[U,Y]=I.useState(5),[K,J]=I.useState(!1);I.useEffect(()=>{(async()=>{J(!0);try{const S=(await Je(ke(Se,"slaytKategoriAdlari"))).docs.map(Z=>Z.data().name).filter(Boolean),N=async Z=>(await Je(un(ke(Se,Z),Lt("grade","==",U)))).docs.flatMap(pe=>{const M=pe.data();return L1(M.type)!=="slayt"?[]:[{name:M.name??"Adsız",link:M.link||void 0}]}),L=(await Promise.all(S.map(async Z=>({category:Z,slides:await N(Z)})))).map(Z=>({...Z,slides:[...Z.slides].sort((ce,pe)=>_f(ce.name,pe.name))})).filter(Z=>Z.slides.length).sort((Z,ce)=>_f(Z.category,ce.category));k(L);const R=(await Je(ke(Se,"kategoriAdlari"))).docs.map(Z=>Z.data().name).filter(Boolean),fe=async Z=>(await Je(un(ke(Se,Z),Lt("grade","==",U)))).docs.flatMap(pe=>{const M=pe.data();if(L1(M.type)!=="test")return[];const te=M.createdAt?.toDate?.()??null,le=te?new Date(te.getTime()+(M.duration??0)*6e4):null;return[{name:M.name??"Adsız",link:M.link||void 0,closing:le}]}),Q=(await Promise.all(R.map(async Z=>({category:Z,tests:await fe(Z)})))).map(Z=>({...Z,tests:[...Z.tests].sort((ce,pe)=>_f(ce.name,pe.name))})).filter(Z=>Z.tests.length).sort((Z,ce)=>_f(Z.category,ce.category));j(Q)}catch(P){console.error("Firestore veri çekme hatası:",P)}finally{J(!1)}})()},[U]);const W=async ue=>{ue.preventDefault(),x(""),y(!0),e();try{await tV(cd,d?qw:Yy);const{user:P}=await eV(cd,i.email,i.password);t(P.email===i9?"/admin":"/dashboard")}catch(P){const S=P?.message??"Giriş başarısız.";x(S)}finally{y(!1),n()}};return v.jsxs("section",{className:"relative min-h-screen bg-neutral-950 px-4 py-6 pb-[calc(88px+env(safe-area-inset-bottom))] text-slate-200",children:[p&&v.jsx("div",{className:"fixed inset-0 z-[60] grid place-items-center bg-black/60 backdrop-blur-sm",children:v.jsx(Po,{size:40,label:"Giriş yapılıyor..."})}),v.jsx("div",{className:"mx-auto mb-3 flex max-w-6xl items-center justify-center",children:v.jsx("img",{src:w3,alt:"Site Logosu",className:"h-24 w-auto opacity-90 md:h-36"})}),v.jsxs("div",{className:"mx-auto grid w-full max-w-6xl items-stretch gap-6 md:grid-cols-3",children:[v.jsxs(qf,{className:"hidden md:flex md:h-[400px] flex-col p-4",children:[v.jsx(P1,{icon:c3,color:"indigo",children:"Konu Anlatım Slaytları"}),v.jsx("div",{className:"mt-1 min-h-0 flex-1 overflow-y-auto pr-1",children:K?v.jsx(Po,{label:"Slaytlar yükleniyor..."}):v.jsx(O1,{items:C})})]}),v.jsxs(qf,{className:"relative mx-auto flex w-full max-w-md flex-col p-5 md:h-[400px]",children:[v.jsx("h1",{className:"text-center text-xl font-extrabold tracking-tight text-slate-100",children:"Giriş Yap"}),T&&v.jsx("div",{className:"mt-3 rounded-lg bg-rose-500/10 px-3 py-2 text-sm text-rose-300 ring-1 ring-rose-400/20",children:T}),v.jsxs("form",{onSubmit:W,className:"mt-4 flex min-h-0 flex-1 flex-col",children:[v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"relative",children:[v.jsx(l3,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),v.jsx("input",{type:"email",name:"email",placeholder:"e-mail",value:i.email,onChange:ue=>a(P=>({...P,email:ue.target.value})),className:"w-full rounded-md border border-white/10 bg-neutral-900 py-3 pl-10 pr-3 text-sm text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),v.jsxs("div",{className:"relative",children:[v.jsx(a3,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),v.jsx("input",{type:l?"text":"password",name:"password",placeholder:"şifre",value:i.password,onChange:ue=>a(P=>({...P,password:ue.target.value})),className:"w-full rounded-md border border-white/10 bg-neutral-900 py-3 pl-10 pr-10 text-sm text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),v.jsx("button",{type:"button",onClick:()=>c(ue=>!ue),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-200","aria-label":l?"Şifreyi gizle":"Şifreyi göster",children:l?v.jsx(ZO,{className:"h-4 w-4"}):v.jsx(e3,{className:"h-4 w-4"})})]})]}),v.jsxs("div",{className:"mt-auto space-y-3 pt-2",children:[v.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-400",children:[v.jsx("input",{type:"checkbox",checked:d,onChange:()=>m(!d),className:"h-4 w-4 rounded border-white/20 bg-neutral-900 text-indigo-500 focus:ring-indigo-500"}),"Beni Hatırla"]}),v.jsx("button",{type:"submit",disabled:p,className:"w-full rounded-md bg-indigo-600 py-3 text-sm font-semibold text-white shadow-sm ring-1 ring-indigo-700/20 transition-colors hover:bg-indigo-500 disabled:opacity-60",children:p?v.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[v.jsx(Po,{size:18}),"Giriş yapılıyor..."]}):"Giriş"})]})]})]}),v.jsxs(qf,{className:"hidden md:flex md:h-[400px] flex-col p-4",children:[v.jsx(P1,{icon:ay,color:"emerald",children:"Testler"}),v.jsx("div",{className:"mt-1 min-h-0 flex-1 overflow-y-auto pr-1",children:K?v.jsx(Po,{label:"Testler yükleniyor..."}):v.jsx(j1,{items:D})})]})]}),v.jsxs("div",{className:"mx-auto mt-4 w-full max-w-md space-y-3 md:hidden",children:[v.jsx(k1,{title:"Konu Anlatım Slaytları",icon:Ud,color:"indigo",children:K?v.jsx(Po,{label:"Slaytlar yükleniyor..."}):v.jsx(O1,{items:C})}),v.jsx(k1,{title:"Testler",icon:L0,color:"emerald",children:K?v.jsx(Po,{label:"Testler yükleniyor..."}):v.jsx(j1,{items:D})})]}),v.jsx("div",{className:"mx-auto mt-4 max-w-6xl",children:v.jsx(s9,{active:U,onSelect:Y})})]})}const ko=/^[A-D]+$/i,l9=()=>Array.from({length:6},()=>"0123456789".charAt(Math.floor(Math.random()*10))).join("");function u9(){const[t,e]=I.useState({students:0,tests:0}),n=async()=>{const he=await vE(ke(Se,"students")),Te=await vE(ke(Se,"tests"));e({students:he.data().count,tests:Te.data().count})},[i,a]=I.useState([]),[l,c]=I.useState([]),[d,m]=I.useState([]),p=async()=>{const he=await Je(ke(Se,"kategoriAdlari"));a(he.docs.map(Te=>({id:Te.id,...Te.data()})))},y=async()=>{const he=await Je(ke(Se,"slaytKategoriAdlari"));c(he.docs.map(Te=>({id:Te.id,...Te.data()})))},T=async()=>{const he=await Je(ke(Se,"ozelKategoriler"));m(he.docs.map(Te=>({id:Te.id,...Te.data()})))};I.useEffect(()=>{n(),p(),y(),T()},[]);const[x,C]=I.useState({email:"",firstName:"",lastName:"",password:""}),k=he=>{const{name:Te,value:Be}=he.target;C(Ye=>({...Ye,[Te]:Be}))},D=he=>he.toLocaleLowerCase("tr-TR").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),j=async he=>{he.preventDefault();const{email:Te,firstName:Be,lastName:Ye,password:qt}=x;if(!(!Te||!Be||!Ye||!qt))try{const Dt=(await JM(jO,Te,qt)).user.uid,Fn=D(`${Be} ${Ye}`),Js=kO(Se);Js.set(Gs(Se,"students",Dt),{email:String(Te).toLowerCase(),firstName:Be,lastName:Ye,createdAt:Us()}),Js.set(Gs(Se,"ogrenciAdlari",Dt),{fullname:Fn},{merge:!0}),Js.set(Gs(Se,"ogrenciAdlari","_index"),{names:{[Fn]:!0}},{merge:!0}),await Js.commit(),C({email:"",firstName:"",lastName:"",password:""}),await n(),alert("Öğrenci eklendi.")}catch(It){alert(It?.message||"Bir hata oluştu.")}},[U,Y]=I.useState({name:""}),K=async he=>{if(he.preventDefault(),!!U.name)try{await Ls(ke(Se,"kategoriAdlari"),U),Y({name:""}),await p(),alert("Test kategorisi eklendi.")}catch(Te){alert(Te?.message??"Hata")}},[J,W]=I.useState({name:""}),ue=async he=>{if(he.preventDefault(),!!J.name)try{await Ls(ke(Se,"ozelKategoriler"),J),W({name:""}),await T(),alert("Özel ders kategorisi eklendi.")}catch(Te){alert(Te?.message??"Hata")}},[P,S]=I.useState({name:"",grade:""}),N=async he=>{he.preventDefault();const{name:Te,grade:Be}=P;if(!(!Te||!Be))try{await Ls(ke(Se,"slaytKategoriAdlari"),{name:Te,grade:+Be}),S({name:"",grade:""}),await y(),alert("Slayt kategorisi eklendi.")}catch(Ye){alert(Ye?.message??"Hata")}},[V,L]=I.useState(""),[B,R]=I.useState({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:"",type:"test"}),fe=he=>{const{name:Te,value:Be}=he.target;R(Ye=>({...Ye,[Te]:Be})),Te==="answerKey"&&L(Be===""||ko.test(Be)?"":"Sadece A-D harfleri içermeli")},ye=()=>{if(!B.answerKey)return;const he=ko.test(B.answerKey);L(he?"":"Sadece A-D harfleri içermeli")},Q=async he=>{he.preventDefault();const{collection:Te,grade:Be,name:Ye,link:qt,questionCount:It,answerKey:Dt}=B;if(!(!Te||!Be||!Ye||!qt||!It||!Dt)){if(!ko.test(Dt)||Dt.length!==Number(It)){L("Anahtar uzunluğu soru sayısına eşit ve yalnız A-D olmalı");return}try{await Ls(ke(Se,Te),{grade:+Be,name:Ye,link:qt,questionCount:+It,answerKey:Dt,createdAt:Us(),type:"test"}),R({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:"",type:"test"}),await n(),alert("Test kaydedildi.")}catch(Fn){alert(Fn?.message??"Hata")}}},[Z,ce]=I.useState({collection:"",grade:"",name:"",link:"",type:"slayt"}),pe=he=>{const{name:Te,value:Be}=he.target;ce(Ye=>({...Ye,[Te]:Be}))},M=async he=>{he.preventDefault();const{collection:Te,grade:Be,name:Ye,link:qt}=Z;if(!(!Te||!Be||!Ye||!qt))try{await Ls(ke(Se,Te),{grade:+Be,name:Ye,link:qt,createdAt:Us(),type:"slayt"}),ce({collection:"",grade:"",name:"",link:"",type:"slayt"}),alert("Slayt kaydedildi.")}catch(It){alert(It?.message??"Hata")}},[te,le]=I.useState(""),[ae,ve]=I.useState({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:"",type:"yayın"}),xe=he=>{const{name:Te,value:Be}=he.target;ve(Ye=>({...Ye,[Te]:Be})),Te==="answerKey"&&le(Be===""||ko.test(Be)?"":"Sadece A-D harfleri içermeli")},Ae=()=>{if(!ae.answerKey)return;const he=ko.test(ae.answerKey);le(he?"":"Sadece A-D harfleri içermeli")},ht=async he=>{he.preventDefault();const{collection:Te,grade:Be,name:Ye,link:qt,questionCount:It,answerKey:Dt}=ae;if(!(!Te||!Be||!Ye||!qt||!It||!Dt)){if(!ko.test(Dt)||Dt.length!==Number(It)){le("Anahtar uzunluğu soru sayısına eşit ve yalnız A-D olmalı");return}try{await Ls(ke(Se,Te),{grade:+Be,name:Ye,link:qt,questionCount:+It,answerKey:Dt,createdAt:Us(),type:"yayın"}),ve({collection:"",grade:"",name:"",link:"",questionCount:"",answerKey:"",type:"yayın"}),await n(),alert("Özel ders testi kaydedildi.")}catch(Fn){alert(Fn?.message??"Hata")}}};return v.jsxs("div",{className:"min-h-screen bg-neutral-950 p-8 text-gray-100",children:[v.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Admin Paneli"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(Hf,{to:"/admin/students",className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-3 py-2 text-sm font-medium hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-600",title:"Öğrenci Raporlarını Aç",children:[v.jsx(O0,{className:"h-4 w-4"}),"Öğrenci Raporları"]}),v.jsxs(Hf,{to:"/admin/assign",className:"inline-flex items-center gap-2 rounded-md bg-emerald-600 px-3 py-2 text-sm font-medium hover:bg-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-600",title:"Test Atama Sayfasını Aç",children:[v.jsx(OA,{className:"h-4 w-4"}),"Test Atama"]})]})]}),v.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[v.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[v.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Öğrenci Ekle"}),v.jsxs("form",{onSubmit:j,className:"space-y-4",children:[v.jsx("input",{name:"email",type:"email",value:x.email,onChange:k,placeholder:"E-posta",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),v.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[v.jsx("input",{name:"firstName",value:x.firstName,onChange:k,placeholder:"Ad",className:"rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),v.jsx("input",{name:"lastName",value:x.lastName,onChange:k,placeholder:"Soyad",className:"rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{name:"password",value:x.password,onChange:k,placeholder:"Geçici Parola",className:"flex-1 rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),v.jsx("button",{type:"button",onClick:()=>C(he=>({...he,password:l9()})),className:"rounded-md bg-neutral-700 px-3 text-xs hover:bg-neutral-600",children:"Üret"})]}),v.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Ekle"})]})]}),v.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[v.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Test Kategorisi Ekle"}),v.jsxs("form",{onSubmit:K,className:"space-y-4",children:[v.jsx("input",{value:U.name,onChange:he=>Y(Te=>({...Te,name:he.target.value})),placeholder:"Kategori adı",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),v.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Ekle"})]}),v.jsx("h2",{className:"mt-8 mb-4 text-xl font-semibold",children:"Özel Ders Kategorisi Ekle"}),v.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[v.jsx("input",{value:J.name,onChange:he=>W(Te=>({...Te,name:he.target.value})),placeholder:"Özel kategori adı",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),v.jsx("button",{type:"submit",className:"w-full rounded-md bg-emerald-600 py-2 text-sm font-medium hover:bg-emerald-500",children:"Ekle"})]})]}),v.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[v.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Slayt Kategorisi Ekle"}),v.jsxs("form",{onSubmit:N,className:"space-y-4",children:[v.jsxs("select",{value:P.grade,onChange:he=>S(Te=>({...Te,grade:he.target.value})),className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[v.jsx("option",{value:"",disabled:!0,children:"Sınıf"}),v.jsx("option",{value:"5",children:"5"}),v.jsx("option",{value:"6",children:"6"}),v.jsx("option",{value:"7",children:"7"}),v.jsx("option",{value:"8",children:"8"})]}),v.jsx("input",{value:P.name,onChange:he=>S(Te=>({...Te,name:he.target.value})),placeholder:"Kategori adı",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0}),v.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Ekle"})]})]}),v.jsxs("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800",children:[v.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Sistem İstatistikleri"}),v.jsxs("div",{className:"space-y-2 text-sm",children:[v.jsxs("p",{children:[v.jsx("span",{className:"font-semibold text-blue-400",children:t.students})," öğrenci kayıtlı"]}),v.jsxs("p",{children:[v.jsx("span",{className:"font-semibold text-blue-400",children:t.tests})," test mevcut"]})]})]}),v.jsx("section",{className:"rounded-xl bg-neutral-900 p-6 shadow ring-1 ring-neutral-800 md:col-span-4",children:v.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Test Ekle"}),v.jsxs("form",{onSubmit:Q,className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-1",children:[v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Kategori"}),v.jsxs("select",{name:"collection",value:B.collection,onChange:fe,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[v.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),i.map(he=>v.jsx("option",{value:he.name,children:he.name},he.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Sınıf"}),v.jsxs("select",{name:"grade",value:B.grade,onChange:fe,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[v.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),v.jsx("option",{value:"5",children:"5"}),v.jsx("option",{value:"6",children:"6"}),v.jsx("option",{value:"7",children:"7"}),v.jsx("option",{value:"8",children:"8"})]})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Adı"}),v.jsx("input",{name:"name",value:B.name,onChange:fe,placeholder:"Ör. 7.Sınıf Deneme–1",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Linki"}),v.jsx("input",{name:"link",value:B.link,onChange:fe,placeholder:"https://...",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Soru Sayısı"}),v.jsx("input",{name:"questionCount",type:"number",value:B.questionCount,onChange:fe,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Cevap Anahtarı"}),v.jsx("textarea",{name:"answerKey",rows:3,value:B.answerKey,onChange:fe,onBlur:ye,placeholder:"Ör. ABCDABCD...",className:`w-full resize-y rounded-lg bg-neutral-800 p-4 text-sm font-mono tracking-wider leading-relaxed focus:outline-none focus:ring-2 ${V?"ring-2 ring-red-600 focus:ring-red-600":"focus:ring-blue-600"}`,required:!0}),V&&v.jsx("p",{className:"mt-1 text-xs text-red-500",children:V})]}),v.jsx("div",{className:"sm:col-span-2",children:v.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Kaydet"})})]})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Slayt Ekle"}),v.jsxs("form",{onSubmit:M,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Kategori"}),v.jsxs("select",{name:"collection",value:Z.collection,onChange:pe,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[v.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),l.map(he=>v.jsx("option",{value:he.name,children:he.name},he.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Sınıf"}),v.jsxs("select",{name:"grade",value:Z.grade,onChange:pe,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[v.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),v.jsx("option",{value:"5",children:"5"}),v.jsx("option",{value:"6",children:"6"}),v.jsx("option",{value:"7",children:"7"}),v.jsx("option",{value:"8",children:"8"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Slayt Adı"}),v.jsx("input",{name:"name",value:Z.name,onChange:pe,placeholder:"Ör. ‘Üslü Sayılar’",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Slayt Linki"}),v.jsx("input",{name:"link",value:Z.link,onChange:pe,placeholder:"https://...",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),v.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Kaydet"})]})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Özel Ders Testi Ekle"}),v.jsxs("form",{onSubmit:ht,className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-1",children:[v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Kategori (Özel)"}),v.jsxs("select",{name:"collection",value:ae.collection,onChange:xe,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[v.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),d.map(he=>v.jsx("option",{value:he.name,children:he.name},he.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Sınıf"}),v.jsxs("select",{name:"grade",value:ae.grade,onChange:xe,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0,children:[v.jsx("option",{value:"",disabled:!0,children:"Seçiniz"}),v.jsx("option",{value:"5",children:"5"}),v.jsx("option",{value:"6",children:"6"}),v.jsx("option",{value:"7",children:"7"}),v.jsx("option",{value:"8",children:"8"})]})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Adı"}),v.jsx("input",{name:"name",value:ae.name,onChange:xe,placeholder:"Ör. 8.Sınıf Özel Deneme–1",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Test Linki"}),v.jsx("input",{name:"link",value:ae.link,onChange:xe,placeholder:"https://...",className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Soru Sayısı"}),v.jsx("input",{name:"questionCount",type:"number",value:ae.questionCount,onChange:xe,className:"w-full rounded-md bg-neutral-800 p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Cevap Anahtarı"}),v.jsx("textarea",{name:"answerKey",rows:3,value:ae.answerKey,onChange:xe,onBlur:Ae,placeholder:"Ör. ABCDABCD...",className:`w-full resize-y rounded-lg bg-neutral-800 p-4 text-sm font-mono tracking-wider leading-relaxed focus:outline-none focus:ring-2 ${te?"ring-2 ring-red-600 focus:ring-red-600":"focus:ring-blue-600"}`,required:!0}),te&&v.jsx("p",{className:"mt-1 text-xs text-red-500",children:te})]}),v.jsx("div",{className:"sm:col-span-2",children:v.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 py-2 text-sm font-medium hover:bg-blue-500",children:"Kaydet"})})]})]})]})})]})]})}const U1=(t="")=>String(t).trim().split(/\s+/).map(e=>e.split("-").map(n=>n?n[0].toLocaleUpperCase("tr-TR")+n.slice(1).toLocaleLowerCase("tr-TR"):"").join("-")).join(" "),Bn=t=>{if(t==null)return"";const e=String(t).trim();return e==="undefined"||e==="null"?"":e},c9=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120).toLowerCase(),h9=new Intl.Collator("tr",{numeric:!0,sensitivity:"base"}),Go=(t,e)=>h9.compare(t??"",e??""),Ag=t=>t.sort((e,n)=>Go(e.name,n.name)),Rg=t=>t.sort((e,n)=>Go(e.cat,n.cat)),Cg=t=>String(t??"").trim().toLowerCase(),f9={indigo:"bg-indigo-50 ring-indigo-100 text-indigo-600",emerald:"bg-emerald-50 ring-emerald-100 text-emerald-600",violet:"bg-violet-50 ring-violet-100 text-violet-600",rose:"bg-rose-50 ring-rose-100 text-rose-600",amber:"bg-amber-50 ring-amber-100 text-amber-600"},Xu={indigo:"text-indigo-700",emerald:"text-emerald-700",violet:"text-violet-700",rose:"text-rose-600",amber:"text-amber-700"},Ny={emerald:{badgeColor:"emerald",chip:"bg-emerald-50 text-emerald-700 ring-emerald-100",text:"text-emerald-700",border:"border-emerald-300",btn:"bg-emerald-600",btnHover:"hover:bg-emerald-500",ring:"focus-visible:ring-emerald-400",underline:"decoration-emerald-300"},rose:{badgeColor:"rose",chip:"bg-rose-50 text-rose-700 ring-rose-100",text:"text-rose-700",border:"border-rose-300",btn:"bg-rose-600",btnHover:"hover:bg-rose-500",ring:"focus-visible:ring-rose-400",underline:"decoration-rose-300"}},Lc=({color:t="indigo",children:e,className:n=""})=>v.jsx("span",{className:`inline-flex items-center justify-center rounded-full ring-1 h-6 w-6 sm:h-7 sm:w-7 ${f9[t]} ${n}`,children:e}),Tf=({icon:t,color:e="indigo",children:n})=>v.jsxs("div",{className:"mb-4 sm:mb-5 flex items-center gap-2",children:[v.jsx(Lc,{color:e,children:v.jsx(t,{className:"h-4 w-4"})}),v.jsx("h2",{className:`text-base sm:text-lg font-semibold ${Xu[e]}`,children:n})]}),bf=({className:t="",children:e})=>v.jsx("div",{className:`rounded-xl border border-slate-300 bg-white shadow-sm overflow-hidden ${t}`,children:e}),d9=({title:t,children:e})=>{const[n,i]=I.useState(!1),[a,l]=I.useState(0),c=I.useRef(null);return I.useEffect(()=>{const d=c.current;if(!d)return;const m=()=>l(d.scrollHeight);m();const p=new ResizeObserver(m);p.observe(d);const y=setTimeout(m,50);return()=>{p.disconnect(),clearTimeout(y)}},[e,n]),v.jsxs("div",{className:"mb-4 sm:mb-5 rounded-xl border border-slate-300 bg-white shadow-sm",children:[v.jsxs("button",{onClick:()=>i(d=>!d),"aria-expanded":n,className:"flex w-full items-center justify-between rounded-xl border-b border-slate-200 px-4 py-3 sm:px-5 sm:py-3.5 text-left text-[15px] font-semibold text-slate-800 transition-colors hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[t,v.jsx(_s.div,{animate:{rotate:n?180:0},transition:{duration:.25},className:"text-slate-500",children:v.jsx(Bd,{className:"h-4 w-4"})})]}),v.jsx(_s.div,{initial:!1,animate:n?{maxHeight:a,opacity:1}:{maxHeight:0,opacity:0},transition:{duration:.28,ease:[.22,1,.36,1]},className:"overflow-hidden",style:{willChange:"max-height, opacity"},children:v.jsx("div",{ref:c,className:"px-4 pb-4 pt-3 sm:px-6 sm:pb-5 sm:pt-4",children:e})})]})},gC=({title:t,icon:e,color:n="indigo",children:i,defaultOpen:a=!1})=>{const[l,c]=I.useState(a),[d,m]=I.useState(0),p=I.useRef(null);return I.useEffect(()=>{const y=p.current;if(!y)return;const T=()=>m(y.scrollHeight);T();const x=new ResizeObserver(T);x.observe(y);const C=setTimeout(T,50);return()=>{x.disconnect(),clearTimeout(C)}},[i,l]),v.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white",children:[v.jsxs("button",{onClick:()=>c(y=>!y),"aria-expanded":l,className:"flex w-full items-center justify-between gap-2 rounded-lg px-3 py-2 text-left text-sm font-semibold text-slate-800 hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[v.jsxs("span",{className:"inline-flex items-center gap-2",children:[v.jsx(Lc,{color:n,className:"h-6 w-6",children:v.jsx(e,{className:"h-3.5 w-3.5"})}),v.jsx("span",{className:Xu[n],children:t})]}),v.jsx(_s.span,{animate:{rotate:l?180:0},transition:{duration:.22},className:"text-slate-500",children:v.jsx(Bd,{className:"h-4 w-4"})})]}),v.jsx(_s.div,{initial:!1,animate:l?{maxHeight:d,opacity:1}:{maxHeight:0,opacity:0},transition:{duration:.28,ease:[.22,1,.36,1]},className:"overflow-hidden",children:v.jsx("div",{ref:p,className:"px-3 pb-3 pt-1 sm:px-4",children:i})})]})},m9=({cats:t=[]})=>t.length?v.jsx("div",{className:"space-y-2 sm:space-y-3",children:t.map(({cat:e,list:n})=>v.jsx(gC,{title:e,icon:Ud,color:"indigo",defaultOpen:!1,children:v.jsx("ul",{className:"space-y-1.5 text-sm leading-6 text-slate-700",children:n.map((i,a)=>v.jsxs("li",{className:"flex items-center gap-2 min-w-0",children:[v.jsx(Lc,{color:"indigo",className:"h-6 w-6 shrink-0",children:v.jsx(j0,{className:"h-3.5 w-3.5"})}),i.link?v.jsxs("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline decoration-indigo-300 underline-offset-2 hover:text-indigo-700 min-w-0 max-w-[70vw] sm:max-w-none",title:i.name,children:[v.jsx("span",{className:"truncate",children:i.name}),v.jsx(yl,{className:"h-3.5 w-3.5 shrink-0"})]}):v.jsx("span",{className:"truncate",title:i.name,children:i.name})]},`${e}-${a}`))})},e))}):v.jsx("p",{className:"text-xs text-slate-500",children:"Bu sınıf için slayt yok."}),B1=({cats:t=[],studentName:e,solvedSet:n,accent:i="emerald"})=>{const a=ul(),l=Ny[i];return t.length?v.jsx("div",{className:"space-y-2 sm:space-y-3",children:t.map(({cat:c,list:d})=>v.jsx(gC,{title:c,icon:L0,color:l.badgeColor,defaultOpen:!1,children:v.jsx("ul",{className:"space-y-2 text-sm leading-6 text-slate-700",children:d.map((m,p)=>{const y=m.questionCount??20,T=!!m.link,x=!!n?.has?.(m.name);return v.jsxs("li",{className:"flex flex-col gap-2 rounded-lg md:flex-row md:items-center md:justify-between",children:[v.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[v.jsx(Lc,{color:l.badgeColor,className:"h-6 w-6 shrink-0",children:v.jsx(Ra,{className:"h-3.5 w-3.5"})}),v.jsx("span",{className:"truncate",title:m.name,children:m.name}),v.jsxs("span",{className:`shrink-0 rounded-full px-2 py-0.5 text-[11px] font-medium ring-1 ${l.chip}`,children:[y," soru"]})]}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[T?v.jsxs("a",{href:m.link,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center rounded-md border bg-white px-3 py-1.5 text-xs font-medium shadow-sm hover:bg-slate-50 focus:outline-none focus-visible:ring-2 ${l.border} ${l.text} ${l.ring}`,children:["Testi Gör",v.jsx(yl,{className:"ml-1 h-3.5 w-3.5"})]}):v.jsx("button",{disabled:!0,className:"inline-flex cursor-not-allowed items-center justify-center rounded-md border border-slate-200 bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-500",title:"Bu test için bağlantı eklenmemiş.",children:"Testi Gör"}),v.jsx("button",{"aria-disabled":x,disabled:x,onClick:()=>{if(x)return;const C=`/optik?count=${y}&test=${encodeURIComponent(m.name)}&student=${encodeURIComponent(e)}`;a(C)},title:x?"Bu test daha önce çözüldü.":"Testi çöz",className:`inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium shadow-sm transition-colors focus:outline-none focus-visible:ring-2
                        ${x?"cursor-not-allowed bg-slate-200 text-slate-500 ring-1 ring-slate-300":`${l.btn} text-white ring-1 ring-black/5 ${l.btnHover} ${l.ring}`}`,children:x?"Çözüldü":"Testi Çöz"})]})]},`${c}-${p}`)})})},`${i}-${c}`))}):v.jsx("p",{className:"text-xs text-slate-500",children:"Bu sınıf için test yok."})};function p9(){const{user:t}=Mc(),e=I.useMemo(()=>[5,6,7,8],[]),[n,i]=I.useState({}),[a,l]=I.useState({}),[c,d]=I.useState({}),[m,p]=I.useState(null),[y,T]=I.useState(new Set),[x,C]=I.useState([]),[k,D]=I.useState({submissions:0,compared:0,correct:0,wrong:0,blank:0,accuracy:0});I.useEffect(()=>{t?.uid&&(async()=>{try{const J=await Ld(Gs(Se,"students",t.uid));p(J.exists()?{id:J.id,...J.data()}:{})}catch(J){console.error("Profil çekilemedi:",J),p({})}})()},[t]),I.useEffect(()=>{(async()=>{try{const[W,ue,P]=await Promise.all([Je(ke(Se,"slaytKategoriAdlari")),Je(ke(Se,"kategoriAdlari")),Je(ke(Se,"ozelKategoriler"))]),S=W.docs.map(fe=>Bn(fe.data().name)).filter(Boolean),N=ue.docs.map(fe=>Bn(fe.data().name)).filter(Boolean),V=P.docs.map(fe=>Bn(fe.data().name)).filter(Boolean);S.sort(Go),N.sort(Go),V.sort(Go);const L={},B={},R={};await Promise.all(e.map(async fe=>{const ye=[];await Promise.all(S.map(async ce=>{const M=(await Je(un(ke(Se,ce),Lt("grade","==",fe)))).docs.flatMap(te=>{const le=te.data();if(Cg(le.type)!=="slayt")return[];const ae=Bn(le.name);return ae?[{name:ae,link:Bn(le.link)||void 0}]:[]});Ag(M),M.length&&ye.push({cat:ce,list:M})})),Rg(ye),L[fe]=ye;const Q=[];await Promise.all(N.map(async ce=>{const M=(await Je(un(ke(Se,ce),Lt("grade","==",fe)))).docs.flatMap(te=>{const le=te.data();if(Cg(le.type)!=="test")return[];const ae=le.createdAt?.toDate?.(),ve=ae?new Date(ae.getTime()+(le.duration||0)*6e4):null,xe=Bn(le.name);return xe?[{name:xe,link:Bn(le.link)||void 0,closing:ve,questionCount:typeof le.questionCount=="number"?le.questionCount:typeof le.count=="number"?le.count:20}]:[]});Ag(M),M.length&&Q.push({cat:ce,list:M})})),Rg(Q),B[fe]=Q;const Z=[];await Promise.all(V.map(async ce=>{const M=(await Je(un(ke(Se,ce),Lt("grade","==",fe)))).docs.flatMap(te=>{const le=te.data();if(Cg(le.type)!=="yayın")return[];const ae=Bn(le.name);return ae?[{name:ae,link:Bn(le.link)||void 0,questionCount:typeof le.questionCount=="number"?le.questionCount:typeof le.count=="number"?le.count:20}]:[]});Ag(M),M.length&&Z.push({cat:ce,list:M})})),Rg(Z),R[fe]=Z})),i(L),l(B),d(R)}catch(W){console.error("Firestore veri çekme hatası:",W)}})()},[e]);const{firstName:j,lastName:U}=I.useMemo(()=>{const J=Bn(m?.firstName),W=Bn(m?.lastName);return{firstName:J?U1(J):"-",lastName:W?U1(W):"-"}},[m]),Y=I.useMemo(()=>{const J=`${j&&j!=="-"?j:""} ${U&&U!=="-"?U:""}`.trim()||(t?.email?.split("@")[0]??"bilinmeyen");return c9(J)},[j,U,t]);I.useEffect(()=>{Y&&(async()=>{try{const J=un(ke(Se,Y),Lt("type","==","submission")),W=await Je(J),ue=new Set;W.forEach(P=>{const S=P.data()?.test?.name;S&&ue.add(String(S))}),T(ue)}catch(J){console.error("Çözülen testler alınamadı:",J),T(new Set)}})()},[Y]),I.useEffect(()=>{Y&&(async()=>{try{const J=`${Y}_odevler`;let W;try{W=await Je(un(ke(Se,J),Lt("type","==","assignment"),Lt("status","==","assigned")))}catch{W=await Je(un(ke(Se,J),Lt("type","==","assignment")))}const ue=[];W.forEach(P=>{const S=P.data();if(S.status&&S.status!=="assigned")return;const N=S.test||{},V=Bn(N.name);V&&ue.push({id:P.id,name:V,category:Bn(N.category),grade:N.grade??null,link:N.link||null,questionCount:typeof N.questionCount=="number"?N.questionCount:20,isSpecial:!!N.isSpecial})}),ue.sort((P,S)=>Go(P.name,S.name)),C(ue)}catch(J){console.error("Atanan ödevler getirilemedi:",J),C([])}})()},[Y]),I.useEffect(()=>{Y&&(async()=>{try{const J=un(ke(Se,Y),Lt("type","==","submission")),W=await Je(J);let ue=0,P=0,S=0,N=0,V=0;W.forEach(R=>{const fe=R.data();if(fe?.type!=="submission")return;ue+=1;const ye=fe?.scoring;ye&&ye.status==="ok"&&(P+=ye.compared||0,S+=ye.correctCount||0,N+=ye.wrongCount||0,V+=ye.blankCount||0)});const L=P,B=L>0?S/L:0;D({submissions:ue,compared:P,correct:S,wrong:N,blank:V,accuracy:B})}catch(J){console.error("İstatistikler hesaplanamadı:",J),D({submissions:0,compared:0,correct:0,wrong:0,blank:0,accuracy:0})}})()},[Y]);const K=ul();return v.jsx("section",{className:"min-h-screen bg-slate-50 px-3 py-6 sm:px-5 sm:py-8 md:px-6 md:py-10",children:v.jsxs("div",{className:"mx-auto max-w-7xl",children:[v.jsx("div",{className:"mb-8 sm:mb-10 flex items-center justify-center gap-2",children:v.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold tracking-tight text-slate-900",children:"Öğrenci Paneli"})}),v.jsxs("div",{className:"grid gap-6 md:gap-8 lg:grid-cols-3",children:[v.jsxs(bf,{className:"p-4 sm:p-6 md:p-8 lg:col-span-2",children:[v.jsx(Tf,{icon:Ud,color:"indigo",children:"Slaytlar & Testler"}),[5,6,7,8].map(J=>v.jsxs(d9,{title:`${J}. Sınıf`,children:[v.jsx("h3",{className:`mb-2 text-sm font-semibold ${Xu.indigo}`,children:"Slaytlar"}),v.jsx(m9,{cats:n[J]||[]}),v.jsx("h3",{className:`mb-2 mt-5 text-sm font-semibold ${Xu.emerald}`,children:"Testler"}),v.jsx(B1,{cats:a[J]||[],studentName:Y,solvedSet:y,accent:"emerald"}),v.jsx("h3",{className:`mb-2 mt-5 text-sm font-semibold ${Xu.rose}`,children:"Yayınlar"}),v.jsx(B1,{cats:c[J]||[],studentName:Y,solvedSet:y,accent:"rose"})]},J))]}),v.jsxs("div",{className:"flex flex-col gap-6 md:gap-8",children:[v.jsxs(bf,{className:"p-4 sm:p-6 md:p-8",children:[v.jsx(Tf,{icon:Ra,color:"rose",children:"Aktif Ödevler"}),x.length===0?v.jsx("p",{className:"text-center text-sm leading-7 text-slate-600",children:"Şu anda atanmış ödev bulunmuyor."}):v.jsx("ul",{className:"space-y-2.5 text-sm",children:x.map(J=>{const W=y.has(J.name),ue=J.isSpecial?Ny.rose:Ny.emerald;return v.jsxs("li",{className:"flex flex-col gap-2 rounded-lg md:flex-row md:items-center md:justify-between",children:[v.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[v.jsx(Lc,{color:ue.badgeColor,className:"h-6 w-6 shrink-0",children:v.jsx(Ra,{className:"h-3.5 w-3.5"})}),v.jsx("span",{className:"truncate",title:J.name,children:J.name}),v.jsxs("span",{className:`shrink-0 rounded-full px-2 py-0.5 text-[11px] font-medium ring-1 ${ue.chip}`,title:J.isSpecial?"Özel test":"Normal test",children:[J.questionCount," soru"]})]}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[J.link?v.jsxs("a",{href:J.link,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center rounded-md border bg-white px-3 py-1.5 text-xs font-medium shadow-sm hover:bg-slate-50 focus:outline-none focus-visible:ring-2 ${ue.border} ${ue.text} ${ue.ring}`,children:["Testi Gör",v.jsx(yl,{className:"ml-1 h-3.5 w-3.5"})]}):v.jsx("button",{disabled:!0,className:"inline-flex cursor-not-allowed items-center justify-center rounded-md border border-slate-200 bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-500",title:"Bu test için bağlantı eklenmemiş.",children:"Testi Gör"}),v.jsx("button",{"aria-disabled":W,disabled:W,onClick:()=>{if(W)return;const P=`/optik?count=${J.questionCount}&test=${encodeURIComponent(J.name)}&student=${encodeURIComponent(Y)}&cat=${encodeURIComponent(J.category)}&grade=${J.grade??""}&link=${encodeURIComponent(J.link||"")}`;K(P)},title:W?"Bu test daha önce çözüldü.":"Testi çöz",className:`inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium shadow-sm transition-colors focus:outline-none focus-visible:ring-2
                              ${W?"cursor-not-allowed bg-slate-200 text-slate-500 ring-1 ring-slate-300":`${ue.btn} text-white ring-1 ring-black/5 ${ue.btnHover} ${ue.ring}`}`,children:W?"Çözüldü":"Testi Çöz"})]})]},J.id)})})]}),v.jsxs(bf,{className:"p-4 sm:p-6 md:p-8",children:[v.jsx(Tf,{icon:x3,color:"violet",children:"Kişisel Bilgiler"}),v.jsxs("dl",{className:"divide-y divide-slate-200 text-sm",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-y-2 py-3",children:[v.jsx("dt",{className:"font-medium text-slate-600",children:"Ad"}),v.jsx("dd",{className:"text-right",children:j||"-"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-y-2 py-3",children:[v.jsx("dt",{className:"font-medium text-slate-600",children:"Soyad"}),v.jsx("dd",{className:"text-right",children:U||"-"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-y-2 py-3",children:[v.jsx("dt",{className:"font-medium text-slate-600",children:"E-posta"}),v.jsx("dd",{className:"text-right",children:t?.email||"-"})]})]})]}),v.jsxs(bf,{className:"p-4 sm:p-6 md:p-8",children:[v.jsx(Tf,{icon:O0,color:"amber",children:"İstatistikler"}),v.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 text-center sm:grid-cols-4",children:[v.jsxs("div",{className:"rounded-lg bg-amber-50 p-2.5 sm:p-3 ring-1 ring-amber-100",children:[v.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-amber-700",children:k.submissions}),v.jsx("div",{className:"mt-1 text-[11px] sm:text-xs font-medium text-amber-700/80",children:"Test"})]}),v.jsxs("div",{className:"rounded-lg bg-emerald-50 p-2.5 sm:p-3 ring-1 ring-emerald-100",children:[v.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-emerald-700",children:k.correct}),v.jsx("div",{className:"mt-1 text-[11px] sm:text-xs font-medium text-emerald-700/80",children:"Doğru"})]}),v.jsxs("div",{className:"rounded-lg bg-rose-50 p-2.5 sm:p-3 ring-1 ring-rose-100",children:[v.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-rose-700",children:k.wrong}),v.jsx("div",{className:"mt-1 text-[11px] sm:text-xs font-medium text-rose-700/80",children:"Yanlış"})]}),v.jsxs("div",{className:"rounded-lg bg-slate-50 p-2.5 sm:p-3 ring-1 ring-slate-200",children:[v.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-slate-700",children:k.blank}),v.jsx("div",{className:"mt-1 text-[11px] sm:text-xs font-medium text-slate-700/80",children:"Boş"})]})]}),v.jsxs("div",{className:"mt-3 sm:mt-4 grid grid-cols-2 gap-3 sm:gap-4",children:[v.jsxs("div",{className:"rounded-lg bg-white p-2.5 sm:p-3 ring-1 ring-slate-200",children:[v.jsx("p",{className:"text-center text-[12px] sm:text-[13px] text-slate-600",children:"Soru Sayısı"}),v.jsx("p",{className:"mt-1 text-center text-lg sm:text-xl font-bold text-slate-900",children:k.compared})]}),v.jsxs("div",{className:"rounded-lg bg-white p-2.5 sm:p-3 ring-1 ring-slate-200",children:[v.jsx("p",{className:"text-center text-[12px] sm:text-[13px] text-slate-600",children:"Doğruluk"}),v.jsxs("p",{className:"mt-1 text-center text-lg sm:text-xl font-bold text-slate-900",children:[(k.accuracy*100).toFixed(1),"%"]})]})]}),v.jsx("button",{type:"button",onClick:()=>K("/cozdugum-testler"),className:"mt-2 w-full rounded-md bg-white py-2.5 text-sm font-semibold text-indigo-700 ring-1 ring-indigo-200 hover:bg-indigo-50",children:"Çözdüğüm Testler"}),k.submissions===0&&v.jsx("p",{className:"mt-4 text-center text-xs text-slate-500",children:"Henüz gönderim yok. Test çözdükçe istatistikler burada görünecek."})]})]})]})]})})}const g9="admin@mail.com";function z1({children:t,role:e}){const{user:n,loading:i}=Mc(),[a,l]=I.useState(null);if(I.useEffect(()=>{let p=!0;return(async()=>{if(!n){p&&l(null);return}try{const y=await bw(n,!0);p&&l(y&&y.claims||{})}catch{p&&l({})}})(),()=>{p=!1}},[n]),i||n&&a===null)return null;if(!n)return v.jsx(Sf,{to:"/",replace:!0});const c=(n.email||"").toLowerCase()===g9,m=(typeof a?.admin=="boolean"?a.admin:!1)||c;return e==="admin"&&!m?v.jsx(Sf,{to:"/dashboard",replace:!0}):e==="user"&&m?v.jsx(Sf,{to:"/admin",replace:!0}):v.jsx(v.Fragment,{children:t})}const q1=["A","B","C","D"],y9=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120),xf=({children:t,color:e="indigo"})=>{const n={indigo:"bg-indigo-50 text-indigo-700 ring-indigo-100",emerald:"bg-emerald-50 text-emerald-700 ring-emerald-100",slate:"bg-slate-50 text-slate-700 ring-slate-200",rose:"bg-rose-50 text-rose-700 ring-rose-100"};return v.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-medium ring-1 ${n[e]}`,children:t})};function v9(t){const{answersArray:e,answerKey:n}=t,i=n.trim().toUpperCase(),a=Math.min(e.length,i.length);let l=0,c=0,d=0;const m=[],p=[],y=[];for(let T=0;T<a;T++){const x=e[T],C=i[T];!x||x==="-"?(d++,y.push(T+1)):C&&x===C?(l++,p.push(T+1)):(c++,m.push(T+1))}return{correctCount:l,wrongCount:c,blankCount:d,wrongQuestions:m,correctQuestions:p,blankQuestions:y,compared:a,keyLength:i.length}}async function Ng(t,e){const n=await Je(un(ke(Se,t),Lt("name","==",e),V0(1)));if(n.empty)return null;const i=n.docs[0],a=i.data();return{category:t,data:a,id:i.id}}async function _9(t,e){if(e){const c=await Ng(e,t);if(c)return{...c,type:"hint"}}const[n,i]=await Promise.all([Je(ke(Se,"kategoriAdlari")),Je(ke(Se,"ozelKategoriler"))]),a=n.docs.map(c=>String(c.data()?.name||"").trim()).filter(Boolean),l=i.docs.map(c=>String(c.data()?.name||"").trim()).filter(Boolean);for(const c of a){const d=await Ng(c,t);if(d)return{...d,type:"normal"}}for(const c of l){const d=await Ng(c,t);if(d)return{...d,type:"special"}}return null}async function Ig(t){const{nameKey:e,category:n,testName:i}=t,a=`${e}_odevler`;try{try{const l=await Je(un(ke(Se,a),Lt("status","==","assigned"),Lt("test.category","==",n),Lt("test.name","==",i)));await Promise.all(l.docs.map(c=>yE(Gs(Se,a,c.id),{status:"completed",completedAt:Us()})));return}catch{const c=(await Je(un(ke(Se,a),Lt("status","==","assigned")))).docs.filter(d=>{const p=d.data().test||{};return String(p.category||"").trim()===n&&String(p.name||"").trim()===i});await Promise.all(c.map(d=>yE(Gs(Se,a,d.id),{assigned:!1,status:"completed",completedAt:Us()})))}}catch(l){console.warn("Ödevi tamamlarken hata:",l)}}function T9(){const{user:t}=Mc(),{state:e}=Li(),n=new URLSearchParams(window.location.search),i=Math.max(1,parseInt(n.get("count")||"20",10)),a=n.get("test")||e?.testName||"Adsız Test",l=n.get("id")||e?.testId||null,c=n.get("cat")||e?.testCat||null,d=n.get("grade")?parseInt(n.get("grade"),10):e?.testGrade??null,m=n.get("link")||e?.testLink||null,p=(e?.studentName||n.get("student")||"").trim(),[y,T]=I.useState(p),x=I.useMemo(()=>Array.from({length:i},(V,L)=>L+1),[i]),[C,k]=I.useState({}),[D,j]=I.useState(!1),[U,Y]=I.useState(!1),[K,J]=I.useState(null),W=I.useMemo(()=>Object.keys(C).length,[C]),[ue,P]=I.useState(null);I.useEffect(()=>{let V=!1;return y?void 0:((async()=>{try{if(!t?.email)return;const B=un(ke(Se,"students"),Lt("email","==",t.email),V0(1)),R=await Je(B);if(V)return;if(R.empty)T(t.email?.split("@")[0]??"Bilinmeyen");else{const fe=R.docs[0].data(),ye=fe.firstname||fe.firstName||"",Q=fe.lastname||fe.lastName||"",Z=`${ye} ${Q}`.trim();T(Z||(t.email?.split("@")[0]??"Bilinmeyen"))}}catch{V||T(t?.email?.split("@")[0]??"Bilinmeyen")}})(),()=>{V=!0})},[t,y]);const S=()=>{U||(k({}),J(null),P(null))},N=async()=>{if(J(null),!t){J({type:"err",text:"Giriş yapmadan cevap gönderemezsiniz."});return}let V="";const L=Array.from({length:i},(B,R)=>{const fe=C[R+1]??"-";return V+=fe,fe});j(!0);try{const B=await _9(a,c),R=(e?.nameKey&&typeof e.nameKey=="string"&&e.nameKey?e.nameKey:y9(y)).toLocaleLowerCase("tr-TR");if(!B){const ht=R,he={type:"submission",test:{id:l,name:a,category:c??null,grade:d,link:m},user:{uid:t.uid||null,email:t.email||null,name:y||null},count:i,answeredCount:W,answers:V,answersArray:L,answersMap:C,createdAt:Us(),scoring:{status:"missing-key"}};await Ls(ke(Se,ht),he),c&&await Ig({nameKey:R,category:c,testName:a}),Y(!0),P(null),J({type:"err",text:"Cevaplar kaydedildi fakat test anahtarı bulunamadı; sonuç hesaplanamadı. (Kategori eşleşmedi)"});return}const{category:fe,data:ye}=B,Q=String(ye?.answerKey||"").trim().toUpperCase();if(!Q){const ht=R,he={type:"submission",test:{id:l,name:a,category:fe,grade:d??ye?.grade??null,link:m??ye?.link??null},user:{uid:t.uid||null,email:t.email||null,name:y||null},count:i,answeredCount:W,answers:V,answersArray:L,answersMap:C,createdAt:Us(),scoring:{status:"missing-key"}};await Ls(ke(Se,ht),he),await Ig({nameKey:R,category:fe,testName:a}),Y(!0),P(null),J({type:"err",text:"Cevaplar kaydedildi fakat bu test için cevap anahtarı bulunamadı; sonuç hesaplanamadı."});return}const{correctCount:Z,wrongCount:ce,blankCount:pe,wrongQuestions:M,correctQuestions:te,blankQuestions:le,compared:ae,keyLength:ve}=v9({answersArray:L,answerKey:Q}),xe=R,Ae={type:"submission",test:{id:l,name:a,category:fe,grade:d??ye?.grade??null,link:m??ye?.link??null},user:{uid:t.uid||null,email:t.email||null,name:y||null},count:i,answeredCount:W,answers:V,answersArray:L,answersMap:C,createdAt:Us(),scoring:{status:"ok",answerKey:Q,keyLength:ve,compared:ae,correctCount:Z,wrongCount:ce,blankCount:pe,wrongQuestions:M,correctQuestions:te,blankQuestions:le}};await Ls(ke(Se,xe),Ae),await Ig({nameKey:R,category:fe,testName:a}),Y(!0),P({wrongQuestions:M,correctQuestions:te,blankQuestions:le}),J({type:"ok",text:`Cevaplar kaydedildi. Doğru: ${Z}, Yanlış: ${ce}, Boş: ${pe}.`})}catch(B){console.error(B),J({type:"err",text:"Kaydetme sırasında bir hata oluştu."})}finally{j(!1)}};return v.jsx("section",{className:"min-h-screen bg-slate-50 px-5 py-8 text-slate-800 md:px-6",children:v.jsxs("div",{className:"mx-auto max-w-5xl",children:[v.jsxs("div",{className:"mb-6 text-center",children:[v.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:"Optik Cevap Formu"}),v.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-center gap-2",children:[v.jsxs(xf,{color:"slate",children:["Öğrenci: ",v.jsx("span",{className:"font-semibold",children:y||"—"})]}),v.jsxs(xf,{color:"indigo",children:["Test: ",v.jsx("span",{className:"font-semibold",children:a})]}),c?v.jsxs(xf,{color:"rose",children:["Kategori: ",v.jsx("span",{className:"font-semibold",children:c})]}):null,v.jsxs(xf,{color:"emerald",children:["İşaretlenen: ",v.jsx("span",{className:"font-semibold",children:W})," / ",i]})]})]}),K&&v.jsx("div",{className:`mb-4 rounded-xl px-4 py-3 text-sm ring-1 ${K.type==="ok"?"bg-emerald-50 text-emerald-700 ring-emerald-100":"bg-rose-50 text-rose-700 ring-rose-100"}`,children:K.text}),v.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200",children:[v.jsx("div",{className:"overflow-x-auto rounded-xl",children:v.jsxs("table",{className:"w-full border-separate border-spacing-0 text-center text-sm",children:[v.jsx("thead",{className:"sticky top-0 z-10 bg-indigo-50 text-indigo-800",children:v.jsxs("tr",{children:[v.jsx("th",{className:"border-b border-slate-200 px-3 py-3 text-left text-[13px] font-semibold",children:"Soru"}),q1.map(V=>v.jsx("th",{className:"border-b border-slate-200 px-3 py-3 text-[13px] font-semibold",children:V},V))]})}),v.jsx("tbody",{className:"text-slate-700",children:x.map(V=>{const L=U&&ue?.wrongQuestions.includes(V),B=U&&ue?.correctQuestions.includes(V),R=V%2?"bg-slate-50":"bg-white",fe=L?"bg-rose-50":B?"bg-emerald-50":R,ye=L?"outline outline-1 outline-rose-200":B?"outline outline-1 outline-emerald-200":"";return v.jsxs("tr",{className:`transition-colors hover:bg-indigo-50/40 ${fe} ${ye}`,children:[v.jsx("td",{className:"border-b border-slate-200 px-3 py-2.5 text-left font-medium",children:V}),q1.map(Q=>{const Z=`q${V}-${Q}`,ce=C[V]===Q;return v.jsxs("td",{className:"border-b border-slate-200 px-3 py-2.5",children:[v.jsx("input",{id:Z,type:"radio",name:`q${V}`,value:Q,className:"sr-only peer",checked:!!ce,onChange:()=>k(pe=>({...pe,[V]:Q})),disabled:U}),v.jsx("label",{htmlFor:Z,className:`inline-flex h-5 w-5 items-center justify-center rounded-full ring-1 ring-slate-300 transition
                                         hover:ring-indigo-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400
                                         peer-checked:bg-indigo-600 peer-checked:ring-indigo-300
                                         ${U?"opacity-60 pointer-events-none":""}`,title:Q,children:v.jsx("span",{className:"block h-2.5 w-2.5 rounded-full bg-white opacity-0 transition-opacity peer-checked:opacity-100"})})]},Q)})]},V)})})]})}),v.jsxs("div",{className:"flex flex-col items-center justify-between gap-3 border-t border-slate-200 px-4 py-4 sm:flex-row",children:[v.jsx("div",{className:"h-2 w-full rounded-full bg-slate-100 sm:max-w-xs",children:v.jsx("div",{className:"h-2 rounded-full bg-indigo-300",style:{width:`${W/i*100}%`}})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"button",onClick:S,disabled:D||U,className:`rounded-lg px-4 py-2 text-sm font-medium ring-1 transition-colors focus:outline-none
                  ${D||U?"bg-white text-slate-400 ring-slate-200 cursor-not-allowed":"bg-white text-slate-700 ring-slate-300 hover:bg-slate-50 focus-visible:ring-2 focus-visible:ring-indigo-400"}`,children:"Temizle"}),v.jsx("button",{onClick:N,disabled:D||U,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors
                            focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400
                            ${D||U?"cursor-not-allowed bg-indigo-400":"bg-indigo-600 hover:bg-indigo-500"}`,children:U?"Kaydedildi":D?"Kaydediliyor...":"Cevapları Kaydet"})]})]})]}),v.jsxs("p",{className:"mt-4 text-center text-xs text-slate-500",children:["İpucu: Hücrelere tıklayarak işaretleyebilir, ",v.jsx("span",{className:"font-medium",children:"Temizle"})," ile sıfırlayabilirsiniz."]})]})})}const b9=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120).toLowerCase(),F1=t=>t?new Intl.DateTimeFormat("tr-TR",{dateStyle:"medium",timeStyle:"short"}).format(t):"—",x9=(t,e)=>e>0?Math.round(t/e*100):0,Ef=({icon:t,label:e,value:n})=>v.jsxs("div",{className:"rounded-xl bg-neutral-900 p-5 ring-1 ring-neutral-800 shadow",children:[v.jsxs("div",{className:"mb-3 flex items-center gap-2 text-neutral-300",children:[v.jsx(t,{className:"h-4 w-4 text-neutral-400"}),v.jsx("span",{className:"text-xs font-medium",children:e})]}),v.jsx("div",{className:"text-2xl font-bold text-white",children:n})]}),Dg=({children:t,tone:e="slate"})=>{const n={indigo:"bg-indigo-100/10 text-indigo-300 ring-indigo-500/20",emerald:"bg-emerald-100/10 text-emerald-300 ring-emerald-500/20",rose:"bg-rose-100/10 text-rose-300 ring-rose-500/20",amber:"bg-amber-100/10 text-amber-300 ring-amber-500/20",slate:"bg-slate-100/10 text-slate-300 ring-slate-500/20"};return v.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs ring-1 ${n[e]}`,children:t})},E9=({wrong:t=[]})=>{const[e,n]=I.useState(!1);return t.length?v.jsxs("div",{className:"mt-2",children:[v.jsxs("button",{onClick:()=>n(i=>!i),className:"inline-flex items-center gap-1 text-xs text-neutral-300 hover:text-white",children:[v.jsx(Bd,{className:`h-4 w-4 transition-transform ${e?"rotate-180":""}`}),"Yanlış soruları göster"]}),e&&v.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:t.map(i=>v.jsx("span",{className:"rounded-md bg-rose-500/10 px-2 py-0.5 text-[11px] font-medium text-rose-300 ring-1 ring-rose-500/20",children:i},i))})]}):null};function w9(){const[t,e]=I.useState({}),[n,i]=I.useState(""),[a,l]=I.useState(""),[c,d]=I.useState(!1),[m,p]=I.useState([]),[y,T]=I.useState({total:0,totalCorrect:0,totalWrong:0,totalBlank:0,avgScore:0,lastActivity:null});I.useEffect(()=>{(async()=>{try{const D=await Ld(Gs(Se,"ogrenciAdlari","_index")),j=(D.exists()?D.data()?.names:{})||{};e(j)}catch(D){console.error("ogrenciAdlari/_index okunamadı:",D),e({})}})()},[]);const x=I.useMemo(()=>Object.keys(t).sort((D,j)=>D.localeCompare(j,"tr")).filter(D=>t[D]),[t]),C=async D=>{if(D){d(!0);try{const j=D.toLowerCase(),U=b9(D),Y=[],K=async S=>{(await Je(un(ke(Se,S),Lt("type","==","submission")))).forEach(V=>{const L=V.data(),B=L.scoring||{},R=L.createdAt?.toDate?.()||null;Y.push({id:V.id,createdAt:R,testName:String(L?.test?.name??"—"),category:L?.test?.category??null,grade:L?.test?.grade??null,link:L?.test?.link??null,count:Number(L?.count??L?.answeredCount??0),answeredCount:Number(L?.answeredCount??0),correctCount:Number(B?.correctCount??0),wrongCount:Number(B?.wrongCount??0),blankCount:Number(B?.blankCount??0),wrongQuestions:B?.wrongQuestions||[]})})};await K(j),U!==j&&await K(U);const J=new Set,W=Y.filter(S=>{const N=`${S.testName}__${S.createdAt?.getTime?.()??"0"}`;return J.has(N)?!1:(J.add(N),!0)});W.sort((S,N)=>(N.createdAt?.getTime?.()??0)-(S.createdAt?.getTime?.()??0));const ue=W.reduce((S,N)=>{const V=N.correctCount+N.wrongCount+N.blankCount;S.total+=1,S.totalCorrect+=N.correctCount,S.totalWrong+=N.wrongCount,S.totalBlank+=N.blankCount,V>0&&(S._scoreSum+=N.correctCount/V*100);const L=N.createdAt?.getTime?.();return L&&(!S._last||L>S._last)&&(S._last=L),S},{total:0,totalCorrect:0,totalWrong:0,totalBlank:0,_scoreSum:0,_last:0}),P=ue.total>0?Math.round(ue._scoreSum/ue.total):0;p(W),T({total:ue.total,totalCorrect:ue.totalCorrect,totalWrong:ue.totalWrong,totalBlank:ue.totalBlank,avgScore:P,lastActivity:ue._last?new Date(ue._last):null})}catch(j){console.error("Öğrenci submission yükleme hatası:",j),p([]),T({total:0,totalCorrect:0,totalWrong:0,totalBlank:0,avgScore:0,lastActivity:null})}finally{d(!1)}}};I.useEffect(()=>{n&&C(n)},[n]);const k=I.useMemo(()=>{const D=a.trim().toLocaleLowerCase("tr-TR");return D?m.filter(j=>j.testName.toLocaleLowerCase("tr-TR").includes(D)):m},[m,a]);return v.jsx("section",{className:"min-h-screen bg-neutral-950 p-8 text-gray-100",children:v.jsxs("div",{className:"mx-auto max-w-7xl",children:[v.jsxs("header",{className:"mb-8 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Öğrenci Raporları"}),v.jsx("p",{className:"mt-1 text-sm text-neutral-400",children:"Öğrencilerin çözdüğü testleri, doğru/yanlış dağılımını ve tarihçeyi görüntüleyin."})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("select",{value:n,onChange:D=>i(D.target.value),className:"rounded-lg bg-neutral-900 px-4 py-2 text-sm ring-1 ring-neutral-800 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[v.jsx("option",{value:"",disabled:!0,children:"Öğrenci seçin"}),x.map(D=>v.jsx("option",{value:D,children:D},D))]}),v.jsx("input",{value:a,onChange:D=>l(D.target.value),placeholder:"Test adı filtrele...",className:"w-56 rounded-lg bg-neutral-900 px-4 py-2 text-sm ring-1 ring-neutral-800 placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),v.jsxs("div",{className:"mb-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[v.jsx(Ef,{icon:oy,label:"Toplam Çözüm",value:y.total}),v.jsx(Ef,{icon:T3,label:"Ortalama Skor",value:v.jsxs("span",{children:[y.avgScore,"%"]})}),v.jsx(Ef,{icon:O0,label:"Doğru / Yanlış / Boş",value:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(Dg,{tone:"emerald",children:[y.totalCorrect," D"]}),v.jsxs(Dg,{tone:"rose",children:[y.totalWrong," Y"]}),v.jsxs(Dg,{tone:"amber",children:[y.totalBlank," B"]})]})}),v.jsx(Ef,{icon:KO,label:"Son Aktivite",value:F1(y.lastActivity)})]}),v.jsx("div",{className:"overflow-x-auto rounded-xl bg-neutral-900 ring-1 ring-neutral-800 shadow",children:v.jsxs("table",{className:"w-full text-left text-sm",children:[v.jsx("thead",{className:"sticky top-0 bg-neutral-900/90 backdrop-blur",children:v.jsxs("tr",{className:"text-neutral-300",children:[v.jsx("th",{className:"px-4 py-3 font-semibold",children:"Tarih"}),v.jsx("th",{className:"px-4 py-3 font-semibold",children:"Test"}),v.jsx("th",{className:"px-4 py-3 font-semibold",children:"Kategori"}),v.jsx("th",{className:"px-4 py-3 font-semibold",children:"Sınıf"}),v.jsx("th",{className:"px-4 py-3 font-semibold",children:"Doğru"}),v.jsx("th",{className:"px-4 py-3 font-semibold",children:"Yanlış"}),v.jsx("th",{className:"px-4 py-3 font-semibold",children:"Boş"}),v.jsx("th",{className:"px-4 py-3 font-semibold",children:"Skor"}),v.jsx("th",{className:"px-4 py-3"})]})}),v.jsx("tbody",{children:c?v.jsx("tr",{children:v.jsx("td",{colSpan:9,className:"px-4 py-10 text-center text-neutral-400",children:"Yükleniyor…"})}):k.length===0?v.jsx("tr",{children:v.jsx("td",{colSpan:9,className:"px-4 py-10 text-center text-neutral-400",children:"Kayıt bulunamadı."})}):k.map(D=>{const j=D.correctCount+D.wrongCount+D.blankCount,U=x9(D.correctCount,j);return v.jsxs("tr",{className:"border-t border-neutral-800",children:[v.jsx("td",{className:"px-4 py-3 text-neutral-300",children:F1(D.createdAt)}),v.jsx("td",{className:"px-4 py-3",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"truncate",children:D.testName}),D.link?v.jsx("a",{href:D.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-indigo-300 hover:text-indigo-200",title:"Testi aç",children:v.jsx(yl,{className:"h-3.5 w-3.5"})}):null]})}),v.jsx("td",{className:"px-4 py-3",children:D.category?v.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-neutral-300",children:[v.jsx(j0,{className:"h-3.5 w-3.5 text-neutral-400"}),D.category]}):v.jsx("span",{className:"text-xs text-neutral-500",children:"—"})}),v.jsx("td",{className:"px-4 py-3",children:D.grade??"—"}),v.jsx("td",{className:"px-4 py-3",children:v.jsx("span",{className:"font-semibold text-emerald-300",children:D.correctCount})}),v.jsx("td",{className:"px-4 py-3",children:v.jsx("span",{className:"font-semibold text-rose-300",children:D.wrongCount})}),v.jsx("td",{className:"px-4 py-3",children:v.jsx("span",{className:"font-semibold text-amber-300",children:D.blankCount})}),v.jsx("td",{className:"px-4 py-3",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"h-2 w-16 rounded bg-neutral-800",children:v.jsx(_s.div,{className:"h-2 rounded bg-emerald-500",initial:{width:0},animate:{width:`${U}%`},transition:{type:"spring",stiffness:120,damping:15}})}),v.jsxs("span",{className:"text-neutral-300",children:[U,"%"]})]})}),v.jsx("td",{className:"px-4 py-3",children:v.jsx(E9,{wrong:D.wrongQuestions})})]},`${D.id}-${D.createdAt?.getTime?.()??0}`)})})]})}),v.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs text-neutral-400",children:[v.jsxs("span",{className:"inline-flex items-center gap-1",children:[v.jsx(Ra,{className:"h-3.5 w-3.5 text-emerald-300"}),"Doğru"]}),v.jsxs("span",{className:"inline-flex items-center gap-1",children:[v.jsx(Ra,{className:"h-3.5 w-3.5 text-rose-300"}),"Yanlış"]}),v.jsxs("span",{className:"inline-flex items-center gap-1",children:[v.jsx(Ra,{className:"h-3.5 w-3.5 text-amber-300"}),"Boş"]})]})]})})}const S9=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120).toLowerCase();function A9(){const[t,e]=I.useState(!1),[n,i]=I.useState(!1),[a,l]=I.useState(!1),[c,d]=I.useState({}),m=I.useMemo(()=>Object.keys(c).filter(R=>c[R]).sort((R,fe)=>R.localeCompare(fe,"tr")),[c]),[p,y]=I.useState([]),[T,x]=I.useState(""),[C,k]=I.useState(""),[D,j]=I.useState(new Set),[U,Y]=I.useState(new Set),K=async()=>{e(!0);try{const R=await Ld(Gs(Se,"ogrenciAdlari","_index")),fe=(R.exists()?R.data()?.names:{})||{};d(fe)}catch(R){console.error("ogrenciAdlari/_index okunamadı:",R),d({})}finally{e(!1)}},J=async R=>{i(!0);try{const[fe,ye]=await Promise.all([Je(ke(Se,"kategoriAdlari")),Je(ke(Se,"ozelKategoriler"))]),Q=fe.docs.map(M=>String(M.data()?.name??"").trim()).filter(Boolean),Z=ye.docs.map(M=>String(M.data()?.name??"").trim()).filter(Boolean),ce=[],pe=async(M,te)=>{const le=ke(Se,M);(R?await Je(un(le,Lt("grade","==",R))):await Je(le)).forEach(ve=>{const xe=ve.data();ce.push({uid:`${M}__${ve.id}`,id:ve.id,name:String(xe?.name??"—"),category:M,grade:xe?.grade??null,link:xe?.link??null,questionCount:xe?.questionCount??xe?.count??null,isSpecial:te})})};for(const M of Q)await pe(M,!1);for(const M of Z)await pe(M,!0);ce.sort((M,te)=>M.name.localeCompare(te.name,"tr")),y(ce)}catch(fe){console.error("Test listesi getirilemedi:",fe),y([])}finally{i(!1)}};I.useEffect(()=>{K(),J(null)},[]),I.useEffect(()=>{const R=T?parseInt(T,10):null;J(R)},[T]);const W=I.useMemo(()=>{const R=C.trim().toLocaleLowerCase("tr-TR");return R?p.filter(fe=>fe.name.toLocaleLowerCase("tr-TR").includes(R)||fe.category.toLocaleLowerCase("tr-TR").includes(R)):p},[p,C]),ue=R=>j(fe=>{const ye=new Set(fe);return ye.has(R)?ye.delete(R):ye.add(R),ye}),P=()=>j(new Set(m)),S=()=>j(new Set),N=R=>Y(fe=>{const ye=new Set(fe);return ye.has(R)?ye.delete(R):ye.add(R),ye}),V=()=>Y(R=>{const fe=new Set(R);return W.forEach(ye=>fe.add(ye.uid)),fe}),L=()=>Y(new Set),B=async()=>{if(!a){if(D.size===0||U.size===0){alert("Lütfen en az bir öğrenci ve en az bir test seçin.");return}l(!0);try{const R=p.filter(Q=>U.has(Q.uid)),fe=Array.from(D);let ye=0;for(const Q of fe){const ce=`${S9(Q)}_odevler`;for(const pe of R){const M={type:"assignment",status:"assigned",assignedAt:Us(),test:{id:pe.id,name:pe.name,category:pe.category,grade:pe.grade??null,link:pe.link??null,questionCount:pe.questionCount??null,isSpecial:!!pe.isSpecial}};await Ls(ke(Se,ce),M),ye+=1}}alert(`Atama tamamlandı. Toplam ${ye} ödev belgesi yazıldı.`)}catch(R){console.error("Atama hatası:",R),alert("Atama sırasında bir hata oluştu.")}finally{l(!1)}}};return v.jsx("section",{className:"min-h-screen bg-neutral-950 p-8 text-gray-100",children:v.jsxs("div",{className:"mx-auto max-w-7xl",children:[v.jsxs("div",{className:"mb-8 flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Test Atama"}),v.jsxs("p",{className:"mt-1 text-sm text-neutral-400",children:["Testleri bir veya birden çok öğrenciye ödev olarak atayın. Her öğrenci için ayrı ",v.jsx("span",{className:"font-medium",children:"_ödev koleksiyonu"})," açılır ve testler doküman olarak kaydedilir."]})]}),v.jsx("div",{className:"flex items-center gap-2",children:v.jsxs("button",{onClick:()=>{K();const R=T?parseInt(T,10):null;J(R)},className:"inline-flex items-center gap-2 rounded-md bg-neutral-800 px-3 py-2 text-sm ring-1 ring-neutral-700 hover:bg-neutral-700",title:"Yenile",children:[v.jsx(f3,{className:"h-4 w-4"}),"Yenile"]})})]}),v.jsxs("div",{className:"mb-6 grid gap-4 md:grid-cols-3",children:[v.jsxs("div",{className:"rounded-xl bg-neutral-900 p-4 ring-1 ring-neutral-800",children:[v.jsxs("div",{className:"mb-2 flex items-center gap-2 text-neutral-300",children:[v.jsx(s3,{className:"h-4 w-4 text-neutral-400"}),v.jsx("span",{className:"text-xs font-medium",children:"Sınıfa Göre Filtrele"})]}),v.jsxs("select",{value:T,onChange:R=>x(R.target.value),className:"w-full rounded-md bg-neutral-800 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-600",children:[v.jsx("option",{value:"",children:"Tümü"}),v.jsx("option",{value:"5",children:"5. Sınıf"}),v.jsx("option",{value:"6",children:"6. Sınıf"}),v.jsx("option",{value:"7",children:"7. Sınıf"}),v.jsx("option",{value:"8",children:"8. Sınıf"})]}),v.jsx("p",{className:"mt-2 text-xs text-neutral-400",children:"Seçilen sınıf only olarak listelenir (atamada sınır yok)."})]}),v.jsxs("div",{className:"rounded-xl bg-neutral-900 p-4 ring-1 ring-neutral-800",children:[v.jsxs("div",{className:"mb-3 flex items-center gap-2 text-neutral-300",children:[v.jsx(ay,{className:"h-4 w-4 text-neutral-400"}),v.jsx("span",{className:"text-xs font-medium",children:"Özet"})]}),v.jsxs("div",{className:"grid grid-cols-3 text-center text-sm",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-bold text-white",children:p.length}),v.jsx("div",{className:"mt-1 text-xs text-neutral-400",children:"Toplam Test"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-bold text-white",children:U.size}),v.jsx("div",{className:"mt-1 text-xs text-neutral-400",children:"Seçili Test"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-bold text-white",children:D.size}),v.jsx("div",{className:"mt-1 text-xs text-neutral-400",children:"Seçili Öğrenci"})]})]})]}),v.jsxs("div",{className:"rounded-xl bg-neutral-900 p-4 ring-1 ring-neutral-800",children:[v.jsxs("div",{className:"mb-3 flex items-center gap-2 text-neutral-300",children:[v.jsx(oy,{className:"h-4 w-4 text-neutral-400"}),v.jsx("span",{className:"text-xs font-medium",children:"Atama"})]}),v.jsxs("button",{disabled:a||D.size===0||U.size===0,onClick:B,className:`inline-flex w-full items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-medium text-white shadow
                focus:outline-none focus:ring-2 focus:ring-blue-600
                ${a||D.size===0||U.size===0?"cursor-not-allowed bg-blue-500/50":"bg-blue-600 hover:bg-blue-500"}`,children:[v.jsx(OA,{className:"h-4 w-4"}),a?"Atanıyor...":"Seçili Testleri Seçili Öğrencilere Ata"]}),v.jsxs("p",{className:"mt-2 text-xs text-neutral-400",children:["Her öğrenci için ",v.jsx("code",{className:"font-mono",children:"<nameKey>_odevler"})," koleksiyonu oluşturulur/yazılır."]})]})]}),v.jsxs("div",{className:"grid gap-6 lg:grid-cols-12",children:[v.jsxs("div",{className:"lg:col-span-4",children:[v.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[v.jsx(oy,{className:"h-4 w-4 text-neutral-400"}),v.jsx("span",{children:"Öğrenciler"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:P,disabled:t||m.length===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Tümünü Seç"}),v.jsx("button",{onClick:S,disabled:D.size===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Temizle"})]})]}),v.jsx("div",{className:"h-[480px] overflow-auto rounded-xl bg-neutral-900 ring-1 ring-neutral-800",children:t?v.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Öğrenciler yükleniyor…"}):m.length===0?v.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Öğrenci bulunamadı."}):v.jsx("ul",{className:"divide-y divide-neutral-800",children:m.map(R=>{const fe=D.has(R);return v.jsx("li",{children:v.jsxs("button",{onClick:()=>ue(R),className:`flex w-full items-center justify-between px-3 py-2 text-left text-sm hover:bg-neutral-800 ${fe?"bg-neutral-800/70":""}`,children:[v.jsx("span",{className:"truncate",children:R}),fe?v.jsx(TE,{className:"h-4 w-4 text-emerald-400"}):v.jsx(bE,{className:"h-4 w-4 text-neutral-500"})]})},R)})})})]}),v.jsxs("div",{className:"lg:col-span-8",children:[v.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[v.jsx(ay,{className:"h-4 w-4 text-neutral-400"}),v.jsx("span",{children:"Testler"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"flex items-center gap-2 rounded-md bg-neutral-900 px-2 py-1 ring-1 ring-neutral-800",children:[v.jsx(m3,{className:"h-4 w-4 text-neutral-500"}),v.jsx("input",{value:C,onChange:R=>k(R.target.value),placeholder:"Test veya kategori ara…",className:"w-56 bg-transparent text-sm placeholder:text-neutral-500 focus:outline-none"})]}),v.jsx("button",{onClick:V,disabled:n||W.length===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Sayfadakileri Seç"}),v.jsx("button",{onClick:L,disabled:U.size===0,className:"rounded-md bg-neutral-900 px-2 py-1 text-xs ring-1 ring-neutral-800 hover:bg-neutral-800",children:"Temizle"})]})]}),v.jsx("div",{className:"overflow-hidden rounded-xl bg-neutral-900 ring-1 ring-neutral-800",children:n?v.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Testler yükleniyor…"}):W.length===0?v.jsx("div",{className:"p-4 text-center text-sm text-neutral-400",children:"Test bulunamadı."}):v.jsxs("table",{className:"w-full text-left text-sm",children:[v.jsx("thead",{className:"bg-neutral-900/90 text-neutral-300",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-3 py-3 font-semibold",children:"Seç"}),v.jsx("th",{className:"px-3 py-3 font-semibold",children:"Test Adı"}),v.jsx("th",{className:"px-3 py-3 font-semibold",children:"Kategori"}),v.jsx("th",{className:"px-3 py-3 font-semibold",children:"Sınıf"}),v.jsx("th",{className:"px-3 py-3 font-semibold",children:"Soru"}),v.jsx("th",{className:"px-3 py-3 font-semibold",children:"Tür"})]})}),v.jsx("tbody",{children:W.map(R=>{const fe=U.has(R.uid);return v.jsxs("tr",{className:"border-t border-neutral-800",children:[v.jsx("td",{className:"px-3 py-2",children:v.jsx("button",{onClick:()=>N(R.uid),className:"rounded-md px-2 py-1 ring-1 ring-neutral-700 hover:bg-neutral-800",title:fe?"Kaldır":"Seç",children:fe?v.jsx(TE,{className:"h-4 w-4 text-emerald-400"}):v.jsx(bE,{className:"h-4 w-4 text-neutral-500"})})}),v.jsx("td",{className:"px-3 py-2 text-white",children:R.name}),v.jsx("td",{className:"px-3 py-2 text-neutral-300",children:R.category}),v.jsx("td",{className:"px-3 py-2",children:R.grade??"—"}),v.jsx("td",{className:"px-3 py-2",children:R.questionCount??"—"}),v.jsx("td",{className:"px-3 py-2",children:v.jsx("span",{className:`rounded-full px-2 py-0.5 text-[11px] ring-1 ${R.isSpecial?"bg-rose-500/10 text-rose-300 ring-rose-500/20":"bg-emerald-500/10 text-emerald-300 ring-emerald-500/20"}`,children:R.isSpecial?"Yayın":"Normal"})})]},R.uid)})})]})})]})]})]})})}const wf=t=>{if(t==null)return"";const e=String(t).trim();return e==="undefined"||e==="null"?"":e},R9=t=>(t||"unknown").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,120).toLowerCase(),C9={submissions:0,compared:0,correct:0,wrong:0,blank:0,accuracy:0};function N9(){const{user:t}=Mc(),e=ul(),[n,i]=I.useState(""),[a,l]=I.useState(""),[c,d]=I.useState(!0),[m,p]=I.useState([]);I.useEffect(()=>{(async()=>{try{if(!t){i(""),l(""),d(!1);return}let T="",x="";try{const D=await Ld(Gs(Se,"students",t.uid));if(D.exists()){const j=D.data();T=wf(j.firstName??j.firstname),x=wf(j.lastName??j.lastname)}}catch{}if(!T&&t.email)try{const D=un(ke(Se,"students"),Lt("email","==",t.email),V0(1)),j=await Je(D);if(!j.empty){const U=j.docs[0].data();T=wf(U.firstName??U.firstname),x=wf(U.lastName??U.lastname)}}catch{}const C=`${T} ${x}`.trim()||(t.email?.split("@")[0]??"bilinmeyen"),k=R9(C);i(C),l(k)}finally{d(!1)}})()},[t]),I.useEffect(()=>{(async()=>{if(a){d(!0);try{const T=un(ke(Se,a),Lt("type","==","submission")),C=(await Je(T)).docs.map(k=>{const D=k.data(),j=D.createdAt?.toDate?.()??null;return{id:k.id,test:{id:D?.test?.id??null,name:D?.test?.name??null,category:D?.test?.category??null,grade:typeof D?.test?.grade=="number"?D.test.grade:null,link:D?.test?.link??null},count:typeof D.count=="number"?D.count:0,answeredCount:typeof D.answeredCount=="number"?D.answeredCount:0,createdAt:j,scoring:D.scoring??{}}});C.sort((k,D)=>{const j=k.createdAt?.getTime?.()??0;return(D.createdAt?.getTime?.()??0)-j}),p(C)}catch(T){console.error("Gönderimler alınamadı:",T),p([])}finally{d(!1)}}})()},[a]);const y=I.useMemo(()=>{if(!m.length)return C9;let T=0,x=0,C=0,k=0;for(const j of m){const U=j.scoring;U?.status==="ok"&&(T+=U.compared||0,x+=U.correctCount||0,C+=U.wrongCount||0,k+=U.blankCount||0)}const D=T;return{submissions:m.length,compared:T,correct:x,wrong:C,blank:k,accuracy:D>0?x/D:0}},[m]);return t?v.jsx("section",{className:"min-h-screen bg-slate-50 px-3 py-6 sm:px-5 sm:py-8 md:px-6 md:py-10",children:v.jsxs("div",{className:"mx-auto max-w-7xl",children:[v.jsxs("div",{className:"mb-6 flex flex-col items-center justify-between gap-2 sm:mb-8 sm:flex-row",children:[v.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold tracking-tight text-slate-900",children:"Çözdüğüm Testler"}),v.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[v.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-700 ring-1 ring-slate-200",children:["Öğrenci: ",v.jsx("span",{className:"font-semibold",children:n||"—"})]}),v.jsxs("span",{className:"rounded-full bg-indigo-50 px-3 py-1 text-xs font-medium text-indigo-700 ring-1 ring-indigo-100",children:["Toplam Test: ",v.jsx("span",{className:"font-semibold",children:y.submissions})]}),v.jsxs("span",{className:"rounded-full bg-emerald-50 px-3 py-1 text-xs font-medium text-emerald-700 ring-1 ring-emerald-100",children:["Doğruluk:"," ",v.jsxs("span",{className:"font-semibold",children:[(y.accuracy*100).toFixed(1),"%"]})]})]})]}),v.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-3 sm:mb-8 sm:grid-cols-4",children:[v.jsxs("div",{className:"rounded-lg bg-emerald-50 p-3 ring-1 ring-emerald-100",children:[v.jsx("div",{className:"text-2xl font-extrabold text-emerald-700",children:y.correct}),v.jsx("div",{className:"mt-1 text-xs font-medium text-emerald-700/80",children:"Doğru"})]}),v.jsxs("div",{className:"rounded-lg bg-rose-50 p-3 ring-1 ring-rose-100",children:[v.jsx("div",{className:"text-2xl font-extrabold text-rose-700",children:y.wrong}),v.jsx("div",{className:"mt-1 text-xs font-medium text-rose-700/80",children:"Yanlış"})]}),v.jsxs("div",{className:"rounded-lg bg-slate-50 p-3 ring-1 ring-slate-200",children:[v.jsx("div",{className:"text-2xl font-extrabold text-slate-700",children:y.blank}),v.jsx("div",{className:"mt-1 text-xs font-medium text-slate-700/80",children:"Boş"})]}),v.jsxs("div",{className:"rounded-lg bg-white p-3 ring-1 ring-slate-200",children:[v.jsx("div",{className:"text-xl font-extrabold text-slate-900",children:y.compared}),v.jsx("div",{className:"mt-1 text-xs font-medium text-slate-600",children:"Çözülen Soru"})]})]}),v.jsx("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full border-separate border-spacing-0 text-left text-sm",children:[v.jsx("thead",{className:"sticky top-0 z-10 bg-slate-100 text-slate-800",children:v.jsxs("tr",{children:[v.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold",children:"Tarih"}),v.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold",children:"Kategori"}),v.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold",children:"Test Adı"}),v.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold",children:"Sınıf"}),v.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold text-center",children:"Doğru"}),v.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold text-center",children:"Yanlış"}),v.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold text-center",children:"Boş"}),v.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold text-center",children:"Doğruluk"}),v.jsx("th",{className:"border-b border-slate-200 px-3 py-3 font-semibold text-center",children:"Test"})]})}),v.jsx("tbody",{className:"text-slate-700",children:c?v.jsx("tr",{children:v.jsx("td",{colSpan:9,className:"px-3 py-6 text-center text-slate-500",children:"Yükleniyor…"})}):m.length===0?v.jsx("tr",{children:v.jsx("td",{colSpan:9,className:"px-3 py-6 text-center text-slate-500",children:"Henüz gönderim yok."})}):m.map((T,x)=>{const C=T.scoring||{},k=C?.compared??0,D=k>0?(C.correctCount||0)/k:0,j=T.createdAt?T.createdAt.toLocaleString("tr-TR"):"—",U=x%2?"bg-white":"bg-slate-50";return v.jsxs("tr",{className:`${U}`,children:[v.jsx("td",{className:"border-b border-slate-200 px-3 py-2",children:j}),v.jsx("td",{className:"border-b border-slate-200 px-3 py-2",children:T.test.category||"—"}),v.jsx("td",{className:"border-b border-slate-200 px-3 py-2",children:v.jsx("span",{title:T.test.name||"",className:"line-clamp-2",children:T.test.name||"—"})}),v.jsx("td",{className:"border-b border-slate-200 px-3 py-2",children:T.test.grade??"—"}),v.jsx("td",{className:"border-b border-slate-200 px-3 py-2 text-center text-emerald-700 font-semibold",children:C.correctCount??"—"}),v.jsx("td",{className:"border-b border-slate-200 px-3 py-2 text-center text-rose-700 font-semibold",children:C.wrongCount??"—"}),v.jsx("td",{className:"border-b border-slate-200 px-3 py-2 text-center",children:C.blankCount??"—"}),v.jsxs("td",{className:"border-b border-slate-200 px-3 py-2 text-center",children:[(D*100).toFixed(1),"%"]}),v.jsx("td",{className:"border-b border-slate-200 px-3 py-2 text-center",children:T.test.link?v.jsx("a",{href:T.test.link,target:"_blank",rel:"noopener noreferrer",className:"rounded-md bg-white px-2 py-1 text-xs font-medium text-indigo-700 ring-1 ring-indigo-200 hover:bg-indigo-50",children:"Aç"}):v.jsx("span",{className:"text-xs text-slate-500",children:"—"})})]},T.id)})})]})})}),v.jsx("div",{className:"mt-6 text-center",children:v.jsx("button",{onClick:()=>e(-1),className:"rounded-lg bg-white px-4 py-2 text-sm font-medium text-slate-700 ring-1 ring-slate-300 hover:bg-slate-50",children:"Geri"})})]})}):v.jsx("section",{className:"min-h-screen bg-slate-50 grid place-items-center px-4",children:v.jsxs("div",{className:"max-w-md rounded-xl bg-white p-6 shadow-sm ring-1 ring-slate-200 text-center",children:[v.jsx("h1",{className:"mb-2 text-xl font-bold text-slate-900",children:"Çözdüğüm Testler"}),v.jsx("p",{className:"text-sm text-slate-600",children:"Bu sayfayı görmek için giriş yapmalısınız."}),v.jsx("button",{onClick:()=>e("/"),className:"mt-4 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500",children:"Giriş Sayfasına Dön"})]})})}function I9(){return v.jsx(LO,{children:v.jsx(uI,{children:v.jsx("main",{className:"min-h-screen bg-[#0d0d0d]",children:v.jsx(I.Suspense,{fallback:null,children:v.jsxs(BN,{children:[v.jsx(Si,{path:"/admin/students",element:v.jsx(w9,{})}),v.jsx(Si,{path:"/admin/assign",element:v.jsx(A9,{})}),v.jsx(Si,{path:"/",element:v.jsx(o9,{})}),v.jsx(Si,{path:"/admin",element:v.jsx(z1,{role:"admin",children:v.jsx(u9,{})})}),v.jsx(Si,{path:"/dashboard",element:v.jsx(z1,{role:"user",children:v.jsx(p9,{})})}),v.jsx(Si,{path:"/cozdugum-testler",element:v.jsx(N9,{})}),v.jsx(Si,{path:"/optik",element:v.jsx(T9,{})}),v.jsx(Si,{path:"*",element:v.jsx(Sf,{to:"/",replace:!0})})]})})})})})}X2.createRoot(document.getElementById("root")).render(v.jsx(I.StrictMode,{children:v.jsx(I9,{})}));
